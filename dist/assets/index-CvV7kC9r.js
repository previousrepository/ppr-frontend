(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function _V(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ov={exports:{}},Ad={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS;function TV(){if(TS)return Ad;TS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:l,ref:s!==void 0?s:null,props:o}}return Ad.Fragment=e,Ad.jsx=n,Ad.jsxs=n,Ad}var ES;function EV(){return ES||(ES=1,ov.exports=TV()),ov.exports}var m=EV(),lv={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS;function SV(){if(SS)return Xe;SS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function R(z,ae,pe){this.props=z,this.context=ae,this.refs=E,this.updater=pe||w}R.prototype.isReactComponent={},R.prototype.setState=function(z,ae){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ae,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=R.prototype;function L(z,ae,pe){this.props=z,this.context=ae,this.refs=E,this.updater=pe||w}var j=L.prototype=new C;j.constructor=L,T(j,R.prototype),j.isPureReactComponent=!0;var U=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function P(z,ae,pe,fe,Ee,Ge){return pe=Ge.ref,{$$typeof:t,type:z,key:ae,ref:pe!==void 0?pe:null,props:Ge}}function N(z,ae){return P(z.type,ae,void 0,void 0,void 0,z.props)}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function B(z){var ae={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return ae[pe]})}var $=/\/+/g;function G(z,ae){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):ae.toString(36)}function F(){}function be(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(F,F):(z.status="pending",z.then(function(ae){z.status==="pending"&&(z.status="fulfilled",z.value=ae)},function(ae){z.status==="pending"&&(z.status="rejected",z.reason=ae)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function ve(z,ae,pe,fe,Ee){var Ge=typeof z;(Ge==="undefined"||Ge==="boolean")&&(z=null);var Pe=!1;if(z===null)Pe=!0;else switch(Ge){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(z.$$typeof){case t:case e:Pe=!0;break;case p:return Pe=z._init,ve(Pe(z._payload),ae,pe,fe,Ee)}}if(Pe)return Ee=Ee(z),Pe=fe===""?"."+G(z,0):fe,U(Ee)?(pe="",Pe!=null&&(pe=Pe.replace($,"$&/")+"/"),ve(Ee,ae,pe,"",function(qr){return qr})):Ee!=null&&(D(Ee)&&(Ee=N(Ee,pe+(Ee.key==null||z&&z.key===Ee.key?"":(""+Ee.key).replace($,"$&/")+"/")+Pe)),ae.push(Ee)),1;Pe=0;var ln=fe===""?".":fe+":";if(U(z))for(var Rt=0;Rt<z.length;Rt++)fe=z[Rt],Ge=ln+G(fe,Rt),Pe+=ve(fe,ae,pe,Ge,Ee);else if(Rt=x(z),typeof Rt=="function")for(z=Rt.call(z),Rt=0;!(fe=z.next()).done;)fe=fe.value,Ge=ln+G(fe,Rt++),Pe+=ve(fe,ae,pe,Ge,Ee);else if(Ge==="object"){if(typeof z.then=="function")return ve(be(z),ae,pe,fe,Ee);throw ae=String(z),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function X(z,ae,pe){if(z==null)return z;var fe=[],Ee=0;return ve(z,fe,"","",function(Ge){return ae.call(pe,Ge,Ee++)}),fe}function re(z){if(z._status===-1){var ae=z._result;ae=ae(),ae.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=ae)}if(z._status===1)return z._result.default;throw z._result}var me=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Ae(){}return Xe.Children={map:X,forEach:function(z,ae,pe){X(z,function(){ae.apply(this,arguments)},pe)},count:function(z){var ae=0;return X(z,function(){ae++}),ae},toArray:function(z){return X(z,function(ae){return ae})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Xe.Component=R,Xe.Fragment=n,Xe.Profiler=s,Xe.PureComponent=L,Xe.StrictMode=r,Xe.Suspense=d,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return M.H.useMemoCache(z)}},Xe.cache=function(z){return function(){return z.apply(null,arguments)}},Xe.cloneElement=function(z,ae,pe){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var fe=T({},z.props),Ee=z.key,Ge=void 0;if(ae!=null)for(Pe in ae.ref!==void 0&&(Ge=void 0),ae.key!==void 0&&(Ee=""+ae.key),ae)!V.call(ae,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&ae.ref===void 0||(fe[Pe]=ae[Pe]);var Pe=arguments.length-2;if(Pe===1)fe.children=pe;else if(1<Pe){for(var ln=Array(Pe),Rt=0;Rt<Pe;Rt++)ln[Rt]=arguments[Rt+2];fe.children=ln}return P(z.type,Ee,void 0,void 0,Ge,fe)},Xe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Xe.createElement=function(z,ae,pe){var fe,Ee={},Ge=null;if(ae!=null)for(fe in ae.key!==void 0&&(Ge=""+ae.key),ae)V.call(ae,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ee[fe]=ae[fe]);var Pe=arguments.length-2;if(Pe===1)Ee.children=pe;else if(1<Pe){for(var ln=Array(Pe),Rt=0;Rt<Pe;Rt++)ln[Rt]=arguments[Rt+2];Ee.children=ln}if(z&&z.defaultProps)for(fe in Pe=z.defaultProps,Pe)Ee[fe]===void 0&&(Ee[fe]=Pe[fe]);return P(z,Ge,void 0,void 0,null,Ee)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(z){return{$$typeof:u,render:z}},Xe.isValidElement=D,Xe.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:re}},Xe.memo=function(z,ae){return{$$typeof:h,type:z,compare:ae===void 0?null:ae}},Xe.startTransition=function(z){var ae=M.T,pe={};M.T=pe;try{var fe=z(),Ee=M.S;Ee!==null&&Ee(pe,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Ae,me)}catch(Ge){me(Ge)}finally{M.T=ae}},Xe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Xe.use=function(z){return M.H.use(z)},Xe.useActionState=function(z,ae,pe){return M.H.useActionState(z,ae,pe)},Xe.useCallback=function(z,ae){return M.H.useCallback(z,ae)},Xe.useContext=function(z){return M.H.useContext(z)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(z,ae){return M.H.useDeferredValue(z,ae)},Xe.useEffect=function(z,ae,pe){var fe=M.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(z,ae)},Xe.useId=function(){return M.H.useId()},Xe.useImperativeHandle=function(z,ae,pe){return M.H.useImperativeHandle(z,ae,pe)},Xe.useInsertionEffect=function(z,ae){return M.H.useInsertionEffect(z,ae)},Xe.useLayoutEffect=function(z,ae){return M.H.useLayoutEffect(z,ae)},Xe.useMemo=function(z,ae){return M.H.useMemo(z,ae)},Xe.useOptimistic=function(z,ae){return M.H.useOptimistic(z,ae)},Xe.useReducer=function(z,ae,pe){return M.H.useReducer(z,ae,pe)},Xe.useRef=function(z){return M.H.useRef(z)},Xe.useState=function(z){return M.H.useState(z)},Xe.useSyncExternalStore=function(z,ae,pe){return M.H.useSyncExternalStore(z,ae,pe)},Xe.useTransition=function(){return M.H.useTransition()},Xe.version="19.1.0",Xe}var AS;function jb(){return AS||(AS=1,lv.exports=SV()),lv.exports}var k=jb();const Lt=_V(k);var cv={exports:{}},Rd={},uv={exports:{}},dv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS;function AV(){return RS||(RS=1,function(t){function e(X,re){var me=X.length;X.push(re);e:for(;0<me;){var Ae=me-1>>>1,z=X[Ae];if(0<s(z,re))X[Ae]=re,X[me]=z,me=Ae;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var re=X[0],me=X.pop();if(me!==re){X[0]=me;e:for(var Ae=0,z=X.length,ae=z>>>1;Ae<ae;){var pe=2*(Ae+1)-1,fe=X[pe],Ee=pe+1,Ge=X[Ee];if(0>s(fe,me))Ee<z&&0>s(Ge,fe)?(X[Ae]=Ge,X[Ee]=me,Ae=Ee):(X[Ae]=fe,X[pe]=me,Ae=pe);else if(Ee<z&&0>s(Ge,me))X[Ae]=Ge,X[Ee]=me,Ae=Ee;else break e}}return re}function s(X,re){var me=X.sortIndex-re.sortIndex;return me!==0?me:X.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,v=null,x=3,w=!1,T=!1,E=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function U(X){for(var re=n(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=X)r(h),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(h)}}function M(X){if(E=!1,U(X),!T)if(n(d)!==null)T=!0,V||(V=!0,G());else{var re=n(h);re!==null&&ve(M,re.startTime-X)}}var V=!1,P=-1,N=5,D=-1;function B(){return R?!0:!(t.unstable_now()-D<N)}function $(){if(R=!1,V){var X=t.unstable_now();D=X;var re=!0;try{e:{T=!1,E&&(E=!1,L(P),P=-1),w=!0;var me=x;try{t:{for(U(X),v=n(d);v!==null&&!(v.expirationTime>X&&B());){var Ae=v.callback;if(typeof Ae=="function"){v.callback=null,x=v.priorityLevel;var z=Ae(v.expirationTime<=X);if(X=t.unstable_now(),typeof z=="function"){v.callback=z,U(X),re=!0;break t}v===n(d)&&r(d),U(X)}else r(d);v=n(d)}if(v!==null)re=!0;else{var ae=n(h);ae!==null&&ve(M,ae.startTime-X),re=!1}}break e}finally{v=null,x=me,w=!1}re=void 0}}finally{re?G():V=!1}}}var G;if(typeof j=="function")G=function(){j($)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,be=F.port2;F.port1.onmessage=$,G=function(){be.postMessage(null)}}else G=function(){C($,0)};function ve(X,re){P=C(function(){X(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(X){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var me=x;x=re;try{return X()}finally{x=me}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=x;x=X;try{return re()}finally{x=me}},t.unstable_scheduleCallback=function(X,re,me){var Ae=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ae+me:Ae):me=Ae,X){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=me+z,X={id:p++,callback:re,priorityLevel:X,startTime:me,expirationTime:z,sortIndex:-1},me>Ae?(X.sortIndex=me,e(h,X),n(d)===null&&X===n(h)&&(E?(L(P),P=-1):E=!0,ve(M,me-Ae))):(X.sortIndex=z,e(d,X),T||w||(T=!0,V||(V=!0,G()))),X},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(X){var re=x;return function(){var me=x;x=re;try{return X.apply(this,arguments)}finally{x=me}}}}(dv)),dv}var CS;function RV(){return CS||(CS=1,uv.exports=AV()),uv.exports}var hv={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS;function CV(){if(kS)return Wn;kS=1;var t=jb();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wn.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,p)},Wn.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},Wn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Wn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Wn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,v=u(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Wn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Wn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,v=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Wn.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Wn.requestFormReset=function(d){r.d.r(d)},Wn.unstable_batchedUpdates=function(d,h){return d(h)},Wn.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},Wn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var NS;function Uk(){if(NS)return hv.exports;NS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hv.exports=CV(),hv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS;function kV(){if(jS)return Rd;jS=1;var t=RV(),e=jb(),n=Uk();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var c=i,f=a;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return u(y),i;if(b===f)return u(y),a;b=b.sibling}throw Error(r(188))}if(c.return!==f.return)c=y,f=b;else{for(var A=!1,I=y.child;I;){if(I===c){A=!0,c=y,f=b;break}if(I===f){A=!0,f=y,c=b;break}I=I.sibling}if(!A){for(I=b.child;I;){if(I===c){A=!0,c=b,f=y;break}if(I===f){A=!0,f=b,c=y;break}I=I.sibling}if(!A)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:a}function h(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=h(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),j=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case R:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case V:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case j:return(i.displayName||"Context")+".Provider";case L:return(i._context.displayName||"Context")+".Consumer";case U:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:be(i.type)||"Memo";case N:a=i._payload,i=i._init;try{return be(i(a))}catch{}}return null}var ve=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ae=[],z=-1;function ae(i){return{current:i}}function pe(i){0>z||(i.current=Ae[z],Ae[z]=null,z--)}function fe(i,a){z++,Ae[z]=i.current,i.current=a}var Ee=ae(null),Ge=ae(null),Pe=ae(null),ln=ae(null);function Rt(i,a){switch(fe(Pe,a),fe(Ge,i),fe(Ee,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?QE(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=QE(a),i=ZE(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}pe(Ee),fe(Ee,i)}function qr(){pe(Ee),pe(Ge),pe(Pe)}function Bt(i){i.memoizedState!==null&&fe(ln,i);var a=Ee.current,c=ZE(a,i.type);a!==c&&(fe(Ge,i),fe(Ee,c))}function Hn(i){Ge.current===i&&(pe(Ee),pe(Ge)),ln.current===i&&(pe(ln),wd._currentValue=me)}var Vs=Object.prototype.hasOwnProperty,Ci=t.unstable_scheduleCallback,ir=t.unstable_cancelCallback,Do=t.unstable_shouldYield,Hl=t.unstable_requestPaint,ar=t.unstable_now,Cu=t.unstable_getCurrentPriorityLevel,Mo=t.unstable_ImmediatePriority,_a=t.unstable_UserBlockingPriority,ki=t.unstable_NormalPriority,bs=t.unstable_LowPriority,Hr=t.unstable_IdlePriority,Ta=t.log,Ea=t.unstable_setDisableYieldValue,vt=null,Je=null;function Gn(i){if(typeof Ta=="function"&&Ea(i),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(vt,i)}catch{}}var cn=Math.clz32?Math.clz32:Ls,Gl=Math.log,Gr=Math.LN2;function Ls(i){return i>>>=0,i===0?32:31-(Gl(i)/Gr|0)|0}var Us=256,Bs=4194304;function Cr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ni(i,a,c){var f=i.pendingLanes;if(f===0)return 0;var y=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var I=f&134217727;return I!==0?(f=I&~b,f!==0?y=Cr(f):(A&=I,A!==0?y=Cr(A):c||(c=I&~i,c!==0&&(y=Cr(c))))):(I=f&~b,I!==0?y=Cr(I):A!==0?y=Cr(A):c||(c=f&~i,c!==0&&(y=Cr(c)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,c=a&-a,b>=c||b===32&&(c&4194048)!==0)?a:y}function Kr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Sa(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ji(){var i=Us;return Us<<=1,(Us&4194048)===0&&(Us=256),i}function Oo(){var i=Bs;return Bs<<=1,(Bs&62914560)===0&&(Bs=4194304),i}function Yr(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function ws(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Aa(i,a,c,f,y,b){var A=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var I=i.entanglements,q=i.expirationTimes,ee=i.hiddenUpdates;for(c=A&~c;0<c;){var oe=31-cn(c),de=1<<oe;I[oe]=0,q[oe]=-1;var te=ee[oe];if(te!==null)for(ee[oe]=null,oe=0;oe<te.length;oe++){var ne=te[oe];ne!==null&&(ne.lane&=-536870913)}c&=~de}f!==0&&or(i,f,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~a))}function or(i,a,c){i.pendingLanes|=a,i.suspendedLanes&=~a;var f=31-cn(a);i.entangledLanes|=a,i.entanglements[f]=i.entanglements[f]|1073741824|c&4194090}function $s(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var f=31-cn(c),y=1<<f;y&a|i[f]&a&&(i[f]|=a),c&=~y}}function Fs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ra(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function H(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:yS(i.type))}function W(i,a){var c=re.p;try{return re.p=i,a()}finally{re.p=c}}var J=Math.random().toString(36).slice(2),ue="__reactFiber$"+J,ge="__reactProps$"+J,we="__reactContainer$"+J,De="__reactEvents$"+J,Te="__reactListeners$"+J,Re="__reactHandles$"+J,ke="__reactResources$"+J,Me="__reactMarker$"+J;function Ce(i){delete i[ue],delete i[ge],delete i[De],delete i[Te],delete i[Re]}function Ve(i){var a=i[ue];if(a)return a;for(var c=i.parentNode;c;){if(a=c[we]||c[ue]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=nS(i);i!==null;){if(c=i[ue])return c;i=nS(i)}return a}i=c,c=i.parentNode}return null}function st(i){if(i=i[ue]||i[we]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function wt(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function pt(i){var a=i[ke];return a||(a=i[ke]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ut(i){i[Me]=!0}var nt=new Set,Wr={};function yn(i,a){lr(i,a),lr(i+"Capture",a)}function lr(i,a){for(Wr[i]=a,i=0;i<a.length;i++)nt.add(a[i])}var In=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zs={},kr={};function Ca(i){return Vs.call(kr,i)?!0:Vs.call(zs,i)?!1:In.test(i)?kr[i]=!0:(zs[i]=!0,!1)}function Kn(i,a,c){if(Ca(a))if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+c)}}function cr(i,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+c)}}function qe(i,a,c,f){if(f===null)i.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(a,c,""+f)}}var un,Nr;function gr(i){if(un===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);un=a&&a[1]||"",Nr=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+i+Nr}var qs=!1;function It(i,a){if(!i||qs)return"";qs=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var te=ne}Reflect.construct(i,[],de)}else{try{de.call()}catch(ne){te=ne}i.call(de.prototype)}}else{try{throw Error()}catch(ne){te=ne}(de=i())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),A=b[0],I=b[1];if(A&&I){var q=A.split(`
`),ee=I.split(`
`);for(y=f=0;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;for(;y<ee.length&&!ee[y].includes("DetermineComponentFrameRoot");)y++;if(f===q.length||y===ee.length)for(f=q.length-1,y=ee.length-1;1<=f&&0<=y&&q[f]!==ee[y];)y--;for(;1<=f&&0<=y;f--,y--)if(q[f]!==ee[y]){if(f!==1||y!==1)do if(f--,y--,0>y||q[f]!==ee[y]){var oe=`
`+q[f].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=f&&0<=y);break}}}finally{qs=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?gr(c):""}function Xr(i){switch(i.tag){case 26:case 27:case 5:return gr(i.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return It(i.type,!1);case 11:return It(i.type.render,!1);case 1:return It(i.type,!0);case 31:return gr("Activity");default:return""}}function Pi(i){try{var a="";do a+=Xr(i),i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ku(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function dy(i){var a=ku(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),f=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,b=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(A){f=""+A,b.call(this,A)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Kl(i){i._valueTracker||(i._valueTracker=dy(i))}function Nu(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return i&&(f=ku(i)?i.checked?"true":"false":i.value),i=f,i!==c?(a.setValue(i),!0):!1}function Vo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var hy=/[\n"\\]/g;function dn(i){return i.replace(hy,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function jr(i,a,c,f,y,b,A,I){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),a!=null?A==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Dn(a)):i.value!==""+Dn(a)&&(i.value=""+Dn(a)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),a!=null?ka(i,A,Dn(a)):c!=null?ka(i,A,Dn(c)):f!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+Dn(I):i.removeAttribute("name")}function Lo(i,a,c,f,y,b,A,I){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;c=c!=null?""+Dn(c):"",a=a!=null?""+Dn(a):c,I||a===i.value||(i.value=a),i.defaultValue=a}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=I?i.checked:!!f,i.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function ka(i,a,c){a==="number"&&Vo(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Ii(i,a,c,f){if(i=i.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=a.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&f&&(i[c].defaultSelected=!0)}else{for(c=""+Dn(c),a=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,f&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function Ct(i,a,c){if(a!=null&&(a=""+Dn(a),a!==i.value&&(i.value=a),c==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=c!=null?""+Dn(c):""}function Uo(i,a,c,f){if(a==null){if(f!=null){if(c!=null)throw Error(r(92));if(ve(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),a=c}c=Dn(a),i.defaultValue=c,f=i.textContent,f===c&&f!==""&&f!==null&&(i.value=f)}function Qr(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wf(i,a,c){var f=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":f?i.setProperty(a,c):typeof c!="number"||c===0||Bo.has(a)?a==="float"?i.cssFloat=c:i[a]=(""+c).trim():i[a]=c+"px"}function ju(i,a,c){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var y in a)f=a[y],a.hasOwnProperty(y)&&c[y]!==f&&wf(i,y,f)}else for(var b in a)a.hasOwnProperty(b)&&wf(i,b,a[b])}function Pu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),my=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(i){return my.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Di=null;function Zr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mi=null,Oi=null;function Iu(i){var a=st(i);if(a&&(i=a.stateNode)){var c=i[ge]||null;e:switch(i=a.stateNode,a.type){case"input":if(jr(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+dn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==i&&f.form===i.form){var y=f[ge]||null;if(!y)throw Error(r(90));jr(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<c.length;a++)f=c[a],f.form===i.form&&Nu(f)}break e;case"textarea":Ct(i,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Ii(i,!!c.multiple,a,!1)}}}var Hs=!1;function _f(i,a,c){if(Hs)return i(a,c);Hs=!0;try{var f=i(a);return f}finally{if(Hs=!1,(Mi!==null||Oi!==null)&&(pm(),Mi&&(a=Mi,i=Oi,Oi=Mi=null,Iu(a),i)))for(a=0;a<i.length;a++)Iu(i[a])}}function $o(i,a){var c=i.stateNode;if(c===null)return null;var f=c[ge]||null;if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jr=!1;if(_s)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){Jr=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{Jr=!1}var Gs=null,Na=null,Vi=null;function Du(){if(Vi)return Vi;var i,a=Na,c=a.length,f,y="value"in Gs?Gs.value:Gs.textContent,b=y.length;for(i=0;i<c&&a[i]===y[i];i++);var A=c-i;for(f=1;f<=A&&a[c-f]===y[b-f];f++);return Vi=y.slice(i,1<f?1-f:void 0)}function Ks(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ys(){return!0}function Mu(){return!1}function Sn(i){function a(c,f,y,b,A){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(c=i[I],this[I]=c?c(b):b[I]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ys:Mu,this.isPropagationStopped=Mu,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),a}var _t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wl=Sn(_t),zo=p({},_t,{view:0,detail:0}),Tf=Sn(zo),Xl,Ql,Ws,qo=p({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ko,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ws&&(Ws&&i.type==="mousemove"?(Xl=i.screenX-Ws.screenX,Ql=i.screenY-Ws.screenY):Ql=Xl=0,Ws=i),Xl)},movementY:function(i){return"movementY"in i?i.movementY:Ql}}),es=Sn(qo),Ef=p({},qo,{dataTransfer:0}),py=Sn(Ef),Ho=p({},zo,{relatedTarget:0}),Zl=Sn(Ho),Ou=p({},_t,{animationName:0,elapsedTime:0,pseudoElement:0}),Jl=Sn(Ou),Sf=p({},_t,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ec=Sn(Sf),gy=p({},_t,{data:0}),Vu=Sn(gy),Go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Rf[i])?!!a[i]:!1}function Ko(){return Lu}var Cf=p({},zo,{key:function(i){if(i.key){var a=Go[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ks(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Af[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ko,charCode:function(i){return i.type==="keypress"?Ks(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ks(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tc=Sn(Cf),kf=p({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uu=Sn(kf),Li=p({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ko}),Nf=Sn(Li),jf=p({},_t,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pf=Sn(jf),If=p({},qo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),nc=Sn(If),ur=p({},_t,{newState:0,oldState:0}),Df=Sn(ur),Mf=[9,13,27,32],Xs=_s&&"CompositionEvent"in window,g=null;_s&&"documentMode"in document&&(g=document.documentMode);var _=_s&&"TextEvent"in window&&!g,S=_s&&(!Xs||g&&8<g&&11>=g),O=" ",Q=!1;function se(i,a){switch(i){case"keyup":return Mf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var dt=!1;function vn(i,a){switch(i){case"compositionend":return ye(a);case"keypress":return a.which!==32?null:(Q=!0,O);case"textInput":return i=a.data,i===O&&Q?null:i;default:return null}}function ht(i,a){if(dt)return i==="compositionend"||!Xs&&se(i,a)?(i=Du(),Vi=Na=Gs=null,dt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!An[i.type]:a==="textarea"}function Ui(i,a,c,f){Mi?Oi?Oi.push(f):Oi=[f]:Mi=f,a=wm(a,"onChange"),0<a.length&&(c=new Wl("onChange","change",null,c,f),i.push({event:c,listeners:a}))}var Mn=null,Qs=null;function Bu(i){GE(i,0)}function Of(i){var a=wt(i);if(Nu(a))return i}function f_(i,a){if(i==="change")return a}var m_=!1;if(_s){var yy;if(_s){var vy="oninput"in document;if(!vy){var p_=document.createElement("div");p_.setAttribute("oninput","return;"),vy=typeof p_.oninput=="function"}yy=vy}else yy=!1;m_=yy&&(!document.documentMode||9<document.documentMode)}function g_(){Mn&&(Mn.detachEvent("onpropertychange",y_),Qs=Mn=null)}function y_(i){if(i.propertyName==="value"&&Of(Qs)){var a=[];Ui(a,Qs,i,Zr(i)),_f(Bu,a)}}function ZO(i,a,c){i==="focusin"?(g_(),Mn=a,Qs=c,Mn.attachEvent("onpropertychange",y_)):i==="focusout"&&g_()}function JO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Of(Qs)}function e4(i,a){if(i==="click")return Of(a)}function t4(i,a){if(i==="input"||i==="change")return Of(a)}function n4(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Pr=typeof Object.is=="function"?Object.is:n4;function $u(i,a){if(Pr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!Vs.call(a,y)||!Pr(i[y],a[y]))return!1}return!0}function v_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function x_(i,a){var c=v_(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=a&&f>=a)return{node:c,offset:a-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=v_(c)}}function b_(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?b_(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function w_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Vo(i.document);a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Vo(i.document)}return a}function xy(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var r4=_s&&"documentMode"in document&&11>=document.documentMode,rc=null,by=null,Fu=null,wy=!1;function __(i,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;wy||rc==null||rc!==Vo(f)||(f=rc,"selectionStart"in f&&xy(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Fu&&$u(Fu,f)||(Fu=f,f=wm(by,"onSelect"),0<f.length&&(a=new Wl("onSelect","select",null,a,c),i.push({event:a,listeners:f}),a.target=rc)))}function Yo(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var sc={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionrun:Yo("Transition","TransitionRun"),transitionstart:Yo("Transition","TransitionStart"),transitioncancel:Yo("Transition","TransitionCancel"),transitionend:Yo("Transition","TransitionEnd")},_y={},T_={};_s&&(T_=document.createElement("div").style,"AnimationEvent"in window||(delete sc.animationend.animation,delete sc.animationiteration.animation,delete sc.animationstart.animation),"TransitionEvent"in window||delete sc.transitionend.transition);function Wo(i){if(_y[i])return _y[i];if(!sc[i])return i;var a=sc[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in T_)return _y[i]=a[c];return i}var E_=Wo("animationend"),S_=Wo("animationiteration"),A_=Wo("animationstart"),s4=Wo("transitionrun"),i4=Wo("transitionstart"),a4=Wo("transitioncancel"),R_=Wo("transitionend"),C_=new Map,Ty="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ty.push("scrollEnd");function Ts(i,a){C_.set(i,a),yn(a,[i])}var k_=new WeakMap;function ts(i,a){if(typeof i=="object"&&i!==null){var c=k_.get(i);return c!==void 0?c:(a={value:i,source:a,stack:Pi(a)},k_.set(i,a),a)}return{value:i,source:a,stack:Pi(a)}}var ns=[],ic=0,Ey=0;function Vf(){for(var i=ic,a=Ey=ic=0;a<i;){var c=ns[a];ns[a++]=null;var f=ns[a];ns[a++]=null;var y=ns[a];ns[a++]=null;var b=ns[a];if(ns[a++]=null,f!==null&&y!==null){var A=f.pending;A===null?y.next=y:(y.next=A.next,A.next=y),f.pending=y}b!==0&&N_(c,y,b)}}function Lf(i,a,c,f){ns[ic++]=i,ns[ic++]=a,ns[ic++]=c,ns[ic++]=f,Ey|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Sy(i,a,c,f){return Lf(i,a,c,f),Uf(i)}function ac(i,a){return Lf(i,null,null,a),Uf(i)}function N_(i,a,c){i.lanes|=c;var f=i.alternate;f!==null&&(f.lanes|=c);for(var y=!1,b=i.return;b!==null;)b.childLanes|=c,f=b.alternate,f!==null&&(f.childLanes|=c),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&a!==null&&(y=31-cn(c),i=b.hiddenUpdates,f=i[y],f===null?i[y]=[a]:f.push(a),a.lane=c|536870912),b):null}function Uf(i){if(50<fd)throw fd=0,j0=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var oc={};function o4(i,a,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(i,a,c,f){return new o4(i,a,c,f)}function Ay(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bi(i,a){var c=i.alternate;return c===null?(c=Ir(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function j_(i,a){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,a=c.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Bf(i,a,c,f,y,b){var A=0;if(f=i,typeof i=="function")Ay(i)&&(A=1);else if(typeof i=="string")A=cV(i,c,Ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Ir(31,c,a,y),i.elementType=D,i.lanes=b,i;case T:return Xo(c.children,y,b,a);case E:A=8,y|=24;break;case R:return i=Ir(12,c,a,y|2),i.elementType=R,i.lanes=b,i;case M:return i=Ir(13,c,a,y),i.elementType=M,i.lanes=b,i;case V:return i=Ir(19,c,a,y),i.elementType=V,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case j:A=10;break e;case L:A=9;break e;case U:A=11;break e;case P:A=14;break e;case N:A=16,f=null;break e}A=29,c=Error(r(130,i===null?"null":typeof i,"")),f=null}return a=Ir(A,c,a,y),a.elementType=i,a.type=f,a.lanes=b,a}function Xo(i,a,c,f){return i=Ir(7,i,f,a),i.lanes=c,i}function Ry(i,a,c){return i=Ir(6,i,null,a),i.lanes=c,i}function Cy(i,a,c){return a=Ir(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var lc=[],cc=0,$f=null,Ff=0,rs=[],ss=0,Qo=null,$i=1,Fi="";function Zo(i,a){lc[cc++]=Ff,lc[cc++]=$f,$f=i,Ff=a}function P_(i,a,c){rs[ss++]=$i,rs[ss++]=Fi,rs[ss++]=Qo,Qo=i;var f=$i;i=Fi;var y=32-cn(f)-1;f&=~(1<<y),c+=1;var b=32-cn(a)+y;if(30<b){var A=y-y%5;b=(f&(1<<A)-1).toString(32),f>>=A,y-=A,$i=1<<32-cn(a)+y|c<<y|f,Fi=b+i}else $i=1<<b|c<<y|f,Fi=i}function ky(i){i.return!==null&&(Zo(i,1),P_(i,1,0))}function Ny(i){for(;i===$f;)$f=lc[--cc],lc[cc]=null,Ff=lc[--cc],lc[cc]=null;for(;i===Qo;)Qo=rs[--ss],rs[ss]=null,Fi=rs[--ss],rs[ss]=null,$i=rs[--ss],rs[ss]=null}var dr=null,Wt=null,xt=!1,Jo=null,Zs=!1,jy=Error(r(519));function el(i){var a=Error(r(418,""));throw Hu(ts(a,i)),jy}function I_(i){var a=i.stateNode,c=i.type,f=i.memoizedProps;switch(a[ue]=i,a[ge]=f,c){case"dialog":at("cancel",a),at("close",a);break;case"iframe":case"object":case"embed":at("load",a);break;case"video":case"audio":for(c=0;c<pd.length;c++)at(pd[c],a);break;case"source":at("error",a);break;case"img":case"image":case"link":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"input":at("invalid",a),Lo(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Kl(a);break;case"select":at("invalid",a);break;case"textarea":at("invalid",a),Uo(a,f.value,f.defaultValue,f.children),Kl(a)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||f.suppressHydrationWarning===!0||XE(a.textContent,c)?(f.popover!=null&&(at("beforetoggle",a),at("toggle",a)),f.onScroll!=null&&at("scroll",a),f.onScrollEnd!=null&&at("scrollend",a),f.onClick!=null&&(a.onclick=_m),a=!0):a=!1,a||el(i)}function D_(i){for(dr=i.return;dr;)switch(dr.tag){case 5:case 13:Zs=!1;return;case 27:case 3:Zs=!0;return;default:dr=dr.return}}function zu(i){if(i!==dr)return!1;if(!xt)return D_(i),xt=!0,!1;var a=i.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||K0(i.type,i.memoizedProps)),c=!c),c&&Wt&&el(i),D_(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(a===0){Wt=Ss(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;i=i.nextSibling}Wt=null}}else a===27?(a=Wt,Ga(i.type)?(i=Q0,Q0=null,Wt=i):Wt=a):Wt=dr?Ss(i.stateNode.nextSibling):null;return!0}function qu(){Wt=dr=null,xt=!1}function M_(){var i=Jo;return i!==null&&(xr===null?xr=i:xr.push.apply(xr,i),Jo=null),i}function Hu(i){Jo===null?Jo=[i]:Jo.push(i)}var Py=ae(null),tl=null,zi=null;function ja(i,a,c){fe(Py,a._currentValue),a._currentValue=c}function qi(i){i._currentValue=Py.current,pe(Py)}function Iy(i,a,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===c)break;i=i.return}}function Dy(i,a,c,f){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var A=y.child;b=b.firstContext;e:for(;b!==null;){var I=b;b=y;for(var q=0;q<a.length;q++)if(I.context===a[q]){b.lanes|=c,I=b.alternate,I!==null&&(I.lanes|=c),Iy(b.return,c,i),f||(A=null);break e}b=I.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(r(341));A.lanes|=c,b=A.alternate,b!==null&&(b.lanes|=c),Iy(A,c,i),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===i){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function Gu(i,a,c,f){i=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var I=y.type;Pr(y.pendingProps.value,A.value)||(i!==null?i.push(I):i=[I])}}else if(y===ln.current){if(A=y.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(wd):i=[wd])}y=y.return}i!==null&&Dy(a,i,c,f),a.flags|=262144}function zf(i){for(i=i.firstContext;i!==null;){if(!Pr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function nl(i){tl=i,zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yn(i){return O_(tl,i)}function qf(i,a){return tl===null&&nl(i),O_(i,a)}function O_(i,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},zi===null){if(i===null)throw Error(r(308));zi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else zi=zi.next=a;return c}var l4=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(c,f){i.push(f)}};this.abort=function(){a.aborted=!0,i.forEach(function(c){return c()})}},c4=t.unstable_scheduleCallback,u4=t.unstable_NormalPriority,bn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function My(){return{controller:new l4,data:new Map,refCount:0}}function Ku(i){i.refCount--,i.refCount===0&&c4(u4,function(){i.controller.abort()})}var Yu=null,Oy=0,uc=0,dc=null;function d4(i,a){if(Yu===null){var c=Yu=[];Oy=0,uc=L0(),dc={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Oy++,a.then(V_,V_),a}function V_(){if(--Oy===0&&Yu!==null){dc!==null&&(dc.status="fulfilled");var i=Yu;Yu=null,uc=0,dc=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function h4(i,a){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return i.then(function(){f.status="fulfilled",f.value=a;for(var y=0;y<c.length;y++)(0,c[y])(a)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var L_=X.S;X.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&d4(i,a),L_!==null&&L_(i,a)};var rl=ae(null);function Vy(){var i=rl.current;return i!==null?i:Ot.pooledCache}function Hf(i,a){a===null?fe(rl,rl.current):fe(rl,a.pool)}function U_(){var i=Vy();return i===null?null:{parent:bn._currentValue,pool:i}}var Wu=Error(r(460)),B_=Error(r(474)),Gf=Error(r(542)),Ly={then:function(){}};function $_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Kf(){}function F_(i,a,c){switch(c=i[c],c===void 0?i.push(a):c!==a&&(a.then(Kf,Kf),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,q_(i),i;default:if(typeof a.status=="string")a.then(Kf,Kf);else{if(i=Ot,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(f){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=f}},function(f){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,q_(i),i}throw Xu=a,Wu}}var Xu=null;function z_(){if(Xu===null)throw Error(r(459));var i=Xu;return Xu=null,i}function q_(i){if(i===Wu||i===Gf)throw Error(r(483))}var Pa=!1;function Uy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function By(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ia(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Da(i,a,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Et&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,a=Uf(i),N_(i,null,c),a}return Lf(i,f,a,c),Uf(i)}function Qu(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var f=a.lanes;f&=i.pendingLanes,c|=f,a.lanes=c,$s(i,c)}}function $y(i,a){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?y=b=A:b=b.next=A,c=c.next}while(c!==null);b===null?y=b=a:b=b.next=a}else y=b=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}var Fy=!1;function Zu(){if(Fy){var i=dc;if(i!==null)throw i}}function Ju(i,a,c,f){Fy=!1;var y=i.updateQueue;Pa=!1;var b=y.firstBaseUpdate,A=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var q=I,ee=q.next;q.next=null,A===null?b=ee:A.next=ee,A=q;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,I=oe.lastBaseUpdate,I!==A&&(I===null?oe.firstBaseUpdate=ee:I.next=ee,oe.lastBaseUpdate=q))}if(b!==null){var de=y.baseState;A=0,oe=ee=q=null,I=b;do{var te=I.lane&-536870913,ne=te!==I.lane;if(ne?(ft&te)===te:(f&te)===te){te!==0&&te===uc&&(Fy=!0),oe!==null&&(oe=oe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var $e=i,Oe=I;te=a;var jt=c;switch(Oe.tag){case 1:if($e=Oe.payload,typeof $e=="function"){de=$e.call(jt,de,te);break e}de=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Oe.payload,te=typeof $e=="function"?$e.call(jt,de,te):$e,te==null)break e;de=p({},de,te);break e;case 2:Pa=!0}}te=I.callback,te!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=y.callbacks,ne===null?y.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:I.tag,payload:I.payload,callback:I.callback,next:null},oe===null?(ee=oe=ne,q=de):oe=oe.next=ne,A|=te;if(I=I.next,I===null){if(I=y.shared.pending,I===null)break;ne=I,I=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);oe===null&&(q=de),y.baseState=q,y.firstBaseUpdate=ee,y.lastBaseUpdate=oe,b===null&&(y.shared.lanes=0),Fa|=A,i.lanes=A,i.memoizedState=de}}function H_(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function G_(i,a){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)H_(c[i],a)}var hc=ae(null),Yf=ae(0);function K_(i,a){i=Qi,fe(Yf,i),fe(hc,a),Qi=i|a.baseLanes}function zy(){fe(Yf,Qi),fe(hc,hc.current)}function qy(){Qi=Yf.current,pe(hc),pe(Yf)}var Ma=0,et=null,kt=null,hn=null,Wf=!1,fc=!1,sl=!1,Xf=0,ed=0,mc=null,f4=0;function Jt(){throw Error(r(321))}function Hy(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!Pr(i[c],a[c]))return!1;return!0}function Gy(i,a,c,f,y,b){return Ma=b,et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=i===null||i.memoizedState===null?NT:jT,sl=!1,b=c(f,y),sl=!1,fc&&(b=W_(a,c,f,y)),Y_(i),b}function Y_(i){X.H=nm;var a=kt!==null&&kt.next!==null;if(Ma=0,hn=kt=et=null,Wf=!1,ed=0,mc=null,a)throw Error(r(300));i===null||Rn||(i=i.dependencies,i!==null&&zf(i)&&(Rn=!0))}function W_(i,a,c,f){et=i;var y=0;do{if(fc&&(mc=null),ed=0,fc=!1,25<=y)throw Error(r(301));if(y+=1,hn=kt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}X.H=b4,b=a(c,f)}while(fc);return b}function m4(){var i=X.H,a=i.useState()[0];return a=typeof a.then=="function"?td(a):a,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(et.flags|=1024),a}function Ky(){var i=Xf!==0;return Xf=0,i}function Yy(i,a,c){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~c}function Wy(i){if(Wf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Wf=!1}Ma=0,hn=kt=et=null,fc=!1,ed=Xf=0,mc=null}function yr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?et.memoizedState=hn=i:hn=hn.next=i,hn}function fn(){if(kt===null){var i=et.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var a=hn===null?et.memoizedState:hn.next;if(a!==null)hn=a,kt=i;else{if(i===null)throw et.alternate===null?Error(r(467)):Error(r(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},hn===null?et.memoizedState=hn=i:hn=hn.next=i}return hn}function Xy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function td(i){var a=ed;return ed+=1,mc===null&&(mc=[]),i=F_(mc,i,a),a=et,(hn===null?a.memoizedState:hn.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?NT:jT),i}function Qf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return td(i);if(i.$$typeof===j)return Yn(i)}throw Error(r(438,String(i)))}function Qy(i){var a=null,c=et.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var f=et.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Xy(),et.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(i),f=0;f<i;f++)c[f]=B;return a.index++,c}function Hi(i,a){return typeof a=="function"?a(i):a}function Zf(i){var a=fn();return Zy(a,kt,i)}function Zy(i,a,c){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var y=i.baseQueue,b=f.pending;if(b!==null){if(y!==null){var A=y.next;y.next=b.next,b.next=A}a.baseQueue=y=b,f.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{a=y.next;var I=A=null,q=null,ee=a,oe=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(ft&de)===de:(Ma&de)===de){var te=ee.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===uc&&(oe=!0);else if((Ma&te)===te){ee=ee.next,te===uc&&(oe=!0);continue}else de={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(I=q=de,A=b):q=q.next=de,et.lanes|=te,Fa|=te;de=ee.action,sl&&c(b,de),b=ee.hasEagerState?ee.eagerState:c(b,de)}else te={lane:de,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(I=q=te,A=b):q=q.next=te,et.lanes|=de,Fa|=de;ee=ee.next}while(ee!==null&&ee!==a);if(q===null?A=b:q.next=I,!Pr(b,i.memoizedState)&&(Rn=!0,oe&&(c=dc,c!==null)))throw c;i.memoizedState=b,i.baseState=A,i.baseQueue=q,f.lastRenderedState=b}return y===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Jy(i){var a=fn(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var f=c.dispatch,y=c.pending,b=a.memoizedState;if(y!==null){c.pending=null;var A=y=y.next;do b=i(b,A.action),A=A.next;while(A!==y);Pr(b,a.memoizedState)||(Rn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,f]}function X_(i,a,c){var f=et,y=fn(),b=xt;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=a();var A=!Pr((kt||y).memoizedState,c);A&&(y.memoizedState=c,Rn=!0),y=y.queue;var I=J_.bind(null,f,y,i);if(nd(2048,8,I,[i]),y.getSnapshot!==a||A||hn!==null&&hn.memoizedState.tag&1){if(f.flags|=2048,pc(9,Jf(),Z_.bind(null,f,y,c,a),null),Ot===null)throw Error(r(349));b||(Ma&124)!==0||Q_(f,a,c)}return c}function Q_(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=et.updateQueue,a===null?(a=Xy(),et.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function Z_(i,a,c,f){a.value=c,a.getSnapshot=f,eT(a)&&tT(i)}function J_(i,a,c){return c(function(){eT(a)&&tT(i)})}function eT(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!Pr(i,c)}catch{return!0}}function tT(i){var a=ac(i,2);a!==null&&Lr(a,i,2)}function e0(i){var a=yr();if(typeof i=="function"){var c=i;if(i=c(),sl){Gn(!0);try{c()}finally{Gn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:i},a}function nT(i,a,c,f){return i.baseState=c,Zy(i,kt,typeof f=="function"?f:Hi)}function p4(i,a,c,f,y){if(tm(i))throw Error(r(485));if(i=a.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};X.T!==null?c(!0):b.isTransition=!1,f(b),c=a.pending,c===null?(b.next=a.pending=b,rT(a,b)):(b.next=c.next,a.pending=c.next=b)}}function rT(i,a){var c=a.action,f=a.payload,y=i.state;if(a.isTransition){var b=X.T,A={};X.T=A;try{var I=c(y,f),q=X.S;q!==null&&q(A,I),sT(i,a,I)}catch(ee){t0(i,a,ee)}finally{X.T=b}}else try{b=c(y,f),sT(i,a,b)}catch(ee){t0(i,a,ee)}}function sT(i,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){iT(i,a,f)},function(f){return t0(i,a,f)}):iT(i,a,c)}function iT(i,a,c){a.status="fulfilled",a.value=c,aT(a),i.state=c,a=i.pending,a!==null&&(c=a.next,c===a?i.pending=null:(c=c.next,a.next=c,rT(i,c)))}function t0(i,a,c){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=c,aT(a),a=a.next;while(a!==f)}i.action=null}function aT(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function oT(i,a){return a}function lT(i,a){if(xt){var c=Ot.formState;if(c!==null){e:{var f=et;if(xt){if(Wt){t:{for(var y=Wt,b=Zs;y.nodeType!==8;){if(!b){y=null;break t}if(y=Ss(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Wt=Ss(y.nextSibling),f=y.data==="F!";break e}}el(f)}f=!1}f&&(a=c[0])}}return c=yr(),c.memoizedState=c.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oT,lastRenderedState:a},c.queue=f,c=RT.bind(null,et,f),f.dispatch=c,f=e0(!1),b=a0.bind(null,et,!1,f.queue),f=yr(),y={state:a,dispatch:null,action:i,pending:null},f.queue=y,c=p4.bind(null,et,y,b,c),y.dispatch=c,f.memoizedState=i,[a,c,!1]}function cT(i){var a=fn();return uT(a,kt,i)}function uT(i,a,c){if(a=Zy(i,a,oT)[0],i=Zf(Hi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=td(a)}catch(A){throw A===Wu?Gf:A}else f=a;a=fn();var y=a.queue,b=y.dispatch;return c!==a.memoizedState&&(et.flags|=2048,pc(9,Jf(),g4.bind(null,y,c),null)),[f,b,i]}function g4(i,a){i.action=a}function dT(i){var a=fn(),c=kt;if(c!==null)return uT(a,c,i);fn(),a=a.memoizedState,c=fn();var f=c.queue.dispatch;return c.memoizedState=i,[a,f,!1]}function pc(i,a,c,f){return i={tag:i,create:c,deps:f,inst:a,next:null},a=et.updateQueue,a===null&&(a=Xy(),et.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,a.lastEffect=i),i}function Jf(){return{destroy:void 0,resource:void 0}}function hT(){return fn().memoizedState}function em(i,a,c,f){var y=yr();f=f===void 0?null:f,et.flags|=i,y.memoizedState=pc(1|a,Jf(),c,f)}function nd(i,a,c,f){var y=fn();f=f===void 0?null:f;var b=y.memoizedState.inst;kt!==null&&f!==null&&Hy(f,kt.memoizedState.deps)?y.memoizedState=pc(a,b,c,f):(et.flags|=i,y.memoizedState=pc(1|a,b,c,f))}function fT(i,a){em(8390656,8,i,a)}function mT(i,a){nd(2048,8,i,a)}function pT(i,a){return nd(4,2,i,a)}function gT(i,a){return nd(4,4,i,a)}function yT(i,a){if(typeof a=="function"){i=i();var c=a(i);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function vT(i,a,c){c=c!=null?c.concat([i]):null,nd(4,4,yT.bind(null,a,i),c)}function n0(){}function xT(i,a){var c=fn();a=a===void 0?null:a;var f=c.memoizedState;return a!==null&&Hy(a,f[1])?f[0]:(c.memoizedState=[i,a],i)}function bT(i,a){var c=fn();a=a===void 0?null:a;var f=c.memoizedState;if(a!==null&&Hy(a,f[1]))return f[0];if(f=i(),sl){Gn(!0);try{i()}finally{Gn(!1)}}return c.memoizedState=[f,a],f}function r0(i,a,c){return c===void 0||(Ma&1073741824)!==0?i.memoizedState=a:(i.memoizedState=c,i=TE(),et.lanes|=i,Fa|=i,c)}function wT(i,a,c,f){return Pr(c,a)?c:hc.current!==null?(i=r0(i,c,f),Pr(i,a)||(Rn=!0),i):(Ma&42)===0?(Rn=!0,i.memoizedState=c):(i=TE(),et.lanes|=i,Fa|=i,a)}function _T(i,a,c,f,y){var b=re.p;re.p=b!==0&&8>b?b:8;var A=X.T,I={};X.T=I,a0(i,!1,a,c);try{var q=y(),ee=X.S;if(ee!==null&&ee(I,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=h4(q,f);rd(i,a,oe,Vr(i))}else rd(i,a,f,Vr(i))}catch(de){rd(i,a,{then:function(){},status:"rejected",reason:de},Vr())}finally{re.p=b,X.T=A}}function y4(){}function s0(i,a,c,f){if(i.tag!==5)throw Error(r(476));var y=TT(i).queue;_T(i,y,a,me,c===null?y4:function(){return ET(i),c(f)})}function TT(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:me},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:c},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function ET(i){var a=TT(i).next.queue;rd(i,a,{},Vr())}function i0(){return Yn(wd)}function ST(){return fn().memoizedState}function AT(){return fn().memoizedState}function v4(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var c=Vr();i=Ia(c);var f=Da(a,i,c);f!==null&&(Lr(f,a,c),Qu(f,a,c)),a={cache:My()},i.payload=a;return}a=a.return}}function x4(i,a,c){var f=Vr();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},tm(i)?CT(a,c):(c=Sy(i,a,c,f),c!==null&&(Lr(c,i,f),kT(c,a,f)))}function RT(i,a,c){var f=Vr();rd(i,a,c,f)}function rd(i,a,c,f){var y={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(tm(i))CT(a,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var A=a.lastRenderedState,I=b(A,c);if(y.hasEagerState=!0,y.eagerState=I,Pr(I,A))return Lf(i,a,y,0),Ot===null&&Vf(),!1}catch{}finally{}if(c=Sy(i,a,y,f),c!==null)return Lr(c,i,f),kT(c,a,f),!0}return!1}function a0(i,a,c,f){if(f={lane:2,revertLane:L0(),action:f,hasEagerState:!1,eagerState:null,next:null},tm(i)){if(a)throw Error(r(479))}else a=Sy(i,c,f,2),a!==null&&Lr(a,i,2)}function tm(i){var a=i.alternate;return i===et||a!==null&&a===et}function CT(i,a){fc=Wf=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function kT(i,a,c){if((c&4194048)!==0){var f=a.lanes;f&=i.pendingLanes,c|=f,a.lanes=c,$s(i,c)}}var nm={readContext:Yn,use:Qf,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},NT={readContext:Yn,use:Qf,useCallback:function(i,a){return yr().memoizedState=[i,a===void 0?null:a],i},useContext:Yn,useEffect:fT,useImperativeHandle:function(i,a,c){c=c!=null?c.concat([i]):null,em(4194308,4,yT.bind(null,a,i),c)},useLayoutEffect:function(i,a){return em(4194308,4,i,a)},useInsertionEffect:function(i,a){em(4,2,i,a)},useMemo:function(i,a){var c=yr();a=a===void 0?null:a;var f=i();if(sl){Gn(!0);try{i()}finally{Gn(!1)}}return c.memoizedState=[f,a],f},useReducer:function(i,a,c){var f=yr();if(c!==void 0){var y=c(a);if(sl){Gn(!0);try{c(a)}finally{Gn(!1)}}}else y=a;return f.memoizedState=f.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},f.queue=i,i=i.dispatch=x4.bind(null,et,i),[f.memoizedState,i]},useRef:function(i){var a=yr();return i={current:i},a.memoizedState=i},useState:function(i){i=e0(i);var a=i.queue,c=RT.bind(null,et,a);return a.dispatch=c,[i.memoizedState,c]},useDebugValue:n0,useDeferredValue:function(i,a){var c=yr();return r0(c,i,a)},useTransition:function(){var i=e0(!1);return i=_T.bind(null,et,i.queue,!0,!1),yr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,c){var f=et,y=yr();if(xt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),Ot===null)throw Error(r(349));(ft&124)!==0||Q_(f,a,c)}y.memoizedState=c;var b={value:c,getSnapshot:a};return y.queue=b,fT(J_.bind(null,f,b,i),[i]),f.flags|=2048,pc(9,Jf(),Z_.bind(null,f,b,c,a),null),c},useId:function(){var i=yr(),a=Ot.identifierPrefix;if(xt){var c=Fi,f=$i;c=(f&~(1<<32-cn(f)-1)).toString(32)+c,a="«"+a+"R"+c,c=Xf++,0<c&&(a+="H"+c.toString(32)),a+="»"}else c=f4++,a="«"+a+"r"+c.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:i0,useFormState:lT,useActionState:lT,useOptimistic:function(i){var a=yr();a.memoizedState=a.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=a0.bind(null,et,!0,c),c.dispatch=a,[i,a]},useMemoCache:Qy,useCacheRefresh:function(){return yr().memoizedState=v4.bind(null,et)}},jT={readContext:Yn,use:Qf,useCallback:xT,useContext:Yn,useEffect:mT,useImperativeHandle:vT,useInsertionEffect:pT,useLayoutEffect:gT,useMemo:bT,useReducer:Zf,useRef:hT,useState:function(){return Zf(Hi)},useDebugValue:n0,useDeferredValue:function(i,a){var c=fn();return wT(c,kt.memoizedState,i,a)},useTransition:function(){var i=Zf(Hi)[0],a=fn().memoizedState;return[typeof i=="boolean"?i:td(i),a]},useSyncExternalStore:X_,useId:ST,useHostTransitionStatus:i0,useFormState:cT,useActionState:cT,useOptimistic:function(i,a){var c=fn();return nT(c,kt,i,a)},useMemoCache:Qy,useCacheRefresh:AT},b4={readContext:Yn,use:Qf,useCallback:xT,useContext:Yn,useEffect:mT,useImperativeHandle:vT,useInsertionEffect:pT,useLayoutEffect:gT,useMemo:bT,useReducer:Jy,useRef:hT,useState:function(){return Jy(Hi)},useDebugValue:n0,useDeferredValue:function(i,a){var c=fn();return kt===null?r0(c,i,a):wT(c,kt.memoizedState,i,a)},useTransition:function(){var i=Jy(Hi)[0],a=fn().memoizedState;return[typeof i=="boolean"?i:td(i),a]},useSyncExternalStore:X_,useId:ST,useHostTransitionStatus:i0,useFormState:dT,useActionState:dT,useOptimistic:function(i,a){var c=fn();return kt!==null?nT(c,kt,i,a):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Qy,useCacheRefresh:AT},gc=null,sd=0;function rm(i){var a=sd;return sd+=1,gc===null&&(gc=[]),F_(gc,i,a)}function id(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function sm(i,a){throw a.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function PT(i){var a=i._init;return a(i._payload)}function IT(i){function a(Y,K){if(i){var Z=Y.deletions;Z===null?(Y.deletions=[K],Y.flags|=16):Z.push(K)}}function c(Y,K){if(!i)return null;for(;K!==null;)a(Y,K),K=K.sibling;return null}function f(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function y(Y,K){return Y=Bi(Y,K),Y.index=0,Y.sibling=null,Y}function b(Y,K,Z){return Y.index=Z,i?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<K?(Y.flags|=67108866,K):Z):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function A(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function I(Y,K,Z,le){return K===null||K.tag!==6?(K=Ry(Z,Y.mode,le),K.return=Y,K):(K=y(K,Z),K.return=Y,K)}function q(Y,K,Z,le){var Se=Z.type;return Se===T?oe(Y,K,Z.props.children,le,Z.key):K!==null&&(K.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===N&&PT(Se)===K.type)?(K=y(K,Z.props),id(K,Z),K.return=Y,K):(K=Bf(Z.type,Z.key,Z.props,null,Y.mode,le),id(K,Z),K.return=Y,K)}function ee(Y,K,Z,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=Cy(Z,Y.mode,le),K.return=Y,K):(K=y(K,Z.children||[]),K.return=Y,K)}function oe(Y,K,Z,le,Se){return K===null||K.tag!==7?(K=Xo(Z,Y.mode,le,Se),K.return=Y,K):(K=y(K,Z),K.return=Y,K)}function de(Y,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Ry(""+K,Y.mode,Z),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return Z=Bf(K.type,K.key,K.props,null,Y.mode,Z),id(Z,K),Z.return=Y,Z;case w:return K=Cy(K,Y.mode,Z),K.return=Y,K;case N:var le=K._init;return K=le(K._payload),de(Y,K,Z)}if(ve(K)||G(K))return K=Xo(K,Y.mode,Z,null),K.return=Y,K;if(typeof K.then=="function")return de(Y,rm(K),Z);if(K.$$typeof===j)return de(Y,qf(Y,K),Z);sm(Y,K)}return null}function te(Y,K,Z,le){var Se=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:I(Y,K,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return Z.key===Se?q(Y,K,Z,le):null;case w:return Z.key===Se?ee(Y,K,Z,le):null;case N:return Se=Z._init,Z=Se(Z._payload),te(Y,K,Z,le)}if(ve(Z)||G(Z))return Se!==null?null:oe(Y,K,Z,le,null);if(typeof Z.then=="function")return te(Y,K,rm(Z),le);if(Z.$$typeof===j)return te(Y,K,qf(Y,Z),le);sm(Y,Z)}return null}function ne(Y,K,Z,le,Se){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Y=Y.get(Z)||null,I(K,Y,""+le,Se);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return Y=Y.get(le.key===null?Z:le.key)||null,q(K,Y,le,Se);case w:return Y=Y.get(le.key===null?Z:le.key)||null,ee(K,Y,le,Se);case N:var rt=le._init;return le=rt(le._payload),ne(Y,K,Z,le,Se)}if(ve(le)||G(le))return Y=Y.get(Z)||null,oe(K,Y,le,Se,null);if(typeof le.then=="function")return ne(Y,K,Z,rm(le),Se);if(le.$$typeof===j)return ne(Y,K,Z,qf(K,le),Se);sm(K,le)}return null}function $e(Y,K,Z,le){for(var Se=null,rt=null,Ne=K,Le=K=0,kn=null;Ne!==null&&Le<Z.length;Le++){Ne.index>Le?(kn=Ne,Ne=null):kn=Ne.sibling;var gt=te(Y,Ne,Z[Le],le);if(gt===null){Ne===null&&(Ne=kn);break}i&&Ne&&gt.alternate===null&&a(Y,Ne),K=b(gt,K,Le),rt===null?Se=gt:rt.sibling=gt,rt=gt,Ne=kn}if(Le===Z.length)return c(Y,Ne),xt&&Zo(Y,Le),Se;if(Ne===null){for(;Le<Z.length;Le++)Ne=de(Y,Z[Le],le),Ne!==null&&(K=b(Ne,K,Le),rt===null?Se=Ne:rt.sibling=Ne,rt=Ne);return xt&&Zo(Y,Le),Se}for(Ne=f(Ne);Le<Z.length;Le++)kn=ne(Ne,Y,Le,Z[Le],le),kn!==null&&(i&&kn.alternate!==null&&Ne.delete(kn.key===null?Le:kn.key),K=b(kn,K,Le),rt===null?Se=kn:rt.sibling=kn,rt=kn);return i&&Ne.forEach(function(Qa){return a(Y,Qa)}),xt&&Zo(Y,Le),Se}function Oe(Y,K,Z,le){if(Z==null)throw Error(r(151));for(var Se=null,rt=null,Ne=K,Le=K=0,kn=null,gt=Z.next();Ne!==null&&!gt.done;Le++,gt=Z.next()){Ne.index>Le?(kn=Ne,Ne=null):kn=Ne.sibling;var Qa=te(Y,Ne,gt.value,le);if(Qa===null){Ne===null&&(Ne=kn);break}i&&Ne&&Qa.alternate===null&&a(Y,Ne),K=b(Qa,K,Le),rt===null?Se=Qa:rt.sibling=Qa,rt=Qa,Ne=kn}if(gt.done)return c(Y,Ne),xt&&Zo(Y,Le),Se;if(Ne===null){for(;!gt.done;Le++,gt=Z.next())gt=de(Y,gt.value,le),gt!==null&&(K=b(gt,K,Le),rt===null?Se=gt:rt.sibling=gt,rt=gt);return xt&&Zo(Y,Le),Se}for(Ne=f(Ne);!gt.done;Le++,gt=Z.next())gt=ne(Ne,Y,Le,gt.value,le),gt!==null&&(i&&gt.alternate!==null&&Ne.delete(gt.key===null?Le:gt.key),K=b(gt,K,Le),rt===null?Se=gt:rt.sibling=gt,rt=gt);return i&&Ne.forEach(function(wV){return a(Y,wV)}),xt&&Zo(Y,Le),Se}function jt(Y,K,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===T&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:e:{for(var Se=Z.key;K!==null;){if(K.key===Se){if(Se=Z.type,Se===T){if(K.tag===7){c(Y,K.sibling),le=y(K,Z.props.children),le.return=Y,Y=le;break e}}else if(K.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===N&&PT(Se)===K.type){c(Y,K.sibling),le=y(K,Z.props),id(le,Z),le.return=Y,Y=le;break e}c(Y,K);break}else a(Y,K);K=K.sibling}Z.type===T?(le=Xo(Z.props.children,Y.mode,le,Z.key),le.return=Y,Y=le):(le=Bf(Z.type,Z.key,Z.props,null,Y.mode,le),id(le,Z),le.return=Y,Y=le)}return A(Y);case w:e:{for(Se=Z.key;K!==null;){if(K.key===Se)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){c(Y,K.sibling),le=y(K,Z.children||[]),le.return=Y,Y=le;break e}else{c(Y,K);break}else a(Y,K);K=K.sibling}le=Cy(Z,Y.mode,le),le.return=Y,Y=le}return A(Y);case N:return Se=Z._init,Z=Se(Z._payload),jt(Y,K,Z,le)}if(ve(Z))return $e(Y,K,Z,le);if(G(Z)){if(Se=G(Z),typeof Se!="function")throw Error(r(150));return Z=Se.call(Z),Oe(Y,K,Z,le)}if(typeof Z.then=="function")return jt(Y,K,rm(Z),le);if(Z.$$typeof===j)return jt(Y,K,qf(Y,Z),le);sm(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(c(Y,K.sibling),le=y(K,Z),le.return=Y,Y=le):(c(Y,K),le=Ry(Z,Y.mode,le),le.return=Y,Y=le),A(Y)):c(Y,K)}return function(Y,K,Z,le){try{sd=0;var Se=jt(Y,K,Z,le);return gc=null,Se}catch(Ne){if(Ne===Wu||Ne===Gf)throw Ne;var rt=Ir(29,Ne,null,Y.mode);return rt.lanes=le,rt.return=Y,rt}finally{}}}var yc=IT(!0),DT=IT(!1),is=ae(null),Js=null;function Oa(i){var a=i.alternate;fe(wn,wn.current&1),fe(is,i),Js===null&&(a===null||hc.current!==null||a.memoizedState!==null)&&(Js=i)}function MT(i){if(i.tag===22){if(fe(wn,wn.current),fe(is,i),Js===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Js=i)}}else Va()}function Va(){fe(wn,wn.current),fe(is,is.current)}function Gi(i){pe(is),Js===i&&(Js=null),pe(wn)}var wn=ae(0);function im(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||X0(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function o0(i,a,c,f){a=i.memoizedState,c=c(f,a),c=c==null?a:p({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var l0={enqueueSetState:function(i,a,c){i=i._reactInternals;var f=Vr(),y=Ia(f);y.payload=a,c!=null&&(y.callback=c),a=Da(i,y,f),a!==null&&(Lr(a,i,f),Qu(a,i,f))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var f=Vr(),y=Ia(f);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Da(i,y,f),a!==null&&(Lr(a,i,f),Qu(a,i,f))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Vr(),f=Ia(c);f.tag=2,a!=null&&(f.callback=a),a=Da(i,f,c),a!==null&&(Lr(a,i,c),Qu(a,i,c))}};function OT(i,a,c,f,y,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,b,A):a.prototype&&a.prototype.isPureReactComponent?!$u(c,f)||!$u(y,b):!0}function VT(i,a,c,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==i&&l0.enqueueReplaceState(a,a.state,null)}function il(i,a){var c=a;if("ref"in a){c={};for(var f in a)f!=="ref"&&(c[f]=a[f])}if(i=i.defaultProps){c===a&&(c=p({},c));for(var y in i)c[y]===void 0&&(c[y]=i[y])}return c}var am=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function LT(i){am(i)}function UT(i){console.error(i)}function BT(i){am(i)}function om(i,a){try{var c=i.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function $T(i,a,c){try{var f=i.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function c0(i,a,c){return c=Ia(c),c.tag=3,c.payload={element:null},c.callback=function(){om(i,a)},c}function FT(i){return i=Ia(i),i.tag=3,i}function zT(i,a,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;i.payload=function(){return y(b)},i.callback=function(){$T(a,c,f)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){$T(a,c,f),typeof y!="function"&&(za===null?za=new Set([this]):za.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function w4(i,a,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=c.alternate,a!==null&&Gu(a,c,y,!0),c=is.current,c!==null){switch(c.tag){case 13:return Js===null?I0():c.alternate===null&&Xt===0&&(Xt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===Ly?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([f]):a.add(f),M0(i,f,y)),!1;case 22:return c.flags|=65536,f===Ly?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([f]):c.add(f)),M0(i,f,y)),!1}throw Error(r(435,c.tag))}return M0(i,f,y),I0(),!1}if(xt)return a=is.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,f!==jy&&(i=Error(r(422),{cause:f}),Hu(ts(i,c)))):(f!==jy&&(a=Error(r(423),{cause:f}),Hu(ts(a,c))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,f=ts(f,c),y=c0(i.stateNode,f,y),$y(i,y),Xt!==4&&(Xt=2)),!1;var b=Error(r(520),{cause:f});if(b=ts(b,c),hd===null?hd=[b]:hd.push(b),Xt!==4&&(Xt=2),a===null)return!0;f=ts(f,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,i=y&-y,c.lanes|=i,i=c0(c.stateNode,f,i),$y(c,i),!1;case 1:if(a=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(za===null||!za.has(b))))return c.flags|=65536,y&=-y,c.lanes|=y,y=FT(y),zT(y,i,c,f),$y(c,y),!1}c=c.return}while(c!==null);return!1}var qT=Error(r(461)),Rn=!1;function On(i,a,c,f){a.child=i===null?DT(a,null,c,f):yc(a,i.child,c,f)}function HT(i,a,c,f,y){c=c.render;var b=a.ref;if("ref"in f){var A={};for(var I in f)I!=="ref"&&(A[I]=f[I])}else A=f;return nl(a),f=Gy(i,a,c,A,b,y),I=Ky(),i!==null&&!Rn?(Yy(i,a,y),Ki(i,a,y)):(xt&&I&&ky(a),a.flags|=1,On(i,a,f,y),a.child)}function GT(i,a,c,f,y){if(i===null){var b=c.type;return typeof b=="function"&&!Ay(b)&&b.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=b,KT(i,a,b,f,y)):(i=Bf(c.type,null,f,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!y0(i,y)){var A=b.memoizedProps;if(c=c.compare,c=c!==null?c:$u,c(A,f)&&i.ref===a.ref)return Ki(i,a,y)}return a.flags|=1,i=Bi(b,f),i.ref=a.ref,i.return=a,a.child=i}function KT(i,a,c,f,y){if(i!==null){var b=i.memoizedProps;if($u(b,f)&&i.ref===a.ref)if(Rn=!1,a.pendingProps=f=b,y0(i,y))(i.flags&131072)!==0&&(Rn=!0);else return a.lanes=i.lanes,Ki(i,a,y)}return u0(i,a,c,f,y)}function YT(i,a,c){var f=a.pendingProps,y=f.children,b=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=b!==null?b.baseLanes|c:c,i!==null){for(y=a.child=i.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;a.childLanes=b&~f}else a.childLanes=0,a.child=null;return WT(i,a,f,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hf(a,b!==null?b.cachePool:null),b!==null?K_(a,b):zy(),MT(a);else return a.lanes=a.childLanes=536870912,WT(i,a,b!==null?b.baseLanes|c:c,c)}else b!==null?(Hf(a,b.cachePool),K_(a,b),Va(),a.memoizedState=null):(i!==null&&Hf(a,null),zy(),Va());return On(i,a,y,c),a.child}function WT(i,a,c,f){var y=Vy();return y=y===null?null:{parent:bn._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},i!==null&&Hf(a,null),zy(),MT(a),i!==null&&Gu(i,a,f,!0),null}function lm(i,a){var c=a.ref;if(c===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(a.flags|=4194816)}}function u0(i,a,c,f,y){return nl(a),c=Gy(i,a,c,f,void 0,y),f=Ky(),i!==null&&!Rn?(Yy(i,a,y),Ki(i,a,y)):(xt&&f&&ky(a),a.flags|=1,On(i,a,c,y),a.child)}function XT(i,a,c,f,y,b){return nl(a),a.updateQueue=null,c=W_(a,f,c,y),Y_(i),f=Ky(),i!==null&&!Rn?(Yy(i,a,b),Ki(i,a,b)):(xt&&f&&ky(a),a.flags|=1,On(i,a,c,b),a.child)}function QT(i,a,c,f,y){if(nl(a),a.stateNode===null){var b=oc,A=c.contextType;typeof A=="object"&&A!==null&&(b=Yn(A)),b=new c(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=l0,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},Uy(a),A=c.contextType,b.context=typeof A=="object"&&A!==null?Yn(A):oc,b.state=a.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(o0(a,c,A,f),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&l0.enqueueReplaceState(b,b.state,null),Ju(a,f,b,y),Zu(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(i===null){b=a.stateNode;var I=a.memoizedProps,q=il(c,I);b.props=q;var ee=b.context,oe=c.contextType;A=oc,typeof oe=="object"&&oe!==null&&(A=Yn(oe));var de=c.getDerivedStateFromProps;oe=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I||ee!==A)&&VT(a,b,f,A),Pa=!1;var te=a.memoizedState;b.state=te,Ju(a,f,b,y),Zu(),ee=a.memoizedState,I||te!==ee||Pa?(typeof de=="function"&&(o0(a,c,de,f),ee=a.memoizedState),(q=Pa||OT(a,c,q,f,te,ee,A))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=ee),b.props=f,b.state=ee,b.context=A,f=q):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,By(i,a),A=a.memoizedProps,oe=il(c,A),b.props=oe,de=a.pendingProps,te=b.context,ee=c.contextType,q=oc,typeof ee=="object"&&ee!==null&&(q=Yn(ee)),I=c.getDerivedStateFromProps,(ee=typeof I=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==de||te!==q)&&VT(a,b,f,q),Pa=!1,te=a.memoizedState,b.state=te,Ju(a,f,b,y),Zu();var ne=a.memoizedState;A!==de||te!==ne||Pa||i!==null&&i.dependencies!==null&&zf(i.dependencies)?(typeof I=="function"&&(o0(a,c,I,f),ne=a.memoizedState),(oe=Pa||OT(a,c,oe,f,te,ne,q)||i!==null&&i.dependencies!==null&&zf(i.dependencies))?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ne,q),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ne,q)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ne),b.props=f,b.state=ne,b.context=q,f=oe):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(a.flags|=1024),f=!1)}return b=f,lm(i,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&f?(a.child=yc(a,i.child,null,y),a.child=yc(a,null,c,y)):On(i,a,c,y),a.memoizedState=b.state,i=a.child):i=Ki(i,a,y),i}function ZT(i,a,c,f){return qu(),a.flags|=256,On(i,a,c,f),a.child}var d0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function h0(i){return{baseLanes:i,cachePool:U_()}}function f0(i,a,c){return i=i!==null?i.childLanes&~c:0,a&&(i|=as),i}function JT(i,a,c){var f=a.pendingProps,y=!1,b=(a.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(wn.current&2)!==0),A&&(y=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,i===null){if(xt){if(y?Oa(a):Va(),xt){var I=Wt,q;if(q=I){e:{for(q=I,I=Zs;q.nodeType!==8;){if(!I){I=null;break e}if(q=Ss(q.nextSibling),q===null){I=null;break e}}I=q}I!==null?(a.memoizedState={dehydrated:I,treeContext:Qo!==null?{id:$i,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},q=Ir(18,null,null,0),q.stateNode=I,q.return=a,a.child=q,dr=a,Wt=null,q=!0):q=!1}q||el(a)}if(I=a.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return X0(I)?a.lanes=32:a.lanes=536870912,null;Gi(a)}return I=f.children,f=f.fallback,y?(Va(),y=a.mode,I=cm({mode:"hidden",children:I},y),f=Xo(f,y,c,null),I.return=a,f.return=a,I.sibling=f,a.child=I,y=a.child,y.memoizedState=h0(c),y.childLanes=f0(i,A,c),a.memoizedState=d0,f):(Oa(a),m0(a,I))}if(q=i.memoizedState,q!==null&&(I=q.dehydrated,I!==null)){if(b)a.flags&256?(Oa(a),a.flags&=-257,a=p0(i,a,c)):a.memoizedState!==null?(Va(),a.child=i.child,a.flags|=128,a=null):(Va(),y=f.fallback,I=a.mode,f=cm({mode:"visible",children:f.children},I),y=Xo(y,I,c,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,yc(a,i.child,null,c),f=a.child,f.memoizedState=h0(c),f.childLanes=f0(i,A,c),a.memoizedState=d0,a=y);else if(Oa(a),X0(I)){if(A=I.nextSibling&&I.nextSibling.dataset,A)var ee=A.dgst;A=ee,f=Error(r(419)),f.stack="",f.digest=A,Hu({value:f,source:null,stack:null}),a=p0(i,a,c)}else if(Rn||Gu(i,a,c,!1),A=(c&i.childLanes)!==0,Rn||A){if(A=Ot,A!==null&&(f=c&-c,f=(f&42)!==0?1:Fs(f),f=(f&(A.suspendedLanes|c))!==0?0:f,f!==0&&f!==q.retryLane))throw q.retryLane=f,ac(i,f),Lr(A,i,f),qT;I.data==="$?"||I0(),a=p0(i,a,c)}else I.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=q.treeContext,Wt=Ss(I.nextSibling),dr=a,xt=!0,Jo=null,Zs=!1,i!==null&&(rs[ss++]=$i,rs[ss++]=Fi,rs[ss++]=Qo,$i=i.id,Fi=i.overflow,Qo=a),a=m0(a,f.children),a.flags|=4096);return a}return y?(Va(),y=f.fallback,I=a.mode,q=i.child,ee=q.sibling,f=Bi(q,{mode:"hidden",children:f.children}),f.subtreeFlags=q.subtreeFlags&65011712,ee!==null?y=Bi(ee,y):(y=Xo(y,I,c,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,I=i.child.memoizedState,I===null?I=h0(c):(q=I.cachePool,q!==null?(ee=bn._currentValue,q=q.parent!==ee?{parent:ee,pool:ee}:q):q=U_(),I={baseLanes:I.baseLanes|c,cachePool:q}),y.memoizedState=I,y.childLanes=f0(i,A,c),a.memoizedState=d0,f):(Oa(a),c=i.child,i=c.sibling,c=Bi(c,{mode:"visible",children:f.children}),c.return=a,c.sibling=null,i!==null&&(A=a.deletions,A===null?(a.deletions=[i],a.flags|=16):A.push(i)),a.child=c,a.memoizedState=null,c)}function m0(i,a){return a=cm({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function cm(i,a){return i=Ir(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function p0(i,a,c){return yc(a,i.child,null,c),i=m0(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function eE(i,a,c){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),Iy(i.return,a,c)}function g0(i,a,c,f,y){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=c,b.tailMode=y)}function tE(i,a,c){var f=a.pendingProps,y=f.revealOrder,b=f.tail;if(On(i,a,f.children,c),f=wn.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&eE(i,c,a);else if(i.tag===19)eE(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(fe(wn,f),y){case"forwards":for(c=a.child,y=null;c!==null;)i=c.alternate,i!==null&&im(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),g0(a,!1,y,c,b);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&im(i)===null){a.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}g0(a,!0,c,null,b);break;case"together":g0(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ki(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Fa|=a.lanes,(c&a.childLanes)===0)if(i!==null){if(Gu(i,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,c=Bi(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=Bi(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function y0(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&zf(i)))}function _4(i,a,c){switch(a.tag){case 3:Rt(a,a.stateNode.containerInfo),ja(a,bn,i.memoizedState.cache),qu();break;case 27:case 5:Bt(a);break;case 4:Rt(a,a.stateNode.containerInfo);break;case 10:ja(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Oa(a),a.flags|=128,null):(c&a.child.childLanes)!==0?JT(i,a,c):(Oa(a),i=Ki(i,a,c),i!==null?i.sibling:null);Oa(a);break;case 19:var y=(i.flags&128)!==0;if(f=(c&a.childLanes)!==0,f||(Gu(i,a,c,!1),f=(c&a.childLanes)!==0),y){if(f)return tE(i,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),fe(wn,wn.current),f)break;return null;case 22:case 23:return a.lanes=0,YT(i,a,c);case 24:ja(a,bn,i.memoizedState.cache)}return Ki(i,a,c)}function nE(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps)Rn=!0;else{if(!y0(i,c)&&(a.flags&128)===0)return Rn=!1,_4(i,a,c);Rn=(i.flags&131072)!==0}else Rn=!1,xt&&(a.flags&1048576)!==0&&P_(a,Ff,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var f=a.elementType,y=f._init;if(f=y(f._payload),a.type=f,typeof f=="function")Ay(f)?(i=il(f,i),a.tag=1,a=QT(null,a,f,i,c)):(a.tag=0,a=u0(null,a,f,i,c));else{if(f!=null){if(y=f.$$typeof,y===U){a.tag=11,a=HT(null,a,f,i,c);break e}else if(y===P){a.tag=14,a=GT(null,a,f,i,c);break e}}throw a=be(f)||f,Error(r(306,a,""))}}return a;case 0:return u0(i,a,a.type,a.pendingProps,c);case 1:return f=a.type,y=il(f,a.pendingProps),QT(i,a,f,y,c);case 3:e:{if(Rt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));f=a.pendingProps;var b=a.memoizedState;y=b.element,By(i,a),Ju(a,f,null,c);var A=a.memoizedState;if(f=A.cache,ja(a,bn,f),f!==b.cache&&Dy(a,[bn],c,!0),Zu(),f=A.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=ZT(i,a,f,c);break e}else if(f!==y){y=ts(Error(r(424)),a),Hu(y),a=ZT(i,a,f,c);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Wt=Ss(i.firstChild),dr=a,xt=!0,Jo=null,Zs=!0,c=DT(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(qu(),f===y){a=Ki(i,a,c);break e}On(i,a,f,c)}a=a.child}return a;case 26:return lm(i,a),i===null?(c=aS(a.type,null,a.pendingProps,null))?a.memoizedState=c:xt||(c=a.type,i=a.pendingProps,f=Tm(Pe.current).createElement(c),f[ue]=a,f[ge]=i,Ln(f,c,i),ut(f),a.stateNode=f):a.memoizedState=aS(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Bt(a),i===null&&xt&&(f=a.stateNode=rS(a.type,a.pendingProps,Pe.current),dr=a,Zs=!0,y=Wt,Ga(a.type)?(Q0=y,Wt=Ss(f.firstChild)):Wt=y),On(i,a,a.pendingProps.children,c),lm(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&xt&&((y=f=Wt)&&(f=X4(f,a.type,a.pendingProps,Zs),f!==null?(a.stateNode=f,dr=a,Wt=Ss(f.firstChild),Zs=!1,y=!0):y=!1),y||el(a)),Bt(a),y=a.type,b=a.pendingProps,A=i!==null?i.memoizedProps:null,f=b.children,K0(y,b)?f=null:A!==null&&K0(y,A)&&(a.flags|=32),a.memoizedState!==null&&(y=Gy(i,a,m4,null,null,c),wd._currentValue=y),lm(i,a),On(i,a,f,c),a.child;case 6:return i===null&&xt&&((i=c=Wt)&&(c=Q4(c,a.pendingProps,Zs),c!==null?(a.stateNode=c,dr=a,Wt=null,i=!0):i=!1),i||el(a)),null;case 13:return JT(i,a,c);case 4:return Rt(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=yc(a,null,f,c):On(i,a,f,c),a.child;case 11:return HT(i,a,a.type,a.pendingProps,c);case 7:return On(i,a,a.pendingProps,c),a.child;case 8:return On(i,a,a.pendingProps.children,c),a.child;case 12:return On(i,a,a.pendingProps.children,c),a.child;case 10:return f=a.pendingProps,ja(a,a.type,f.value),On(i,a,f.children,c),a.child;case 9:return y=a.type._context,f=a.pendingProps.children,nl(a),y=Yn(y),f=f(y),a.flags|=1,On(i,a,f,c),a.child;case 14:return GT(i,a,a.type,a.pendingProps,c);case 15:return KT(i,a,a.type,a.pendingProps,c);case 19:return tE(i,a,c);case 31:return f=a.pendingProps,c=a.mode,f={mode:f.mode,children:f.children},i===null?(c=cm(f,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=Bi(i.child,f),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return YT(i,a,c);case 24:return nl(a),f=Yn(bn),i===null?(y=Vy(),y===null&&(y=Ot,b=My(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=c),y=b),a.memoizedState={parent:f,cache:y},Uy(a),ja(a,bn,y)):((i.lanes&c)!==0&&(By(i,a),Ju(a,null,null,c),Zu()),y=i.memoizedState,b=a.memoizedState,y.parent!==f?(y={parent:f,cache:f},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),ja(a,bn,f)):(f=b.cache,ja(a,bn,f),f!==y.cache&&Dy(a,[bn],c,!0))),On(i,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Yi(i){i.flags|=4}function rE(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!dS(a)){if(a=is.current,a!==null&&((ft&4194048)===ft?Js!==null:(ft&62914560)!==ft&&(ft&536870912)===0||a!==Js))throw Xu=Ly,B_;i.flags|=8192}}function um(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Oo():536870912,i.lanes|=a,wc|=a)}function ad(i,a){if(!xt)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function zt(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(a)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=f,i.childLanes=c,a}function T4(i,a,c){var f=a.pendingProps;switch(Ny(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(a),null;case 1:return zt(a),null;case 3:return c=a.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),qi(bn),qr(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(zu(a)?Yi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,M_())),zt(a),null;case 26:return c=a.memoizedState,i===null?(Yi(a),c!==null?(zt(a),rE(a,c)):(zt(a),a.flags&=-16777217)):c?c!==i.memoizedState?(Yi(a),zt(a),rE(a,c)):(zt(a),a.flags&=-16777217):(i.memoizedProps!==f&&Yi(a),zt(a),a.flags&=-16777217),null;case 27:Hn(a),c=Pe.current;var y=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==f&&Yi(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return zt(a),null}i=Ee.current,zu(a)?I_(a):(i=rS(y,f,c),a.stateNode=i,Yi(a))}return zt(a),null;case 5:if(Hn(a),c=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&Yi(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return zt(a),null}if(i=Ee.current,zu(a))I_(a);else{switch(y=Tm(Pe.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?y.createElement(c,{is:f.is}):y.createElement(c)}}i[ue]=a,i[ge]=f;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=i;e:switch(Ln(i,c,f),c){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Yi(a)}}return zt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==f&&Yi(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(i=Pe.current,zu(a)){if(i=a.stateNode,c=a.memoizedProps,f=null,y=dr,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}i[ue]=a,i=!!(i.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||XE(i.nodeValue,c)),i||el(a)}else i=Tm(i).createTextNode(f),i[ue]=a,a.stateNode=i}return zt(a),null;case 13:if(f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=zu(a),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[ue]=a}else qu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;zt(a),y=!1}else y=M_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Gi(a),a):(Gi(a),null)}if(Gi(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=f!==null,i=i!==null&&i.memoizedState!==null,c){f=a.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)}return c!==i&&c&&(a.child.flags|=8192),um(a,a.updateQueue),zt(a),null;case 4:return qr(),i===null&&F0(a.stateNode.containerInfo),zt(a),null;case 10:return qi(a.type),zt(a),null;case 19:if(pe(wn),y=a.memoizedState,y===null)return zt(a),null;if(f=(a.flags&128)!==0,b=y.rendering,b===null)if(f)ad(y,!1);else{if(Xt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=im(i),b!==null){for(a.flags|=128,ad(y,!1),i=b.updateQueue,a.updateQueue=i,um(a,i),a.subtreeFlags=0,i=c,c=a.child;c!==null;)j_(c,i),c=c.sibling;return fe(wn,wn.current&1|2),a.child}i=i.sibling}y.tail!==null&&ar()>fm&&(a.flags|=128,f=!0,ad(y,!1),a.lanes=4194304)}else{if(!f)if(i=im(b),i!==null){if(a.flags|=128,f=!0,i=i.updateQueue,a.updateQueue=i,um(a,i),ad(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!xt)return zt(a),null}else 2*ar()-y.renderingStartTime>fm&&c!==536870912&&(a.flags|=128,f=!0,ad(y,!1),a.lanes=4194304);y.isBackwards?(b.sibling=a.child,a.child=b):(i=y.last,i!==null?i.sibling=b:a.child=b,y.last=b)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=ar(),a.sibling=null,i=wn.current,fe(wn,f?i&1|2:i&1),a):(zt(a),null);case 22:case 23:return Gi(a),qy(),f=a.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(c&536870912)!==0&&(a.flags&128)===0&&(zt(a),a.subtreeFlags&6&&(a.flags|=8192)):zt(a),c=a.updateQueue,c!==null&&um(a,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048),i!==null&&pe(rl),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),qi(bn),zt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function E4(i,a){switch(Ny(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return qi(bn),qr(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Hn(a),null;case 13:if(Gi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));qu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return pe(wn),null;case 4:return qr(),null;case 10:return qi(a.type),null;case 22:case 23:return Gi(a),qy(),i!==null&&pe(rl),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return qi(bn),null;case 25:return null;default:return null}}function sE(i,a){switch(Ny(a),a.tag){case 3:qi(bn),qr();break;case 26:case 27:case 5:Hn(a);break;case 4:qr();break;case 13:Gi(a);break;case 19:pe(wn);break;case 10:qi(a.type);break;case 22:case 23:Gi(a),qy(),i!==null&&pe(rl);break;case 24:qi(bn)}}function od(i,a){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&i)===i){f=void 0;var b=c.create,A=c.inst;f=b(),A.destroy=f}c=c.next}while(c!==y)}}catch(I){Dt(a,a.return,I)}}function La(i,a,c){try{var f=a.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&i)===i){var A=f.inst,I=A.destroy;if(I!==void 0){A.destroy=void 0,y=a;var q=c,ee=I;try{ee()}catch(oe){Dt(y,q,oe)}}}f=f.next}while(f!==b)}}catch(oe){Dt(a,a.return,oe)}}function iE(i){var a=i.updateQueue;if(a!==null){var c=i.stateNode;try{G_(a,c)}catch(f){Dt(i,i.return,f)}}}function aE(i,a,c){c.props=il(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(f){Dt(i,a,f)}}function ld(i,a){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof c=="function"?i.refCleanup=c(f):c.current=f}}catch(y){Dt(i,a,y)}}function ei(i,a){var c=i.ref,f=i.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){Dt(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Dt(i,a,y)}else c.current=null}function oE(i){var a=i.type,c=i.memoizedProps,f=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){Dt(i,i.return,y)}}function v0(i,a,c){try{var f=i.stateNode;H4(f,i.type,c,a),f[ge]=a}catch(y){Dt(i,i.return,y)}}function lE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ga(i.type)||i.tag===4}function x0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ga(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function b0(i,a,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(i),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=_m));else if(f!==4&&(f===27&&Ga(i.type)&&(c=i.stateNode,a=null),i=i.child,i!==null))for(b0(i,a,c),i=i.sibling;i!==null;)b0(i,a,c),i=i.sibling}function dm(i,a,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(f!==4&&(f===27&&Ga(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(dm(i,a,c),i=i.sibling;i!==null;)dm(i,a,c),i=i.sibling}function cE(i){var a=i.stateNode,c=i.memoizedProps;try{for(var f=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Ln(a,f,c),a[ue]=i,a[ge]=c}catch(b){Dt(i,i.return,b)}}var Wi=!1,en=!1,w0=!1,uE=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function S4(i,a){if(i=i.containerInfo,H0=km,i=w_(i),xy(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var A=0,I=-1,q=-1,ee=0,oe=0,de=i,te=null;t:for(;;){for(var ne;de!==c||y!==0&&de.nodeType!==3||(I=A+y),de!==b||f!==0&&de.nodeType!==3||(q=A+f),de.nodeType===3&&(A+=de.nodeValue.length),(ne=de.firstChild)!==null;)te=de,de=ne;for(;;){if(de===i)break t;if(te===c&&++ee===y&&(I=A),te===b&&++oe===f&&(q=A),(ne=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ne}c=I===-1||q===-1?null:{start:I,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(G0={focusedElem:i,selectionRange:c},km=!1,Cn=a;Cn!==null;)if(a=Cn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Cn=i;else for(;Cn!==null;){switch(a=Cn,b=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,c=a,y=b.memoizedProps,b=b.memoizedState,f=c.stateNode;try{var $e=il(c.type,y,c.elementType===c.type);i=f.getSnapshotBeforeUpdate($e,b),f.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){Dt(c,c.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,c=i.nodeType,c===9)W0(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":W0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Cn=i;break}Cn=a.return}}function dE(i,a,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Ua(i,c),f&4&&od(5,c);break;case 1:if(Ua(i,c),f&4)if(i=c.stateNode,a===null)try{i.componentDidMount()}catch(A){Dt(c,c.return,A)}else{var y=il(c.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Dt(c,c.return,A)}}f&64&&iE(c),f&512&&ld(c,c.return);break;case 3:if(Ua(i,c),f&64&&(i=c.updateQueue,i!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{G_(i,a)}catch(A){Dt(c,c.return,A)}}break;case 27:a===null&&f&4&&cE(c);case 26:case 5:Ua(i,c),a===null&&f&4&&oE(c),f&512&&ld(c,c.return);break;case 12:Ua(i,c);break;case 13:Ua(i,c),f&4&&mE(i,c),f&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=D4.bind(null,c),Z4(i,c))));break;case 22:if(f=c.memoizedState!==null||Wi,!f){a=a!==null&&a.memoizedState!==null||en,y=Wi;var b=en;Wi=f,(en=a)&&!b?Ba(i,c,(c.subtreeFlags&8772)!==0):Ua(i,c),Wi=y,en=b}break;case 30:break;default:Ua(i,c)}}function hE(i){var a=i.alternate;a!==null&&(i.alternate=null,hE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Ce(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $t=null,vr=!1;function Xi(i,a,c){for(c=c.child;c!==null;)fE(i,a,c),c=c.sibling}function fE(i,a,c){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(vt,c)}catch{}switch(c.tag){case 26:en||ei(c,a),Xi(i,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:en||ei(c,a);var f=$t,y=vr;Ga(c.type)&&($t=c.stateNode,vr=!1),Xi(i,a,c),yd(c.stateNode),$t=f,vr=y;break;case 5:en||ei(c,a);case 6:if(f=$t,y=vr,$t=null,Xi(i,a,c),$t=f,vr=y,$t!==null)if(vr)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(c.stateNode)}catch(b){Dt(c,a,b)}else try{$t.removeChild(c.stateNode)}catch(b){Dt(c,a,b)}break;case 18:$t!==null&&(vr?(i=$t,tS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Sd(i)):tS($t,c.stateNode));break;case 4:f=$t,y=vr,$t=c.stateNode.containerInfo,vr=!0,Xi(i,a,c),$t=f,vr=y;break;case 0:case 11:case 14:case 15:en||La(2,c,a),en||La(4,c,a),Xi(i,a,c);break;case 1:en||(ei(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"&&aE(c,a,f)),Xi(i,a,c);break;case 21:Xi(i,a,c);break;case 22:en=(f=en)||c.memoizedState!==null,Xi(i,a,c),en=f;break;default:Xi(i,a,c)}}function mE(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Sd(i)}catch(c){Dt(a,a.return,c)}}function A4(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new uE),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new uE),a;default:throw Error(r(435,i.tag))}}function _0(i,a){var c=A4(i);a.forEach(function(f){var y=M4.bind(null,i,f);c.has(f)||(c.add(f),f.then(y,y))})}function Dr(i,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],b=i,A=a,I=A;e:for(;I!==null;){switch(I.tag){case 27:if(Ga(I.type)){$t=I.stateNode,vr=!1;break e}break;case 5:$t=I.stateNode,vr=!1;break e;case 3:case 4:$t=I.stateNode.containerInfo,vr=!0;break e}I=I.return}if($t===null)throw Error(r(160));fE(b,A,y),$t=null,vr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)pE(a,i),a=a.sibling}var Es=null;function pE(i,a){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dr(a,i),Mr(i),f&4&&(La(3,i,i.return),od(3,i),La(5,i,i.return));break;case 1:Dr(a,i),Mr(i),f&512&&(en||c===null||ei(c,c.return)),f&64&&Wi&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=Es;if(Dr(a,i),Mr(i),f&512&&(en||c===null||ei(c,c.return)),f&4){var b=c!==null?c.memoizedState:null;if(f=i.memoizedState,c===null)if(f===null)if(i.stateNode===null){e:{f=i.type,c=i.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Me]||b[ue]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),Ln(b,f,c),b[ue]=i,ut(b),f=b;break e;case"link":var A=cS("link","href",y).get(f+(c.href||""));if(A){for(var I=0;I<A.length;I++)if(b=A[I],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(I,1);break t}}b=y.createElement(f),Ln(b,f,c),y.head.appendChild(b);break;case"meta":if(A=cS("meta","content",y).get(f+(c.content||""))){for(I=0;I<A.length;I++)if(b=A[I],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(I,1);break t}}b=y.createElement(f),Ln(b,f,c),y.head.appendChild(b);break;default:throw Error(r(468,f))}b[ue]=i,ut(b),f=b}i.stateNode=f}else uS(y,i.type,i.stateNode);else i.stateNode=lS(y,f,i.memoizedProps);else b!==f?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,f===null?uS(y,i.type,i.stateNode):lS(y,f,i.memoizedProps)):f===null&&i.stateNode!==null&&v0(i,i.memoizedProps,c.memoizedProps)}break;case 27:Dr(a,i),Mr(i),f&512&&(en||c===null||ei(c,c.return)),c!==null&&f&4&&v0(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Dr(a,i),Mr(i),f&512&&(en||c===null||ei(c,c.return)),i.flags&32){y=i.stateNode;try{Qr(y,"")}catch(ne){Dt(i,i.return,ne)}}f&4&&i.stateNode!=null&&(y=i.memoizedProps,v0(i,y,c!==null?c.memoizedProps:y)),f&1024&&(w0=!0);break;case 6:if(Dr(a,i),Mr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,c=i.stateNode;try{c.nodeValue=f}catch(ne){Dt(i,i.return,ne)}}break;case 3:if(Am=null,y=Es,Es=Em(a.containerInfo),Dr(a,i),Es=y,Mr(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Sd(a.containerInfo)}catch(ne){Dt(i,i.return,ne)}w0&&(w0=!1,gE(i));break;case 4:f=Es,Es=Em(i.stateNode.containerInfo),Dr(a,i),Mr(i),Es=f;break;case 12:Dr(a,i),Mr(i);break;case 13:Dr(a,i),Mr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(C0=ar()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,_0(i,f)));break;case 22:y=i.memoizedState!==null;var q=c!==null&&c.memoizedState!==null,ee=Wi,oe=en;if(Wi=ee||y,en=oe||q,Dr(a,i),en=oe,Wi=ee,Mr(i),f&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(c===null||q||Wi||en||al(i)),c=null,a=i;;){if(a.tag===5||a.tag===26){if(c===null){q=c=a;try{if(b=q.stateNode,y)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{I=q.stateNode;var de=q.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;I.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Dt(q,q.return,ne)}}}else if(a.tag===6){if(c===null){q=a;try{q.stateNode.nodeValue=y?"":q.memoizedProps}catch(ne){Dt(q,q.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=i.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,_0(i,c))));break;case 19:Dr(a,i),Mr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,_0(i,f)));break;case 30:break;case 21:break;default:Dr(a,i),Mr(i)}}function Mr(i){var a=i.flags;if(a&2){try{for(var c,f=i.return;f!==null;){if(lE(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,b=x0(i);dm(i,b,y);break;case 5:var A=c.stateNode;c.flags&32&&(Qr(A,""),c.flags&=-33);var I=x0(i);dm(i,I,A);break;case 3:case 4:var q=c.stateNode.containerInfo,ee=x0(i);b0(i,ee,q);break;default:throw Error(r(161))}}catch(oe){Dt(i,i.return,oe)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function gE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;gE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ua(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)dE(i,a.alternate,a),a=a.sibling}function al(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:La(4,a,a.return),al(a);break;case 1:ei(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&aE(a,a.return,c),al(a);break;case 27:yd(a.stateNode);case 26:case 5:ei(a,a.return),al(a);break;case 22:a.memoizedState===null&&al(a);break;case 30:al(a);break;default:al(a)}i=i.sibling}}function Ba(i,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,y=i,b=a,A=b.flags;switch(b.tag){case 0:case 11:case 15:Ba(y,b,c),od(4,b);break;case 1:if(Ba(y,b,c),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ee){Dt(f,f.return,ee)}if(f=b,y=f.updateQueue,y!==null){var I=f.stateNode;try{var q=y.shared.hiddenCallbacks;if(q!==null)for(y.shared.hiddenCallbacks=null,y=0;y<q.length;y++)H_(q[y],I)}catch(ee){Dt(f,f.return,ee)}}c&&A&64&&iE(b),ld(b,b.return);break;case 27:cE(b);case 26:case 5:Ba(y,b,c),c&&f===null&&A&4&&oE(b),ld(b,b.return);break;case 12:Ba(y,b,c);break;case 13:Ba(y,b,c),c&&A&4&&mE(y,b);break;case 22:b.memoizedState===null&&Ba(y,b,c),ld(b,b.return);break;case 30:break;default:Ba(y,b,c)}a=a.sibling}}function T0(i,a){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Ku(c))}function E0(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ku(i))}function ti(i,a,c,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)yE(i,a,c,f),a=a.sibling}function yE(i,a,c,f){var y=a.flags;switch(a.tag){case 0:case 11:case 15:ti(i,a,c,f),y&2048&&od(9,a);break;case 1:ti(i,a,c,f);break;case 3:ti(i,a,c,f),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ku(i)));break;case 12:if(y&2048){ti(i,a,c,f),i=a.stateNode;try{var b=a.memoizedProps,A=b.id,I=b.onPostCommit;typeof I=="function"&&I(A,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){Dt(a,a.return,q)}}else ti(i,a,c,f);break;case 13:ti(i,a,c,f);break;case 23:break;case 22:b=a.stateNode,A=a.alternate,a.memoizedState!==null?b._visibility&2?ti(i,a,c,f):cd(i,a):b._visibility&2?ti(i,a,c,f):(b._visibility|=2,vc(i,a,c,f,(a.subtreeFlags&10256)!==0)),y&2048&&T0(A,a);break;case 24:ti(i,a,c,f),y&2048&&E0(a.alternate,a);break;default:ti(i,a,c,f)}}function vc(i,a,c,f,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=i,A=a,I=c,q=f,ee=A.flags;switch(A.tag){case 0:case 11:case 15:vc(b,A,I,q,y),od(8,A);break;case 23:break;case 22:var oe=A.stateNode;A.memoizedState!==null?oe._visibility&2?vc(b,A,I,q,y):cd(b,A):(oe._visibility|=2,vc(b,A,I,q,y)),y&&ee&2048&&T0(A.alternate,A);break;case 24:vc(b,A,I,q,y),y&&ee&2048&&E0(A.alternate,A);break;default:vc(b,A,I,q,y)}a=a.sibling}}function cd(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=i,f=a,y=f.flags;switch(f.tag){case 22:cd(c,f),y&2048&&T0(f.alternate,f);break;case 24:cd(c,f),y&2048&&E0(f.alternate,f);break;default:cd(c,f)}a=a.sibling}}var ud=8192;function xc(i){if(i.subtreeFlags&ud)for(i=i.child;i!==null;)vE(i),i=i.sibling}function vE(i){switch(i.tag){case 26:xc(i),i.flags&ud&&i.memoizedState!==null&&dV(Es,i.memoizedState,i.memoizedProps);break;case 5:xc(i);break;case 3:case 4:var a=Es;Es=Em(i.stateNode.containerInfo),xc(i),Es=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=ud,ud=16777216,xc(i),ud=a):xc(i));break;default:xc(i)}}function xE(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function dd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];Cn=f,wE(f,i)}xE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bE(i),i=i.sibling}function bE(i){switch(i.tag){case 0:case 11:case 15:dd(i),i.flags&2048&&La(9,i,i.return);break;case 3:dd(i);break;case 12:dd(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,hm(i)):dd(i);break;default:dd(i)}}function hm(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];Cn=f,wE(f,i)}xE(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:La(8,a,a.return),hm(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,hm(a));break;default:hm(a)}i=i.sibling}}function wE(i,a){for(;Cn!==null;){var c=Cn;switch(c.tag){case 0:case 11:case 15:La(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ku(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Cn=f;else e:for(c=i;Cn!==null;){f=Cn;var y=f.sibling,b=f.return;if(hE(f),f===c){Cn=null;break e}if(y!==null){y.return=b,Cn=y;break e}Cn=b}}}var R4={getCacheForType:function(i){var a=Yn(bn),c=a.data.get(i);return c===void 0&&(c=i(),a.data.set(i,c)),c}},C4=typeof WeakMap=="function"?WeakMap:Map,Et=0,Ot=null,it=null,ft=0,St=0,Or=null,$a=!1,bc=!1,S0=!1,Qi=0,Xt=0,Fa=0,ol=0,A0=0,as=0,wc=0,hd=null,xr=null,R0=!1,C0=0,fm=1/0,mm=null,za=null,Vn=0,qa=null,_c=null,Tc=0,k0=0,N0=null,_E=null,fd=0,j0=null;function Vr(){if((Et&2)!==0&&ft!==0)return ft&-ft;if(X.T!==null){var i=uc;return i!==0?i:L0()}return H()}function TE(){as===0&&(as=(ft&536870912)===0||xt?ji():536870912);var i=is.current;return i!==null&&(i.flags|=32),as}function Lr(i,a,c){(i===Ot&&(St===2||St===9)||i.cancelPendingCommit!==null)&&(Ec(i,0),Ha(i,ft,as,!1)),ws(i,c),((Et&2)===0||i!==Ot)&&(i===Ot&&((Et&2)===0&&(ol|=c),Xt===4&&Ha(i,ft,as,!1)),ni(i))}function EE(i,a,c){if((Et&6)!==0)throw Error(r(327));var f=!c&&(a&124)===0&&(a&i.expiredLanes)===0||Kr(i,a),y=f?j4(i,a):D0(i,a,!0),b=f;do{if(y===0){bc&&!f&&Ha(i,a,0,!1);break}else{if(c=i.current.alternate,b&&!k4(c)){y=D0(i,a,!1),b=!1;continue}if(y===2){if(b=a,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var I=i;y=hd;var q=I.current.memoizedState.isDehydrated;if(q&&(Ec(I,A).flags|=256),A=D0(I,A,!1),A!==2){if(S0&&!q){I.errorRecoveryDisabledLanes|=b,ol|=b,y=4;break e}b=xr,xr=y,b!==null&&(xr===null?xr=b:xr.push.apply(xr,b))}y=A}if(b=!1,y!==2)continue}}if(y===1){Ec(i,0),Ha(i,a,0,!0);break}e:{switch(f=i,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ha(f,a,as,!$a);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=C0+300-ar(),10<y)){if(Ha(f,a,as,!$a),Ni(f,0,!0)!==0)break e;f.timeoutHandle=JE(SE.bind(null,f,c,xr,mm,R0,a,as,ol,wc,$a,b,2,-0,0),y);break e}SE(f,c,xr,mm,R0,a,as,ol,wc,$a,b,0,-0,0)}}break}while(!0);ni(i)}function SE(i,a,c,f,y,b,A,I,q,ee,oe,de,te,ne){if(i.timeoutHandle=-1,de=a.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(bd={stylesheets:null,count:0,unsuspend:uV},vE(a),de=hV(),de!==null)){i.cancelPendingCommit=de(PE.bind(null,i,a,b,c,f,y,A,I,q,oe,1,te,ne)),Ha(i,b,A,!ee);return}PE(i,a,b,c,f,y,A,I,q)}function k4(i){for(var a=i;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],b=y.getSnapshot;y=y.value;try{if(!Pr(b(),y))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ha(i,a,c,f){a&=~A0,a&=~ol,i.suspendedLanes|=a,i.pingedLanes&=~a,f&&(i.warmLanes|=a),f=i.expirationTimes;for(var y=a;0<y;){var b=31-cn(y),A=1<<b;f[b]=-1,y&=~A}c!==0&&or(i,c,a)}function pm(){return(Et&6)===0?(md(0),!1):!0}function P0(){if(it!==null){if(St===0)var i=it.return;else i=it,zi=tl=null,Wy(i),gc=null,sd=0,i=it;for(;i!==null;)sE(i.alternate,i),i=i.return;it=null}}function Ec(i,a){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,K4(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),P0(),Ot=i,it=c=Bi(i.current,null),ft=a,St=0,Or=null,$a=!1,bc=Kr(i,a),S0=!1,wc=as=A0=ol=Fa=Xt=0,xr=hd=null,R0=!1,(a&8)!==0&&(a|=a&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=a;0<f;){var y=31-cn(f),b=1<<y;a|=i[y],f&=~b}return Qi=a,Vf(),c}function AE(i,a){et=null,X.H=nm,a===Wu||a===Gf?(a=z_(),St=3):a===B_?(a=z_(),St=4):St=a===qT?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Or=a,it===null&&(Xt=1,om(i,ts(a,i.current)))}function RE(){var i=X.H;return X.H=nm,i===null?nm:i}function CE(){var i=X.A;return X.A=R4,i}function I0(){Xt=4,$a||(ft&4194048)!==ft&&is.current!==null||(bc=!0),(Fa&134217727)===0&&(ol&134217727)===0||Ot===null||Ha(Ot,ft,as,!1)}function D0(i,a,c){var f=Et;Et|=2;var y=RE(),b=CE();(Ot!==i||ft!==a)&&(mm=null,Ec(i,a)),a=!1;var A=Xt;e:do try{if(St!==0&&it!==null){var I=it,q=Or;switch(St){case 8:P0(),A=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(a=!0);var ee=St;if(St=0,Or=null,Sc(i,I,q,ee),c&&bc){A=0;break e}break;default:ee=St,St=0,Or=null,Sc(i,I,q,ee)}}N4(),A=Xt;break}catch(oe){AE(i,oe)}while(!0);return a&&i.shellSuspendCounter++,zi=tl=null,Et=f,X.H=y,X.A=b,it===null&&(Ot=null,ft=0,Vf()),A}function N4(){for(;it!==null;)kE(it)}function j4(i,a){var c=Et;Et|=2;var f=RE(),y=CE();Ot!==i||ft!==a?(mm=null,fm=ar()+500,Ec(i,a)):bc=Kr(i,a);e:do try{if(St!==0&&it!==null){a=it;var b=Or;t:switch(St){case 1:St=0,Or=null,Sc(i,a,b,1);break;case 2:case 9:if($_(b)){St=0,Or=null,NE(a);break}a=function(){St!==2&&St!==9||Ot!==i||(St=7),ni(i)},b.then(a,a);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:$_(b)?(St=0,Or=null,NE(a)):(St=0,Or=null,Sc(i,a,b,7));break;case 5:var A=null;switch(it.tag){case 26:A=it.memoizedState;case 5:case 27:var I=it;if(!A||dS(A)){St=0,Or=null;var q=I.sibling;if(q!==null)it=q;else{var ee=I.return;ee!==null?(it=ee,gm(ee)):it=null}break t}}St=0,Or=null,Sc(i,a,b,5);break;case 6:St=0,Or=null,Sc(i,a,b,6);break;case 8:P0(),Xt=6;break e;default:throw Error(r(462))}}P4();break}catch(oe){AE(i,oe)}while(!0);return zi=tl=null,X.H=f,X.A=y,Et=c,it!==null?0:(Ot=null,ft=0,Vf(),Xt)}function P4(){for(;it!==null&&!Do();)kE(it)}function kE(i){var a=nE(i.alternate,i,Qi);i.memoizedProps=i.pendingProps,a===null?gm(i):it=a}function NE(i){var a=i,c=a.alternate;switch(a.tag){case 15:case 0:a=XT(c,a,a.pendingProps,a.type,void 0,ft);break;case 11:a=XT(c,a,a.pendingProps,a.type.render,a.ref,ft);break;case 5:Wy(a);default:sE(c,a),a=it=j_(a,Qi),a=nE(c,a,Qi)}i.memoizedProps=i.pendingProps,a===null?gm(i):it=a}function Sc(i,a,c,f){zi=tl=null,Wy(a),gc=null,sd=0;var y=a.return;try{if(w4(i,y,a,c,ft)){Xt=1,om(i,ts(c,i.current)),it=null;return}}catch(b){if(y!==null)throw it=y,b;Xt=1,om(i,ts(c,i.current)),it=null;return}a.flags&32768?(xt||f===1?i=!0:bc||(ft&536870912)!==0?i=!1:($a=i=!0,(f===2||f===9||f===3||f===6)&&(f=is.current,f!==null&&f.tag===13&&(f.flags|=16384))),jE(a,i)):gm(a)}function gm(i){var a=i;do{if((a.flags&32768)!==0){jE(a,$a);return}i=a.return;var c=T4(a.alternate,a,Qi);if(c!==null){it=c;return}if(a=a.sibling,a!==null){it=a;return}it=a=i}while(a!==null);Xt===0&&(Xt=5)}function jE(i,a){do{var c=E4(i.alternate,i);if(c!==null){c.flags&=32767,it=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(i=i.sibling,i!==null)){it=i;return}it=i=c}while(i!==null);Xt=6,it=null}function PE(i,a,c,f,y,b,A,I,q){i.cancelPendingCommit=null;do ym();while(Vn!==0);if((Et&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=Ey,Aa(i,c,b,A,I,q),i===Ot&&(it=Ot=null,ft=0),_c=a,qa=i,Tc=c,k0=b,N0=y,_E=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,O4(ki,function(){return VE(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=X.T,X.T=null,y=re.p,re.p=2,A=Et,Et|=4;try{S4(i,a,c)}finally{Et=A,re.p=y,X.T=f}}Vn=1,IE(),DE(),ME()}}function IE(){if(Vn===1){Vn=0;var i=qa,a=_c,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=X.T,X.T=null;var f=re.p;re.p=2;var y=Et;Et|=4;try{pE(a,i);var b=G0,A=w_(i.containerInfo),I=b.focusedElem,q=b.selectionRange;if(A!==I&&I&&I.ownerDocument&&b_(I.ownerDocument.documentElement,I)){if(q!==null&&xy(I)){var ee=q.start,oe=q.end;if(oe===void 0&&(oe=ee),"selectionStart"in I)I.selectionStart=ee,I.selectionEnd=Math.min(oe,I.value.length);else{var de=I.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var ne=te.getSelection(),$e=I.textContent.length,Oe=Math.min(q.start,$e),jt=q.end===void 0?Oe:Math.min(q.end,$e);!ne.extend&&Oe>jt&&(A=jt,jt=Oe,Oe=A);var Y=x_(I,Oe),K=x_(I,jt);if(Y&&K&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==K.node||ne.focusOffset!==K.offset)){var Z=de.createRange();Z.setStart(Y.node,Y.offset),ne.removeAllRanges(),Oe>jt?(ne.addRange(Z),ne.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),ne.addRange(Z))}}}}for(de=[],ne=I;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<de.length;I++){var le=de[I];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}km=!!H0,G0=H0=null}finally{Et=y,re.p=f,X.T=c}}i.current=a,Vn=2}}function DE(){if(Vn===2){Vn=0;var i=qa,a=_c,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=X.T,X.T=null;var f=re.p;re.p=2;var y=Et;Et|=4;try{dE(i,a.alternate,a)}finally{Et=y,re.p=f,X.T=c}}Vn=3}}function ME(){if(Vn===4||Vn===3){Vn=0,Hl();var i=qa,a=_c,c=Tc,f=_E;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Vn=5:(Vn=0,_c=qa=null,OE(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(za=null),Ra(c),a=a.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(vt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=X.T,y=re.p,re.p=2,X.T=null;try{for(var b=i.onRecoverableError,A=0;A<f.length;A++){var I=f[A];b(I.value,{componentStack:I.stack})}}finally{X.T=a,re.p=y}}(Tc&3)!==0&&ym(),ni(i),y=i.pendingLanes,(c&4194090)!==0&&(y&42)!==0?i===j0?fd++:(fd=0,j0=i):fd=0,md(0)}}function OE(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ku(a)))}function ym(i){return IE(),DE(),ME(),VE()}function VE(){if(Vn!==5)return!1;var i=qa,a=k0;k0=0;var c=Ra(Tc),f=X.T,y=re.p;try{re.p=32>c?32:c,X.T=null,c=N0,N0=null;var b=qa,A=Tc;if(Vn=0,_c=qa=null,Tc=0,(Et&6)!==0)throw Error(r(331));var I=Et;if(Et|=4,bE(b.current),yE(b,b.current,A,c),Et=I,md(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(vt,b)}catch{}return!0}finally{re.p=y,X.T=f,OE(i,a)}}function LE(i,a,c){a=ts(c,a),a=c0(i.stateNode,a,2),i=Da(i,a,2),i!==null&&(ws(i,2),ni(i))}function Dt(i,a,c){if(i.tag===3)LE(i,i,c);else for(;a!==null;){if(a.tag===3){LE(a,i,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(za===null||!za.has(f))){i=ts(c,i),c=FT(2),f=Da(a,c,2),f!==null&&(zT(c,f,a,i),ws(f,2),ni(f));break}}a=a.return}}function M0(i,a,c){var f=i.pingCache;if(f===null){f=i.pingCache=new C4;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(S0=!0,y.add(c),i=I4.bind(null,i,a,c),a.then(i,i))}function I4(i,a,c){var f=i.pingCache;f!==null&&f.delete(a),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Ot===i&&(ft&c)===c&&(Xt===4||Xt===3&&(ft&62914560)===ft&&300>ar()-C0?(Et&2)===0&&Ec(i,0):A0|=c,wc===ft&&(wc=0)),ni(i)}function UE(i,a){a===0&&(a=Oo()),i=ac(i,a),i!==null&&(ws(i,a),ni(i))}function D4(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),UE(i,c)}function M4(i,a){var c=0;switch(i.tag){case 13:var f=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),UE(i,c)}function O4(i,a){return Ci(i,a)}var vm=null,Ac=null,O0=!1,xm=!1,V0=!1,ll=0;function ni(i){i!==Ac&&i.next===null&&(Ac===null?vm=Ac=i:Ac=Ac.next=i),xm=!0,O0||(O0=!0,L4())}function md(i,a){if(!V0&&xm){V0=!0;do for(var c=!1,f=vm;f!==null;){if(i!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var A=f.suspendedLanes,I=f.pingedLanes;b=(1<<31-cn(42|i)+1)-1,b&=y&~(A&~I),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,zE(f,b))}else b=ft,b=Ni(f,f===Ot?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Kr(f,b)||(c=!0,zE(f,b));f=f.next}while(c);V0=!1}}function V4(){BE()}function BE(){xm=O0=!1;var i=0;ll!==0&&(G4()&&(i=ll),ll=0);for(var a=ar(),c=null,f=vm;f!==null;){var y=f.next,b=$E(f,a);b===0?(f.next=null,c===null?vm=y:c.next=y,y===null&&(Ac=c)):(c=f,(i!==0||(b&3)!==0)&&(xm=!0)),f=y}md(i)}function $E(i,a){for(var c=i.suspendedLanes,f=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-cn(b),I=1<<A,q=y[A];q===-1?((I&c)===0||(I&f)!==0)&&(y[A]=Sa(I,a)):q<=a&&(i.expiredLanes|=I),b&=~I}if(a=Ot,c=ft,c=Ni(i,i===a?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,c===0||i===a&&(St===2||St===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&ir(f),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Kr(i,c)){if(a=c&-c,a===i.callbackPriority)return a;switch(f!==null&&ir(f),Ra(c)){case 2:case 8:c=_a;break;case 32:c=ki;break;case 268435456:c=Hr;break;default:c=ki}return f=FE.bind(null,i),c=Ci(c,f),i.callbackPriority=a,i.callbackNode=c,a}return f!==null&&f!==null&&ir(f),i.callbackPriority=2,i.callbackNode=null,2}function FE(i,a){if(Vn!==0&&Vn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(ym()&&i.callbackNode!==c)return null;var f=ft;return f=Ni(i,i===Ot?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(EE(i,f,a),$E(i,ar()),i.callbackNode!=null&&i.callbackNode===c?FE.bind(null,i):null)}function zE(i,a){if(ym())return null;EE(i,a,!0)}function L4(){Y4(function(){(Et&6)!==0?Ci(Mo,V4):BE()})}function L0(){return ll===0&&(ll=ji()),ll}function qE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Yl(""+i)}function HE(i,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,i.id&&c.setAttribute("form",i.id),a.parentNode.insertBefore(c,a),i=new FormData(i),c.parentNode.removeChild(c),i}function U4(i,a,c,f,y){if(a==="submit"&&c&&c.stateNode===y){var b=qE((y[ge]||null).action),A=f.submitter;A&&(a=(a=A[ge]||null)?qE(a.formAction):A.getAttribute("formAction"),a!==null&&(b=a,A=null));var I=new Wl("action","action",null,f,y);i.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ll!==0){var q=A?HE(y,A):new FormData(y);s0(c,{pending:!0,data:q,method:y.method,action:b},null,q)}}else typeof b=="function"&&(I.preventDefault(),q=A?HE(y,A):new FormData(y),s0(c,{pending:!0,data:q,method:y.method,action:b},b,q))},currentTarget:y}]})}}for(var U0=0;U0<Ty.length;U0++){var B0=Ty[U0],B4=B0.toLowerCase(),$4=B0[0].toUpperCase()+B0.slice(1);Ts(B4,"on"+$4)}Ts(E_,"onAnimationEnd"),Ts(S_,"onAnimationIteration"),Ts(A_,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(s4,"onTransitionRun"),Ts(i4,"onTransitionStart"),Ts(a4,"onTransitionCancel"),Ts(R_,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pd));function GE(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],y=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var A=f.length-1;0<=A;A--){var I=f[A],q=I.instance,ee=I.currentTarget;if(I=I.listener,q!==b&&y.isPropagationStopped())break e;b=I,y.currentTarget=ee;try{b(y)}catch(oe){am(oe)}y.currentTarget=null,b=q}else for(A=0;A<f.length;A++){if(I=f[A],q=I.instance,ee=I.currentTarget,I=I.listener,q!==b&&y.isPropagationStopped())break e;b=I,y.currentTarget=ee;try{b(y)}catch(oe){am(oe)}y.currentTarget=null,b=q}}}}function at(i,a){var c=a[De];c===void 0&&(c=a[De]=new Set);var f=i+"__bubble";c.has(f)||(KE(a,i,2,!1),c.add(f))}function $0(i,a,c){var f=0;a&&(f|=4),KE(c,i,f,a)}var bm="_reactListening"+Math.random().toString(36).slice(2);function F0(i){if(!i[bm]){i[bm]=!0,nt.forEach(function(c){c!=="selectionchange"&&(F4.has(c)||$0(c,!1,i),$0(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[bm]||(a[bm]=!0,$0("selectionchange",!1,a))}}function KE(i,a,c,f){switch(yS(a)){case 2:var y=pV;break;case 8:y=gV;break;default:y=nv}c=y.bind(null,a,c,i),y=void 0,!Jr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?i.addEventListener(a,c,{capture:!0,passive:y}):i.addEventListener(a,c,!0):y!==void 0?i.addEventListener(a,c,{passive:y}):i.addEventListener(a,c,!1)}function z0(i,a,c,f,y){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var I=f.stateNode.containerInfo;if(I===y)break;if(A===4)for(A=f.return;A!==null;){var q=A.tag;if((q===3||q===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;I!==null;){if(A=Ve(I),A===null)return;if(q=A.tag,q===5||q===6||q===26||q===27){f=b=A;continue e}I=I.parentNode}}f=f.return}_f(function(){var ee=b,oe=Zr(c),de=[];e:{var te=C_.get(i);if(te!==void 0){var ne=Wl,$e=i;switch(i){case"keypress":if(Ks(c)===0)break e;case"keydown":case"keyup":ne=tc;break;case"focusin":$e="focus",ne=Zl;break;case"focusout":$e="blur",ne=Zl;break;case"beforeblur":case"afterblur":ne=Zl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=py;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Nf;break;case E_:case S_:case A_:ne=Jl;break;case R_:ne=Pf;break;case"scroll":case"scrollend":ne=Tf;break;case"wheel":ne=nc;break;case"copy":case"cut":case"paste":ne=ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Uu;break;case"toggle":case"beforetoggle":ne=Df}var Oe=(a&4)!==0,jt=!Oe&&(i==="scroll"||i==="scrollend"),Y=Oe?te!==null?te+"Capture":null:te;Oe=[];for(var K=ee,Z;K!==null;){var le=K;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||Y===null||(le=$o(K,Y),le!=null&&Oe.push(gd(K,le,Z))),jt)break;K=K.return}0<Oe.length&&(te=new ne(te,$e,null,c,oe),de.push({event:te,listeners:Oe}))}}if((a&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",te&&c!==Di&&($e=c.relatedTarget||c.fromElement)&&(Ve($e)||$e[we]))break e;if((ne||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,ne?($e=c.relatedTarget||c.toElement,ne=ee,$e=$e?Ve($e):null,$e!==null&&(jt=o($e),Oe=$e.tag,$e!==jt||Oe!==5&&Oe!==27&&Oe!==6)&&($e=null)):(ne=null,$e=ee),ne!==$e)){if(Oe=es,le="onMouseLeave",Y="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=Uu,le="onPointerLeave",Y="onPointerEnter",K="pointer"),jt=ne==null?te:wt(ne),Z=$e==null?te:wt($e),te=new Oe(le,K+"leave",ne,c,oe),te.target=jt,te.relatedTarget=Z,le=null,Ve(oe)===ee&&(Oe=new Oe(Y,K+"enter",$e,c,oe),Oe.target=Z,Oe.relatedTarget=jt,le=Oe),jt=le,ne&&$e)t:{for(Oe=ne,Y=$e,K=0,Z=Oe;Z;Z=Rc(Z))K++;for(Z=0,le=Y;le;le=Rc(le))Z++;for(;0<K-Z;)Oe=Rc(Oe),K--;for(;0<Z-K;)Y=Rc(Y),Z--;for(;K--;){if(Oe===Y||Y!==null&&Oe===Y.alternate)break t;Oe=Rc(Oe),Y=Rc(Y)}Oe=null}else Oe=null;ne!==null&&YE(de,te,ne,Oe,!1),$e!==null&&jt!==null&&YE(de,jt,$e,Oe,!0)}}e:{if(te=ee?wt(ee):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Se=f_;else if(xn(te))if(m_)Se=t4;else{Se=JO;var rt=ZO}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Pu(ee.elementType)&&(Se=f_):Se=e4;if(Se&&(Se=Se(i,ee))){Ui(de,Se,c,oe);break e}rt&&rt(i,te,ee),i==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&ka(te,"number",te.value)}switch(rt=ee?wt(ee):window,i){case"focusin":(xn(rt)||rt.contentEditable==="true")&&(rc=rt,by=ee,Fu=null);break;case"focusout":Fu=by=rc=null;break;case"mousedown":wy=!0;break;case"contextmenu":case"mouseup":case"dragend":wy=!1,__(de,c,oe);break;case"selectionchange":if(r4)break;case"keydown":case"keyup":__(de,c,oe)}var Ne;if(Xs)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else dt?se(i,c)&&(Le="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(S&&c.locale!=="ko"&&(dt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&dt&&(Ne=Du()):(Gs=oe,Na="value"in Gs?Gs.value:Gs.textContent,dt=!0)),rt=wm(ee,Le),0<rt.length&&(Le=new Vu(Le,i,null,c,oe),de.push({event:Le,listeners:rt}),Ne?Le.data=Ne:(Ne=ye(c),Ne!==null&&(Le.data=Ne)))),(Ne=_?vn(i,c):ht(i,c))&&(Le=wm(ee,"onBeforeInput"),0<Le.length&&(rt=new Vu("onBeforeInput","beforeinput",null,c,oe),de.push({event:rt,listeners:Le}),rt.data=Ne)),U4(de,i,ee,c,oe)}GE(de,a)})}function gd(i,a,c){return{instance:i,listener:a,currentTarget:c}}function wm(i,a){for(var c=a+"Capture",f=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=$o(i,c),y!=null&&f.unshift(gd(i,y,b)),y=$o(i,a),y!=null&&f.push(gd(i,y,b))),i.tag===3)return f;i=i.return}return[]}function Rc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function YE(i,a,c,f,y){for(var b=a._reactName,A=[];c!==null&&c!==f;){var I=c,q=I.alternate,ee=I.stateNode;if(I=I.tag,q!==null&&q===f)break;I!==5&&I!==26&&I!==27||ee===null||(q=ee,y?(ee=$o(c,b),ee!=null&&A.unshift(gd(c,ee,q))):y||(ee=$o(c,b),ee!=null&&A.push(gd(c,ee,q)))),c=c.return}A.length!==0&&i.push({event:a,listeners:A})}var z4=/\r\n?/g,q4=/\u0000|\uFFFD/g;function WE(i){return(typeof i=="string"?i:""+i).replace(z4,`
`).replace(q4,"")}function XE(i,a){return a=WE(a),WE(i)===a}function _m(){}function Nt(i,a,c,f,y,b){switch(c){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Qr(i,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Qr(i,""+f);break;case"className":cr(i,"class",f);break;case"tabIndex":cr(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(i,c,f);break;case"style":ju(i,f,b);break;case"data":if(a!=="object"){cr(i,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||c!=="href")){i.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Yl(""+f),i.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(a!=="input"&&Nt(i,a,"name",y.name,y,null),Nt(i,a,"formEncType",y.formEncType,y,null),Nt(i,a,"formMethod",y.formMethod,y,null),Nt(i,a,"formTarget",y.formTarget,y,null)):(Nt(i,a,"encType",y.encType,y,null),Nt(i,a,"method",y.method,y,null),Nt(i,a,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Yl(""+f),i.setAttribute(c,f);break;case"onClick":f!=null&&(i.onclick=_m);break;case"onScroll":f!=null&&at("scroll",i);break;case"onScrollEnd":f!=null&&at("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}c=Yl(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""+f):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":f===!0?i.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,f):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(c,f):i.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(c):i.setAttribute(c,f);break;case"popover":at("beforetoggle",i),at("toggle",i),Kn(i,"popover",f);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Kn(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=fy.get(c)||c,Kn(i,c,f))}}function q0(i,a,c,f,y,b){switch(c){case"style":ju(i,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof f=="string"?Qr(i,f):(typeof f=="number"||typeof f=="bigint")&&Qr(i,""+f);break;case"onScroll":f!=null&&at("scroll",i);break;case"onScrollEnd":f!=null&&at("scrollend",i);break;case"onClick":f!=null&&(i.onclick=_m);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),a=c.slice(2,y?c.length-7:void 0),b=i[ge]||null,b=b!=null?b[c]:null,typeof b=="function"&&i.removeEventListener(a,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(a,f,y);break e}c in i?i[c]=f:f===!0?i.setAttribute(c,""):Kn(i,c,f)}}}function Ln(i,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",i),at("load",i);var f=!1,y=!1,b;for(b in c)if(c.hasOwnProperty(b)){var A=c[b];if(A!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Nt(i,a,b,A,c,null)}}y&&Nt(i,a,"srcSet",c.srcSet,c,null),f&&Nt(i,a,"src",c.src,c,null);return;case"input":at("invalid",i);var I=b=A=y=null,q=null,ee=null;for(f in c)if(c.hasOwnProperty(f)){var oe=c[f];if(oe!=null)switch(f){case"name":y=oe;break;case"type":A=oe;break;case"checked":q=oe;break;case"defaultChecked":ee=oe;break;case"value":b=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,a));break;default:Nt(i,a,f,oe,c,null)}}Lo(i,b,I,q,ee,A,y,!1),Kl(i);return;case"select":at("invalid",i),f=A=b=null;for(y in c)if(c.hasOwnProperty(y)&&(I=c[y],I!=null))switch(y){case"value":b=I;break;case"defaultValue":A=I;break;case"multiple":f=I;default:Nt(i,a,y,I,c,null)}a=b,c=A,i.multiple=!!f,a!=null?Ii(i,!!f,a,!1):c!=null&&Ii(i,!!f,c,!0);return;case"textarea":at("invalid",i),b=y=f=null;for(A in c)if(c.hasOwnProperty(A)&&(I=c[A],I!=null))switch(A){case"value":f=I;break;case"defaultValue":y=I;break;case"children":b=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Nt(i,a,A,I,c,null)}Uo(i,f,y,b),Kl(i);return;case"option":for(q in c)if(c.hasOwnProperty(q)&&(f=c[q],f!=null))switch(q){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Nt(i,a,q,f,c,null)}return;case"dialog":at("beforetoggle",i),at("toggle",i),at("cancel",i),at("close",i);break;case"iframe":case"object":at("load",i);break;case"video":case"audio":for(f=0;f<pd.length;f++)at(pd[f],i);break;case"image":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"embed":case"source":case"link":at("error",i),at("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(f=c[ee],f!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Nt(i,a,ee,f,c,null)}return;default:if(Pu(a)){for(oe in c)c.hasOwnProperty(oe)&&(f=c[oe],f!==void 0&&q0(i,a,oe,f,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(f=c[I],f!=null&&Nt(i,a,I,f,c,null))}function H4(i,a,c,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,A=null,I=null,q=null,ee=null,oe=null;for(ne in c){var de=c[ne];if(c.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=de;default:f.hasOwnProperty(ne)||Nt(i,a,ne,null,f,de)}}for(var te in f){var ne=f[te];if(de=c[te],f.hasOwnProperty(te)&&(ne!=null||de!=null))switch(te){case"type":b=ne;break;case"name":y=ne;break;case"checked":ee=ne;break;case"defaultChecked":oe=ne;break;case"value":A=ne;break;case"defaultValue":I=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==de&&Nt(i,a,te,ne,f,de)}}jr(i,A,I,q,ee,oe,b,y);return;case"select":ne=A=I=te=null;for(b in c)if(q=c[b],c.hasOwnProperty(b)&&q!=null)switch(b){case"value":break;case"multiple":ne=q;default:f.hasOwnProperty(b)||Nt(i,a,b,null,f,q)}for(y in f)if(b=f[y],q=c[y],f.hasOwnProperty(y)&&(b!=null||q!=null))switch(y){case"value":te=b;break;case"defaultValue":I=b;break;case"multiple":A=b;default:b!==q&&Nt(i,a,y,b,f,q)}a=I,c=A,f=ne,te!=null?Ii(i,!!c,te,!1):!!f!=!!c&&(a!=null?Ii(i,!!c,a,!0):Ii(i,!!c,c?[]:"",!1));return;case"textarea":ne=te=null;for(I in c)if(y=c[I],c.hasOwnProperty(I)&&y!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Nt(i,a,I,null,f,y)}for(A in f)if(y=f[A],b=c[A],f.hasOwnProperty(A)&&(y!=null||b!=null))switch(A){case"value":te=y;break;case"defaultValue":ne=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&Nt(i,a,A,y,f,b)}Ct(i,te,ne);return;case"option":for(var $e in c)if(te=c[$e],c.hasOwnProperty($e)&&te!=null&&!f.hasOwnProperty($e))switch($e){case"selected":i.selected=!1;break;default:Nt(i,a,$e,null,f,te)}for(q in f)if(te=f[q],ne=c[q],f.hasOwnProperty(q)&&te!==ne&&(te!=null||ne!=null))switch(q){case"selected":i.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Nt(i,a,q,te,f,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in c)te=c[Oe],c.hasOwnProperty(Oe)&&te!=null&&!f.hasOwnProperty(Oe)&&Nt(i,a,Oe,null,f,te);for(ee in f)if(te=f[ee],ne=c[ee],f.hasOwnProperty(ee)&&te!==ne&&(te!=null||ne!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:Nt(i,a,ee,te,f,ne)}return;default:if(Pu(a)){for(var jt in c)te=c[jt],c.hasOwnProperty(jt)&&te!==void 0&&!f.hasOwnProperty(jt)&&q0(i,a,jt,void 0,f,te);for(oe in f)te=f[oe],ne=c[oe],!f.hasOwnProperty(oe)||te===ne||te===void 0&&ne===void 0||q0(i,a,oe,te,f,ne);return}}for(var Y in c)te=c[Y],c.hasOwnProperty(Y)&&te!=null&&!f.hasOwnProperty(Y)&&Nt(i,a,Y,null,f,te);for(de in f)te=f[de],ne=c[de],!f.hasOwnProperty(de)||te===ne||te==null&&ne==null||Nt(i,a,de,te,f,ne)}var H0=null,G0=null;function Tm(i){return i.nodeType===9?i:i.ownerDocument}function QE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZE(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function K0(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Y0=null;function G4(){var i=window.event;return i&&i.type==="popstate"?i===Y0?!1:(Y0=i,!0):(Y0=null,!1)}var JE=typeof setTimeout=="function"?setTimeout:void 0,K4=typeof clearTimeout=="function"?clearTimeout:void 0,eS=typeof Promise=="function"?Promise:void 0,Y4=typeof queueMicrotask=="function"?queueMicrotask:typeof eS<"u"?function(i){return eS.resolve(null).then(i).catch(W4)}:JE;function W4(i){setTimeout(function(){throw i})}function Ga(i){return i==="head"}function tS(i,a){var c=a,f=0,y=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<f&&8>f){c=f;var A=i.ownerDocument;if(c&1&&yd(A.documentElement),c&2&&yd(A.body),c&4)for(c=A.head,yd(c),A=c.firstChild;A;){var I=A.nextSibling,q=A.nodeName;A[Me]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=I}}if(y===0){i.removeChild(b),Sd(a);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:f=c.charCodeAt(0)-48;else f=0;c=b}while(c);Sd(a)}function W0(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":W0(c),Ce(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function X4(i,a,c,f){for(;i.nodeType===1;){var y=c;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Me])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ss(i.nextSibling),i===null)break}return null}function Q4(i,a,c){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Ss(i.nextSibling),i===null))return null;return i}function X0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Z4(i,a){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")a();else{var f=function(){a(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Ss(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Q0=null;function nS(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}function rS(i,a,c){switch(a=Tm(c),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function yd(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ce(i)}var os=new Map,sS=new Set;function Em(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Zi=re.d;re.d={f:J4,r:eV,D:tV,C:nV,L:rV,m:sV,X:aV,S:iV,M:oV};function J4(){var i=Zi.f(),a=pm();return i||a}function eV(i){var a=st(i);a!==null&&a.tag===5&&a.type==="form"?ET(a):Zi.r(i)}var Cc=typeof document>"u"?null:document;function iS(i,a,c){var f=Cc;if(f&&typeof a=="string"&&a){var y=dn(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),sS.has(y)||(sS.add(y),i={rel:i,crossOrigin:c,href:a},f.querySelector(y)===null&&(a=f.createElement("link"),Ln(a,"link",i),ut(a),f.head.appendChild(a)))}}function tV(i){Zi.D(i),iS("dns-prefetch",i,null)}function nV(i,a){Zi.C(i,a),iS("preconnect",i,a)}function rV(i,a,c){Zi.L(i,a,c);var f=Cc;if(f&&i&&a){var y='link[rel="preload"][as="'+dn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+dn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+dn(c.imageSizes)+'"]')):y+='[href="'+dn(i)+'"]';var b=y;switch(a){case"style":b=kc(i);break;case"script":b=Nc(i)}os.has(b)||(i=p({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:i,as:a},c),os.set(b,i),f.querySelector(y)!==null||a==="style"&&f.querySelector(vd(b))||a==="script"&&f.querySelector(xd(b))||(a=f.createElement("link"),Ln(a,"link",i),ut(a),f.head.appendChild(a)))}}function sV(i,a){Zi.m(i,a);var c=Cc;if(c&&i){var f=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+dn(f)+'"][href="'+dn(i)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Nc(i)}if(!os.has(b)&&(i=p({rel:"modulepreload",href:i},a),os.set(b,i),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(xd(b)))return}f=c.createElement("link"),Ln(f,"link",i),ut(f),c.head.appendChild(f)}}}function iV(i,a,c){Zi.S(i,a,c);var f=Cc;if(f&&i){var y=pt(f).hoistableStyles,b=kc(i);a=a||"default";var A=y.get(b);if(!A){var I={loading:0,preload:null};if(A=f.querySelector(vd(b)))I.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},c),(c=os.get(b))&&Z0(i,c);var q=A=f.createElement("link");ut(q),Ln(q,"link",i),q._p=new Promise(function(ee,oe){q.onload=ee,q.onerror=oe}),q.addEventListener("load",function(){I.loading|=1}),q.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Sm(A,a,f)}A={type:"stylesheet",instance:A,count:1,state:I},y.set(b,A)}}}function aV(i,a){Zi.X(i,a);var c=Cc;if(c&&i){var f=pt(c).hoistableScripts,y=Nc(i),b=f.get(y);b||(b=c.querySelector(xd(y)),b||(i=p({src:i,async:!0},a),(a=os.get(y))&&J0(i,a),b=c.createElement("script"),ut(b),Ln(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function oV(i,a){Zi.M(i,a);var c=Cc;if(c&&i){var f=pt(c).hoistableScripts,y=Nc(i),b=f.get(y);b||(b=c.querySelector(xd(y)),b||(i=p({src:i,async:!0,type:"module"},a),(a=os.get(y))&&J0(i,a),b=c.createElement("script"),ut(b),Ln(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function aS(i,a,c,f){var y=(y=Pe.current)?Em(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=kc(c.href),c=pt(y).hoistableStyles,f=c.get(a),f||(f={type:"style",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=kc(c.href);var b=pt(y).hoistableStyles,A=b.get(i);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=y.querySelector(vd(i)))&&!b._p&&(A.instance=b,A.state.loading=5),os.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},os.set(i,c),b||lV(y,i,c,A.state))),a&&f===null)throw Error(r(528,""));return A}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Nc(c),c=pt(y).hoistableScripts,f=c.get(a),f||(f={type:"script",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function kc(i){return'href="'+dn(i)+'"'}function vd(i){return'link[rel="stylesheet"]['+i+"]"}function oS(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function lV(i,a,c,f){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=i.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Ln(a,"link",c),ut(a),i.head.appendChild(a))}function Nc(i){return'[src="'+dn(i)+'"]'}function xd(i){return"script[async]"+i}function lS(i,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var f=i.querySelector('style[data-href~="'+dn(c.href)+'"]');if(f)return a.instance=f,ut(f),f;var y=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),ut(f),Ln(f,"style",y),Sm(f,c.precedence,i),a.instance=f;case"stylesheet":y=kc(c.href);var b=i.querySelector(vd(y));if(b)return a.state.loading|=4,a.instance=b,ut(b),b;f=oS(c),(y=os.get(y))&&Z0(f,y),b=(i.ownerDocument||i).createElement("link"),ut(b);var A=b;return A._p=new Promise(function(I,q){A.onload=I,A.onerror=q}),Ln(b,"link",f),a.state.loading|=4,Sm(b,c.precedence,i),a.instance=b;case"script":return b=Nc(c.src),(y=i.querySelector(xd(b)))?(a.instance=y,ut(y),y):(f=c,(y=os.get(b))&&(f=p({},c),J0(f,y)),i=i.ownerDocument||i,y=i.createElement("script"),ut(y),Ln(y,"link",f),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Sm(f,c.precedence,i));return a.instance}function Sm(i,a,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,A=0;A<f.length;A++){var I=f[A];if(I.dataset.precedence===a)b=I;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(i,a.firstChild))}function Z0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function J0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Am=null;function cS(i,a,c){if(Am===null){var f=new Map,y=Am=new Map;y.set(c,f)}else y=Am,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(i))return f;for(f.set(i,null),c=c.getElementsByTagName(i),y=0;y<c.length;y++){var b=c[y];if(!(b[Me]||b[ue]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(a)||"";A=i+A;var I=f.get(A);I?I.push(b):f.set(A,[b])}}return f}function uS(i,a,c){i=i.ownerDocument||i,i.head.insertBefore(c,a==="title"?i.querySelector("head > title"):null)}function cV(i,a,c){if(c===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function dS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var bd=null;function uV(){}function dV(i,a,c){if(bd===null)throw Error(r(475));var f=bd;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=kc(c.href),b=i.querySelector(vd(y));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Rm.bind(f),i.then(f,f)),a.state.loading|=4,a.instance=b,ut(b);return}b=i.ownerDocument||i,c=oS(c),(y=os.get(y))&&Z0(c,y),b=b.createElement("link"),ut(b);var A=b;A._p=new Promise(function(I,q){A.onload=I,A.onerror=q}),Ln(b,"link",c),a.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=Rm.bind(f),i.addEventListener("load",a),i.addEventListener("error",a))}}function hV(){if(bd===null)throw Error(r(475));var i=bd;return i.stylesheets&&i.count===0&&ev(i,i.stylesheets),0<i.count?function(a){var c=setTimeout(function(){if(i.stylesheets&&ev(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(c)}}:null}function Rm(){if(this.count--,this.count===0){if(this.stylesheets)ev(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cm=null;function ev(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cm=new Map,a.forEach(fV,i),Cm=null,Rm.call(i))}function fV(i,a){if(!(a.state.loading&4)){var c=Cm.get(i);if(c)var f=c.get(null);else{c=new Map,Cm.set(i,c);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var A=y[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),f=A)}f&&c.set(null,f)}y=a.instance,A=y.getAttribute("data-precedence"),b=c.get(A)||f,b===f&&c.set(null,y),c.set(A,y),this.count++,f=Rm.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var wd={$$typeof:j,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function mV(i,a,c,f,y,b,A,I){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function hS(i,a,c,f,y,b,A,I,q,ee,oe,de){return i=new mV(i,a,c,A,I,q,ee,de),a=1,b===!0&&(a|=24),b=Ir(3,null,null,a),i.current=b,b.stateNode=i,a=My(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:c,cache:a},Uy(b),i}function fS(i){return i?(i=oc,i):oc}function mS(i,a,c,f,y,b){y=fS(y),f.context===null?f.context=y:f.pendingContext=y,f=Ia(a),f.payload={element:c},b=b===void 0?null:b,b!==null&&(f.callback=b),c=Da(i,f,a),c!==null&&(Lr(c,i,a),Qu(c,i,a))}function pS(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function tv(i,a){pS(i,a),(i=i.alternate)&&pS(i,a)}function gS(i){if(i.tag===13){var a=ac(i,67108864);a!==null&&Lr(a,i,67108864),tv(i,67108864)}}var km=!0;function pV(i,a,c,f){var y=X.T;X.T=null;var b=re.p;try{re.p=2,nv(i,a,c,f)}finally{re.p=b,X.T=y}}function gV(i,a,c,f){var y=X.T;X.T=null;var b=re.p;try{re.p=8,nv(i,a,c,f)}finally{re.p=b,X.T=y}}function nv(i,a,c,f){if(km){var y=rv(f);if(y===null)z0(i,a,f,Nm,c),vS(i,f);else if(vV(y,i,a,c,f))f.stopPropagation();else if(vS(i,f),a&4&&-1<yV.indexOf(i)){for(;y!==null;){var b=st(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Cr(b.pendingLanes);if(A!==0){var I=b;for(I.pendingLanes|=2,I.entangledLanes|=2;A;){var q=1<<31-cn(A);I.entanglements[1]|=q,A&=~q}ni(b),(Et&6)===0&&(fm=ar()+500,md(0))}}break;case 13:I=ac(b,2),I!==null&&Lr(I,b,2),pm(),tv(b,2)}if(b=rv(f),b===null&&z0(i,a,f,Nm,c),b===y)break;y=b}y!==null&&f.stopPropagation()}else z0(i,a,f,null,c)}}function rv(i){return i=Zr(i),sv(i)}var Nm=null;function sv(i){if(Nm=null,i=Ve(i),i!==null){var a=o(i);if(a===null)i=null;else{var c=a.tag;if(c===13){if(i=l(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Nm=i,null}function yS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cu()){case Mo:return 2;case _a:return 8;case ki:case bs:return 32;case Hr:return 268435456;default:return 32}default:return 32}}var iv=!1,Ka=null,Ya=null,Wa=null,_d=new Map,Td=new Map,Xa=[],yV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vS(i,a){switch(i){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":_d.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Td.delete(a.pointerId)}}function Ed(i,a,c,f,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},a!==null&&(a=st(a),a!==null&&gS(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function vV(i,a,c,f,y){switch(a){case"focusin":return Ka=Ed(Ka,i,a,c,f,y),!0;case"dragenter":return Ya=Ed(Ya,i,a,c,f,y),!0;case"mouseover":return Wa=Ed(Wa,i,a,c,f,y),!0;case"pointerover":var b=y.pointerId;return _d.set(b,Ed(_d.get(b)||null,i,a,c,f,y)),!0;case"gotpointercapture":return b=y.pointerId,Td.set(b,Ed(Td.get(b)||null,i,a,c,f,y)),!0}return!1}function xS(i){var a=Ve(i.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){i.blockedOn=a,W(i.priority,function(){if(c.tag===13){var f=Vr();f=Fs(f);var y=ac(c,f);y!==null&&Lr(y,c,f),tv(c,f)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function jm(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=rv(i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);Di=f,c.target.dispatchEvent(f),Di=null}else return a=st(c),a!==null&&gS(a),i.blockedOn=c,!1;a.shift()}return!0}function bS(i,a,c){jm(i)&&c.delete(a)}function xV(){iv=!1,Ka!==null&&jm(Ka)&&(Ka=null),Ya!==null&&jm(Ya)&&(Ya=null),Wa!==null&&jm(Wa)&&(Wa=null),_d.forEach(bS),Td.forEach(bS)}function Pm(i,a){i.blockedOn===a&&(i.blockedOn=null,iv||(iv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xV)))}var Im=null;function wS(i){Im!==i&&(Im=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Im===i&&(Im=null);for(var a=0;a<i.length;a+=3){var c=i[a],f=i[a+1],y=i[a+2];if(typeof f!="function"){if(sv(f||c)===null)continue;break}var b=st(c);b!==null&&(i.splice(a,3),a-=3,s0(b,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function Sd(i){function a(q){return Pm(q,i)}Ka!==null&&Pm(Ka,i),Ya!==null&&Pm(Ya,i),Wa!==null&&Pm(Wa,i),_d.forEach(a),Td.forEach(a);for(var c=0;c<Xa.length;c++){var f=Xa[c];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Xa.length&&(c=Xa[0],c.blockedOn===null);)xS(c),c.blockedOn===null&&Xa.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],b=c[f+1],A=y[ge]||null;if(typeof b=="function")A||wS(c);else if(A){var I=null;if(b&&b.hasAttribute("formAction")){if(y=b,A=b[ge]||null)I=A.formAction;else if(sv(y)!==null)continue}else I=A.action;typeof I=="function"?c[f+1]=I:(c.splice(f,3),f-=3),wS(c)}}}function av(i){this._internalRoot=i}Dm.prototype.render=av.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var c=a.current,f=Vr();mS(c,f,i,a,null,null)},Dm.prototype.unmount=av.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;mS(i.current,2,null,i,null,null),pm(),a[we]=null}};function Dm(i){this._internalRoot=i}Dm.prototype.unstable_scheduleHydration=function(i){if(i){var a=H();i={blockedOn:null,target:i,priority:a};for(var c=0;c<Xa.length&&a!==0&&a<Xa[c].priority;c++);Xa.splice(c,0,i),c===0&&xS(i)}};var _S=e.version;if(_S!=="19.1.0")throw Error(r(527,_S,"19.1.0"));re.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var bV={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mm.isDisabled&&Mm.supportsFiber)try{vt=Mm.inject(bV),Je=Mm}catch{}}return Rd.createRoot=function(i,a){if(!s(i))throw Error(r(299));var c=!1,f="",y=LT,b=UT,A=BT,I=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks)),a=hS(i,1,!1,null,null,c,f,y,b,A,I,null),i[we]=a.current,F0(i),new av(a)},Rd.hydrateRoot=function(i,a,c){if(!s(i))throw Error(r(299));var f=!1,y="",b=LT,A=UT,I=BT,q=null,ee=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(q=c.unstable_transitionCallbacks),c.formState!==void 0&&(ee=c.formState)),a=hS(i,1,!0,a,c??null,f,y,b,A,I,q,ee),a.context=fS(null),c=a.current,f=Vr(),f=Fs(f),y=Ia(f),y.callback=null,Da(c,y,f),c=f,a.current.lanes=c,ws(a,c),ni(a),i[we]=a.current,F0(i),new Dm(a)},Rd.version="19.1.0",Rd}var PS;function NV(){if(PS)return cv.exports;PS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cv.exports=kV(),cv.exports}var jV=NV(),Cd={},IS;function PV(){if(IS)return Cd;IS=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.parse=l,Cd.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,w){const T=new o,E=x.length;if(E<2)return T;const R=(w==null?void 0:w.decode)||p;let C=0;do{const L=x.indexOf("=",C);if(L===-1)break;const j=x.indexOf(";",C),U=j===-1?E:j;if(L>U){C=x.lastIndexOf(";",L-1)+1;continue}const M=u(x,C,L),V=d(x,L,M),P=x.slice(M,V);if(T[P]===void 0){let N=u(x,L+1,U),D=d(x,U,N);const B=R(x.slice(N,D));T[P]=B}C=U+1}while(C<E);return T}function u(x,w,T){do{const E=x.charCodeAt(w);if(E!==32&&E!==9)return w}while(++w<T);return T}function d(x,w,T){for(;w>T;){const E=x.charCodeAt(--w);if(E!==32&&E!==9)return w+1}return T}function h(x,w,T){const E=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const R=E(w);if(!e.test(R))throw new TypeError(`argument val is invalid: ${w}`);let C=x+"="+R;if(!T)return C;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);C+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);C+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);C+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);C+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(C+="; HttpOnly"),T.secure&&(C+="; Secure"),T.partitioned&&(C+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return C}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return s.call(x)==="[object Date]"}return Cd}PV();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bk=t=>{throw TypeError(t)},IV=(t,e,n)=>e.has(t)||Bk("Cannot "+n),fv=(t,e,n)=>(IV(t,e,"read from private field"),n?n.call(t):e.get(t)),DV=(t,e,n)=>e.has(t)?Bk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),DS="popstate";function MV(t={}){function e(r,s){let{pathname:o,search:l,hash:u}=r.location;return uh("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:po(s)}return VV(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OV(){return Math.random().toString(36).substring(2,10)}function MS(t,e){return{usr:t.state,key:t.key,idx:e}}function uh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:n,key:e&&e.key||r||OV()}}function po({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function VV(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function v(){u="POP";let R=p(),C=R==null?null:R-h;h=R,d&&d({action:u,location:E.location,delta:C})}function x(R,C){u="PUSH";let L=uh(E.location,R,C);h=p()+1;let j=MS(L,h),U=E.createHref(L);try{l.pushState(j,"",U)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(U)}o&&d&&d({action:u,location:E.location,delta:1})}function w(R,C){u="REPLACE";let L=uh(E.location,R,C);h=p();let j=MS(L,h),U=E.createHref(L);l.replaceState(j,"",U),o&&d&&d({action:u,location:E.location,delta:0})}function T(R){return $k(R)}let E={get action(){return u},get location(){return t(s,l)},listen(R){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(DS,v),d=R,()=>{s.removeEventListener(DS,v),d=null}},createHref(R){return e(s,R)},createURL:T,encodeLocation(R){let C=T(R);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:w,go(R){return l.go(R)}};return E}function $k(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:po(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Vd,OS=class{constructor(t){if(DV(this,Vd,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(fv(this,Vd).has(t))return fv(this,Vd).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){fv(this,Vd).set(t,e)}};Vd=new WeakMap;var LV=new Set(["lazy","caseSensitive","path","id","index","children"]);function UV(t){return LV.has(t)}var BV=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function $V(t){return BV.has(t)}function FV(t){return t.index===!0}function Ap(t,e,n=[],r={}){return t.map((s,o)=>{let l=[...n,String(o)],u=typeof s.id=="string"?s.id:l.join("-");if(Qe(s.index!==!0||!s.children,"Cannot specify children on an index route"),Qe(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),FV(s)){let d={...s,...e(s),id:u};return r[u]=d,d}else{let d={...s,...e(s),id:u,children:void 0};return r[u]=d,s.children&&(d.children=Ap(s.children,e,l,r)),d}})}function ro(t,e,n="/"){return ep(t,e,n,!1)}function ep(t,e,n,r){let s=typeof e=="string"?Co(e):e,o=gs(s.pathname||"/",n);if(o==null)return null;let l=Fk(t);qV(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=tL(o);u=JV(l[d],h,r)}return u}function zV(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function Fk(t,e=[],n=[],r=""){let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Qe(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=ii([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(Qe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Fk(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:QV(h,o.index),routesMeta:p})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let d of zk(o.path))s(o,l,d)}),e}function zk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=zk(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function qV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var HV=/^:[\w-]+$/,GV=3,KV=2,YV=1,WV=10,XV=-2,VS=t=>t==="*";function QV(t,e){let n=t.split("/"),r=n.length;return n.some(VS)&&(r+=XV),e&&(r+=KV),n.filter(s=>!VS(s)).reduce((s,o)=>s+(HV.test(o)?GV:o===""?YV:WV),r)}function ZV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function JV(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",v=Rp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),x=d.route;if(!v&&h&&n&&!r[r.length-1].route.index&&(v=Rp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:ii([o,v.pathname]),pathnameBase:sL(ii([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=ii([o,v.pathnameBase]))}return l}function Rp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:v},x)=>{if(p==="*"){let T=u[x]||"";l=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const w=u[x];return v&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function eL(t,e=!1,n=!0){sn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function tL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nL(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Co(t):t;return{pathname:n?n.startsWith("/")?n:rL(n,e):e,search:iL(r),hash:aL(s)}}function rL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mg(t){let e=qk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function pg(t,e,n,r=!1){let s;typeof t=="string"?s=Co(t):(s={...t},Qe(!s.pathname||!s.pathname.includes("?"),mv("?","pathname","search",s)),Qe(!s.pathname||!s.pathname.includes("#"),mv("#","pathname","hash",s)),Qe(!s.search||!s.search.includes("#"),mv("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;s.pathname=x.join("/")}u=v>=0?e[v]:"/"}let d=nL(s,u),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var ii=t=>t.join("/").replace(/\/\/+/g,"/"),sL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Cp=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function dh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Hk=["POST","PUT","PATCH","DELETE"],oL=new Set(Hk),lL=["GET",...Hk],cL=new Set(lL),uL=new Set([301,302,303,307,308]),dL=new Set([307,308]),pv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fL=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Gk="remix-router-transitions",Kk=Symbol("ResetLoaderData");function mL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Qe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],s=t.mapRouteProperties||fL,o={},l=Ap(t.routes,s,void 0,o),u,d=t.basename||"/",h=t.dataStrategy||xL,p={unstable_middleware:!1,...t.future},v=null,x=new Set,w=null,T=null,E=null,R=t.hydrationData!=null,C=ro(l,t.history.location,d),L=!1,j=null,U;if(C==null&&!t.patchRoutesOnNavigation){let H=hs(404,{pathname:t.history.location.pathname}),{matches:W,route:J}=WS(l);U=!0,C=W,j={[J.id]:H}}else if(C&&!t.hydrationData&&or(C,l,t.history.location.pathname).active&&(C=null),C)if(C.some(H=>H.route.lazy))U=!1;else if(!C.some(H=>H.route.loader))U=!0;else{let H=t.hydrationData?t.hydrationData.loaderData:null,W=t.hydrationData?t.hydrationData.errors:null;if(W){let J=C.findIndex(ue=>W[ue.route.id]!==void 0);U=C.slice(0,J+1).every(ue=>!ix(ue.route,H,W))}else U=C.every(J=>!ix(J.route,H,W))}else{U=!1,C=[];let H=or(null,l,t.history.location.pathname);H.active&&H.matches&&(L=!0,C=H.matches)}let M,V={historyAction:t.history.action,location:t.history.location,matches:C,initialized:U,navigation:pv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},P="POP",N=!1,D,B=!1,$=new Map,G=null,F=!1,be=!1,ve=new Set,X=new Map,re=0,me=-1,Ae=new Map,z=new Set,ae=new Map,pe=new Map,fe=new Set,Ee=new Map,Ge,Pe=null;function ln(){if(v=t.history.listen(({action:H,location:W,delta:J})=>{if(Ge){Ge(),Ge=void 0;return}sn(Ee.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=Sa({currentLocation:V.location,nextLocation:W,historyAction:H});if(ue&&J!=null){let ge=new Promise(we=>{Ge=we});t.history.go(J*-1),Kr(ue,{state:"blocked",location:W,proceed(){Kr(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),ge.then(()=>t.history.go(J))},reset(){let we=new Map(V.blockers);we.set(ue,kd),Bt({blockers:we})}});return}return ir(H,W)}),n){NL(e,$);let H=()=>jL(e,$);e.addEventListener("pagehide",H),G=()=>e.removeEventListener("pagehide",H)}return V.initialized||ir("POP",V.location,{initialHydration:!0}),M}function Rt(){v&&v(),G&&G(),x.clear(),D&&D.abort(),V.fetchers.forEach((H,W)=>cn(W)),V.blockers.forEach((H,W)=>Ni(W))}function qr(H){return x.add(H),()=>x.delete(H)}function Bt(H,W={}){V={...V,...H};let J=[],ue=[];V.fetchers.forEach((ge,we)=>{ge.state==="idle"&&(fe.has(we)?J.push(we):ue.push(we))}),fe.forEach(ge=>{!V.fetchers.has(ge)&&!X.has(ge)&&J.push(ge)}),[...x].forEach(ge=>ge(V,{deletedFetchers:J,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),J.forEach(ge=>cn(ge)),ue.forEach(ge=>V.fetchers.delete(ge))}function Hn(H,W,{flushSync:J}={}){var ke,Me;let ue=V.actionData!=null&&V.navigation.formMethod!=null&&Br(V.navigation.formMethod)&&V.navigation.state==="loading"&&((ke=H.state)==null?void 0:ke._isRedirect)!==!0,ge;W.actionData?Object.keys(W.actionData).length>0?ge=W.actionData:ge=null:ue?ge=V.actionData:ge=null;let we=W.loaderData?KS(V.loaderData,W.loaderData,W.matches||[],W.errors):V.loaderData,De=V.blockers;De.size>0&&(De=new Map(De),De.forEach((Ce,Ve)=>De.set(Ve,kd)));let Te=N===!0||V.navigation.formMethod!=null&&Br(V.navigation.formMethod)&&((Me=H.state)==null?void 0:Me._isRedirect)!==!0;u&&(l=u,u=void 0),F||P==="POP"||(P==="PUSH"?t.history.push(H,H.state):P==="REPLACE"&&t.history.replace(H,H.state));let Re;if(P==="POP"){let Ce=$.get(V.location.pathname);Ce&&Ce.has(H.pathname)?Re={currentLocation:V.location,nextLocation:H}:$.has(H.pathname)&&(Re={currentLocation:H,nextLocation:V.location})}else if(B){let Ce=$.get(V.location.pathname);Ce?Ce.add(H.pathname):(Ce=new Set([H.pathname]),$.set(V.location.pathname,Ce)),Re={currentLocation:V.location,nextLocation:H}}Bt({...W,actionData:ge,loaderData:we,historyAction:P,location:H,initialized:!0,navigation:pv,revalidation:"idle",restoreScrollPosition:Aa(H,W.matches||V.matches),preventScrollReset:Te,blockers:De},{viewTransitionOpts:Re,flushSync:J===!0}),P="POP",N=!1,B=!1,F=!1,be=!1,Pe==null||Pe.resolve(),Pe=null}async function Vs(H,W){if(typeof H=="number"){t.history.go(H);return}let J=sx(V.location,V.matches,d,H,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:ue,submission:ge,error:we}=LS(!1,J,W),De=V.location,Te=uh(V.location,ue,W&&W.state);Te={...Te,...t.history.encodeLocation(Te)};let Re=W&&W.replace!=null?W.replace:void 0,ke="PUSH";Re===!0?ke="REPLACE":Re===!1||ge!=null&&Br(ge.formMethod)&&ge.formAction===V.location.pathname+V.location.search&&(ke="REPLACE");let Me=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Ce=(W&&W.flushSync)===!0,Ve=Sa({currentLocation:De,nextLocation:Te,historyAction:ke});if(Ve){Kr(Ve,{state:"blocked",location:Te,proceed(){Kr(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),Vs(H,W)},reset(){let st=new Map(V.blockers);st.set(Ve,kd),Bt({blockers:st})}});return}await ir(ke,Te,{submission:ge,pendingError:we,preventScrollReset:Me,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:Ce})}function Ci(){Pe||(Pe=PL()),Ea(),Bt({revalidation:"loading"});let H=Pe.promise;return V.navigation.state==="submitting"?H:V.navigation.state==="idle"?(ir(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),H):(ir(P||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:B===!0}),H)}async function ir(H,W,J){D&&D.abort(),D=null,P=H,F=(J&&J.startUninterruptedRevalidation)===!0,ws(V.location,V.matches),N=(J&&J.preventScrollReset)===!0,B=(J&&J.enableViewTransition)===!0;let ue=u||l,ge=J&&J.overrideNavigation,we=J!=null&&J.initialHydration&&V.matches&&V.matches.length>0&&!L?V.matches:ro(ue,W,d),De=(J&&J.flushSync)===!0;if(we&&V.initialized&&!be&&SL(V.location,W)&&!(J&&J.submission&&Br(J.submission.formMethod))){Hn(W,{matches:we},{flushSync:De});return}let Te=or(we,ue,W.pathname);if(Te.active&&Te.matches&&(we=Te.matches),!we){let{error:pt,notFoundMatches:ut,route:nt}=ji(W.pathname);Hn(W,{matches:ut,loaderData:{},errors:{[nt.id]:pt}},{flushSync:De});return}D=new AbortController;let Re=Ic(t.history,W,D.signal,J&&J.submission),ke=new OS(t.unstable_getContext?await t.unstable_getContext():void 0),Me;if(J&&J.pendingError)Me=[pl(we).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Br(J.submission.formMethod)){let pt=await Do(Re,W,J.submission,we,ke,Te.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:De});if(pt.shortCircuited)return;if(pt.pendingActionResult){let[ut,nt]=pt.pendingActionResult;if(Ur(nt)&&dh(nt.error)&&nt.error.status===404){D=null,Hn(W,{matches:pt.matches,loaderData:{},errors:{[ut]:nt.error}});return}}we=pt.matches||we,Me=pt.pendingActionResult,ge=gv(W,J.submission),De=!1,Te.active=!1,Re=Ic(t.history,Re.url,Re.signal)}let{shortCircuited:Ce,matches:Ve,loaderData:st,errors:wt}=await Hl(Re,W,we,ke,Te.active,ge,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,De,Me);Ce||(D=null,Hn(W,{matches:Ve||we,...YS(Me),loaderData:st,errors:wt}))}async function Do(H,W,J,ue,ge,we,De,Te={}){Ea();let Re=CL(W,J);if(Bt({navigation:Re},{flushSync:Te.flushSync===!0}),we){let Ce=await $s(ue,W.pathname,H.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let Ve=pl(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[Ve,{type:"error",error:Ce.error}]}}else if(Ce.matches)ue=Ce.matches;else{let{notFoundMatches:Ve,error:st,route:wt}=ji(W.pathname);return{matches:Ve,pendingActionResult:[wt.id,{type:"error",error:st}]}}}let ke,Me=Ld(ue,W);if(!Me.route.action&&!Me.route.lazy)ke={type:"error",error:hs(405,{method:H.method,pathname:W.pathname,routeId:Me.route.id})};else{let Ce=Wc(s,o,H,ue,Me,De?[]:r,ge),Ve=await Hr(H,Ce,ge,null);if(ke=Ve[Me.route.id],!ke){for(let st of ue)if(Ve[st.route.id]){ke=Ve[st.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(gl(ke)){let Ce;return Te&&Te.replace!=null?Ce=Te.replace:Ce=qS(ke.response.headers.get("Location"),new URL(H.url),d)===V.location.pathname+V.location.search,await bs(H,ke,!0,{submission:J,replace:Ce}),{shortCircuited:!0}}if(Ur(ke)){let Ce=pl(ue,Me.route.id);return(Te&&Te.replace)!==!0&&(P="PUSH"),{matches:ue,pendingActionResult:[Ce.route.id,ke,Me.route.id]}}return{matches:ue,pendingActionResult:[Me.route.id,ke]}}async function Hl(H,W,J,ue,ge,we,De,Te,Re,ke,Me,Ce){let Ve=we||gv(W,De),st=De||Te||QS(Ve),wt=!F&&!ke;if(ge){if(wt){let un=ar(Ce);Bt({navigation:Ve,...un!==void 0?{actionData:un}:{}},{flushSync:Me})}let qe=await $s(J,W.pathname,H.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let un=pl(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[un]:qe.error}}}else if(qe.matches)J=qe.matches;else{let{error:un,notFoundMatches:Nr,route:gr}=ji(W.pathname);return{matches:Nr,loaderData:{},errors:{[gr.id]:un}}}}let pt=u||l,{dsMatches:ut,revalidatingFetchers:nt}=US(H,ue,s,o,t.history,V,J,st,W,ke?[]:r,ke===!0,be,ve,fe,ae,z,pt,d,t.patchRoutesOnNavigation!=null,Ce);if(me=++re,!t.dataStrategy&&!ut.some(qe=>qe.shouldLoad)&&nt.length===0){let qe=Us();return Hn(W,{matches:J,loaderData:{},errors:Ce&&Ur(Ce[1])?{[Ce[0]]:Ce[1].error}:null,...YS(Ce),...qe?{fetchers:new Map(V.fetchers)}:{}},{flushSync:Me}),{shortCircuited:!0}}if(wt){let qe={};if(!ge){qe.navigation=Ve;let un=ar(Ce);un!==void 0&&(qe.actionData=un)}nt.length>0&&(qe.fetchers=Cu(nt)),Bt(qe,{flushSync:Me})}nt.forEach(qe=>{Gr(qe.key),qe.controller&&X.set(qe.key,qe.controller)});let Wr=()=>nt.forEach(qe=>Gr(qe.key));D&&D.signal.addEventListener("abort",Wr);let{loaderResults:yn,fetcherResults:lr}=await Ta(ut,nt,H,ue);if(H.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Wr),nt.forEach(qe=>X.delete(qe.key));let In=Om(yn);if(In)return await bs(H,In.result,!0,{replace:Re}),{shortCircuited:!0};if(In=Om(lr),In)return z.add(In.key),await bs(H,In.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:zs,errors:kr}=GS(V,J,yn,Ce,nt,lr);ke&&V.errors&&(kr={...V.errors,...kr});let Ca=Us(),Kn=Bs(me),cr=Ca||Kn||nt.length>0;return{matches:J,loaderData:zs,errors:kr,...cr?{fetchers:new Map(V.fetchers)}:{}}}function ar(H){if(H&&!Ur(H[1]))return{[H[0]]:H[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function Cu(H){return H.forEach(W=>{let J=V.fetchers.get(W.key),ue=Nd(void 0,J?J.data:void 0);V.fetchers.set(W.key,ue)}),new Map(V.fetchers)}async function Mo(H,W,J,ue){Gr(H);let ge=(ue&&ue.flushSync)===!0,we=u||l,De=sx(V.location,V.matches,d,J,W,ue==null?void 0:ue.relative),Te=ro(we,De,d),Re=or(Te,we,De);if(Re.active&&Re.matches&&(Te=Re.matches),!Te){Je(H,W,hs(404,{pathname:De}),{flushSync:ge});return}let{path:ke,submission:Me,error:Ce}=LS(!0,De,ue);if(Ce){Je(H,W,Ce,{flushSync:ge});return}let Ve=Ld(Te,ke),st=new OS(t.unstable_getContext?await t.unstable_getContext():void 0),wt=(ue&&ue.preventScrollReset)===!0;if(Me&&Br(Me.formMethod)){await _a(H,W,ke,Ve,Te,st,Re.active,ge,wt,Me);return}ae.set(H,{routeId:W,path:ke}),await ki(H,W,ke,Ve,Te,st,Re.active,ge,wt,Me)}async function _a(H,W,J,ue,ge,we,De,Te,Re,ke){Ea(),ae.delete(H);function Me(It){if(!It.route.action&&!It.route.lazy){let Xr=hs(405,{method:ke.formMethod,pathname:J,routeId:W});return Je(H,W,Xr,{flushSync:Te}),!0}return!1}if(!De&&Me(ue))return;let Ce=V.fetchers.get(H);vt(H,kL(ke,Ce),{flushSync:Te});let Ve=new AbortController,st=Ic(t.history,J,Ve.signal,ke);if(De){let It=await $s(ge,J,st.signal,H);if(It.type==="aborted")return;if(It.type==="error"){Je(H,W,It.error,{flushSync:Te});return}else if(It.matches){if(ge=It.matches,ue=Ld(ge,J),Me(ue))return}else{Je(H,W,hs(404,{pathname:J}),{flushSync:Te});return}}X.set(H,Ve);let wt=re,pt=Wc(s,o,st,ge,ue,r,we),nt=(await Hr(st,pt,we,H))[ue.route.id];if(st.signal.aborted){X.get(H)===Ve&&X.delete(H);return}if(fe.has(H)){if(gl(nt)||Ur(nt)){vt(H,eo(void 0));return}}else{if(gl(nt))if(X.delete(H),me>wt){vt(H,eo(void 0));return}else return z.add(H),vt(H,Nd(ke)),bs(st,nt,!1,{fetcherSubmission:ke,preventScrollReset:Re});if(Ur(nt)){Je(H,W,nt.error);return}}let Wr=V.navigation.location||V.location,yn=Ic(t.history,Wr,Ve.signal),lr=u||l,In=V.navigation.state!=="idle"?ro(lr,V.navigation.location,d):V.matches;Qe(In,"Didn't find any matches after fetcher action");let zs=++re;Ae.set(H,zs);let kr=Nd(ke,nt.data);V.fetchers.set(H,kr);let{dsMatches:Ca,revalidatingFetchers:Kn}=US(yn,we,s,o,t.history,V,In,ke,Wr,r,!1,be,ve,fe,ae,z,lr,d,t.patchRoutesOnNavigation!=null,[ue.route.id,nt]);Kn.filter(It=>It.key!==H).forEach(It=>{let Xr=It.key,Pi=V.fetchers.get(Xr),Dn=Nd(void 0,Pi?Pi.data:void 0);V.fetchers.set(Xr,Dn),Gr(Xr),It.controller&&X.set(Xr,It.controller)}),Bt({fetchers:new Map(V.fetchers)});let cr=()=>Kn.forEach(It=>Gr(It.key));Ve.signal.addEventListener("abort",cr);let{loaderResults:qe,fetcherResults:un}=await Ta(Ca,Kn,yn,we);if(Ve.signal.aborted)return;if(Ve.signal.removeEventListener("abort",cr),Ae.delete(H),X.delete(H),Kn.forEach(It=>X.delete(It.key)),V.fetchers.has(H)){let It=eo(nt.data);V.fetchers.set(H,It)}let Nr=Om(qe);if(Nr)return bs(yn,Nr.result,!1,{preventScrollReset:Re});if(Nr=Om(un),Nr)return z.add(Nr.key),bs(yn,Nr.result,!1,{preventScrollReset:Re});let{loaderData:gr,errors:qs}=GS(V,In,qe,void 0,Kn,un);Bs(zs),V.navigation.state==="loading"&&zs>me?(Qe(P,"Expected pending action"),D&&D.abort(),Hn(V.navigation.location,{matches:In,loaderData:gr,errors:qs,fetchers:new Map(V.fetchers)})):(Bt({errors:qs,loaderData:KS(V.loaderData,gr,In,qs),fetchers:new Map(V.fetchers)}),be=!1)}async function ki(H,W,J,ue,ge,we,De,Te,Re,ke){let Me=V.fetchers.get(H);vt(H,Nd(ke,Me?Me.data:void 0),{flushSync:Te});let Ce=new AbortController,Ve=Ic(t.history,J,Ce.signal);if(De){let nt=await $s(ge,J,Ve.signal,H);if(nt.type==="aborted")return;if(nt.type==="error"){Je(H,W,nt.error,{flushSync:Te});return}else if(nt.matches)ge=nt.matches,ue=Ld(ge,J);else{Je(H,W,hs(404,{pathname:J}),{flushSync:Te});return}}X.set(H,Ce);let st=re,wt=Wc(s,o,Ve,ge,ue,r,we),ut=(await Hr(Ve,wt,we,H))[ue.route.id];if(X.get(H)===Ce&&X.delete(H),!Ve.signal.aborted){if(fe.has(H)){vt(H,eo(void 0));return}if(gl(ut))if(me>st){vt(H,eo(void 0));return}else{z.add(H),await bs(Ve,ut,!1,{preventScrollReset:Re});return}if(Ur(ut)){Je(H,W,ut.error);return}vt(H,eo(ut.data))}}async function bs(H,W,J,{submission:ue,fetcherSubmission:ge,preventScrollReset:we,replace:De}={}){W.response.headers.has("X-Remix-Revalidate")&&(be=!0);let Te=W.response.headers.get("Location");Qe(Te,"Expected a Location header on the redirect Response"),Te=qS(Te,new URL(H.url),d);let Re=uh(V.location,Te,{_isRedirect:!0});if(n){let wt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))wt=!0;else if(Pb.test(Te)){const pt=$k(Te,!0);wt=pt.origin!==e.location.origin||gs(pt.pathname,d)==null}if(wt){De?e.location.replace(Te):e.location.assign(Te);return}}D=null;let ke=De===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Me,formAction:Ce,formEncType:Ve}=V.navigation;!ue&&!ge&&Me&&Ce&&Ve&&(ue=QS(V.navigation));let st=ue||ge;if(dL.has(W.response.status)&&st&&Br(st.formMethod))await ir(ke,Re,{submission:{...st,formAction:Te},preventScrollReset:we||N,enableViewTransition:J?B:void 0});else{let wt=gv(Re,ue);await ir(ke,Re,{overrideNavigation:wt,fetcherSubmission:ge,preventScrollReset:we||N,enableViewTransition:J?B:void 0})}}async function Hr(H,W,J,ue){let ge,we={};try{ge=await bL(h,H,W,ue,J,!1)}catch(De){return W.filter(Te=>Te.shouldLoad).forEach(Te=>{we[Te.route.id]={type:"error",error:De}}),we}if(H.signal.aborted)return we;for(let[De,Te]of Object.entries(ge))if(AL(Te)){let Re=Te.result;we[De]={type:"redirect",response:TL(Re,H,De,W,d)}}else we[De]=await _L(Te);return we}async function Ta(H,W,J,ue){let ge=Hr(J,H,ue,null),we=Promise.all(W.map(async Re=>{if(Re.matches&&Re.match&&Re.request&&Re.controller){let Me=(await Hr(Re.request,Re.matches,ue,Re.key))[Re.match.route.id];return{[Re.key]:Me}}else return Promise.resolve({[Re.key]:{type:"error",error:hs(404,{pathname:Re.path})}})})),De=await ge,Te=(await we).reduce((Re,ke)=>Object.assign(Re,ke),{});return{loaderResults:De,fetcherResults:Te}}function Ea(){be=!0,ae.forEach((H,W)=>{X.has(W)&&ve.add(W),Gr(W)})}function vt(H,W,J={}){V.fetchers.set(H,W),Bt({fetchers:new Map(V.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function Je(H,W,J,ue={}){let ge=pl(V.matches,W);cn(H),Bt({errors:{[ge.route.id]:J},fetchers:new Map(V.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function Gn(H){return pe.set(H,(pe.get(H)||0)+1),fe.has(H)&&fe.delete(H),V.fetchers.get(H)||hL}function cn(H){let W=V.fetchers.get(H);X.has(H)&&!(W&&W.state==="loading"&&Ae.has(H))&&Gr(H),ae.delete(H),Ae.delete(H),z.delete(H),fe.delete(H),ve.delete(H),V.fetchers.delete(H)}function Gl(H){let W=(pe.get(H)||0)-1;W<=0?(pe.delete(H),fe.add(H)):pe.set(H,W),Bt({fetchers:new Map(V.fetchers)})}function Gr(H){let W=X.get(H);W&&(W.abort(),X.delete(H))}function Ls(H){for(let W of H){let J=Gn(W),ue=eo(J.data);V.fetchers.set(W,ue)}}function Us(){let H=[],W=!1;for(let J of z){let ue=V.fetchers.get(J);Qe(ue,`Expected fetcher: ${J}`),ue.state==="loading"&&(z.delete(J),H.push(J),W=!0)}return Ls(H),W}function Bs(H){let W=[];for(let[J,ue]of Ae)if(ue<H){let ge=V.fetchers.get(J);Qe(ge,`Expected fetcher: ${J}`),ge.state==="loading"&&(Gr(J),Ae.delete(J),W.push(J))}return Ls(W),W.length>0}function Cr(H,W){let J=V.blockers.get(H)||kd;return Ee.get(H)!==W&&Ee.set(H,W),J}function Ni(H){V.blockers.delete(H),Ee.delete(H)}function Kr(H,W){let J=V.blockers.get(H)||kd;Qe(J.state==="unblocked"&&W.state==="blocked"||J.state==="blocked"&&W.state==="blocked"||J.state==="blocked"&&W.state==="proceeding"||J.state==="blocked"&&W.state==="unblocked"||J.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${W.state}`);let ue=new Map(V.blockers);ue.set(H,W),Bt({blockers:ue})}function Sa({currentLocation:H,nextLocation:W,historyAction:J}){if(Ee.size===0)return;Ee.size>1&&sn(!1,"A router only supports one blocker at a time");let ue=Array.from(Ee.entries()),[ge,we]=ue[ue.length-1],De=V.blockers.get(ge);if(!(De&&De.state==="proceeding")&&we({currentLocation:H,nextLocation:W,historyAction:J}))return ge}function ji(H){let W=hs(404,{pathname:H}),J=u||l,{matches:ue,route:ge}=WS(J);return{notFoundMatches:ue,route:ge,error:W}}function Oo(H,W,J){if(w=H,E=W,T=J||null,!R&&V.navigation===pv){R=!0;let ue=Aa(V.location,V.matches);ue!=null&&Bt({restoreScrollPosition:ue})}return()=>{w=null,E=null,T=null}}function Yr(H,W){return T&&T(H,W.map(ue=>zV(ue,V.loaderData)))||H.key}function ws(H,W){if(w&&E){let J=Yr(H,W);w[J]=E()}}function Aa(H,W){if(w){let J=Yr(H,W),ue=w[J];if(typeof ue=="number")return ue}return null}function or(H,W,J){if(t.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:ep(W,J,d,!0)}}else return{active:!0,matches:ep(W,J,d,!0)||[]};return{active:!1,matches:null}}async function $s(H,W,J,ue){if(!t.patchRoutesOnNavigation)return{type:"success",matches:H};let ge=H;for(;;){let we=u==null,De=u||l,Te=o;try{await t.patchRoutesOnNavigation({signal:J,path:W,matches:ge,fetcherKey:ue,patch:(Me,Ce)=>{J.aborted||BS(Me,Ce,De,Te,s)}})}catch(Me){return{type:"error",error:Me,partialMatches:ge}}finally{we&&!J.aborted&&(l=[...l])}if(J.aborted)return{type:"aborted"};let Re=ro(De,W,d);if(Re)return{type:"success",matches:Re};let ke=ep(De,W,d,!0);if(!ke||ge.length===ke.length&&ge.every((Me,Ce)=>Me.route.id===ke[Ce].route.id))return{type:"success",matches:null};ge=ke}}function Fs(H){o={},u=Ap(H,s,void 0,o)}function Ra(H,W){let J=u==null;BS(H,W,u||l,o,s),J&&(l=[...l],Bt({}))}return M={get basename(){return d},get future(){return p},get state(){return V},get routes(){return l},get window(){return e},initialize:ln,subscribe:qr,enableScrollRestoration:Oo,navigate:Vs,fetch:Mo,revalidate:Ci,createHref:H=>t.history.createHref(H),encodeLocation:H=>t.history.encodeLocation(H),getFetcher:Gn,deleteFetcher:Gl,dispose:Rt,getBlocker:Cr,deleteBlocker:Ni,patchRoutes:Ra,_internalFetchControllers:X,_internalSetRoutes:Fs},M}function pL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function sx(t,e,n,r,s,o){let l,u;if(s){l=[];for(let h of e)if(l.push(h),h.route.id===s){u=h;break}}else l=e,u=e[e.length-1];let d=pg(r||".",mg(l),gs(t.pathname,n)||t.pathname,o==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&u){let h=Ib(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(d.search),v=p.getAll("index");p.delete("index"),v.filter(w=>w).forEach(w=>p.append("index",w));let x=p.toString();d.search=x?`?${x}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:ii([n,d.pathname])),po(d)}function LS(t,e,n){if(!n||!pL(n))return{path:e};if(n.formMethod&&!RL(n.formMethod))return{path:e,error:hs(405,{method:n.formMethod})};let r=()=>({path:e,error:hs(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=Jk(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Br(o))return r();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[w,T])=>`${x}${w}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!Br(o))return r();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let u,d;if(n.formData)u=ox(n.formData),d=n.formData;else if(n.body instanceof FormData)u=ox(n.body),d=n.body;else if(n.body instanceof URLSearchParams)u=n.body,d=HS(u);else if(n.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(n.body),d=HS(u)}catch{return r()}let h={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Br(h.formMethod))return{path:e,submission:h};let p=Co(e);return t&&p.search&&Ib(p.search)&&u.append("index",""),p.search=`?${u}`,{path:po(p),submission:h}}function US(t,e,n,r,s,o,l,u,d,h,p,v,x,w,T,E,R,C,L,j){var F;let U=j?Ur(j[1])?j[1].error:j[1].data:void 0,M=s.createURL(o.location),V=s.createURL(d),P;if(p&&o.errors){let be=Object.keys(o.errors)[0];P=l.findIndex(ve=>ve.route.id===be)}else if(j&&Ur(j[1])){let be=j[0];P=l.findIndex(ve=>ve.route.id===be)-1}let N=j?j[1].statusCode:void 0,D=N&&N>=400,B={currentUrl:M,currentParams:((F=o.matches[0])==null?void 0:F.params)||{},nextUrl:V,nextParams:l[0].params,...u,actionResult:U,actionStatus:N},$=l.map((be,ve)=>{let{route:X}=be,re=null;if(P!=null&&ve>P?re=!1:X.lazy?re=!0:X.loader==null?re=!1:p?re=ix(X,o.loaderData,o.errors):gL(o.loaderData,o.matches[ve],be)&&(re=!0),re!==null)return ax(n,r,t,be,h,e,re);let me=D?!1:v||M.pathname+M.search===V.pathname+V.search||M.search!==V.search||yL(o.matches[ve],be),Ae={...B,defaultShouldRevalidate:me},z=kp(be,Ae);return ax(n,r,t,be,h,e,z,Ae)}),G=[];return T.forEach((be,ve)=>{if(p||!l.some(fe=>fe.route.id===be.routeId)||w.has(ve))return;let X=o.fetchers.get(ve),re=X&&X.state!=="idle"&&X.data===void 0,me=ro(R,be.path,C);if(!me){if(L&&re)return;G.push({key:ve,routeId:be.routeId,path:be.path,matches:null,match:null,request:null,controller:null});return}if(E.has(ve))return;let Ae=Ld(me,be.path),z=new AbortController,ae=Ic(s,be.path,z.signal),pe=null;if(x.has(ve))x.delete(ve),pe=Wc(n,r,ae,me,Ae,h,e);else if(re)v&&(pe=Wc(n,r,ae,me,Ae,h,e));else{let fe={...B,defaultShouldRevalidate:D?!1:v};kp(Ae,fe)&&(pe=Wc(n,r,ae,me,Ae,h,e,fe))}pe&&G.push({key:ve,routeId:be.routeId,path:be.path,matches:pe,match:Ae,request:ae,controller:z})}),{dsMatches:$,revalidatingFetchers:G}}function ix(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function gL(t,e,n){let r=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return r||s}function yL(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function kp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function BS(t,e,n,r,s){let o;if(t){let d=r[t];Qe(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let l=e.filter(d=>!o.some(h=>Yk(d,h))),u=Ap(l,s,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...u)}function Yk(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var s;return(s=e.children)==null?void 0:s.some(o=>Yk(n,o))}):!1}var $S=new WeakMap,Wk=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let s=n[e.id];if(Qe(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[t];if(!o)return;let l=$S.get(s);l||(l={},$S.set(s,l));let u=l[t];if(u)return u;let d=(async()=>{let h=UV(t),v=s[t]!==void 0&&t!=="hasErrorBoundary";if(h)sn(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(v)sn(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let x=await o();x!=null&&(Object.assign(s,{[t]:x}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(x=>x===void 0)&&(s.lazy=void 0))})();return l[t]=d,d},FS=new WeakMap;function vL(t,e,n,r,s){let o=n[t.id];if(Qe(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=FS.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let v=(async()=>{Qe(typeof t.lazy=="function","No lazy route function found");let x=await t.lazy(),w={};for(let T in x){let E=x[T];if(E===void 0)continue;let R=$V(T),L=o[T]!==void 0&&T!=="hasErrorBoundary";R?sn(!R,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):L?sn(!L,`Route "${o.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):w[T]=E}Object.assign(o,w),Object.assign(o,{...r(o),lazy:void 0})})();return FS.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let l=Object.keys(t.lazy),u=[],d;for(let p of l){if(s&&s.includes(p))continue;let v=Wk({key:p,route:t,manifest:n,mapRouteProperties:r});v&&(u.push(v),p===e&&(d=v))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h==null||h.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:d}}async function zS(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{n[e[o].route.id]=s}),n}async function xL(t){return t.matches.some(e=>e.route.unstable_middleware)?Xk(t,!1,()=>zS(t),(e,n)=>({[n]:{type:"error",result:e}})):zS(t)}async function Xk(t,e,n,r){let{matches:s,request:o,params:l,context:u}=t,d={handlerResult:void 0};try{let h=s.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(x=>[v.route.id,x]):[]),p=await Qk({request:o,params:l,context:u},h,e,d,n);return e?p:d.handlerResult}catch(h){if(!d.middlewareError)throw h;let p=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,p):p}}async function Qk(t,e,n,r,s,o=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let u=e[o];if(!u)return r.handlerResult=await s(),r.handlerResult;let[d,h]=u,p=!1,v,x=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await Qk(t,e,n,r,s,o+1)};try{let w=await h({request:t.request,params:t.params,context:t.context},x);return p?w===void 0?v:w:x()}catch(w){throw r.middlewareError?r.middlewareError.error!==w&&(r.middlewareError={routeId:d,error:w}):r.middlewareError={routeId:d,error:w},w}}function Zk(t,e,n,r,s){let o=Wk({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=vL(r.route,Br(n.method)?"action":"loader",e,t,s);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function ax(t,e,n,r,s,o,l,u=null){let d=!1,h=Zk(t,e,n,r,s);return{...r,_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(p){return d=!0,u?typeof p=="boolean"?kp(r,{...u,defaultShouldRevalidate:p}):kp(r,u):l},resolve(p){return d||l||p&&n.method==="GET"&&(r.route.lazy||r.route.loader)?wL({request:n,match:r,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Wc(t,e,n,r,s,o,l,u=null){return r.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:Zk(t,e,n,d,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ax(t,e,n,d,o,l,!0,u))}async function bL(t,e,n,r,s,o){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&await Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware}));let l={request:e,params:n[0].params,context:s,matches:n},d=await t({...l,fetcherKey:r,unstable_runClientMiddleware:h=>{let p=l;return Xk(p,!1,()=>h({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,x)=>({[x]:{type:"error",result:v}}))}});try{await Promise.all(n.flatMap(h=>{var p,v;return[(p=h._lazyPromises)==null?void 0:p.handler,(v=h._lazyPromises)==null?void 0:v.route]}))}catch{}return d}async function wL({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:s,scopedContext:o}){let l,u,d=Br(t.method),h=d?"action":"loader",p=v=>{let x,w=new Promise((R,C)=>x=C);u=()=>x(),t.signal.addEventListener("abort",u);let T=R=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):v({request:t,params:e.params,context:o},...R!==void 0?[R]:[]),E=(async()=>{try{return{type:"data",result:await(s?s(C=>T(C)):T())}}catch(R){return{type:"error",result:R}}})();return Promise.race([E,w])};try{let v=d?e.route.action:e.route.loader;if(n||r)if(v){let x,[w]=await Promise.all([p(v).catch(T=>{x=T}),n,r]);if(x!==void 0)throw x;l=w}else{await n;let x=d?e.route.action:e.route.loader;if(x)[l]=await Promise.all([p(x),r]);else if(h==="action"){let w=new URL(t.url),T=w.pathname+w.search;throw hs(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(v)l=await p(v);else{let x=new URL(t.url),w=x.pathname+x.search;throw hs(404,{pathname:w})}}catch(v){return{type:"error",result:v}}finally{u&&t.signal.removeEventListener("abort",u)}return l}async function _L(t){var r,s,o,l,u,d;let{result:e,type:n}=t;if(eN(e)){let h;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new Cp(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}return n==="error"?XS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Cp(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:dh(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:dh(e)?e.status:void 0}:XS(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function TL(t,e,n,r,s){let o=t.headers.get("Location");if(Qe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Pb.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=sx(new URL(e.url),l,s,o),t.headers.set("Location",o)}return t}function qS(t,e,n){if(Pb.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=gs(s.pathname,n)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return t}function Ic(t,e,n,r){let s=t.createURL(Jk(e)).toString(),o={signal:n};if(r&&Br(r.formMethod)){let{formMethod:l,formEncType:u}=r;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=ox(r.formData):o.body=r.formData}return new Request(s,o)}function ox(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function HS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function EL(t,e,n,r=!1,s=!1){let o={},l=null,u,d=!1,h={},p=n&&Ur(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let x=v.route.id,w=e[x];if(Qe(!gl(w),"Cannot handle redirect results in processLoaderData"),Ur(w)){let T=w.error;if(p!==void 0&&(T=p,p=void 0),l=l||{},s)l[x]=T;else{let E=pl(t,x);l[E.route.id]==null&&(l[E.route.id]=T)}r||(o[x]=Kk),d||(d=!0,u=dh(w.error)?w.error.status:500),w.headers&&(h[x]=w.headers)}else o[x]=w.data,w.statusCode&&w.statusCode!==200&&!d&&(u=w.statusCode),w.headers&&(h[x]=w.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:h}}function GS(t,e,n,r,s,o){let{loaderData:l,errors:u}=EL(e,n,r);return s.filter(d=>!d.matches||d.matches.some(h=>h.shouldLoad)).forEach(d=>{let{key:h,match:p,controller:v}=d,x=o[h];if(Qe(x,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Ur(x)){let w=pl(t.matches,p==null?void 0:p.route.id);u&&u[w.route.id]||(u={...u,[w.route.id]:x.error}),t.fetchers.delete(h)}else if(gl(x))Qe(!1,"Unhandled fetcher revalidation redirect");else{let w=eo(x.data);t.fetchers.set(h,w)}}),{loaderData:l,errors:u}}function KS(t,e,n,r){let s=Object.entries(e).filter(([,o])=>o!==Kk).reduce((o,[l,u])=>(o[l]=u,o),{});for(let o of n){let l=o.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&o.route.loader&&(s[l]=t[l]),r&&r.hasOwnProperty(l))break}return s}function YS(t){return t?Ur(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function pl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function WS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hs(t,{pathname:e,routeId:n,method:r,type:s,message:o}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",u=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new Cp(t||500,l,new Error(u),!0)}function Om(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(gl(s))return{key:r,result:s}}}function Jk(t){let e=typeof t=="string"?Co(t):t;return po({...e,hash:""})}function SL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function AL(t){return eN(t.result)&&uL.has(t.result.status)}function Ur(t){return t.type==="error"}function gl(t){return(t&&t.type)==="redirect"}function XS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function eN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function RL(t){return cL.has(t.toUpperCase())}function Br(t){return oL.has(t.toUpperCase())}function Ib(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ld(t,e){let n=typeof e=="string"?Co(e).search:e.search;if(t[t.length-1].route.index&&Ib(n||""))return t[t.length-1];let r=qk(t);return r[r.length-1]}function QS(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:o,json:l}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function gv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function CL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Nd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function eo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function NL(t,e){try{let n=t.sessionStorage.getItem(Gk);if(n){let r=JSON.parse(n);for(let[s,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function jL(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(Gk,JSON.stringify(n))}catch(r){sn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function PL(){let t,e,n=new Promise((r,s)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{s(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Ml=k.createContext(null);Ml.displayName="DataRouter";var Fh=k.createContext(null);Fh.displayName="DataRouterState";var Db=k.createContext({isTransitioning:!1});Db.displayName="ViewTransition";var tN=k.createContext(new Map);tN.displayName="Fetchers";var IL=k.createContext(null);IL.displayName="Await";var Ms=k.createContext(null);Ms.displayName="Navigation";var gg=k.createContext(null);gg.displayName="Location";var ys=k.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var Mb=k.createContext(null);Mb.displayName="RouteError";function DL(t,{relative:e}={}){Qe(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Ms),{hash:s,pathname:o,search:l}=qh(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:ii([n,o])),r.createHref({pathname:u,search:l,hash:s})}function du(){return k.useContext(gg)!=null}function ma(){return Qe(du(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(gg).location}var nN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rN(t){k.useContext(Ms).static||k.useLayoutEffect(t)}function qn(){let{isDataRoute:t}=k.useContext(ys);return t?WL():ML()}function ML(){Qe(du(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Ml),{basename:e,navigator:n}=k.useContext(Ms),{matches:r}=k.useContext(ys),{pathname:s}=ma(),o=JSON.stringify(mg(r)),l=k.useRef(!1);return rN(()=>{l.current=!0}),k.useCallback((d,h={})=>{if(sn(l.current,nN),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=pg(d,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ii([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,s,t])}var OL=k.createContext(null);function VL(t){let e=k.useContext(ys).outlet;return e&&k.createElement(OL.Provider,{value:t},e)}function zh(){let{matches:t}=k.useContext(ys),e=t[t.length-1];return e?e.params:{}}function qh(t,{relative:e}={}){let{matches:n}=k.useContext(ys),{pathname:r}=ma(),s=JSON.stringify(mg(n));return k.useMemo(()=>pg(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function LL(t,e,n,r){Qe(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(Ms),{matches:o}=k.useContext(ys),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let C=p&&p.path||"";sN(d,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=ma(),x;x=v;let w=x.pathname||"/",T=w;if(h!=="/"){let C=h.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=ro(t,{pathname:T});return sn(p||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),sn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),zL(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:ii([h,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:ii([h,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r)}function UL(){let t=YL(),e=dh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,l)}var BL=k.createElement(UL,null),$L=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(ys.Provider,{value:this.props.routeContext},k.createElement(Mb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FL({routeContext:t,match:e,children:n}){let r=k.useContext(Ml);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ys.Provider,{value:t},n)}function zL(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Qe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:v}=n,x=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,p)=>{let v,x=!1,w=null,T=null;n&&(v=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||BL,l&&(u<0&&p===0?(sN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,T=null):u===p&&(x=!0,T=h.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,p+1)),R=()=>{let C;return v?C=w:x?C=T:h.route.Component?C=k.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,k.createElement(FL,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?k.createElement($L,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:R(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):R()},null)}function Ob(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qL(t){let e=k.useContext(Ml);return Qe(e,Ob(t)),e}function HL(t){let e=k.useContext(Fh);return Qe(e,Ob(t)),e}function GL(t){let e=k.useContext(ys);return Qe(e,Ob(t)),e}function Vb(t){let e=GL(t),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function KL(){return Vb("useRouteId")}function YL(){var r;let t=k.useContext(Mb),e=HL("useRouteError"),n=Vb("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function WL(){let{router:t}=qL("useNavigate"),e=Vb("useNavigate"),n=k.useRef(!1);return rN(()=>{n.current=!0}),k.useCallback(async(s,o={})=>{sn(n.current,nN),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var ZS={};function sN(t,e,n){!e&&!ZS[t]&&(ZS[t]=!0,sn(!1,n))}var JS={};function eA(t,e){!t&&!JS[e]&&(JS[e]=!0,console.warn(e))}function XL(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&sn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:k.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&sn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&sn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var QL=["HydrateFallback","hydrateFallbackElement"],ZL=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function JL({router:t,flushSync:e}){let[n,r]=k.useState(t.state),[s,o]=k.useState(),[l,u]=k.useState({isTransitioning:!1}),[d,h]=k.useState(),[p,v]=k.useState(),[x,w]=k.useState(),T=k.useRef(new Map),E=k.useCallback((j,{deletedFetchers:U,flushSync:M,viewTransitionOpts:V})=>{j.fetchers.forEach((N,D)=>{N.data!==void 0&&T.current.set(D,N.data)}),U.forEach(N=>T.current.delete(N)),eA(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(eA(V==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!P){e&&M?e(()=>r(j)):k.startTransition(()=>r(j));return}if(e&&M){e(()=>{p&&(d&&d.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let N=t.window.document.startViewTransition(()=>{e(()=>r(j))});N.finished.finally(()=>{e(()=>{h(void 0),v(void 0),o(void 0),u({isTransitioning:!1})})}),e(()=>v(N));return}p?(d&&d.resolve(),p.skipTransition(),w({state:j,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(o(j),u({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[t.window,e,p,d]);k.useLayoutEffect(()=>t.subscribe(E),[t,E]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new ZL)},[l]),k.useEffect(()=>{if(d&&s&&t.window){let j=s,U=d.promise,M=t.window.document.startViewTransition(async()=>{k.startTransition(()=>r(j)),await U});M.finished.finally(()=>{h(void 0),v(void 0),o(void 0),u({isTransitioning:!1})}),v(M)}},[s,d,t.window]),k.useEffect(()=>{d&&s&&n.location.key===s.location.key&&d.resolve()},[d,p,n.location,s]),k.useEffect(()=>{!l.isTransitioning&&x&&(o(x.state),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),w(void 0))},[l.isTransitioning,x]);let R=k.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:j=>t.navigate(j),push:(j,U,M)=>t.navigate(j,{state:U,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(j,U,M)=>t.navigate(j,{replace:!0,state:U,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[t]),C=t.basename||"/",L=k.useMemo(()=>({router:t,navigator:R,static:!1,basename:C}),[t,R,C]);return k.createElement(k.Fragment,null,k.createElement(Ml.Provider,{value:L},k.createElement(Fh.Provider,{value:n},k.createElement(tN.Provider,{value:T.current},k.createElement(Db.Provider,{value:l},k.createElement(n3,{basename:C,location:n.location,navigationType:n.historyAction,navigator:R},k.createElement(e3,{routes:t.routes,future:t.future,state:n})))))),null)}var e3=k.memo(t3);function t3({routes:t,future:e,state:n}){return LL(t,void 0,n,e)}function tp({to:t,replace:e,state:n,relative:r}){Qe(du(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(Ms);sn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=k.useContext(ys),{pathname:l}=ma(),u=qn(),d=pg(t,mg(o),l,r==="path"),h=JSON.stringify(d);return k.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function Lb(t){return VL(t.context)}function ot(t){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n3({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){Qe(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=Co(n));let{pathname:d="/",search:h="",hash:p="",state:v=null,key:x="default"}=n,w=k.useMemo(()=>{let T=gs(d,l);return T==null?null:{location:{pathname:T,search:h,hash:p,state:v,key:x},navigationType:r}},[l,d,h,p,v,x,r]);return sn(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(Ms.Provider,{value:u},k.createElement(gg.Provider,{children:e,value:w}))}function lx(t,e=[]){let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let o=[...e,s];if(r.type===k.Fragment){n.push.apply(n,lx(r.props.children,o));return}Qe(r.type===ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=lx(r.props.children,o)),n.push(l)}),n}var r3=lx,np="get",rp="application/x-www-form-urlencoded";function yg(t){return t!=null&&typeof t.tagName=="string"}function s3(t){return yg(t)&&t.tagName.toLowerCase()==="button"}function i3(t){return yg(t)&&t.tagName.toLowerCase()==="form"}function a3(t){return yg(t)&&t.tagName.toLowerCase()==="input"}function o3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function l3(t,e){return t.button===0&&(!e||e==="_self")&&!o3(t)}var Vm=null;function c3(){if(Vm===null)try{new FormData(document.createElement("form"),0),Vm=!1}catch{Vm=!0}return Vm}var u3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yv(t){return t!=null&&!u3.has(t)?(sn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rp}"`),null):t}function d3(t,e){let n,r,s,o,l;if(i3(t)){let u=t.getAttribute("action");r=u?gs(u,e):null,n=t.getAttribute("method")||np,s=yv(t.getAttribute("enctype"))||rp,o=new FormData(t)}else if(s3(t)||a3(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?gs(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||np,s=yv(t.getAttribute("formenctype"))||yv(u.getAttribute("enctype"))||rp,o=new FormData(u,t),!c3()){let{name:h,type:p,value:v}=t;if(p==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,v)}}else{if(yg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=np,r=null,s=rp,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}function Ub(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function h3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function m3(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await h3(o,n);return l.links?l.links():[]}return[]}));return v3(r.flat(1).filter(f3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function tA(t,e,n,r,s,o){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>{var p;return n[h].pathname!==d.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):o==="data"?e.filter((d,h)=>{var v;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function p3(t,e,{includeHydrateFallback:n}={}){return g3(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function g3(t){return[...new Set(t)]}function y3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function v3(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(y3(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var x3=new Set([100,101,204,205]);function b3(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&gs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function iN(){let t=k.useContext(Ml);return Ub(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function w3(){let t=k.useContext(Fh);return Ub(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Bb=k.createContext(void 0);Bb.displayName="FrameworkContext";function aN(){let t=k.useContext(Bb);return Ub(t,"You must render this element inside a <HydratedRouter> element"),t}function _3(t,e){let n=k.useContext(Bb),[r,s]=k.useState(!1),[o,l]=k.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:v}=e,x=k.useRef(null);k.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=C=>{C.forEach(L=>{l(L.isIntersecting)})},R=new IntersectionObserver(E,{threshold:.5});return x.current&&R.observe(x.current),()=>{R.disconnect()}}},[t]),k.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let w=()=>{s(!0)},T=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:jd(u,w),onBlur:jd(d,T),onMouseEnter:jd(h,w),onMouseLeave:jd(p,T),onTouchStart:jd(v,w)}]:[!1,x,{}]}function jd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function T3({page:t,...e}){let{router:n}=iN(),r=k.useMemo(()=>ro(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(S3,{page:t,matches:r,...e}):null}function E3(t){let{manifest:e,routeModules:n}=aN(),[r,s]=k.useState([]);return k.useEffect(()=>{let o=!1;return m3(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),r}function S3({page:t,matches:e,...n}){let r=ma(),{manifest:s,routeModules:o}=aN(),{basename:l}=iN(),{loaderData:u,matches:d}=w3(),h=k.useMemo(()=>tA(t,e,d,s,r,"data"),[t,e,d,s,r]),p=k.useMemo(()=>tA(t,e,d,s,r,"assets"),[t,e,d,s,r]),v=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,E=!1;if(e.forEach(C=>{var j;let L=s.routes[C.route.id];!L||!L.hasLoader||(!h.some(U=>U.route.id===C.route.id)&&C.route.id in u&&((j=o[C.route.id])!=null&&j.shouldRevalidate)||L.hasClientLoader?E=!0:T.add(C.route.id))}),T.size===0)return[];let R=b3(t,l);return E&&T.size>0&&R.searchParams.set("_routes",e.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[R.pathname+R.search]},[l,u,r,s,h,e,t,o]),x=k.useMemo(()=>p3(p,s),[p,s]),w=E3(p);return k.createElement(k.Fragment,null,v.map(T=>k.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),x.map(T=>k.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),w.map(({key:T,link:E})=>k.createElement("link",{key:T,...E})))}function A3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oN&&(window.__reactRouterVersion="7.6.1")}catch{}function R3(t,e){return mL({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:MV({window:e==null?void 0:e.window}),hydrationData:C3(),routes:t,mapRouteProperties:XL,hydrationRouteProperties:QL,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function C3(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:k3(t.errors)}),t}function k3(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Cp(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let l=new o(s.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(s.message);o.stack="",n[r]=o}}else n[r]=s;return n}var lN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:v,...x},w){let{basename:T}=k.useContext(Ms),E=typeof h=="string"&&lN.test(h),R,C=!1;if(typeof h=="string"&&E&&(R=h,oN))try{let D=new URL(window.location.href),B=h.startsWith("//")?new URL(D.protocol+h):new URL(h),$=gs(B.pathname,T);B.origin===D.origin&&$!=null?h=$+B.search+B.hash:C=!0}catch{sn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=DL(h,{relative:s}),[j,U,M]=_3(r,x),V=P3(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:v});function P(D){e&&e(D),D.defaultPrevented||V(D)}let N=k.createElement("a",{...x,...M,href:R||L,onClick:C||o?e:P,ref:A3(w,U),target:d,"data-discover":!E&&n==="render"?"true":void 0});return j&&!E?k.createElement(k.Fragment,null,N,k.createElement(T3,{page:L})):N});Pt.displayName="Link";var Ol=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:u,children:d,...h},p){let v=qh(l,{relative:h.relative}),x=ma(),w=k.useContext(Fh),{navigator:T,basename:E}=k.useContext(Ms),R=w!=null&&V3(v)&&u===!0,C=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,L=x.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(L=L.toLowerCase(),j=j?j.toLowerCase():null,C=C.toLowerCase()),j&&E&&(j=gs(j,E)||j);const U=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let M=L===C||!s&&L.startsWith(C)&&L.charAt(U)==="/",V=j!=null&&(j===C||!s&&j.startsWith(C)&&j.charAt(C.length)==="/"),P={isActive:M,isPending:V,isTransitioning:R},N=M?e:void 0,D;typeof r=="function"?D=r(P):D=[r,M?"active":null,V?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(P):o;return k.createElement(Pt,{...h,"aria-current":N,className:D,ref:p,style:B,to:l,viewTransition:u},typeof d=="function"?d(P):d)});Ol.displayName="NavLink";var N3=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:l=np,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:v,...x},w)=>{let T=M3(),E=O3(u,{relative:h}),R=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&lN.test(u),L=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let U=j.nativeEvent.submitter,M=(U==null?void 0:U.getAttribute("formmethod"))||l;T(U||j.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:s,state:o,relative:h,preventScrollReset:p,viewTransition:v})};return k.createElement("form",{ref:w,method:R,action:E,onSubmit:r?d:L,...x,"data-discover":!C&&t==="render"?"true":void 0})});N3.displayName="Form";function j3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cN(t){let e=k.useContext(Ml);return Qe(e,j3(t)),e}function P3(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=qn(),d=ma(),h=qh(t,{relative:o});return k.useCallback(p=>{if(l3(p,e)){p.preventDefault();let v=n!==void 0?n:po(d)===po(h);u(t,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,h,n,r,e,t,s,o,l])}var I3=0,D3=()=>`__${String(++I3)}__`;function M3(){let{router:t}=cN("useSubmit"),{basename:e}=k.useContext(Ms),n=KL();return k.useCallback(async(r,s={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=d3(r,e);if(s.navigate===!1){let p=s.fetcherKey||D3();await t.fetch(p,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function O3(t,{relative:e}={}){let{basename:n}=k.useContext(Ms),r=k.useContext(ys);Qe(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...qh(t||".",{relative:e})},l=ma();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ii([n,o.pathname])),po(o)}function V3(t,e={}){let n=k.useContext(Db);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cN("useViewTransitionState"),s=qh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=gs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=gs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rp(s.pathname,l)!=null||Rp(s.pathname,o)!=null}[...x3];var L3=Uk();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U3(t){return k.createElement(JL,{flushSync:L3.flushSync,...t})}const B3=()=>{};var nA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],u=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},dN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,u=l?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,p=o>>2,v=(o&3)<<4|u>>4;let x=(u&15)<<2|h>>6,w=h&63;d||(w=64,l||(x=64)),r.push(n[p],n[v],n[x],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||h==null||v==null)throw new F3;const x=o<<2|u>>4;if(r.push(x),h!==64){const w=u<<4&240|h>>2;if(r.push(w),v!==64){const T=h<<6&192|v;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z3=function(t){const e=uN(t);return dN.encodeByteArray(e,!0)},Np=function(t){return z3(t).replace(/\./g,"")},hN=function(t){try{return dN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=()=>q3().__FIREBASE_DEFAULTS__,G3=()=>{if(typeof process>"u"||typeof nA>"u")return;const t=nA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},K3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hN(t[1]);return e&&JSON.parse(e)},vg=()=>{try{return B3()||H3()||G3()||K3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fN=t=>{var e,n;return(n=(e=vg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mN=t=>{const e=fN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pN=()=>{var t;return(t=vg())===null||t===void 0?void 0:t.config},gN=t=>{var e;return(e=vg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){return t.endsWith(".cloudworkstations.dev")}async function $b(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Np(JSON.stringify(n)),Np(JSON.stringify(l)),""].join(".")}const Kd={};function W3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kd))Kd[e]?t.emulator.push(e):t.prod.push(e);return t}function X3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rA=!1;function Fb(t,e){if(typeof window>"u"||typeof document>"u"||!hu(window.location.host)||Kd[t]===e||Kd[t]||rA)return;Kd[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=W3().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{rA=!0,l()},x}function p(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=X3(r),w=n("text"),T=document.getElementById(w)||document.createElement("span"),E=n("learnmore"),R=document.getElementById(E)||document.createElement("a"),C=n("preprendIcon"),L=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const j=x.element;u(j),p(R,E);const U=h();d(L,C),j.append(L,T,R,U),document.body.appendChild(j)}o?(T.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sr())}function Z3(){var t;const e=(t=vg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function t5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n5(){const t=sr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r5(){return!Z3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s5(){try{return typeof indexedDB=="object"}catch{return!1}}function i5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="FirebaseError";class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a5,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hh.prototype.create)}}class Hh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?o5(o,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Si(s,u,r)}}function o5(t,e){return t.replace(l5,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const l5=/\{\$([^}]+)}/g;function c5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(sA(o)&&sA(l)){if(!Cl(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function sA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ud(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Bd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function u5(t,e){const n=new d5(t,e);return n.subscribe.bind(n)}class d5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h5(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vv),s.error===void 0&&(s.error=vv),s.complete===void 0&&(s.complete=vv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){return t&&t._delegate?t._delegate:t}class go{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p5(e))try{this.getOrInitializeService({instanceIdentifier:dl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=dl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dl){return this.instances.has(e)}getOptions(e=dl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dl){return this.component?this.component.multipleInstances?e:dl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m5(t){return t===dl?void 0:t}function p5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const y5={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},v5=lt.INFO,x5={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},b5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=x5[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zb{constructor(e){this.name=e,this._logLevel=v5,this._logHandler=b5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const w5=(t,e)=>e.some(n=>t instanceof n);let iA,aA;function _5(){return iA||(iA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T5(){return aA||(aA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vN=new WeakMap,cx=new WeakMap,xN=new WeakMap,xv=new WeakMap,qb=new WeakMap;function E5(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(uo(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&vN.set(n,t)}).catch(()=>{}),qb.set(e,t),e}function S5(t){if(cx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});cx.set(t,e)}let ux={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A5(t){ux=t(ux)}function R5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bv(this),e,...n);return xN.set(r,e.sort?e.sort():[e]),uo(r)}:T5().includes(t)?function(...e){return t.apply(bv(this),e),uo(vN.get(this))}:function(...e){return uo(t.apply(bv(this),e))}}function C5(t){return typeof t=="function"?R5(t):(t instanceof IDBTransaction&&S5(t),w5(t,_5())?new Proxy(t,ux):t)}function uo(t){if(t instanceof IDBRequest)return E5(t);if(xv.has(t))return xv.get(t);const e=C5(t);return e!==t&&(xv.set(t,e),qb.set(e,t)),e}const bv=t=>qb.get(t);function k5(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),u=uo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(uo(l.result),d.oldVersion,d.newVersion,uo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const N5=["get","getKey","getAll","getAllKeys","count"],j5=["put","add","delete","clear"],wv=new Map;function oA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wv.get(e))return wv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=j5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||N5.includes(n)))return;const o=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),s&&d.done]))[0]};return wv.set(e,o),o}A5(t=>({...t,get:(e,n,r)=>oA(e,n)||t.get(e,n,r),has:(e,n)=>!!oA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function I5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dx="@firebase/app",lA="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new zb("@firebase/app"),D5="@firebase/app-compat",M5="@firebase/analytics-compat",O5="@firebase/analytics",V5="@firebase/app-check-compat",L5="@firebase/app-check",U5="@firebase/auth",B5="@firebase/auth-compat",$5="@firebase/database",F5="@firebase/data-connect",z5="@firebase/database-compat",q5="@firebase/functions",H5="@firebase/functions-compat",G5="@firebase/installations",K5="@firebase/installations-compat",Y5="@firebase/messaging",W5="@firebase/messaging-compat",X5="@firebase/performance",Q5="@firebase/performance-compat",Z5="@firebase/remote-config",J5="@firebase/remote-config-compat",e6="@firebase/storage",t6="@firebase/storage-compat",n6="@firebase/firestore",r6="@firebase/ai",s6="@firebase/firestore-compat",i6="firebase",a6="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="[DEFAULT]",o6={[dx]:"fire-core",[D5]:"fire-core-compat",[O5]:"fire-analytics",[M5]:"fire-analytics-compat",[L5]:"fire-app-check",[V5]:"fire-app-check-compat",[U5]:"fire-auth",[B5]:"fire-auth-compat",[$5]:"fire-rtdb",[F5]:"fire-data-connect",[z5]:"fire-rtdb-compat",[q5]:"fire-fn",[H5]:"fire-fn-compat",[G5]:"fire-iid",[K5]:"fire-iid-compat",[Y5]:"fire-fcm",[W5]:"fire-fcm-compat",[X5]:"fire-perf",[Q5]:"fire-perf-compat",[Z5]:"fire-rc",[J5]:"fire-rc-compat",[e6]:"fire-gcs",[t6]:"fire-gcs-compat",[n6]:"fire-fst",[s6]:"fire-fst-compat",[r6]:"fire-vertex","fire-js":"fire-js",[i6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new Map,l6=new Map,fx=new Map;function cA(t,e){try{t.container.addComponent(e)}catch(n){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kl(t){const e=t.name;if(fx.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;fx.set(e,t);for(const n of jp.values())cA(n,t);for(const n of l6.values())cA(n,t);return!0}function xg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new Hh("app","Firebase",c6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=a6;function bN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hx,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ho.create("bad-app-name",{appName:String(s)});if(n||(n=pN()),!n)throw ho.create("no-options");const o=jp.get(s);if(o){if(Cl(n,o.options)&&Cl(r,o.config))return o;throw ho.create("duplicate-app",{appName:s})}const l=new g5(s);for(const d of fx.values())l.addComponent(d);const u=new u6(n,r,l);return jp.set(s,u),u}function Hb(t=hx){const e=jp.get(t);if(!e&&t===hx&&pN())return bN();if(!e)throw ho.create("no-app",{appName:t});return e}function ai(t,e,n){var r;let s=(r=o6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(u.join(" "));return}kl(new go(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="firebase-heartbeat-database",h6=1,hh="firebase-heartbeat-store";let _v=null;function wN(){return _v||(_v=k5(d6,h6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ho.create("idb-open",{originalErrorMessage:t.message})})),_v}async function f6(t){try{const n=(await wN()).transaction(hh),r=await n.objectStore(hh).get(_N(t));return await n.done,r}catch(e){if(e instanceof Si)ra.warn(e.message);else{const n=ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ra.warn(n.message)}}}async function uA(t,e){try{const r=(await wN()).transaction(hh,"readwrite");await r.objectStore(hh).put(e,_N(t)),await r.done}catch(n){if(n instanceof Si)ra.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ra.warn(r.message)}}}function _N(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=1024,p6=30;class g6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=dA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>p6){const l=x6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ra.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dA(),{heartbeatsToSend:r,unsentEntries:s}=y6(this._heartbeatsCache.heartbeats),o=Np(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ra.warn(n),""}}}function dA(){return new Date().toISOString().substring(0,10)}function y6(t,e=m6){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),hA(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),hA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class v6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s5()?i5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await f6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return uA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return uA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hA(t){return Np(JSON.stringify({version:2,heartbeats:t})).length}function x6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){kl(new go("platform-logger",e=>new P5(e),"PRIVATE")),kl(new go("heartbeat",e=>new g6(e),"PRIVATE")),ai(dx,lA,t),ai(dx,lA,"esm2017"),ai("fire-js","")}b6("");var w6="firebase",_6="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(w6,_6,"app");function Gb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function TN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T6=TN,EN=new Hh("auth","Firebase",TN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new zb("@firebase/auth");function E6(t,...e){Pp.logLevel<=lt.WARN&&Pp.warn(`Auth (${Vl}): ${t}`,...e)}function sp(t,...e){Pp.logLevel<=lt.ERROR&&Pp.error(`Auth (${Vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t,...e){throw Kb(t,...e)}function oi(t,...e){return Kb(t,...e)}function SN(t,e,n){const r=Object.assign(Object.assign({},T6()),{[e]:n});return new Hh("auth","Firebase",r).create(e,{appName:t.name})}function li(t){return SN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EN.create(t,...e)}function Ue(t,e,...n){if(!t)throw Kb(e,...n)}function Ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sp(e),new Error(e)}function sa(t,e){t||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function S6(){return fA()==="http:"||fA()==="https:"}function fA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S6()||e5()||"connection"in navigator)?navigator.onLine:!0}function R6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.shortDelay=e,this.longDelay=n,sa(n>e,"Short delay should be less than long delay!"),this.isMobile=Q3()||t5()}get(){return A6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t,e){sa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],N6=new Kh(3e4,6e4);function pa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ga(t,e,n,r,s={}){return RN(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Gh(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},o);return J3()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&hu(t.emulatorConfig.host)&&(h.credentials="include"),AN.fetch()(await CN(t,t.config.apiHost,n,u),h)})}async function RN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},C6),e);try{const s=new P6(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Lm(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lm(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Lm(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Lm(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw SN(t,p,h);js(t,p)}}catch(s){if(s instanceof Si)throw s;js(t,"network-request-failed",{message:String(s)})}}async function Yh(t,e,n,r,s={}){const o=await ga(t,e,n,r,s);return"mfaPendingCredential"in o&&js(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function CN(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?Yb(t.config,s):`${t.config.apiScheme}://${s}`;return k6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function j6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),N6.get())})}}function Lm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=oi(t,e,r);return s.customData._tokenResponse=n,s}function mA(t){return t!==void 0&&t.enterprise!==void 0}class I6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function D6(t,e){return ga(t,"GET","/v2/recaptchaConfig",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(t,e){return ga(t,"POST","/v1/accounts:delete",e)}async function Ip(t,e){return ga(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O6(t,e=!1){const n=jn(t),r=await n.getIdToken(e),s=Wb(r);Ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Yd(Tv(s.auth_time)),issuedAtTime:Yd(Tv(s.iat)),expirationTime:Yd(Tv(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Tv(t){return Number(t)*1e3}function Wb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sp("JWT malformed, contained fewer than 3 sections"),null;try{const s=hN(n);return s?JSON.parse(s):(sp("Failed to decode base64 JWT payload"),null)}catch(s){return sp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function pA(t){const e=Wb(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Si&&V6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function V6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yd(this.lastLoginAt),this.creationTime=Yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await fh(t,Ip(n,{idToken:r}));Ue(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?kN(o.providerUserInfo):[],u=B6(t.providerData,l),d=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),p=d?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new px(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function U6(t){const e=jn(t);await Dp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function kN(t){return t.map(e=>{var{providerId:n}=e,r=Gb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(t,e){const n=await RN(t,{},async()=>{const r=Gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await CN(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",AN.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F6(t,e){return ga(t,"POST","/v2/accounts:revokeToken",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=pA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await $6(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new Xc;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ue(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xc,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Gb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new px(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fh(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O6(this,e)}reload(){return U6(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await fh(this,M6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,l,u,d,h,p;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(s=n.email)!==null&&s!==void 0?s:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(l=n.photoURL)!==null&&l!==void 0?l:void 0,E=(u=n.tenantId)!==null&&u!==void 0?u:void 0,R=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,C=(h=n.createdAt)!==null&&h!==void 0?h:void 0,L=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:j,emailVerified:U,isAnonymous:M,providerData:V,stsTokenManager:P}=n;Ue(j&&P,e,"internal-error");const N=Xc.fromJSON(this.name,P);Ue(typeof j=="string",e,"internal-error"),Za(v,e.name),Za(x,e.name),Ue(typeof U=="boolean",e,"internal-error"),Ue(typeof M=="boolean",e,"internal-error"),Za(w,e.name),Za(T,e.name),Za(E,e.name),Za(R,e.name),Za(C,e.name),Za(L,e.name);const D=new Cs({uid:j,auth:e,email:x,emailVerified:U,displayName:v,isAnonymous:M,photoURL:T,phoneNumber:w,tenantId:E,stsTokenManager:N,createdAt:C,lastLoginAt:L});return V&&Array.isArray(V)&&(D.providerData=V.map(B=>Object.assign({},B))),R&&(D._redirectEventId=R),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new Xc;s.updateFromServerResponse(n);const o=new Cs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Dp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ue(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?kN(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new Xc;u.updateFromIdToken(r);const d=new Cs({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new px(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new Map;function ea(t){sa(t instanceof Function,"Expected a class definition");let e=gA.get(t);return e?(sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NN.type="NONE";const yA=NN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t,e,n){return`firebase:${t}:${e}:${n}`}class Qc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=ip(this.userKey,s.apiKey,o),this.fullPersistenceKey=ip("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ip(this.auth,{idToken:e}).catch(()=>{});return n?Cs._fromGetAccountInfoResponse(this.auth,n,e):null}return Cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qc(ea(yA),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||ea(yA);const l=ip(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(l);if(p){let v;if(typeof p=="string"){const x=await Ip(e,{idToken:p}).catch(()=>{});if(!x)break;v=await Cs._fromGetAccountInfoResponse(e,x,p)}else v=Cs._fromJSON(e,p);h!==o&&(u=v),o=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Qc(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Qc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ON(e))return"Blackberry";if(VN(e))return"Webos";if(PN(e))return"Safari";if((e.includes("chrome/")||IN(e))&&!e.includes("edge/"))return"Chrome";if(MN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jN(t=sr()){return/firefox\//i.test(t)}function PN(t=sr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IN(t=sr()){return/crios\//i.test(t)}function DN(t=sr()){return/iemobile/i.test(t)}function MN(t=sr()){return/android/i.test(t)}function ON(t=sr()){return/blackberry/i.test(t)}function VN(t=sr()){return/webos/i.test(t)}function Xb(t=sr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z6(t=sr()){var e;return Xb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q6(){return n5()&&document.documentMode===10}function LN(t=sr()){return Xb(t)||MN(t)||VN(t)||ON(t)||/windows phone/i.test(t)||DN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t,e=[]){let n;switch(t){case"Browser":n=vA(sr());break;case"Worker":n=`${vA(sr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e={}){return ga(t,"GET","/v2/passwordPolicy",pa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=6;class Y6{constructor(e){var n,r,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:K6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xA(this),this.idTokenSubscription=new xA(this),this.beforeStateQueue=new H6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ea(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Qc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ip(this,{idToken:e}),r=await Cs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(li(this));const n=e?jn(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G6(this),n=new Y6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await F6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ea(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Qc.create(this,[ea(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&E6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ya(t){return jn(t)}class xA{constructor(e){this.auth=e,this.observer=null,this.addObserver=u5(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X6(t){bg=t}function BN(t){return bg.loadJS(t)}function Q6(){return bg.recaptchaEnterpriseScript}function Z6(){return bg.gapiScript}function J6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eU{constructor(){this.enterprise=new tU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nU="recaptcha-enterprise",$N="NO_RECAPTCHA";class rU{constructor(e){this.type=nU,this.auth=ya(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{D6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new I6(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function s(o,l,u){const d=window.grecaptcha;mA(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l($N)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eU().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&mA(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Q6();d.length!==0&&(d+=u),BN(d).then(()=>{s(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function bA(t,e,n,r=!1,s=!1){const o=new rU(t);let l;if(s)l=$N;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Mp(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await bA(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await bA(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(t,e){const n=xg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Cl(o,e??{}))return s;js(s,"already-initialized")}return n.initialize({options:e})}function iU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ea);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aU(t,e,n){const r=ya(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=FN(e),{host:l,port:u}=oU(e),d=u===null?"":`:${u}`,h={url:`${o}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Cl(h,r.config.emulator)&&Cl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,hu(l)?($b(`${o}//${l}${d}`),Fb("Auth",!0)):lU()}function FN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oU(t){const e=FN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:wA(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:wA(l)}}}function wA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function cU(t,e){return ga(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(t,e){return Yh(t,"POST","/v1/accounts:signInWithPassword",pa(t,e))}async function dU(t,e){return ga(t,"POST","/v1/accounts:sendOobCode",pa(t,e))}async function hU(t,e){return dU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(t,e){return Yh(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}async function mU(t,e){return Yh(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Qb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new mh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,n,"signInWithPassword",uU);case"emailLink":return fU(e,{email:this._email,oobCode:this._password});default:js(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,r,"signUpPassword",cU);case"emailLink":return mU(e,{idToken:n,email:this._email,oobCode:this._password});default:js(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t,e){return Yh(t,"POST","/v1/accounts:signInWithIdp",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="http://localhost";class Nl extends Qb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):js("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Gb(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Nl(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Zc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zc(e,n)}buildRequest(){const e={requestUri:pU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yU(t){const e=Ud(Bd(t)).link,n=e?Ud(Bd(e)).deep_link_id:null,r=Ud(Bd(t)).deep_link_id;return(r?Ud(Bd(r)).link:null)||r||n||e||t}class Zb{constructor(e){var n,r,s,o,l,u;const d=Ud(Bd(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(r=d.oobCode)!==null&&r!==void 0?r:null,v=gU((s=d.mode)!==null&&s!==void 0?s:null);Ue(h&&p&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=p,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=yU(e);try{return new Zb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.providerId=fu.PROVIDER_ID}static credential(e,n){return mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zb.parseLink(n);return Ue(r,"argument-error"),mh._fromEmailAndCode(e,r.code,r.tenantId)}}fu.PROVIDER_ID="password";fu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends zN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Wh{constructor(){super("facebook.com")}static credential(e){return Nl._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Nl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return io.credential(n,r)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Wh{constructor(){super("github.com")}static credential(e){return Nl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Wh{constructor(){super("twitter.com")}static credential(e,n){return Nl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t,e){return Yh(t,"POST","/v1/accounts:signUp",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Cs._fromIdTokenResponse(e,r,s),l=_A(r);return new ia({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=_A(r);return new ia({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function _A(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t){var e;if(wr(t.app))return Promise.reject(li(t));const n=ya(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ia({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await qN(n,{returnSecureToken:!0}),s=await ia._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends Si{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Op.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Op(e,n,r,s)}}function HN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Op._fromErrorAndOperation(t,o,e,r):o})}async function xU(t,e,n=!1){const r=await fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ia._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e,n=!1){const{auth:r}=t;if(wr(r.app))return Promise.reject(li(r));const s="reauthenticate";try{const o=await fh(t,HN(r,s,e,t),n);Ue(o.idToken,r,"internal-error");const l=Wb(o.idToken);Ue(l,r,"internal-error");const{sub:u}=l;return Ue(t.uid===u,r,"user-mismatch"),ia._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&js(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e,n=!1){if(wr(t.app))return Promise.reject(li(t));const r="signIn",s=await HN(t,r,e),o=await ia._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function wU(t,e){return GN(ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t){const e=ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _U(t,e,n){const r=ya(t);await Mp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hU)}async function TU(t,e,n){if(wr(t.app))return Promise.reject(li(t));const r=ya(t),l=await Mp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qN).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&KN(t),d}),u=await ia._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function EU(t,e,n){return wr(t.app)?Promise.reject(li(t)):wU(jn(t),fu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&KN(t),r})}function SU(t,e,n,r){return jn(t).onIdTokenChanged(e,n,r)}function AU(t,e,n){return jn(t).beforeAuthStateChanged(e,n)}function RU(t,e,n,r){return jn(t).onAuthStateChanged(e,n,r)}const Vp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vp,"1"),this.storage.removeItem(Vp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=1e3,kU=10;class WN extends YN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);q6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,kU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WN.type="LOCAL";const NU=WN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN extends YN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XN.type="SESSION";const QN=XN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async h=>h(n.origin,o)),d=await jU(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const h=Jb("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const x=v;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(x.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function IU(t){ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function DU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OU(){return ZN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firebaseLocalStorageDb",VU=1,Lp="firebaseLocalStorage",ej="fbase_key";class Xh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _g(t,e){return t.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function LU(){const t=indexedDB.deleteDatabase(JN);return new Xh(t).toPromise()}function gx(){const t=indexedDB.open(JN,VU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lp,{keyPath:ej})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lp)?e(r):(r.close(),await LU(),e(await gx()))})})}async function TA(t,e,n){const r=_g(t,!0).put({[ej]:e,value:n});return new Xh(r).toPromise()}async function UU(t,e){const n=_g(t,!1).get(e),r=await new Xh(n).toPromise();return r===void 0?null:r.value}function EA(t,e){const n=_g(t,!0).delete(e);return new Xh(n).toPromise()}const BU=800,$U=3;class tj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$U)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wg._getInstance(OU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DU(),!this.activeServiceWorker)return;this.sender=new PU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gx();return await TA(e,Vp,"1"),await EA(e,Vp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>EA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=_g(s,!1).getAll();return new Xh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tj.type="LOCAL";const FU=tj;new Kh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t,e){return e?ea(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends Qb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qU(t){return GN(t.auth,new e1(t),t.bypassAuthState)}function HU(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),bU(n,new e1(t),t.bypassAuthState)}async function GU(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),xU(n,new e1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qU;case"linkViaPopup":case"linkViaRedirect":return GU;case"reauthViaPopup":case"reauthViaRedirect":return HU;default:js(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new Kh(2e3,1e4);class Lc extends nj{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Lc.currentPopupAction&&Lc.currentPopupAction.cancel(),Lc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=Jb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KU.get())};e()}}Lc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="pendingRedirect",ap=new Map;class WU extends nj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ap.get(this.auth._key());if(!e){try{const r=await XU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ap.set(this.auth._key(),e)}return this.bypassAuthState||ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XU(t,e){const n=JU(e),r=ZU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function QU(t,e){ap.set(t._key(),e)}function ZU(t){return ea(t._redirectPersistence)}function JU(t){return ip(YU,t.config.apiKey,t.name)}async function e9(t,e,n=!1){if(wr(t.app))return Promise.reject(li(t));const r=ya(t),s=zU(r,e),l=await new WU(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=10*60*1e3;class n9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rj(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t9&&this.cachedEventUids.clear(),this.cachedEventUids.has(SA(e))}saveEventToCache(e){this.cachedEventUids.add(SA(e)),this.lastProcessedEventTime=Date.now()}}function SA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e={}){return ga(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a9=/^https?/;async function o9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s9(t);for(const n of e)try{if(l9(n))return}catch{}js(t,"unauthorized-domain")}function l9(t){const e=mx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!a9.test(n))return!1;if(i9.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=new Kh(3e4,6e4);function AA(){const t=ci().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u9(t){return new Promise((e,n)=>{var r,s,o;function l(){AA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AA(),n(oi(t,"network-request-failed"))},timeout:c9.get()})}if(!((s=(r=ci().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ci().gapi)===null||o===void 0)&&o.load)l();else{const u=J6("iframefcb");return ci()[u]=()=>{gapi.load?l():n(oi(t,"network-request-failed"))},BN(`${Z6()}?onload=${u}`).catch(d=>n(d))}}).catch(e=>{throw op=null,e})}let op=null;function d9(t){return op=op||u9(t),op}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=new Kh(5e3,15e3),f9="__/auth/iframe",m9="emulator/auth/iframe",p9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y9(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yb(e,m9):`https://${t.config.authDomain}/${f9}`,r={apiKey:e.apiKey,appName:t.name,v:Vl},s=g9.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Gh(r).slice(1)}`}async function v9(t){const e=await d9(t),n=ci().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:y9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p9,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=oi(t,"network-request-failed"),u=ci().setTimeout(()=>{o(l)},h9.get());function d(){ci().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b9=500,w9=600,_9="_blank",T9="http://localhost";class RA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E9(t,e,n,r=b9,s=w9){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},x9),{width:r.toString(),height:s.toString(),top:o,left:l}),h=sr().toLowerCase();n&&(u=IN(h)?_9:n),jN(h)&&(e=e||T9,d.scrollbars="yes");const p=Object.entries(d).reduce((x,[w,T])=>`${x}${w}=${T},`,"");if(z6(h)&&u!=="_self")return S9(e||"",u),new RA(null);const v=window.open(e||"",u,p);Ue(v,t,"popup-blocked");try{v.focus()}catch{}return new RA(v)}function S9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="__/auth/handler",R9="emulator/auth/handler",C9=encodeURIComponent("fac");async function CA(t,e,n,r,s,o){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vl,eventId:s};if(e instanceof zN){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",c5(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(e instanceof Wh){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${C9}=${encodeURIComponent(d)}`:"";return`${k9(t)}?${Gh(u).slice(1)}${h}`}function k9({config:t}){return t.emulator?Yb(t,R9):`https://${t.authDomain}/${A9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="webStorageSupport";class N9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QN,this._completeRedirectFn=e9,this._overrideRedirectResult=QU}async _openPopup(e,n,r,s){var o;sa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await CA(e,n,r,mx(),s);return E9(e,l,Jb())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await CA(e,n,r,mx(),s);return IU(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(sa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await v9(e),r=new n9(e);return n.register("authEvent",s=>(Ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ev,{type:Ev},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Ev];l!==void 0&&n(!!l),js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LN()||PN()||Xb()}}const j9=N9;var kA="@firebase/auth",NA="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D9(t){kl(new go("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ue(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UN(t)},h=new W6(r,s,o,d);return iU(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kl(new go("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(r=>new P9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(kA,NA,I9(t)),ai(kA,NA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=5*60,O9=gN("authIdTokenMaxAge")||M9;let jA=null;const V9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>O9)return;const s=n==null?void 0:n.token;jA!==s&&(jA=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function t1(t=Hb()){const e=xg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sU(t,{popupRedirectResolver:j9,persistence:[FU,NU,QN]}),r=gN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=V9(o.toString());AU(n,l,()=>l(n.currentUser)),SU(n,u=>l(u))}}const s=fN("auth");return s&&aU(n,`http://${s}`),n}function L9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}X6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=oi("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",L9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D9("Browser");var PA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,sj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,N){function D(){}D.prototype=N.prototype,P.D=N.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(B,$,G){for(var F=Array(arguments.length-2),be=2;be<arguments.length;be++)F[be-2]=arguments[be];return N.prototype[$].apply(B,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,N,D){D||(D=0);var B=Array(16);if(typeof N=="string")for(var $=0;16>$;++$)B[$]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for($=0;16>$;++$)B[$]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=P.g[0],D=P.g[1],$=P.g[2];var G=P.g[3],F=N+(G^D&($^G))+B[0]+3614090360&4294967295;N=D+(F<<7&4294967295|F>>>25),F=G+($^N&(D^$))+B[1]+3905402710&4294967295,G=N+(F<<12&4294967295|F>>>20),F=$+(D^G&(N^D))+B[2]+606105819&4294967295,$=G+(F<<17&4294967295|F>>>15),F=D+(N^$&(G^N))+B[3]+3250441966&4294967295,D=$+(F<<22&4294967295|F>>>10),F=N+(G^D&($^G))+B[4]+4118548399&4294967295,N=D+(F<<7&4294967295|F>>>25),F=G+($^N&(D^$))+B[5]+1200080426&4294967295,G=N+(F<<12&4294967295|F>>>20),F=$+(D^G&(N^D))+B[6]+2821735955&4294967295,$=G+(F<<17&4294967295|F>>>15),F=D+(N^$&(G^N))+B[7]+4249261313&4294967295,D=$+(F<<22&4294967295|F>>>10),F=N+(G^D&($^G))+B[8]+1770035416&4294967295,N=D+(F<<7&4294967295|F>>>25),F=G+($^N&(D^$))+B[9]+2336552879&4294967295,G=N+(F<<12&4294967295|F>>>20),F=$+(D^G&(N^D))+B[10]+4294925233&4294967295,$=G+(F<<17&4294967295|F>>>15),F=D+(N^$&(G^N))+B[11]+2304563134&4294967295,D=$+(F<<22&4294967295|F>>>10),F=N+(G^D&($^G))+B[12]+1804603682&4294967295,N=D+(F<<7&4294967295|F>>>25),F=G+($^N&(D^$))+B[13]+4254626195&4294967295,G=N+(F<<12&4294967295|F>>>20),F=$+(D^G&(N^D))+B[14]+2792965006&4294967295,$=G+(F<<17&4294967295|F>>>15),F=D+(N^$&(G^N))+B[15]+1236535329&4294967295,D=$+(F<<22&4294967295|F>>>10),F=N+($^G&(D^$))+B[1]+4129170786&4294967295,N=D+(F<<5&4294967295|F>>>27),F=G+(D^$&(N^D))+B[6]+3225465664&4294967295,G=N+(F<<9&4294967295|F>>>23),F=$+(N^D&(G^N))+B[11]+643717713&4294967295,$=G+(F<<14&4294967295|F>>>18),F=D+(G^N&($^G))+B[0]+3921069994&4294967295,D=$+(F<<20&4294967295|F>>>12),F=N+($^G&(D^$))+B[5]+3593408605&4294967295,N=D+(F<<5&4294967295|F>>>27),F=G+(D^$&(N^D))+B[10]+38016083&4294967295,G=N+(F<<9&4294967295|F>>>23),F=$+(N^D&(G^N))+B[15]+3634488961&4294967295,$=G+(F<<14&4294967295|F>>>18),F=D+(G^N&($^G))+B[4]+3889429448&4294967295,D=$+(F<<20&4294967295|F>>>12),F=N+($^G&(D^$))+B[9]+568446438&4294967295,N=D+(F<<5&4294967295|F>>>27),F=G+(D^$&(N^D))+B[14]+3275163606&4294967295,G=N+(F<<9&4294967295|F>>>23),F=$+(N^D&(G^N))+B[3]+4107603335&4294967295,$=G+(F<<14&4294967295|F>>>18),F=D+(G^N&($^G))+B[8]+1163531501&4294967295,D=$+(F<<20&4294967295|F>>>12),F=N+($^G&(D^$))+B[13]+2850285829&4294967295,N=D+(F<<5&4294967295|F>>>27),F=G+(D^$&(N^D))+B[2]+4243563512&4294967295,G=N+(F<<9&4294967295|F>>>23),F=$+(N^D&(G^N))+B[7]+1735328473&4294967295,$=G+(F<<14&4294967295|F>>>18),F=D+(G^N&($^G))+B[12]+2368359562&4294967295,D=$+(F<<20&4294967295|F>>>12),F=N+(D^$^G)+B[5]+4294588738&4294967295,N=D+(F<<4&4294967295|F>>>28),F=G+(N^D^$)+B[8]+2272392833&4294967295,G=N+(F<<11&4294967295|F>>>21),F=$+(G^N^D)+B[11]+1839030562&4294967295,$=G+(F<<16&4294967295|F>>>16),F=D+($^G^N)+B[14]+4259657740&4294967295,D=$+(F<<23&4294967295|F>>>9),F=N+(D^$^G)+B[1]+2763975236&4294967295,N=D+(F<<4&4294967295|F>>>28),F=G+(N^D^$)+B[4]+1272893353&4294967295,G=N+(F<<11&4294967295|F>>>21),F=$+(G^N^D)+B[7]+4139469664&4294967295,$=G+(F<<16&4294967295|F>>>16),F=D+($^G^N)+B[10]+3200236656&4294967295,D=$+(F<<23&4294967295|F>>>9),F=N+(D^$^G)+B[13]+681279174&4294967295,N=D+(F<<4&4294967295|F>>>28),F=G+(N^D^$)+B[0]+3936430074&4294967295,G=N+(F<<11&4294967295|F>>>21),F=$+(G^N^D)+B[3]+3572445317&4294967295,$=G+(F<<16&4294967295|F>>>16),F=D+($^G^N)+B[6]+76029189&4294967295,D=$+(F<<23&4294967295|F>>>9),F=N+(D^$^G)+B[9]+3654602809&4294967295,N=D+(F<<4&4294967295|F>>>28),F=G+(N^D^$)+B[12]+3873151461&4294967295,G=N+(F<<11&4294967295|F>>>21),F=$+(G^N^D)+B[15]+530742520&4294967295,$=G+(F<<16&4294967295|F>>>16),F=D+($^G^N)+B[2]+3299628645&4294967295,D=$+(F<<23&4294967295|F>>>9),F=N+($^(D|~G))+B[0]+4096336452&4294967295,N=D+(F<<6&4294967295|F>>>26),F=G+(D^(N|~$))+B[7]+1126891415&4294967295,G=N+(F<<10&4294967295|F>>>22),F=$+(N^(G|~D))+B[14]+2878612391&4294967295,$=G+(F<<15&4294967295|F>>>17),F=D+(G^($|~N))+B[5]+4237533241&4294967295,D=$+(F<<21&4294967295|F>>>11),F=N+($^(D|~G))+B[12]+1700485571&4294967295,N=D+(F<<6&4294967295|F>>>26),F=G+(D^(N|~$))+B[3]+2399980690&4294967295,G=N+(F<<10&4294967295|F>>>22),F=$+(N^(G|~D))+B[10]+4293915773&4294967295,$=G+(F<<15&4294967295|F>>>17),F=D+(G^($|~N))+B[1]+2240044497&4294967295,D=$+(F<<21&4294967295|F>>>11),F=N+($^(D|~G))+B[8]+1873313359&4294967295,N=D+(F<<6&4294967295|F>>>26),F=G+(D^(N|~$))+B[15]+4264355552&4294967295,G=N+(F<<10&4294967295|F>>>22),F=$+(N^(G|~D))+B[6]+2734768916&4294967295,$=G+(F<<15&4294967295|F>>>17),F=D+(G^($|~N))+B[13]+1309151649&4294967295,D=$+(F<<21&4294967295|F>>>11),F=N+($^(D|~G))+B[4]+4149444226&4294967295,N=D+(F<<6&4294967295|F>>>26),F=G+(D^(N|~$))+B[11]+3174756917&4294967295,G=N+(F<<10&4294967295|F>>>22),F=$+(N^(G|~D))+B[2]+718787259&4294967295,$=G+(F<<15&4294967295|F>>>17),F=D+(G^($|~N))+B[9]+3951481745&4294967295,P.g[0]=P.g[0]+N&4294967295,P.g[1]=P.g[1]+($+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+$&4294967295,P.g[3]=P.g[3]+G&4294967295}r.prototype.u=function(P,N){N===void 0&&(N=P.length);for(var D=N-this.blockSize,B=this.B,$=this.h,G=0;G<N;){if($==0)for(;G<=D;)s(this,P,G),G+=this.blockSize;if(typeof P=="string"){for(;G<N;)if(B[$++]=P.charCodeAt(G++),$==this.blockSize){s(this,B),$=0;break}}else for(;G<N;)if(B[$++]=P[G++],$==this.blockSize){s(this,B),$=0;break}}this.h=$,this.o+=N},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var N=1;N<P.length-8;++N)P[N]=0;var D=8*this.o;for(N=P.length-8;N<P.length;++N)P[N]=D&255,D/=256;for(this.u(P),P=Array(16),N=D=0;4>N;++N)for(var B=0;32>B;B+=8)P[D++]=this.g[N]>>>B&255;return P};function o(P,N){var D=u;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=N(P)}function l(P,N){this.h=N;for(var D=[],B=!0,$=P.length-1;0<=$;$--){var G=P[$]|0;B&&G==N||(D[$]=G,B=!1)}this.g=D}var u={};function d(P){return-128<=P&&128>P?o(P,function(N){return new l([N|0],0>N?-1:0)}):new l([P|0],0>P?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return R(h(-P));for(var N=[],D=1,B=0;P>=D;B++)N[B]=P/D|0,D*=4294967296;return new l(N,0)}function p(P,N){if(P.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P.charAt(0)=="-")return R(p(P.substring(1),N));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=h(Math.pow(N,8)),B=v,$=0;$<P.length;$+=8){var G=Math.min(8,P.length-$),F=parseInt(P.substring($,$+G),N);8>G?(G=h(Math.pow(N,G)),B=B.j(G).add(h(F))):(B=B.j(D),B=B.add(h(F)))}return B}var v=d(0),x=d(1),w=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-R(this).m();for(var P=0,N=1,D=0;D<this.g.length;D++){var B=this.i(D);P+=(0<=B?B:4294967296+B)*N,N*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(T(this))return"0";if(E(this))return"-"+R(this).toString(P);for(var N=h(Math.pow(P,6)),D=this,B="";;){var $=U(D,N).g;D=C(D,$.j(N));var G=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=$,T(D))return G+B;for(;6>G.length;)G="0"+G;B=G+B}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function T(P){if(P.h!=0)return!1;for(var N=0;N<P.g.length;N++)if(P.g[N]!=0)return!1;return!0}function E(P){return P.h==-1}t.l=function(P){return P=C(this,P),E(P)?-1:T(P)?0:1};function R(P){for(var N=P.g.length,D=[],B=0;B<N;B++)D[B]=~P.g[B];return new l(D,~P.h).add(x)}t.abs=function(){return E(this)?R(this):this},t.add=function(P){for(var N=Math.max(this.g.length,P.g.length),D=[],B=0,$=0;$<=N;$++){var G=B+(this.i($)&65535)+(P.i($)&65535),F=(G>>>16)+(this.i($)>>>16)+(P.i($)>>>16);B=F>>>16,G&=65535,F&=65535,D[$]=F<<16|G}return new l(D,D[D.length-1]&-2147483648?-1:0)};function C(P,N){return P.add(R(N))}t.j=function(P){if(T(this)||T(P))return v;if(E(this))return E(P)?R(this).j(R(P)):R(R(this).j(P));if(E(P))return R(this.j(R(P)));if(0>this.l(w)&&0>P.l(w))return h(this.m()*P.m());for(var N=this.g.length+P.g.length,D=[],B=0;B<2*N;B++)D[B]=0;for(B=0;B<this.g.length;B++)for(var $=0;$<P.g.length;$++){var G=this.i(B)>>>16,F=this.i(B)&65535,be=P.i($)>>>16,ve=P.i($)&65535;D[2*B+2*$]+=F*ve,L(D,2*B+2*$),D[2*B+2*$+1]+=G*ve,L(D,2*B+2*$+1),D[2*B+2*$+1]+=F*be,L(D,2*B+2*$+1),D[2*B+2*$+2]+=G*be,L(D,2*B+2*$+2)}for(B=0;B<N;B++)D[B]=D[2*B+1]<<16|D[2*B];for(B=N;B<2*N;B++)D[B]=0;return new l(D,0)};function L(P,N){for(;(P[N]&65535)!=P[N];)P[N+1]+=P[N]>>>16,P[N]&=65535,N++}function j(P,N){this.g=P,this.h=N}function U(P,N){if(T(N))throw Error("division by zero");if(T(P))return new j(v,v);if(E(P))return N=U(R(P),N),new j(R(N.g),R(N.h));if(E(N))return N=U(P,R(N)),new j(R(N.g),N.h);if(30<P.g.length){if(E(P)||E(N))throw Error("slowDivide_ only works with positive integers.");for(var D=x,B=N;0>=B.l(P);)D=M(D),B=M(B);var $=V(D,1),G=V(B,1);for(B=V(B,2),D=V(D,2);!T(B);){var F=G.add(B);0>=F.l(P)&&($=$.add(D),G=F),B=V(B,1),D=V(D,1)}return N=C(P,$.j(N)),new j($,N)}for($=v;0<=P.l(N);){for(D=Math.max(1,Math.floor(P.m()/N.m())),B=Math.ceil(Math.log(D)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),G=h(D),F=G.j(N);E(F)||0<F.l(P);)D-=B,G=h(D),F=G.j(N);T(G)&&(G=x),$=$.add(G),P=C(P,F)}return new j($,P)}t.A=function(P){return U(this,P).h},t.and=function(P){for(var N=Math.max(this.g.length,P.g.length),D=[],B=0;B<N;B++)D[B]=this.i(B)&P.i(B);return new l(D,this.h&P.h)},t.or=function(P){for(var N=Math.max(this.g.length,P.g.length),D=[],B=0;B<N;B++)D[B]=this.i(B)|P.i(B);return new l(D,this.h|P.h)},t.xor=function(P){for(var N=Math.max(this.g.length,P.g.length),D=[],B=0;B<N;B++)D[B]=this.i(B)^P.i(B);return new l(D,this.h^P.h)};function M(P){for(var N=P.g.length+1,D=[],B=0;B<N;B++)D[B]=P.i(B)<<1|P.i(B-1)>>>31;return new l(D,P.h)}function V(P,N){var D=N>>5;N%=32;for(var B=P.g.length-D,$=[],G=0;G<B;G++)$[G]=0<N?P.i(G+D)>>>N|P.i(G+D+1)<<32-N:P.i(G+D);return new l($,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sj=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,fo=l}).apply(typeof PA<"u"?PA:typeof self<"u"?self:typeof window<"u"?window:{});var Um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ij,$d,aj,lp,yx,oj,lj,cj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,_,S){return g==Array.prototype||g==Object.prototype||(g[_]=S.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Um=="object"&&Um];for(var _=0;_<g.length;++_){var S=g[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(g,_){if(_)e:{var S=r;g=g.split(".");for(var O=0;O<g.length-1;O++){var Q=g[O];if(!(Q in S))break e;S=S[Q]}g=g[g.length-1],O=S[g],_=_(O),_!=O&&_!=null&&e(S,g,{configurable:!0,writable:!0,value:_})}}function o(g,_){g instanceof String&&(g+="");var S=0,O=!1,Q={next:function(){if(!O&&S<g.length){var se=S++;return{value:_(se,g[se]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(g){return g||function(){return o(this,function(_,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(g){var _=typeof g;return _=_!="object"?_:g?Array.isArray(g)?"array":_:"null",_=="array"||_=="object"&&typeof g.length=="number"}function h(g){var _=typeof g;return _=="object"&&g!=null||_=="function"}function p(g,_,S){return g.call.apply(g.bind,arguments)}function v(g,_,S){if(!g)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,O),g.apply(_,Q)}}return function(){return g.apply(_,arguments)}}function x(g,_,S){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,x.apply(null,arguments)}function w(g,_){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),g.apply(this,O)}}function T(g,_){function S(){}S.prototype=_.prototype,g.aa=_.prototype,g.prototype=new S,g.prototype.constructor=g,g.Qb=function(O,Q,se){for(var ye=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ye[dt-2]=arguments[dt];return _.prototype[Q].apply(O,ye)}}function E(g){const _=g.length;if(0<_){const S=Array(_);for(let O=0;O<_;O++)S[O]=g[O];return S}return[]}function R(g,_){for(let S=1;S<arguments.length;S++){const O=arguments[S];if(d(O)){const Q=g.length||0,se=O.length||0;g.length=Q+se;for(let ye=0;ye<se;ye++)g[Q+ye]=O[ye]}else g.push(O)}}class C{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(g){return/^[\s\xa0]*$/.test(g)}function j(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function U(g){return U[" "](g),g}U[" "]=function(){};var M=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function V(g,_,S){for(const O in g)_.call(S,g[O],O,g)}function P(g,_){for(const S in g)_.call(void 0,g[S],S,g)}function N(g){const _={};for(const S in g)_[S]=g[S];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(g,_){let S,O;for(let Q=1;Q<arguments.length;Q++){O=arguments[Q];for(S in O)g[S]=O[S];for(let se=0;se<D.length;se++)S=D[se],Object.prototype.hasOwnProperty.call(O,S)&&(g[S]=O[S])}}function $(g){var _=1;g=g.split(":");const S=[];for(;0<_&&g.length;)S.push(g.shift()),_--;return g.length&&S.push(g.join(":")),S}function G(g){u.setTimeout(()=>{throw g},0)}function F(){var g=Ae;let _=null;return g.g&&(_=g.g,g.g=g.g.next,g.g||(g.h=null),_.next=null),_}class be{constructor(){this.h=this.g=null}add(_,S){const O=ve.get();O.set(_,S),this.h?this.h.next=O:this.g=O,this.h=O}}var ve=new C(()=>new X,g=>g.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let re,me=!1,Ae=new be,z=()=>{const g=u.Promise.resolve(void 0);re=()=>{g.then(ae)}};var ae=()=>{for(var g;g=F();){try{g.h.call(g.g)}catch(S){G(S)}var _=ve;_.j(g),100>_.h&&(_.h++,g.next=_.g,_.g=g)}me=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(g,_){this.type=g,this.g=this.target=_,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,_=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const S=()=>{};u.addEventListener("test",S,_),u.removeEventListener("test",S,_)}catch{}return g}();function Ge(g,_){if(fe.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var S=this.type=g.type,O=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=_,_=g.relatedTarget){if(M){e:{try{U(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else S=="mouseover"?_=g.fromElement:S=="mouseout"&&(_=g.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Pe[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ge.aa.h.call(this)}}T(Ge,fe);var Pe={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ln="closure_listenable_"+(1e6*Math.random()|0),Rt=0;function qr(g,_,S,O,Q){this.listener=g,this.proxy=null,this.src=_,this.type=S,this.capture=!!O,this.ha=Q,this.key=++Rt,this.da=this.fa=!1}function Bt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Hn(g){this.src=g,this.g={},this.h=0}Hn.prototype.add=function(g,_,S,O,Q){var se=g.toString();g=this.g[se],g||(g=this.g[se]=[],this.h++);var ye=Ci(g,_,O,Q);return-1<ye?(_=g[ye],S||(_.fa=!1)):(_=new qr(_,this.src,se,!!O,Q),_.fa=S,g.push(_)),_};function Vs(g,_){var S=_.type;if(S in g.g){var O=g.g[S],Q=Array.prototype.indexOf.call(O,_,void 0),se;(se=0<=Q)&&Array.prototype.splice.call(O,Q,1),se&&(Bt(_),g.g[S].length==0&&(delete g.g[S],g.h--))}}function Ci(g,_,S,O){for(var Q=0;Q<g.length;++Q){var se=g[Q];if(!se.da&&se.listener==_&&se.capture==!!S&&se.ha==O)return Q}return-1}var ir="closure_lm_"+(1e6*Math.random()|0),Do={};function Hl(g,_,S,O,Q){if(Array.isArray(_)){for(var se=0;se<_.length;se++)Hl(g,_[se],S,O,Q);return null}return S=Ea(S),g&&g[ln]?g.K(_,S,h(O)?!!O.capture:!1,Q):ar(g,_,S,!1,O,Q)}function ar(g,_,S,O,Q,se){if(!_)throw Error("Invalid event type");var ye=h(Q)?!!Q.capture:!!Q,dt=Hr(g);if(dt||(g[ir]=dt=new Hn(g)),S=dt.add(_,S,O,ye,se),S.proxy)return S;if(O=Cu(),S.proxy=O,O.src=g,O.listener=S,g.addEventListener)Ee||(Q=ye),Q===void 0&&(Q=!1),g.addEventListener(_.toString(),O,Q);else if(g.attachEvent)g.attachEvent(ki(_.toString()),O);else if(g.addListener&&g.removeListener)g.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Cu(){function g(S){return _.call(g.src,g.listener,S)}const _=bs;return g}function Mo(g,_,S,O,Q){if(Array.isArray(_))for(var se=0;se<_.length;se++)Mo(g,_[se],S,O,Q);else O=h(O)?!!O.capture:!!O,S=Ea(S),g&&g[ln]?(g=g.i,_=String(_).toString(),_ in g.g&&(se=g.g[_],S=Ci(se,S,O,Q),-1<S&&(Bt(se[S]),Array.prototype.splice.call(se,S,1),se.length==0&&(delete g.g[_],g.h--)))):g&&(g=Hr(g))&&(_=g.g[_.toString()],g=-1,_&&(g=Ci(_,S,O,Q)),(S=-1<g?_[g]:null)&&_a(S))}function _a(g){if(typeof g!="number"&&g&&!g.da){var _=g.src;if(_&&_[ln])Vs(_.i,g);else{var S=g.type,O=g.proxy;_.removeEventListener?_.removeEventListener(S,O,g.capture):_.detachEvent?_.detachEvent(ki(S),O):_.addListener&&_.removeListener&&_.removeListener(O),(S=Hr(_))?(Vs(S,g),S.h==0&&(S.src=null,_[ir]=null)):Bt(g)}}}function ki(g){return g in Do?Do[g]:Do[g]="on"+g}function bs(g,_){if(g.da)g=!0;else{_=new Ge(_,this);var S=g.listener,O=g.ha||g.src;g.fa&&_a(g),g=S.call(O,_)}return g}function Hr(g){return g=g[ir],g instanceof Hn?g:null}var Ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ea(g){return typeof g=="function"?g:(g[Ta]||(g[Ta]=function(_){return g.handleEvent(_)}),g[Ta])}function vt(){pe.call(this),this.i=new Hn(this),this.M=this,this.F=null}T(vt,pe),vt.prototype[ln]=!0,vt.prototype.removeEventListener=function(g,_,S,O){Mo(this,g,_,S,O)};function Je(g,_){var S,O=g.F;if(O)for(S=[];O;O=O.F)S.push(O);if(g=g.M,O=_.type||_,typeof _=="string")_=new fe(_,g);else if(_ instanceof fe)_.target=_.target||g;else{var Q=_;_=new fe(O,g),B(_,Q)}if(Q=!0,S)for(var se=S.length-1;0<=se;se--){var ye=_.g=S[se];Q=Gn(ye,O,!0,_)&&Q}if(ye=_.g=g,Q=Gn(ye,O,!0,_)&&Q,Q=Gn(ye,O,!1,_)&&Q,S)for(se=0;se<S.length;se++)ye=_.g=S[se],Q=Gn(ye,O,!1,_)&&Q}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var g=this.i,_;for(_ in g.g){for(var S=g.g[_],O=0;O<S.length;O++)Bt(S[O]);delete g.g[_],g.h--}}this.F=null},vt.prototype.K=function(g,_,S,O){return this.i.add(String(g),_,!1,S,O)},vt.prototype.L=function(g,_,S,O){return this.i.add(String(g),_,!0,S,O)};function Gn(g,_,S,O){if(_=g.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,se=0;se<_.length;++se){var ye=_[se];if(ye&&!ye.da&&ye.capture==S){var dt=ye.listener,vn=ye.ha||ye.src;ye.fa&&Vs(g.i,ye),Q=dt.call(vn,O)!==!1&&Q}}return Q&&!O.defaultPrevented}function cn(g,_,S){if(typeof g=="function")S&&(g=x(g,S));else if(g&&typeof g.handleEvent=="function")g=x(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(g,_||0)}function Gl(g){g.g=cn(()=>{g.g=null,g.i&&(g.i=!1,Gl(g))},g.l);const _=g.h;g.h=null,g.m.apply(null,_)}class Gr extends pe{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(g){pe.call(this),this.h=g,this.g={}}T(Ls,pe);var Us=[];function Bs(g){V(g.g,function(_,S){this.g.hasOwnProperty(S)&&_a(_)},g),g.g={}}Ls.prototype.N=function(){Ls.aa.N.call(this),Bs(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=u.JSON.stringify,Ni=u.JSON.parse,Kr=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Sa(){}Sa.prototype.h=null;function ji(g){return g.h||(g.h=g.i())}function Oo(){}var Yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ws(){fe.call(this,"d")}T(ws,fe);function Aa(){fe.call(this,"c")}T(Aa,fe);var or={},$s=null;function Fs(){return $s=$s||new vt}or.La="serverreachability";function Ra(g){fe.call(this,or.La,g)}T(Ra,fe);function H(g){const _=Fs();Je(_,new Ra(_))}or.STAT_EVENT="statevent";function W(g,_){fe.call(this,or.STAT_EVENT,g),this.stat=_}T(W,fe);function J(g){const _=Fs();Je(_,new W(_,g))}or.Ma="timingevent";function ue(g,_){fe.call(this,or.Ma,g),this.size=_}T(ue,fe);function ge(g,_){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},_)}function we(){this.g=!0}we.prototype.xa=function(){this.g=!1};function De(g,_,S,O,Q,se){g.info(function(){if(g.g)if(se)for(var ye="",dt=se.split("&"),vn=0;vn<dt.length;vn++){var ht=dt[vn].split("=");if(1<ht.length){var An=ht[0];ht=ht[1];var xn=An.split("_");ye=2<=xn.length&&xn[1]=="type"?ye+(An+"="+ht+"&"):ye+(An+"=redacted&")}}else ye=null;else ye=se;return"XMLHTTP REQ ("+O+") [attempt "+Q+"]: "+_+`
`+S+`
`+ye})}function Te(g,_,S,O,Q,se,ye){g.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Q+"]: "+_+`
`+S+`
`+se+" "+ye})}function Re(g,_,S,O){g.info(function(){return"XMLHTTP TEXT ("+_+"): "+Me(g,S)+(O?" "+O:"")})}function ke(g,_){g.info(function(){return"TIMEOUT: "+_})}we.prototype.info=function(){};function Me(g,_){if(!g.g)return _;if(!_)return null;try{var S=JSON.parse(_);if(S){for(g=0;g<S.length;g++)if(Array.isArray(S[g])){var O=S[g];if(!(2>O.length)){var Q=O[1];if(Array.isArray(Q)&&!(1>Q.length)){var se=Q[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return Cr(S)}catch{return _}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},st;function wt(){}T(wt,Sa),wt.prototype.g=function(){return new XMLHttpRequest},wt.prototype.i=function(){return{}},st=new wt;function pt(g,_,S,O){this.j=g,this.i=_,this.l=S,this.R=O||1,this.U=new Ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}var nt={},Wr={};function yn(g,_,S){g.L=1,g.v=Uo(jr(_)),g.m=S,g.P=!0,lr(g,null)}function lr(g,_){g.F=Date.now(),kr(g),g.A=jr(g.v);var S=g.A,O=g.R;Array.isArray(O)||(O=[String(O)]),Iu(S.i,"t",O),g.C=0,S=g.j.J,g.h=new ut,g.g=Pf(g.j,S?_:null,!g.m),0<g.O&&(g.M=new Gr(x(g.Y,g,g.g),g.O)),_=g.U,S=g.g,O=g.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Us[0]=Q.toString()),Q=Us);for(var se=0;se<Q.length;se++){var ye=Hl(S,Q[se],O||_.handleEvent,!1,_.h||_);if(!ye)break;_.g[ye.key]=ye}_=g.H?N(g.H):{},g.m?(g.u||(g.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,_)):(g.u="GET",g.g.ea(g.A,g.u,null,_)),H(),De(g.i,g.u,g.A,g.l,g.R,g.m)}pt.prototype.ca=function(g){g=g.target;const _=this.M;_&&es(g)==3?_.j():this.Y(g)},pt.prototype.Y=function(g){try{if(g==this.g)e:{const xn=es(this.g);var _=this.g.Ba();const Ui=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||Ef(this.g)))){this.J||xn!=4||_==7||(_==8||0>=Ui?H(3):H(2)),Kn(this);var S=this.g.Z();this.X=S;t:if(In(this)){var O=Ef(this.g);g="";var Q=O.length,se=es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),cr(this);var ye="";break t}this.h.i=new u.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,g+=this.h.i.decode(O[_],{stream:!(se&&_==Q-1)});O.length=0,this.h.g+=g,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=S==200,Te(this.i,this.u,this.A,this.l,this.R,xn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,vn=this.g;if((dt=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(dt)){var ht=dt;break t}}ht=null}if(S=ht)Re(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,un(this,S);else{this.o=!1,this.s=3,J(12),qe(this),cr(this);break e}}if(this.P){S=!0;let Mn;for(;!this.J&&this.C<ye.length;)if(Mn=zs(this,ye),Mn==Wr){xn==4&&(this.s=4,J(14),S=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==nt){this.s=4,J(15),Re(this.i,this.l,ye,"[Invalid Chunk]"),S=!1;break}else Re(this.i,this.l,Mn,null),un(this,Mn);if(In(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||ye.length!=0||this.h.h||(this.s=1,J(16),S=!1),this.o=this.o&&S,!S)Re(this.i,this.l,ye,"[Invalid Chunked Response]"),qe(this),cr(this);else if(0<ye.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Ko(An),An.M=!0,J(11))}}else Re(this.i,this.l,ye,null),un(this,ye);xn==4&&qe(this),this.o&&!this.J&&(xn==4?kf(this.j,this):(this.o=!1,kr(this)))}else py(this.g),S==400&&0<ye.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),qe(this),cr(this)}}}catch{}finally{}};function In(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function zs(g,_){var S=g.C,O=_.indexOf(`
`,S);return O==-1?Wr:(S=Number(_.substring(S,O)),isNaN(S)?nt:(O+=1,O+S>_.length?Wr:(_=_.slice(O,O+S),g.C=O+S,_)))}pt.prototype.cancel=function(){this.J=!0,qe(this)};function kr(g){g.S=Date.now()+g.I,Ca(g,g.I)}function Ca(g,_){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ge(x(g.ba,g),_)}function Kn(g){g.B&&(u.clearTimeout(g.B),g.B=null)}pt.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ke(this.i,this.A),this.L!=2&&(H(),J(17)),qe(this),this.s=2,cr(this)):Ca(this,this.S-g)};function cr(g){g.j.G==0||g.J||kf(g.j,g)}function qe(g){Kn(g);var _=g.M;_&&typeof _.ma=="function"&&_.ma(),g.M=null,Bs(g.U),g.g&&(_=g.g,g.g=null,_.abort(),_.ma())}function un(g,_){try{var S=g.j;if(S.G!=0&&(S.g==g||Xr(S.h,g))){if(!g.K&&Xr(S.h,g)&&S.G==3){try{var O=S.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Q=O;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<g.F)tc(S),Jl(S);else break e;Lu(S),J(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=ge(x(S.Za,S),6e3));if(1>=It(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Li(S,11)}else if((g.K||S.g==g)&&tc(S),!L(_))for(Q=S.Da.g.parse(_),_=0;_<Q.length;_++){let ht=Q[_];if(S.T=ht[0],ht=ht[1],S.G==2)if(ht[0]=="c"){S.K=ht[1],S.ia=ht[2];const An=ht[3];An!=null&&(S.la=An,S.j.info("VER="+S.la));const xn=ht[4];xn!=null&&(S.Aa=xn,S.j.info("SVER="+S.Aa));const Ui=ht[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(O=1.5*Ui,S.L=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const Mn=g.g;if(Mn){const Qs=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var se=O.h;se.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Pi(se,se.h),se.h=null))}if(O.D){const Bu=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bu&&(O.ya=Bu,Ct(O.I,O.D,Bu))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-g.F,S.j.info("Handshake RTT: "+S.R+"ms")),O=S;var ye=g;if(O.qa=jf(O,O.J?O.ia:null,O.W),ye.K){Dn(O.h,ye);var dt=ye,vn=O.L;vn&&(dt.I=vn),dt.B&&(Kn(dt),kr(dt)),O.g=ye}else Rf(O);0<S.i.length&&ec(S)}else ht[0]!="stop"&&ht[0]!="close"||Li(S,7);else S.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Li(S,7):Ou(S):ht[0]!="noop"&&S.l&&S.l.ta(ht),S.v=0)}}H(4)}catch{}}var Nr=class{constructor(g,_){this.g=g,this.map=_}};function gr(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function It(g){return g.h?1:g.g?g.g.size:0}function Xr(g,_){return g.h?g.h==_:g.g?g.g.has(_):!1}function Pi(g,_){g.g?g.g.add(_):g.h=_}function Dn(g,_){g.h&&g.h==_?g.h=null:g.g&&g.g.has(_)&&g.g.delete(_)}gr.prototype.cancel=function(){if(this.i=ku(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ku(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let _=g.i;for(const S of g.g.values())_=_.concat(S.D);return _}return E(g.i)}function dy(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var _=[],S=g.length,O=0;O<S;O++)_.push(g[O]);return _}_=[],S=0;for(O in g)_[S++]=g[O];return _}function Kl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var _=[];g=g.length;for(var S=0;S<g;S++)_.push(S);return _}_=[],S=0;for(const O in g)_[S++]=O;return _}}}function Nu(g,_){if(g.forEach&&typeof g.forEach=="function")g.forEach(_,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,_,void 0);else for(var S=Kl(g),O=dy(g),Q=O.length,se=0;se<Q;se++)_.call(void 0,O[se],S&&S[se],g)}var Vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hy(g,_){if(g){g=g.split("&");for(var S=0;S<g.length;S++){var O=g[S].indexOf("="),Q=null;if(0<=O){var se=g[S].substring(0,O);Q=g[S].substring(O+1)}else se=g[S];_(se,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function dn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof dn){this.h=g.h,Lo(this,g.j),this.o=g.o,this.g=g.g,ka(this,g.s),this.l=g.l;var _=g.i,S=new Di;S.i=_.i,_.g&&(S.g=new Map(_.g),S.h=_.h),Ii(this,S),this.m=g.m}else g&&(_=String(g).match(Vo))?(this.h=!1,Lo(this,_[1]||"",!0),this.o=Qr(_[2]||""),this.g=Qr(_[3]||"",!0),ka(this,_[4]),this.l=Qr(_[5]||"",!0),Ii(this,_[6]||"",!0),this.m=Qr(_[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}dn.prototype.toString=function(){var g=[],_=this.j;_&&g.push(Bo(_,ju,!0),":");var S=this.g;return(S||_=="file")&&(g.push("//"),(_=this.o)&&g.push(Bo(_,ju,!0),"@"),g.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&g.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&g.push("/"),g.push(Bo(S,S.charAt(0)=="/"?fy:Pu,!0))),(S=this.i.toString())&&g.push("?",S),(S=this.m)&&g.push("#",Bo(S,Yl)),g.join("")};function jr(g){return new dn(g)}function Lo(g,_,S){g.j=S?Qr(_,!0):_,g.j&&(g.j=g.j.replace(/:$/,""))}function ka(g,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);g.s=_}else g.s=null}function Ii(g,_,S){_ instanceof Di?(g.i=_,_f(g.i,g.h)):(S||(_=Bo(_,my)),g.i=new Di(_,g.h))}function Ct(g,_,S){g.i.set(_,S)}function Uo(g){return Ct(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Qr(g,_){return g?_?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Bo(g,_,S){return typeof g=="string"?(g=encodeURI(g).replace(_,wf),S&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function wf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var ju=/[#\/\?@]/g,Pu=/[#\?:]/g,fy=/[#\?]/g,my=/[#\?@]/g,Yl=/#/g;function Di(g,_){this.h=this.g=null,this.i=g||null,this.j=!!_}function Zr(g){g.g||(g.g=new Map,g.h=0,g.i&&hy(g.i,function(_,S){g.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}t=Di.prototype,t.add=function(g,_){Zr(this),this.i=null,g=Hs(this,g);var S=this.g.get(g);return S||this.g.set(g,S=[]),S.push(_),this.h+=1,this};function Mi(g,_){Zr(g),_=Hs(g,_),g.g.has(_)&&(g.i=null,g.h-=g.g.get(_).length,g.g.delete(_))}function Oi(g,_){return Zr(g),_=Hs(g,_),g.g.has(_)}t.forEach=function(g,_){Zr(this),this.g.forEach(function(S,O){S.forEach(function(Q){g.call(_,Q,O,this)},this)},this)},t.na=function(){Zr(this);const g=Array.from(this.g.values()),_=Array.from(this.g.keys()),S=[];for(let O=0;O<_.length;O++){const Q=g[O];for(let se=0;se<Q.length;se++)S.push(_[O])}return S},t.V=function(g){Zr(this);let _=[];if(typeof g=="string")Oi(this,g)&&(_=_.concat(this.g.get(Hs(this,g))));else{g=Array.from(this.g.values());for(let S=0;S<g.length;S++)_=_.concat(g[S])}return _},t.set=function(g,_){return Zr(this),this.i=null,g=Hs(this,g),Oi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[_]),this.h+=1,this},t.get=function(g,_){return g?(g=this.V(g),0<g.length?String(g[0]):_):_};function Iu(g,_,S){Mi(g,_),0<S.length&&(g.i=null,g.g.set(Hs(g,_),E(S)),g.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],_=Array.from(this.g.keys());for(var S=0;S<_.length;S++){var O=_[S];const se=encodeURIComponent(String(O)),ye=this.V(O);for(O=0;O<ye.length;O++){var Q=se;ye[O]!==""&&(Q+="="+encodeURIComponent(String(ye[O]))),g.push(Q)}}return this.i=g.join("&")};function Hs(g,_){return _=String(_),g.j&&(_=_.toLowerCase()),_}function _f(g,_){_&&!g.j&&(Zr(g),g.i=null,g.g.forEach(function(S,O){var Q=O.toLowerCase();O!=Q&&(Mi(this,O),Iu(this,Q,S))},g)),g.j=_}function $o(g,_){const S=new we;if(u.Image){const O=new Image;O.onload=w(Jr,S,"TestLoadImage: loaded",!0,_,O),O.onerror=w(Jr,S,"TestLoadImage: error",!1,_,O),O.onabort=w(Jr,S,"TestLoadImage: abort",!1,_,O),O.ontimeout=w(Jr,S,"TestLoadImage: timeout",!1,_,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=g}else _(!1)}function _s(g,_){const S=new we,O=new AbortController,Q=setTimeout(()=>{O.abort(),Jr(S,"TestPingServer: timeout",!1,_)},1e4);fetch(g,{signal:O.signal}).then(se=>{clearTimeout(Q),se.ok?Jr(S,"TestPingServer: ok",!0,_):Jr(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Jr(S,"TestPingServer: error",!1,_)})}function Jr(g,_,S,O,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),O(S)}catch{}}function Fo(){this.g=new Kr}function Gs(g,_,S){const O=S||"";try{Nu(g,function(Q,se){let ye=Q;h(Q)&&(ye=Cr(Q)),_.push(O+se+"="+encodeURIComponent(ye))})}catch(Q){throw _.push(O+"type="+encodeURIComponent("_badmap")),Q}}function Na(g){this.l=g.Ub||null,this.j=g.eb||!1}T(Na,Sa),Na.prototype.g=function(){return new Vi(this.l,this.j)},Na.prototype.i=function(g){return function(){return g}}({});function Vi(g,_){vt.call(this),this.D=g,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Vi,vt),t=Vi.prototype,t.open=function(g,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=_,this.readyState=1,Ys(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(_.body=g),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Du(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Du(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var _=g.value?g.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!g.done}))&&(this.response=this.responseText+=_)}g.done?Ks(this):Ys(this),this.readyState==3&&Du(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Ks(this))},t.Qa=function(g){this.g&&(this.response=g,Ks(this))},t.ga=function(){this.g&&Ks(this)};function Ks(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ys(g)}t.setRequestHeader=function(g,_){this.u.append(g,_)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,g.push(S[0]+": "+S[1]),S=_.next();return g.join(`\r
`)};function Ys(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Mu(g){let _="";return V(g,function(S,O){_+=O,_+=":",_+=S,_+=`\r
`}),_}function Sn(g,_,S){e:{for(O in S){var O=!1;break e}O=!0}O||(S=Mu(S),typeof g=="string"?S!=null&&encodeURIComponent(String(S)):Ct(g,_,S))}function _t(g){vt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(_t,vt);var Wl=/^https?$/i,zo=["POST","PUT"];t=_t.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,_,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);_=_?_.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():st.g(),this.v=this.o?ji(this.o):ji(st),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(g),!0),this.B=!1}catch(se){Tf(this,se);return}if(g=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Q in O)S.set(Q,O[Q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const se of O.keys())S.set(se,O.get(se));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(se=>se.toLowerCase()=="content-type"),Q=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(zo,_,void 0))||O||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ye]of S)this.g.setRequestHeader(se,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qo(this),this.u=!0,this.g.send(g),this.u=!1}catch(se){Tf(this,se)}};function Tf(g,_){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=_,g.m=5,Xl(g),Ws(g)}function Xl(g){g.A||(g.A=!0,Je(g,"complete"),Je(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Je(this,"complete"),Je(this,"abort"),Ws(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ws(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ql(this):this.bb())},t.bb=function(){Ql(this)};function Ql(g){if(g.h&&typeof l<"u"&&(!g.v[1]||es(g)!=4||g.Z()!=2)){if(g.u&&es(g)==4)cn(g.Ea,0,g);else if(Je(g,"readystatechange"),es(g)==4){g.h=!1;try{const ye=g.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var O;if(O=ye===0){var Q=String(g.D).match(Vo)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),O=!Wl.test(Q?Q.toLowerCase():"")}S=O}if(S)Je(g,"complete"),Je(g,"success");else{g.m=6;try{var se=2<es(g)?g.g.statusText:""}catch{se=""}g.l=se+" ["+g.Z()+"]",Xl(g)}}finally{Ws(g)}}}}function Ws(g,_){if(g.g){qo(g);const S=g.g,O=g.v[0]?()=>{}:null;g.g=null,g.v=null,_||Je(g,"ready");try{S.onreadystatechange=O}catch{}}}function qo(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function es(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var _=this.g.responseText;return g&&_.indexOf(g)==0&&(_=_.substring(g.length)),Ni(_)}};function Ef(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function py(g){const _={};g=(g.g&&2<=es(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<g.length;O++){if(L(g[O]))continue;var S=$(g[O]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const se=_[Q]||[];_[Q]=se,se.push(S)}P(_,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(g,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[g]||_}function Zl(g){this.Aa=0,this.i=[],this.j=new we,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ho("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ho("baseRetryDelayMs",5e3,g),this.cb=Ho("retryDelaySeedMs",1e4,g),this.Wa=Ho("forwardChannelMaxRetries",2,g),this.wa=Ho("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new gr(g&&g.concurrentRequestLimit),this.Da=new Fo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zl.prototype,t.la=8,t.G=1,t.connect=function(g,_,S,O){J(0),this.W=g,this.H=_||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.I=jf(this,null,this.W),ec(this)};function Ou(g){if(Sf(g),g.G==3){var _=g.U++,S=jr(g.I);if(Ct(S,"SID",g.K),Ct(S,"RID",_),Ct(S,"TYPE","terminate"),Go(g,S),_=new pt(g,g.j,_),_.L=2,_.v=Uo(jr(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=_.v,S=!0),S||(_.g=Pf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),kr(_)}Nf(g)}function Jl(g){g.g&&(Ko(g),g.g.cancel(),g.g=null)}function Sf(g){Jl(g),g.u&&(u.clearTimeout(g.u),g.u=null),tc(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function ec(g){if(!qs(g.h)&&!g.s){g.s=!0;var _=g.Ga;re||z(),me||(re(),me=!0),Ae.add(_,g),g.B=0}}function gy(g,_){return It(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=_.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ge(x(g.Ga,g,_),Uu(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Q=new pt(this,this.j,g);let se=this.o;if(this.S&&(se?(se=N(se),B(se,this.S)):se=this.S),this.m!==null||this.O||(Q.H=se,se=null),this.P)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=Af(this,Q,_),S=jr(this.I),Ct(S,"RID",g),Ct(S,"CVER",22),this.D&&Ct(S,"X-HTTP-Session-Id",this.D),Go(this,S),se&&(this.O?_="headers="+encodeURIComponent(String(Mu(se)))+"&"+_:this.m&&Sn(S,this.m,se)),Pi(this.h,Q),this.Ua&&Ct(S,"TYPE","init"),this.P?(Ct(S,"$req",_),Ct(S,"SID","null"),Q.T=!0,yn(Q,S,null)):yn(Q,S,_),this.G=2}}else this.G==3&&(g?Vu(this,g):this.i.length==0||qs(this.h)||Vu(this))};function Vu(g,_){var S;_?S=_.l:S=g.U++;const O=jr(g.I);Ct(O,"SID",g.K),Ct(O,"RID",S),Ct(O,"AID",g.T),Go(g,O),g.m&&g.o&&Sn(O,g.m,g.o),S=new pt(g,g.j,S,g.B+1),g.m===null&&(S.H=g.o),_&&(g.i=_.D.concat(g.i)),_=Af(g,S,1e3),S.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Pi(g.h,S),yn(S,O,_)}function Go(g,_){g.H&&V(g.H,function(S,O){Ct(_,O,S)}),g.l&&Nu({},function(S,O){Ct(_,O,S)})}function Af(g,_,S){S=Math.min(g.i.length,S);var O=g.l?x(g.l.Na,g.l,g):null;e:{var Q=g.i;let se=-1;for(;;){const ye=["count="+S];se==-1?0<S?(se=Q[0].g,ye.push("ofs="+se)):se=0:ye.push("ofs="+se);let dt=!0;for(let vn=0;vn<S;vn++){let ht=Q[vn].g;const An=Q[vn].map;if(ht-=se,0>ht)se=Math.max(0,Q[vn].g-100),dt=!1;else try{Gs(An,ye,"req"+ht+"_")}catch{O&&O(An)}}if(dt){O=ye.join("&");break e}}}return g=g.i.splice(0,S),_.D=g,O}function Rf(g){if(!g.g&&!g.u){g.Y=1;var _=g.Fa;re||z(),me||(re(),me=!0),Ae.add(_,g),g.v=0}}function Lu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ge(x(g.Fa,g),Uu(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Cf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ge(x(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),Jl(this),Cf(this))};function Ko(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Cf(g){g.g=new pt(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var _=jr(g.qa);Ct(_,"RID","rpc"),Ct(_,"SID",g.K),Ct(_,"AID",g.T),Ct(_,"CI",g.F?"0":"1"),!g.F&&g.ja&&Ct(_,"TO",g.ja),Ct(_,"TYPE","xmlhttp"),Go(g,_),g.m&&g.o&&Sn(_,g.m,g.o),g.L&&(g.g.I=g.L);var S=g.g;g=g.ia,S.L=1,S.v=Uo(jr(_)),S.m=null,S.P=!0,lr(S,g)}t.Za=function(){this.C!=null&&(this.C=null,Jl(this),Lu(this),J(19))};function tc(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function kf(g,_){var S=null;if(g.g==_){tc(g),Ko(g),g.g=null;var O=2}else if(Xr(g.h,_))S=_.D,Dn(g.h,_),O=1;else return;if(g.G!=0){if(_.o)if(O==1){S=_.m?_.m.length:0,_=Date.now()-_.F;var Q=g.B;O=Fs(),Je(O,new ue(O,S)),ec(g)}else Rf(g);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(O==1&&gy(g,_)||O==2&&Lu(g)))switch(S&&0<S.length&&(_=g.h,_.i=_.i.concat(S)),Q){case 1:Li(g,5);break;case 4:Li(g,10);break;case 3:Li(g,6);break;default:Li(g,2)}}}function Uu(g,_){let S=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(S*=2),S*_}function Li(g,_){if(g.j.info("Error code "+_),_==2){var S=x(g.fb,g),O=g.Xa;const Q=!O;O=new dn(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Lo(O,"https"),Uo(O),Q?$o(O.toString(),S):_s(O.toString(),S)}else J(2);g.G=0,g.l&&g.l.sa(_),Nf(g),Sf(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function Nf(g){if(g.G=0,g.ka=[],g.l){const _=ku(g.h);(_.length!=0||g.i.length!=0)&&(R(g.ka,_),R(g.ka,g.i),g.h.i.length=0,E(g.i),g.i.length=0),g.l.ra()}}function jf(g,_,S){var O=S instanceof dn?jr(S):new dn(S);if(O.g!="")_&&(O.g=_+"."+O.g),ka(O,O.s);else{var Q=u.location;O=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var se=new dn(null);O&&Lo(se,O),_&&(se.g=_),Q&&ka(se,Q),S&&(se.l=S),O=se}return S=g.D,_=g.ya,S&&_&&Ct(O,S,_),Ct(O,"VER",g.la),Go(g,O),O}function Pf(g,_,S){if(_&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=g.Ca&&!g.pa?new _t(new Na({eb:S})):new _t(g.pa),_.Ha(g.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function If(){}t=If.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nc(){}nc.prototype.g=function(g,_){return new ur(g,_)};function ur(g,_){vt.call(this),this.g=new Zl(_),this.l=g,this.h=_&&_.messageUrlParams||null,g=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(g?g["X-WebChannel-Content-Type"]=_.messageContentType:g={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(g?g["X-WebChannel-Client-Profile"]=_.va:g={"X-WebChannel-Client-Profile":_.va}),this.g.S=g,(g=_&&_.Sb)&&!L(g)&&(this.g.m=g),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!L(_)&&(this.g.D=_,g=this.h,g!==null&&_ in g&&(g=this.h,_ in g&&delete g[_])),this.j=new Xs(this)}T(ur,vt),ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ur.prototype.close=function(){Ou(this.g)},ur.prototype.o=function(g){var _=this.g;if(typeof g=="string"){var S={};S.__data__=g,g=S}else this.u&&(S={},S.__data__=Cr(g),g=S);_.i.push(new Nr(_.Ya++,g)),_.G==3&&ec(_)},ur.prototype.N=function(){this.g.l=null,delete this.j,Ou(this.g),delete this.g,ur.aa.N.call(this)};function Df(g){ws.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var _=g.__sm__;if(_){e:{for(const S in _){g=S;break e}g=void 0}(this.i=g)&&(g=this.i,_=_!==null&&g in _?_[g]:void 0),this.data=_}else this.data=g}T(Df,ws);function Mf(){Aa.call(this),this.status=1}T(Mf,Aa);function Xs(g){this.g=g}T(Xs,If),Xs.prototype.ua=function(){Je(this.g,"a")},Xs.prototype.ta=function(g){Je(this.g,new Df(g))},Xs.prototype.sa=function(g){Je(this.g,new Mf)},Xs.prototype.ra=function(){Je(this.g,"b")},nc.prototype.createWebChannel=nc.prototype.g,ur.prototype.send=ur.prototype.o,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,cj=function(){return new nc},lj=function(){return Fs()},oj=or,yx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,lp=Ce,Ve.COMPLETE="complete",aj=Ve,Oo.EventType=Yr,Yr.OPEN="a",Yr.CLOSE="b",Yr.ERROR="c",Yr.MESSAGE="d",vt.prototype.listen=vt.prototype.K,$d=Oo,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,ij=_t}).apply(typeof Um<"u"?Um:typeof self<"u"?self:typeof window<"u"?window:{});const IA="@firebase/firestore",DA="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new zb("@firebase/firestore");function Dc(){return jl.logLevel}function _e(t,...e){if(jl.logLevel<=lt.DEBUG){const n=e.map(n1);jl.debug(`Firestore (${mu}): ${t}`,...n)}}function aa(t,...e){if(jl.logLevel<=lt.ERROR){const n=e.map(n1);jl.error(`Firestore (${mu}): ${t}`,...n)}}function eu(t,...e){if(jl.logLevel<=lt.WARN){const n=e.map(n1);jl.warn(`Firestore (${mu}): ${t}`,...n)}}function n1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uj(t,r,n)}function uj(t,e,n){let r=`FIRESTORE (${mu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw aa(r),new Error(r)}function Tt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||uj(e,s,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jn.UNAUTHENTICATED))}shutdown(){}}class B9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $9{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new na;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new na,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},u=d=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new na)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string",31837,{l:r}),new dj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class F9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Tt(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new MA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new MA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=H9(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function vx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return tt(r,s);{const o=hj(),l=G9(o.encode(OA(t,n)),o.encode(OA(e,n)));return l!==0?l:tt(r,s)}}n+=r>65535?2:1}return tt(t.length,e.length)}function OA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function G9(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return tt(t[n],e[n]);return tt(t.length,e.length)}function tu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=-62135596800,LA=1e6;class Tn{static now(){return Tn.fromMillis(Date.now())}static fromDate(e){return Tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LA);return new Tn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VA)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LA}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-VA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Tn(0,0))}static max(){return new Ke(new Tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="__name__";class si{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=si.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return tt(e.length,n.length)}static compareSegments(e,n){const r=si.isNumericId(e),s=si.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?si.extractNumericId(e).compare(si.extractNumericId(n)):vx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class Vt extends si{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Vt(n)}static emptyPath(){return new Vt([])}}const K9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends si{construct(e,n,r){return new Fn(e,n,r)}static isValidIdentifier(e){return K9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UA}static keyField(){return new Fn([UA])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new xe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new xe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new xe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(o(),s++)}if(o(),l)throw new xe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Vt.fromString(e))}static fromName(e){return new Ie(Vt.fromString(e).popFirst(5))}static empty(){return new Ie(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=-1;function Y9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(r===1e9?new Tn(n+1,0):new Tn(n,r));return new yo(s,Ie.empty(),e)}function W9(t){return new yo(t.readTime,t.key,ph)}class yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yo(Ke.min(),Ie.empty(),ph)}static max(){return new yo(Ke.max(),Ie.empty(),ph)}}function X9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==Q9)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,r)=>{n(e)})}static reject(e){return new he((n,r)=>{r(e)})}static waitFor(e){return new he((n,r)=>{let s=0,o=0,l=!1;e.forEach(u=>{++s,u.next(()=>{++o,l&&o===s&&n()},d=>r(d))}),l=!0,o===s&&n()})}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next(s=>s?he.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new he((r,s)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const h=d;n(e[h]).next(p=>{l[h]=p,++u,u===o&&r(l)},p=>s(p))}})}static doWhile(e,n){return new he((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function J9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Tg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=-1;function Eg(t){return t==null}function Up(t){return t===0&&1/t==-1/0}function eB(t){return typeof t=="number"&&Number.isInteger(t)&&!Up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="";function tB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=BA(e)),e=nB(t.get(n),e);return BA(e)}function nB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case mj:n+="";break;default:n+=o}}return n}function BA(t){return t+mj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bm(this.root,e,this.comparator,!0)}}class Bm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??$n.RED,this.left=s??$n.EMPTY,this.right=o??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new $n(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return $n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new $n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FA(this.data.getIterator())}getIteratorFrom(e){return new FA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class FA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new $r([])}unionWith(e){let n=new En(Fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gj("Invalid base64 string: "+o):o}}(e);return new zn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const rB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(Tt(!!t,39018),typeof t=="string"){let e=0;const n=rB.exec(t);if(Tt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rn(t.seconds),nanos:rn(t.nanos)}}function rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?zn.fromBase64String(t):zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="server_timestamp",vj="__type__",xj="__previous_value__",bj="__local_write_time__";function s1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vj])===null||n===void 0?void 0:n.stringValue)===yj}function Sg(t){const e=t.mapValue.fields[xj];return s1(e)?Sg(e):e}function gh(t){const e=vo(t.mapValue.fields[bj].timestampValue);return new Tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n,r,s,o,l,u,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=p}}const Bp="(default)";class yh{constructor(e,n){this.projectId=e,this.database=n||Bp}static empty(){return new yh("","")}get isDefaultDatabase(){return this.database===Bp}isEqual(e){return e instanceof yh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="__type__",iB="__max__",$m={mapValue:{}},_j="__vector__",$p="value";function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s1(t)?4:oB(t)?9007199254740991:aB(t)?10:11:Be(28295,{value:t})}function bi(t,e){if(t===e)return!0;const n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gh(t).isEqual(gh(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=vo(s.timestampValue),u=vo(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return xo(s.bytesValue).isEqual(xo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return rn(s.geoPointValue.latitude)===rn(o.geoPointValue.latitude)&&rn(s.geoPointValue.longitude)===rn(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return rn(s.integerValue)===rn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=rn(s.doubleValue),u=rn(o.doubleValue);return l===u?Up(l)===Up(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return tu(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if($A(l)!==$A(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!bi(l[d],u[d])))return!1;return!0}(t,e);default:return Be(52216,{left:t})}}function vh(t,e){return(t.values||[]).find(n=>bi(n,e))!==void 0}function nu(t,e){if(t===e)return 0;const n=bo(t),r=bo(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return function(o,l){const u=rn(o.integerValue||o.doubleValue),d=rn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(t,e);case 3:return zA(t.timestampValue,e.timestampValue);case 4:return zA(gh(t),gh(e));case 5:return vx(t.stringValue,e.stringValue);case 6:return function(o,l){const u=xo(o),d=xo(l);return u.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=tt(u[h],d[h]);if(p!==0)return p}return tt(u.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const u=tt(rn(o.latitude),rn(l.latitude));return u!==0?u:tt(rn(o.longitude),rn(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qA(t.arrayValue,e.arrayValue);case 10:return function(o,l){var u,d,h,p;const v=o.fields||{},x=l.fields||{},w=(u=v[$p])===null||u===void 0?void 0:u.arrayValue,T=(d=x[$p])===null||d===void 0?void 0:d.arrayValue,E=tt(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return E!==0?E:qA(w,T)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===$m.mapValue&&l===$m.mapValue)return 0;if(o===$m.mapValue)return 1;if(l===$m.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let v=0;v<d.length&&v<p.length;++v){const x=vx(d[v],p[v]);if(x!==0)return x;const w=nu(u[d[v]],h[p[v]]);if(w!==0)return w}return tt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Be(23264,{Pe:n})}}function zA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=vo(t),r=vo(e),s=tt(n.seconds,r.seconds);return s!==0?s:tt(n.nanos,r.nanos)}function qA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=nu(n[s],r[s]);if(o)return o}return tt(n.length,r.length)}function ru(t){return xx(t)}function xx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=xx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${xx(n.fields[l])}`;return s+"}"}(t.mapValue):Be(61005,{value:t})}function cp(t){switch(bo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sg(t);return e?16+cp(e):16;case 5:return 2*t.stringValue.length;case 6:return xo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+cp(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ko(r.fields,(o,l)=>{s+=o.length+cp(l)}),s}(t.mapValue);default:throw Be(13486,{value:t})}}function HA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bx(t){return!!t&&"integerValue"in t}function i1(t){return!!t&&"arrayValue"in t}function GA(t){return!!t&&"nullValue"in t}function KA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function up(t){return!!t&&"mapValue"in t}function aB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[wj])===null||n===void 0?void 0:n.stringValue)===_j}function Wd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!up(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wd(n)}setAll(e){let n=Fn.emptyPath(),r={},s=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=Wd(l):s.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());up(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];up(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ko(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new _r(Wd(this.value))}}function Tj(t){const e=[];return ko(t.fields,(n,r)=>{const s=new Fn([n]);if(up(r)){const o=Tj(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new $r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r,s,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new er(e,0,Ke.min(),Ke.min(),Ke.min(),_r.empty(),0)}static newFoundDocument(e,n,r,s){return new er(e,1,n,Ke.min(),r,s,0)}static newNoDocument(e,n){return new er(e,2,n,Ke.min(),Ke.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new er(e,3,n,Ke.min(),Ke.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.position=e,this.inclusive=n}}function YA(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=nu(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function WA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function lB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{}class pn extends Ej{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uB(e,n,r):n==="array-contains"?new fB(e,r):n==="in"?new mB(e,r):n==="not-in"?new pB(e,r):n==="array-contains-any"?new gB(e,r):new pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dB(e,r):new hB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nu(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(nu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends Ej{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ps(e,n)}matches(e){return Sj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Sj(t){return t.op==="and"}function Aj(t){return cB(t)&&Sj(t)}function cB(t){for(const e of t.filters)if(e instanceof Ps)return!1;return!0}function wx(t){if(t instanceof pn)return t.field.canonicalString()+t.op.toString()+ru(t.value);if(Aj(t))return t.filters.map(e=>wx(e)).join(",");{const e=t.filters.map(n=>wx(n)).join(",");return`${t.op}(${e})`}}function Rj(t,e){return t instanceof pn?function(r,s){return s instanceof pn&&r.op===s.op&&r.field.isEqual(s.field)&&bi(r.value,s.value)}(t,e):t instanceof Ps?function(r,s){return s instanceof Ps&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,l,u)=>o&&Rj(l,s.filters[u]),!0):!1}(t,e):void Be(19439)}function Cj(t){return t instanceof pn?function(n){return`${n.field.canonicalString()} ${n.op} ${ru(n.value)}`}(t):t instanceof Ps?function(n){return n.op.toString()+" {"+n.getFilters().map(Cj).join(" ,")+"}"}(t):"Filter"}class uB extends pn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class dB extends pn{constructor(e,n){super(e,"in",n),this.keys=kj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hB extends pn{constructor(e,n){super(e,"not-in",n),this.keys=kj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class fB extends pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return i1(n)&&vh(n.arrayValue,this.value)}}class mB extends pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vh(this.value.arrayValue,n)}}class pB extends pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vh(this.value.arrayValue,n)}}class gB extends pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!i1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n=null,r=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function XA(t,e=null,n=[],r=[],s=null,o=null,l=null){return new yB(t,e,n,r,s,o,l)}function a1(t){const e=Ye(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Eg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ru(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ru(r)).join(",")),e.Ie=n}return e.Ie}function o1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Rj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WA(t.startAt,e.startAt)&&WA(t.endAt,e.endAt)}function _x(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n=null,r=[],s=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function vB(t,e,n,r,s,o,l,u){return new Ll(t,e,n,r,s,o,l,u)}function l1(t){return new Ll(t)}function QA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Nj(t){return t.collectionGroup!==null}function Xd(t){const e=Ye(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new En(Fn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new xh(o,r))}),n.has(Fn.keyField().canonicalString())||e.Ee.push(new xh(Fn.keyField(),r))}return e.Ee}function ui(t){const e=Ye(t);return e.de||(e.de=xB(e,Xd(t))),e.de}function xB(t,e){if(t.limitType==="F")return XA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new xh(s.field,o)});const n=t.endAt?new Fp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fp(t.startAt.position,t.startAt.inclusive):null;return XA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tx(t,e){const n=t.filters.concat([e]);return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zp(t,e,n){return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ag(t,e){return o1(ui(t),ui(e))&&t.limitType===e.limitType}function jj(t){return`${a1(ui(t))}|lt:${t.limitType}`}function Mc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Cj(s)).join(", ")}]`),Eg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ru(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ru(s)).join(",")),`Target(${r})`}(ui(t))}; limitType=${t.limitType})`}function Rg(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Xd(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,u,d){const h=YA(l,u,d);return l.inclusive?h<=0:h<0}(r.startAt,Xd(r),s)||r.endAt&&!function(l,u,d){const h=YA(l,u,d);return l.inclusive?h>=0:h>0}(r.endAt,Xd(r),s))}(t,e)}function bB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Pj(t){return(e,n)=>{let r=!1;for(const s of Xd(t)){const o=wB(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function wB(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(o,l,u){const d=l.data.field(o),h=u.data.field(o);return d!==null&&h!==null?nu(d,h):Be(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return pj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=new Yt(Ie.comparator);function oa(){return _B}const Ij=new Yt(Ie.comparator);function Fd(...t){let e=Ij;for(const n of t)e=e.insert(n.key,n);return e}function Dj(t){let e=Ij;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yl(){return Qd()}function Mj(){return Qd()}function Qd(){return new Ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const TB=new Yt(Ie.comparator),EB=new En(Ie.comparator);function ct(...t){let e=EB;for(const n of t)e=e.add(n);return e}const SB=new En(tt);function AB(){return SB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Up(e)?"-0":e}}function Oj(t){return{integerValue:""+t}}function RB(t,e){return eB(e)?Oj(e):c1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this._=void 0}}function CB(t,e,n){return t instanceof bh?function(s,o){const l={fields:{[vj]:{stringValue:yj},[bj]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&s1(o)&&(o=Sg(o)),o&&(l.fields[xj]=o),{mapValue:l}}(n,e):t instanceof wh?Lj(t,e):t instanceof _h?Uj(t,e):function(s,o){const l=Vj(s,o),u=ZA(l)+ZA(s.Re);return bx(l)&&bx(s.Re)?Oj(u):c1(s.serializer,u)}(t,e)}function kB(t,e,n){return t instanceof wh?Lj(t,e):t instanceof _h?Uj(t,e):n}function Vj(t,e){return t instanceof qp?function(r){return bx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class bh extends Cg{}class wh extends Cg{constructor(e){super(),this.elements=e}}function Lj(t,e){const n=Bj(e);for(const r of t.elements)n.some(s=>bi(s,r))||n.push(r);return{arrayValue:{values:n}}}class _h extends Cg{constructor(e){super(),this.elements=e}}function Uj(t,e){let n=Bj(e);for(const r of t.elements)n=n.filter(s=>!bi(s,r));return{arrayValue:{values:n}}}class qp extends Cg{constructor(e,n){super(),this.serializer=e,this.Re=n}}function ZA(t){return rn(t.integerValue||t.doubleValue)}function Bj(t){return i1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n){this.field=e,this.transform=n}}function jB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof wh&&s instanceof wh||r instanceof _h&&s instanceof _h?tu(r.elements,s.elements,bi):r instanceof qp&&s instanceof qp?bi(r.Re,s.Re):r instanceof bh&&s instanceof bh}(t.transform,e.transform)}class PB{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kg{}function $j(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zj(t.key,di.none()):new Qh(t.key,t.data,di.none());{const n=t.data,r=_r.empty();let s=new En(Fn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new No(t.key,r,new $r(s.toArray()),di.none())}}function IB(t,e,n){t instanceof Qh?function(s,o,l){const u=s.value.clone(),d=eR(s.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof No?function(s,o,l){if(!dp(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=eR(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(Fj(s)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Zd(t,e,n,r){return t instanceof Qh?function(o,l,u,d){if(!dp(o.precondition,l))return u;const h=o.value.clone(),p=tR(o.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof No?function(o,l,u,d){if(!dp(o.precondition,l))return u;const h=tR(o.fieldTransforms,d,l),p=l.data;return p.setAll(Fj(o)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(o,l,u){return dp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function DB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=Vj(r.transform,s||null);o!=null&&(n===null&&(n=_r.empty()),n.set(r.field,o))}return n||null}function JA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&tu(r,s,(o,l)=>jB(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qh extends kg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class No extends kg{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Fj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eR(t,e,n){const r=new Map;Tt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,u=e.data.field(o.field);r.set(o.field,kB(l,u,n[s]))}return r}function tR(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,CB(o,l,e))}return r}class zj extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MB extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&IB(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Mj();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(s.key)?null:u;const d=$j(l,u);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ct())}isEqual(e){return this.batchId===e.batchId&&tu(this.mutations,e.mutations,(n,r)=>JA(n,r))&&tu(this.baseMutations,e.baseMutations,(n,r)=>JA(n,r))}}class u1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Tt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return TB}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new u1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,mt;function UB(t){switch(t){case ce.OK:return Be(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function qj(t){if(t===void 0)return aa("GRPC error has no .code"),ce.UNKNOWN;switch(t){case mn.OK:return ce.OK;case mn.CANCELLED:return ce.CANCELLED;case mn.UNKNOWN:return ce.UNKNOWN;case mn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case mn.INTERNAL:return ce.INTERNAL;case mn.UNAVAILABLE:return ce.UNAVAILABLE;case mn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case mn.NOT_FOUND:return ce.NOT_FOUND;case mn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case mn.ABORTED:return ce.ABORTED;case mn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case mn.DATA_LOSS:return ce.DATA_LOSS;default:return Be(39323,{code:t})}}(mt=mn||(mn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=new fo([4294967295,4294967295],0);function nR(t){const e=hj().encode(t),n=new sj;return n.update(e),new Uint8Array(n.digest())}function rR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fo([n,r],0),new fo([s,o],0)]}class d1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zd(`Invalid padding: ${n}`);if(r<0)throw new zd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=fo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(fo.fromNumber(r)));return s.compare(BB)===1&&(s=new fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=nR(e),[r,s]=rR(n);for(let o=0;o<this.hashCount;o++){const l=this.we(r,s,o);if(!this.Se(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new d1(o,s,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const n=nR(e),[r,s]=rR(n);for(let o=0;o<this.hashCount;o++){const l=this.we(r,s,o);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ng(Ke.min(),s,new Yt(tt),oa(),ct())}}class Zh{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zh(r,n,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class Hj{constructor(e,n){this.targetId=e,this.Ce=n}}class Gj{constructor(e,n,r=zn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class sR{constructor(){this.Fe=0,this.Me=iR(),this.xe=zn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ct(),n=ct(),r=ct();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Be(38017,{changeType:o})}}),new Zh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=iR()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Tt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $B{constructor(e){this.ze=e,this.je=new Map,this.He=oa(),this.Je=Fm(),this.Ye=Fm(),this.Ze=new Yt(tt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const o=s.target;if(_x(o))if(r===0){const l=new Ie(o.path);this.tt(n,l,er.newNoDocument(l,Ke.min()))}else Tt(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const u=this.ct(e),d=u?this.lt(u,e,l):1;if(d!==0){this.st(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,u;try{l=xo(r).toUint8Array()}catch(d){if(d instanceof gj)return eu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new d1(l,s,o)}catch(d){return eu(d instanceof zd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.pe===0?null:u}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.tt(n,o,null),s++)}),s}It(e){const n=new Map;this.je.forEach((o,l)=>{const u=this._t(l);if(u){if(o.current&&_x(u.target)){const d=new Ie(u.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,er.newNoDocument(d,e))}o.Le&&(n.set(l,o.qe()),o.Qe())}});let r=ct();this.Ye.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const h=this._t(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const s=new Ng(e,n,this.Ze,this.He,r);return this.He=oa(),this.Je=Fm(),this.Ye=Fm(),this.Ze=new Yt(tt),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new sR,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new En(tt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new En(tt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new sR),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Fm(){return new Yt(Ie.comparator)}function iR(){return new Yt(Ie.comparator)}const FB={asc:"ASCENDING",desc:"DESCENDING"},zB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qB={and:"AND",or:"OR"};class HB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ex(t,e){return t.useProto3Json||Eg(e)?e:{value:e}}function Hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GB(t,e){return Hp(t,e.toTimestamp())}function hi(t){return Tt(!!t,49232),Ke.fromTimestamp(function(n){const r=vo(n);return new Tn(r.seconds,r.nanos)}(t))}function h1(t,e){return Sx(t,e).canonicalString()}function Sx(t,e){const n=function(s){return new Vt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Yj(t){const e=Vt.fromString(t);return Tt(Jj(e),10190,{key:e.toString()}),e}function Ax(t,e){return h1(t.databaseId,e.path)}function Sv(t,e){const n=Yj(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(Xj(n))}function Wj(t,e){return h1(t.databaseId,e)}function KB(t){const e=Yj(t);return e.length===4?Vt.emptyPath():Xj(e)}function Rx(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Xj(t){return Tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aR(t,e,n){return{name:Ax(t,e),fields:n.value.mapValue.fields}}function YB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,p){return h.useProto3Json?(Tt(p===void 0||typeof p=="string",58123),zn.fromBase64String(p||"")):(Tt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),zn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const p=h.code===void 0?ce.UNKNOWN:qj(h.code);return new xe(p,h.message||"")}(l);n=new Gj(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sv(t,r.document.name),o=hi(r.document.updateTime),l=r.document.createTime?hi(r.document.createTime):Ke.min(),u=new _r({mapValue:{fields:r.document.fields}}),d=er.newFoundDocument(s,o,l,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new hp(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sv(t,r.document),o=r.readTime?hi(r.readTime):Ke.min(),l=er.newNoDocument(s,o),u=r.removedTargetIds||[];n=new hp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sv(t,r.document),o=r.removedTargetIds||[];n=new hp([],o,s,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new LB(s,o),u=r.targetId;n=new Hj(u,l)}}return n}function WB(t,e){let n;if(e instanceof Qh)n={update:aR(t,e.key,e.value)};else if(e instanceof zj)n={delete:Ax(t,e.key)};else if(e instanceof No)n={update:aR(t,e.key,e.data),updateMask:s$(e.fieldMask)};else{if(!(e instanceof MB))return Be(16599,{ft:e.type});n={verify:Ax(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof bh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof wh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof _h)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof qp)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Be(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:GB(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Be(27497)}(t,e.precondition)),n}function XB(t,e){return t&&t.length>0?(Tt(e!==void 0,14353),t.map(n=>function(s,o){let l=s.updateTime?hi(s.updateTime):hi(o);return l.isEqual(Ke.min())&&(l=hi(o)),new PB(l,s.transformResults||[])}(n,e))):[]}function QB(t,e){return{documents:[Wj(t,e.path)]}}function ZB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Wj(t,s);const o=function(h){if(h.length!==0)return Zj(Ps.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(p=>function(x){return{field:Oc(x.field),direction:t$(x.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Ex(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:s}}function JB(t){let e=KB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Tt(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(v){const x=Qj(v);return x instanceof Ps&&Aj(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(x=>function(T){return new xh(Vc(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(x))}(n.orderBy));let u=null;n.limit&&(u=function(v){let x;return x=typeof v=="object"?v.value:v,Eg(x)?null:x}(n.limit));let d=null;n.startAt&&(d=function(v){const x=!!v.before,w=v.values||[];return new Fp(w,x)}(n.startAt));let h=null;return n.endAt&&(h=function(v){const x=!v.before,w=v.values||[];return new Fp(w,x)}(n.endAt)),vB(e,s,l,o,u,"F",d,h)}function e$(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vc(n.unaryFilter.field);return pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Vc(n.unaryFilter.field);return pn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vc(n.unaryFilter.field);return pn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Vc(n.unaryFilter.field);return pn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(t):t.fieldFilter!==void 0?function(n){return pn.create(Vc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ps.create(n.compositeFilter.filters.map(r=>Qj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(n.compositeFilter.op))}(t):Be(30097,{filter:t})}function t$(t){return FB[t]}function n$(t){return zB[t]}function r$(t){return qB[t]}function Oc(t){return{fieldPath:t.canonicalString()}}function Vc(t){return Fn.fromServerFormat(t.fieldPath)}function Zj(t){return t instanceof pn?function(n){if(n.op==="=="){if(KA(n.value))return{unaryFilter:{field:Oc(n.field),op:"IS_NAN"}};if(GA(n.value))return{unaryFilter:{field:Oc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KA(n.value))return{unaryFilter:{field:Oc(n.field),op:"IS_NOT_NAN"}};if(GA(n.value))return{unaryFilter:{field:Oc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oc(n.field),op:n$(n.op),value:n.value}}}(t):t instanceof Ps?function(n){const r=n.getFilters().map(s=>Zj(s));return r.length===1?r[0]:{compositeFilter:{op:r$(n.op),filters:r}}}(t):Be(54877,{filter:t})}function s$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,s,o=Ke.min(),l=Ke.min(),u=zn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.wt=e}}function a$(t){const e=JB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(){this.Cn=new l$}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(yo.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class l${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new En(Vt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new En(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eP=41943040;class br{static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(eP,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new su(0)}static lr(){return new su(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="LruGarbageCollector",c$=1048576;function cR([t,e],[n,r]){const s=tt(t,n);return s===0?tt(e,r):s}class u${constructor(e){this.Er=e,this.buffer=new En(cR),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_e(lR,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gu(n)?_e(lR,"Ignoring IndexedDB error during garbage collection: ",n):await pu(n)}await this.mr(3e5)})}}class h${constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Tg.le);const r=new u$(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(oR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oR):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,o,l,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,n))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),Dc()<=lt.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function f$(t,e){return new h$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(){this.changes=new Ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Zd(r.mutation,s,$r.empty(),Tn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ct()){const s=yl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let l=Fd();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=yl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ct()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,s){let o=oa();const l=Qd(),u=function(){return Qd()}();return n.forEach((d,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof No)?o=o.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Zd(p.mutation,h,p.mutation.getFieldMask(),Tn.now())):l.set(h.key,$r.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,p)=>l.set(h,p)),n.forEach((h,p)=>{var v;return u.set(h,new p$(p,(v=l.get(h))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Qd();let s=new Yt((l,u)=>l-u),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let p=r.get(d)||$r.empty();p=u.applyToLocalView(h,p),r.set(d,p);const v=(s.get(u.batchId)||ct()).add(d);s=s.insert(u.batchId,v)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,v=Mj();p.forEach(x=>{if(!o.has(x)){const w=$j(n.get(x),r.get(x));w!==null&&v.set(x,w),o=o.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,v))}return he.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Nj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):he.resolve(yl());let u=ph,d=o;return l.next(h=>he.forEach(h,(p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(p)?he.resolve():this.remoteDocumentCache.getEntry(e,p).next(x=>{d=d.insert(p,x)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,ct())).next(p=>({batchId:u,changes:Dj(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let s=Fd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=Fd();return this.indexManager.getCollectionParents(e,o).next(u=>he.forEach(u,d=>{const h=function(v,x){return new Ll(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(p=>{p.forEach((v,x)=>{l=l.insert(v,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(l=>{o.forEach((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,er.newInvalidDocument(p)))});let u=Fd();return l.forEach((d,h)=>{const p=o.get(d);p!==void 0&&Zd(p.mutation,h,$r.empty(),Tn.now()),Rg(n,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return he.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:hi(s.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:a$(s.bundledQuery),readTime:hi(s.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(){this.overlays=new Yt(Ie.comparator),this.Qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yl();return he.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.bt(e,n,o)}),he.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const s=yl(),o=n.length+1,l=new Ie(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return he.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Yt((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=o.get(h.largestBatchId);p===null&&(p=yl(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=yl(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=s)););return he.resolve(u)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new VB(n,r));let o=this.Qr.get(n);o===void 0&&(o=ct(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.$r=new En(Nn.Ur),this.Kr=new En(Nn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Nn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Nn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ie(new Vt([])),r=new Nn(n,e),s=new Nn(n,e+1),o=[];return this.Kr.forEachInRange([r,s],l=>{this.zr(l),o.push(l.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ie(new Vt([])),r=new Nn(n,e),s=new Nn(n,e+1);let o=ct();return this.Kr.forEachInRange([r,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Nn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ie.comparator(e.key,n.key)||tt(e.Zr,n.Zr)}static Wr(e,n){return tt(e.Zr,n.Zr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new En(Nn.Ur)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new OB(o,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Xr=this.Xr.add(new Nn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,n){return he.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),o=s<0?0:s;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?r1:this.nr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nn(n,0),s=new Nn(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],l=>{const u=this.ei(l.Zr);o.push(u)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new En(tt);return n.forEach(s=>{const o=new Nn(s,0),l=new Nn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,l],u=>{r=r.add(u.Zr)})}),he.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ie.isDocumentKey(o)||(o=o.child(""));const l=new Nn(new Ie(o),0);let u=new En(tt);return this.Xr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(u=u.add(d.Zr)),!0)},l),he.resolve(this.ni(u))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Tt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return he.forEach(n.mutations,s=>{const o=new Nn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Nn(n,0),s=this.Xr.firstAfterOrEqual(r);return he.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e){this.ii=e,this.docs=function(){return new Yt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():er.newInvalidDocument(n))}getEntries(e,n){let r=oa();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():er.newInvalidDocument(s))}),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=oa();const l=n.path,u=new Ie(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||X9(W9(p),r)<=0||(s.has(p.key)||Rg(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Be(9500)}si(e,n){return he.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _$(this)}getSize(e){return he.resolve(this.size)}}class _$ extends m${constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),he.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.persistence=e,this.oi=new Ul(n=>a1(n),o1),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this._i=0,this.ai=new f1,this.targetCount=0,this.ui=su.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),he.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new su(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Tr(n),he.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.oi.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),he.waitFor(o).next(()=>s)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n){this.ci={},this.overlays={},this.li=new Tg(0),this.hi=!1,this.hi=!0,this.Pi=new x$,this.referenceDelegate=e(this),this.Ti=new T$(this),this.indexManager=new o$,this.remoteDocumentCache=function(s){return new w$(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new i$(n),this.Ei=new y$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new b$(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const s=new E$(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,n){return he.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class E$ extends Z9{constructor(e){super(),this.currentSequenceNumber=e}}class m1{constructor(e){this.persistence=e,this.Vi=new f1,this.mi=null}static fi(e){return new m1(e)}get gi(){if(this.mi)return this.mi;throw Be(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.gi,r=>{const s=Ie.fromPath(r);return this.pi(e,s).next(o=>{o||n.removeEntry(s,Ke.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return he.or([()=>he.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Gp{constructor(e,n){this.persistence=e,this.yi=new Ul(r=>tB(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=f$(this,n)}static fi(e,n){return new Gp(e,n)}di(){}Ai(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return he.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?he.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,l=>this.Dr(e,l,n).next(u=>{u||(r++,o.removeEntry(l,Ke.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),he.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cp(e.data.value)),n}Dr(e,n,r){return he.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return he.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=ct(),s=ct();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new p1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return r5()?8:J9(sr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ws(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Ss(e,n,s,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new S$;return this.bs(e,n,l).next(u=>{if(o.result=u,this.fs)return this.Ds(e,n,l,u.size)})}).next(()=>o.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Dc()<=lt.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Mc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),he.resolve()):(Dc()<=lt.DEBUG&&_e("QueryEngine","Query:",Mc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Dc()<=lt.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Mc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):he.resolve())}ws(e,n){if(QA(n))return he.resolve(null);let r=ui(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=zp(n,null,"F"),r=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=ct(...o);return this.ys.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.vs(n,u);return this.Cs(n,h,l,d.readTime)?this.ws(e,zp(n,null,"F")):this.Fs(e,h,n,d)}))})))}Ss(e,n,r,s){return QA(n)||s.isEqual(Ke.min())?he.resolve(null):this.ys.getDocuments(e,r).next(o=>{const l=this.vs(n,o);return this.Cs(n,l,r,s)?he.resolve(null):(Dc()<=lt.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mc(n)),this.Fs(e,l,n,Y9(s,ph)).next(u=>u))})}vs(e,n){let r=new En(Pj(e));return n.forEach((s,o)=>{Rg(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}bs(e,n,r){return Dc()<=lt.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Mc(n)),this.ys.getDocumentsMatchingQuery(e,n,yo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="LocalStore",R$=3e8;class C${constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Yt(tt),this.Os=new Ul(o=>a1(o),o1),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g$(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function k$(t,e,n,r){return new C$(t,e,n,r)}async function nP(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let d=ct();for(const h of s){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of o){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next(h=>({ks:h,removedBatchIds:l,addedBatchIds:u}))})})}function N$(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(u,d,h,p){const v=h.batch,x=v.keys();let w=he.resolve();return x.forEach(T=>{w=w.next(()=>p.getEntry(d,T)).next(E=>{const R=h.docVersions.get(T);Tt(R!==null,48541),E.version.compareTo(R)<0&&(v.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(d,v))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=ct();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function rP(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function j$(t,e){const n=Ye(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const u=[];e.targetChanges.forEach((p,v)=>{const x=s.get(v);if(!x)return;u.push(n.Ti.removeMatchingKeys(o,p.removedDocuments,v).next(()=>n.Ti.addMatchingKeys(o,p.addedDocuments,v)));let w=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(zn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),s=s.insert(v,w),function(E,R,C){return E.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=R$?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(x,w,p)&&u.push(n.Ti.updateTargetData(o,w))});let d=oa(),h=ct();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),u.push(P$(o,l,e.documentUpdates).next(p=>{d=p.qs,h=p.Qs})),!r.isEqual(Ke.min())){const p=n.Ti.getLastRemoteSnapshotVersion(o).next(v=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(p)}return he.waitFor(u).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(n.xs=s,o))}function P$(t,e,n){let r=ct(),s=ct();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=oa();return n.forEach((u,d)=>{const h=o.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Ke.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):_e(g1,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{qs:l,Qs:s}})}function I$(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=r1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function D$(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(o=>o?(s=o,he.resolve(s)):n.Ti.allocateTargetId(r).next(l=>(s=new co(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Cx(t,e,n){const r=Ye(t),s=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!gu(l))throw l;_e(g1,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function uR(t,e,n){const r=Ye(t);let s=Ke.min(),o=ct();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,p){const v=Ye(d),x=v.Os.get(p);return x!==void 0?he.resolve(v.xs.get(x)):v.Ti.getTargetData(h,p)}(r,l,ui(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,n?s:Ke.min(),n?o:ct())).next(u=>(M$(r,bB(e),u),{documents:u,$s:o})))}function M$(t,e,n){let r=t.Ns.get(e)||Ke.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class dR{constructor(){this.activeTargetIds=AB()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O${constructor(){this.xo=new dR,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new dR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="ConnectivityMonitor";class fR{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_e(hR,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_e(hR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm=null;function kx(){return zm===null?zm=function(){return 268435456+Math.round(2147483648*Math.random())}():zm++,"0x"+zm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="RestConnection",L$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U${get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Bp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,o){const l=kx(),u=this.jo(e,n.toUriEncodedString());_e(Av,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,s,o);const{host:h}=new URL(u),p=hu(h);return this.Jo(e,u,d,r,p).then(v=>(_e(Av,`Received RPC '${e}' ${l}: `,v),v),v=>{throw eu(Av,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v})}Yo(e,n,r,s,o,l){return this.zo(e,n,r,s,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,n){const r=L$[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="WebChannelConnection";class $$ extends U${constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const l=kx();return new Promise((u,d)=>{const h=new ij;h.setWithCredentials(!0),h.listenOnce(aj.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case lp.NO_ERROR:const v=h.getResponseJson();_e(Xn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case lp.TIMEOUT:_e(Xn,`RPC '${e}' ${l} timed out`),d(new xe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case lp.HTTP_ERROR:const x=h.getStatus();if(_e(Xn,`RPC '${e}' ${l} failed with status:`,x,"response text:",h.getResponseText()),x>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const E=function(C){const L=C.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(L)>=0?L:ce.UNKNOWN}(T.status);d(new xe(E,T.message))}else d(new xe(ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new xe(ce.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{_e(Xn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(s);_e(Xn,`RPC '${e}' ${l} sending request:`,s),h.send(n,"POST",p,r,15)})}T_(e,n,r){const s=kx(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=cj(),u=lj(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=o.join("");_e(Xn,`Creating RPC '${e}' stream ${s}: ${p}`,d);const v=l.createWebChannel(p,d);let x=!1,w=!1;const T=new B$({Zo:R=>{w?_e(Xn,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(x||(_e(Xn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),x=!0),_e(Xn,`RPC '${e}' stream ${s} sending:`,R),v.send(R))},Xo:()=>v.close()}),E=(R,C,L)=>{R.listen(C,j=>{try{L(j)}catch(U){setTimeout(()=>{throw U},0)}})};return E(v,$d.EventType.OPEN,()=>{w||(_e(Xn,`RPC '${e}' stream ${s} transport opened.`),T.__())}),E(v,$d.EventType.CLOSE,()=>{w||(w=!0,_e(Xn,`RPC '${e}' stream ${s} transport closed`),T.u_())}),E(v,$d.EventType.ERROR,R=>{w||(w=!0,eu(Xn,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),T.u_(new xe(ce.UNAVAILABLE,"The operation could not be completed")))}),E(v,$d.EventType.MESSAGE,R=>{var C;if(!w){const L=R.data[0];Tt(!!L,16349);const j=L,U=(j==null?void 0:j.error)||((C=j[0])===null||C===void 0?void 0:C.error);if(U){_e(Xn,`RPC '${e}' stream ${s} received error:`,U);const M=U.status;let V=function(D){const B=mn[D];if(B!==void 0)return qj(B)}(M),P=U.message;V===void 0&&(V=ce.INTERNAL,P="Unknown error status: "+M+" with message "+U.message),w=!0,T.u_(new xe(V,P)),v.close()}else _e(Xn,`RPC '${e}' stream ${s} received:`,L),T.c_(L)}}),E(u,oj.STAT_EVENT,R=>{R.stat===yx.PROXY?_e(Xn,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===yx.NOPROXY&&_e(Xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}}function Rv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){return new HB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="PersistentStream";class iP{constructor(e,n,r,s,o,l,u,d){this.xi=e,this.y_=r,this.w_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new sP(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new xe(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return _e(mR,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(_e(mR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F$ extends iP{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=YB(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ke.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ke.min():l.readTime?hi(l.readTime):Ke.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=Rx(this.serializer),n.addTarget=function(o,l){let u;const d=l.target;if(u=_x(d)?{documents:QB(o,d)}:{query:ZB(o,d).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Kj(o,l.resumeToken);const h=Ex(o,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ke.min())>0){u.readTime=Hp(o,l.snapshotVersion.toTimestamp());const h=Ex(o,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=e$(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=Rx(this.serializer),n.removeTarget=e,this.L_(n)}}class z$ extends iP{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=XB(e.writeResults,e.commitTime),r=hi(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=Rx(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WB(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${}class H$ extends q${constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.zo(e,Sx(n,r),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ce.UNKNOWN,o.toString())})}Yo(e,n,r,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(e,Sx(n,r),s,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(ce.UNKNOWN,l.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class G${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(aa(n),this.oa=!1):_e("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="RemoteStore";class K${constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(l=>{r.enqueueAndForget(async()=>{Bl(this)&&(_e(Pl,"Restarting streams for network reachability change."),await async function(d){const h=Ye(d);h.Ta.add(4),await Jh(h),h.da.set("Unknown"),h.Ta.delete(4),await Pg(h)}(this))})}),this.da=new G$(r,s)}}async function Pg(t){if(Bl(t))for(const e of t.Ia)await e(!0)}async function Jh(t){for(const e of t.Ia)await e(!1)}function aP(t,e){const n=Ye(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),b1(n)?x1(n):yu(n).M_()&&v1(n,e))}function y1(t,e){const n=Ye(t),r=yu(n);n.Pa.delete(e),r.M_()&&oP(n,e),n.Pa.size===0&&(r.M_()?r.N_():Bl(n)&&n.da.set("Unknown"))}function v1(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yu(t).H_(e)}function oP(t,e){t.Aa.Ke(e),yu(t).J_(e)}function x1(t){t.Aa=new $B({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),yu(t).start(),t.da._a()}function b1(t){return Bl(t)&&!yu(t).F_()&&t.Pa.size>0}function Bl(t){return Ye(t).Ta.size===0}function lP(t){t.Aa=void 0}async function Y$(t){t.da.set("Online")}async function W$(t){t.Pa.forEach((e,n)=>{v1(t,e)})}async function X$(t,e){lP(t),b1(t)?(t.da.ca(e),x1(t)):t.da.set("Unknown")}async function Q$(t,e,n){if(t.da.set("Online"),e instanceof Gj&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Pa.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Pa.delete(u),s.Aa.removeTarget(u))}(t,e)}catch(r){_e(Pl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kp(t,r)}else if(e instanceof hp?t.Aa.Xe(e):e instanceof Hj?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Ke.min()))try{const r=await rP(t.localStore);n.compareTo(r)>=0&&await function(o,l){const u=o.Aa.It(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=o.Pa.get(h);p&&o.Pa.set(h,p.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const p=o.Pa.get(d);if(!p)return;o.Pa.set(d,p.withResumeToken(zn.EMPTY_BYTE_STRING,p.snapshotVersion)),oP(o,d);const v=new co(p.target,d,h,p.sequenceNumber);v1(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){_e(Pl,"Failed to raise snapshot:",r),await Kp(t,r)}}async function Kp(t,e,n){if(!gu(e))throw e;t.Ta.add(1),await Jh(t),t.da.set("Offline"),n||(n=()=>rP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(Pl,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Pg(t)})}function cP(t,e){return e().catch(n=>Kp(t,n,e))}async function Ig(t){const e=Ye(t),n=wo(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:r1;for(;Z$(e);)try{const s=await I$(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,J$(e,s)}catch(s){await Kp(e,s)}uP(e)&&dP(e)}function Z$(t){return Bl(t)&&t.ha.length<10}function J$(t,e){t.ha.push(e);const n=wo(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function uP(t){return Bl(t)&&!wo(t).F_()&&t.ha.length>0}function dP(t){wo(t).start()}async function eF(t){wo(t).ta()}async function tF(t){const e=wo(t);for(const n of t.ha)e.Z_(n.mutations)}async function nF(t,e,n){const r=t.ha.shift(),s=u1.from(r,e,n);await cP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ig(t)}async function rF(t,e){e&&wo(t).Y_&&await async function(r,s){if(function(l){return UB(l)&&l!==ce.ABORTED}(s.code)){const o=r.ha.shift();wo(r).O_(),await cP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Ig(r)}}(t,e),uP(t)&&dP(t)}async function pR(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),_e(Pl,"RemoteStore received new credentials");const r=Bl(n);n.Ta.add(3),await Jh(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Pg(n)}async function sF(t,e){const n=Ye(t);e?(n.Ta.delete(2),await Pg(n)):e||(n.Ta.add(2),await Jh(n),n.da.set("Unknown"))}function yu(t){return t.Ra||(t.Ra=function(n,r,s){const o=Ye(n);return o.ra(),new F$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:Y$.bind(null,t),n_:W$.bind(null,t),i_:X$.bind(null,t),j_:Q$.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),b1(t)?x1(t):t.da.set("Unknown")):(await t.Ra.stop(),lP(t))})),t.Ra}function wo(t){return t.Va||(t.Va=function(n,r,s){const o=Ye(n);return o.ra(),new z$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:eF.bind(null,t),i_:rF.bind(null,t),X_:tF.bind(null,t),ea:nF.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Ig(t)):(await t.Va.stop(),t.ha.length>0&&(_e(Pl,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,u=new w1(e,n,l,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _1(t,e){if(aa("AsyncQueue",`${e}: ${t}`),gu(t))return new xe(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{static emptySet(e){return new Jc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Fd(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.ma=new Yt(Ie.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Be(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class iu{constructor(e,n,r,s,o,l,u,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new iu(e,n,Jc.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class aF{constructor(){this.queries=yR(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=Ye(n),o=s.queries;s.queries=yR(),o.forEach((l,u)=>{for(const d of u.ya)d.onError(r)})})(this,new xe(ce.ABORTED,"Firestore shutting down"))}}function yR(){return new Ul(t=>jj(t),Ag)}async function hP(t,e){const n=Ye(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.wa()&&e.Sa()&&(r=2):(o=new iF,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await n.onListen(s,!0);break;case 1:o.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=_1(l,`Initialization of query '${Mc(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,o),o.ya.push(e),e.Da(n.onlineState),o.pa&&e.va(o.pa)&&T1(n)}async function fP(t,e){const n=Ye(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const l=o.ya.indexOf(e);l>=0&&(o.ya.splice(l,1),o.ya.length===0?s=e.Sa()?0:1:!o.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oF(t,e){const n=Ye(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const u of l.ya)u.va(s)&&(r=!0);l.pa=s}}r&&T1(n)}function lF(t,e,n){const r=Ye(t),s=r.queries.get(e);if(s)for(const o of s.ya)o.onError(n);r.queries.delete(e)}function T1(t){t.ba.forEach(e=>{e.next()})}var Nx,vR;(vR=Nx||(Nx={})).Ca="default",vR.Cache="cache";class mP{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Nx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.key=e}}class gP{constructor(e){this.key=e}}class cF{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ct(),this.mutatedKeys=ct(),this.Ha=Pj(e),this.Ja=new Jc(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new gR,s=n?n.Ja:this.Ja;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,v)=>{const x=s.get(p),w=Rg(this.query,v)?v:null,T=!!x&&this.mutatedKeys.has(x.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;x&&w?x.data.isEqual(w.data)?T!==E&&(r.track({type:3,doc:w}),R=!0):this.eu(x,w)||(r.track({type:2,doc:w}),R=!0,(d&&this.Ha(w,d)>0||h&&this.Ha(w,h)<0)&&(u=!0)):!x&&w?(r.track({type:0,doc:w}),R=!0):x&&!w&&(r.track({type:1,doc:x}),R=!0,(d||h)&&(u=!0)),R&&(w?(l=l.add(w),o=E?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ja:l,Xa:r,Cs:u,mutatedKeys:o}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const l=e.Xa.ga();l.sort((p,v)=>function(w,T){const E=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:R})}};return E(w)-E(T)}(p.type,v.type)||this.Ha(p.doc,v.doc)),this.tu(r),s=s!=null&&s;const u=n&&!s?this.nu():[],d=this.ja.size===0&&this.current&&!s?1:0,h=d!==this.za;return this.za=d,l.length!==0||h?{snapshot:new iu(this.query,e.Ja,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:u}:{ru:u}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new gR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ct(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new gP(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new pP(r))}),n}su(e){this.Ga=e.$s,this.ja=ct();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return iu.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const E1="SyncEngine";class uF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dF{constructor(e){this.key=e,this._u=!1}}class hF{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.au={},this.uu=new Ul(u=>jj(u),Ag),this.cu=new Map,this.lu=new Set,this.hu=new Yt(Ie.comparator),this.Pu=new Map,this.Tu=new f1,this.Iu={},this.Eu=new Map,this.du=su.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function fF(t,e,n=!0){const r=_P(t);let s;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ou()):s=await yP(r,e,n,!0),s}async function mF(t,e){const n=_P(t);await yP(n,e,!0,!1)}async function yP(t,e,n,r){const s=await D$(t.localStore,ui(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await pF(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&aP(t.remoteStore,s),u}async function pF(t,e,n,r,s){t.Ru=(v,x,w)=>async function(E,R,C,L){let j=R.view.Za(C);j.Cs&&(j=await uR(E.localStore,R.query,!1).then(({documents:P})=>R.view.Za(P,j)));const U=L&&L.targetChanges.get(R.targetId),M=L&&L.targetMismatches.get(R.targetId)!=null,V=R.view.applyChanges(j,E.isPrimaryClient,U,M);return bR(E,R.targetId,V.ru),V.snapshot}(t,v,x,w);const o=await uR(t.localStore,e,!0),l=new cF(e,o.$s),u=l.Za(o.documents),d=Zh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=l.applyChanges(u,t.isPrimaryClient,d);bR(t,n,h.ru);const p=new uF(e,n,l);return t.uu.set(e,p),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),h.snapshot}async function gF(t,e,n){const r=Ye(t),s=r.uu.get(e),o=r.cu.get(s.targetId);if(o.length>1)return r.cu.set(s.targetId,o.filter(l=>!Ag(l,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Cx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&y1(r.remoteStore,s.targetId),jx(r,s.targetId)}).catch(pu)):(jx(r,s.targetId),await Cx(r.localStore,s.targetId,!0))}async function yF(t,e){const n=Ye(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),y1(n.remoteStore,r.targetId))}async function vF(t,e,n){const r=SF(t);try{const s=await function(l,u){const d=Ye(l),h=Tn.now(),p=u.reduce((w,T)=>w.add(T.key),ct());let v,x;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=oa(),E=ct();return d.Bs.getEntries(w,p).next(R=>{T=R,T.forEach((C,L)=>{L.isValidDocument()||(E=E.add(C))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,T)).next(R=>{v=R;const C=[];for(const L of u){const j=DB(L,v.get(L.key).overlayedDocument);j!=null&&C.push(new No(L.key,j,Tj(j.value.mapValue),di.exists(!0)))}return d.mutationQueue.addMutationBatch(w,h,C,u)}).next(R=>{x=R;const C=R.applyToLocalDocumentSet(v,E);return d.documentOverlayCache.saveOverlays(w,R.batchId,C)})}).then(()=>({batchId:x.batchId,changes:Dj(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,u,d){let h=l.Iu[l.currentUser.toKey()];h||(h=new Yt(tt)),h=h.insert(u,d),l.Iu[l.currentUser.toKey()]=h}(r,s.batchId,n),await ef(r,s.changes),await Ig(r.remoteStore)}catch(s){const o=_1(s,"Failed to persist write");n.reject(o)}}async function vP(t,e){const n=Ye(t);try{const r=await j$(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.Pu.get(o);l&&(Tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l._u=!0:s.modifiedDocuments.size>0?Tt(l._u,14607):s.removedDocuments.size>0&&(Tt(l._u,42227),l._u=!1))}),await ef(n,r,e)}catch(r){await pu(r)}}function xR(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((o,l)=>{const u=l.view.Da(e);u.snapshot&&s.push(u.snapshot)}),function(l,u){const d=Ye(l);d.onlineState=u;let h=!1;d.queries.forEach((p,v)=>{for(const x of v.ya)x.Da(u)&&(h=!0)}),h&&T1(d)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xF(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),o=s&&s.key;if(o){let l=new Yt(Ie.comparator);l=l.insert(o,er.newNoDocument(o,Ke.min()));const u=ct().add(o),d=new Ng(Ke.min(),new Map,new Yt(tt),l,u);await vP(r,d),r.hu=r.hu.remove(o),r.Pu.delete(e),S1(r)}else await Cx(r.localStore,e,!1).then(()=>jx(r,e,n)).catch(pu)}async function bF(t,e){const n=Ye(t),r=e.batch.batchId;try{const s=await N$(n.localStore,e);bP(n,r,null),xP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ef(n,s)}catch(s){await pu(s)}}async function wF(t,e,n){const r=Ye(t);try{const s=await function(l,u){const d=Ye(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next(v=>(Tt(v!==null,37113),p=v.keys(),d.mutationQueue.removeMutationBatch(h,v))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(r.localStore,e);bP(r,e,n),xP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ef(r,s)}catch(s){await pu(s)}}function xP(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function bP(t,e,n){const r=Ye(t);let s=r.Iu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function jx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||wP(t,r)})}function wP(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(y1(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),S1(t))}function bR(t,e,n){for(const r of n)r instanceof pP?(t.Tu.addReference(r.key,e),_F(t,r)):r instanceof gP?(_e(E1,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||wP(t,r.key)):Be(19791,{mu:r})}function _F(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(_e(E1,"New document in limbo: "+n),t.lu.add(r),S1(t))}function S1(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new Ie(Vt.fromString(e)),r=t.du.next();t.Pu.set(r,new dF(n)),t.hu=t.hu.insert(n,r),aP(t.remoteStore,new co(ui(l1(n.path)),r,"TargetPurposeLimboResolution",Tg.le))}}async function ef(t,e,n){const r=Ye(t),s=[],o=[],l=[];r.uu.isEmpty()||(r.uu.forEach((u,d)=>{l.push(r.Ru(d,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const v=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(h){s.push(h);const v=p1.Rs(d.targetId,h);o.push(v)}}))}),await Promise.all(l),r.au.j_(s),await async function(d,h){const p=Ye(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>he.forEach(h,x=>he.forEach(x.ds,w=>p.persistence.referenceDelegate.addReference(v,x.targetId,w)).next(()=>he.forEach(x.As,w=>p.persistence.referenceDelegate.removeReference(v,x.targetId,w)))))}catch(v){if(!gu(v))throw v;_e(g1,"Failed to update sequence numbers: "+v)}for(const v of h){const x=v.targetId;if(!v.fromCache){const w=p.xs.get(x),T=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(T);p.xs=p.xs.insert(x,E)}}}(r.localStore,o))}async function TF(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){_e(E1,"User change. New user:",e.toKey());const r=await nP(n.localStore,e);n.currentUser=e,function(o,l){o.Eu.forEach(u=>{u.forEach(d=>{d.reject(new xe(ce.CANCELLED,l))})}),o.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ef(n,r.ks)}}function EF(t,e){const n=Ye(t),r=n.Pu.get(e);if(r&&r._u)return ct().add(r.key);{let s=ct();const o=n.cu.get(e);if(!o)return s;for(const l of o){const u=n.uu.get(l);s=s.unionWith(u.view.Ya)}return s}}function _P(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xF.bind(null,e),e.au.j_=oF.bind(null,e.eventManager),e.au.Vu=lF.bind(null,e.eventManager),e}function SF(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wF.bind(null,e),e}class Yp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jg(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return k$(this.persistence,new A$,e.initialUser,this.serializer)}yu(e){return new tP(m1.fi,this.serializer)}pu(e){return new O$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yp.provider={build:()=>new Yp};class AF extends Yp{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Tt(this.persistence.referenceDelegate instanceof Gp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new d$(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new tP(r=>Gp.fi(r,n),this.serializer)}}class Px{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TF.bind(null,this.syncEngine),await sF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aF}()}createDatastore(e){const n=jg(e.databaseInfo.databaseId),r=function(o){return new $$(o)}(e.databaseInfo);return function(o,l,u,d){return new H$(o,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,l,u){return new K$(r,s,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>xR(this.syncEngine,n,0),function(){return fR.C()?new fR:new V$}())}createSyncEngine(e,n){return function(s,o,l,u,d,h,p){const v=new hF(s,o,l,u,d,h);return p&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ye(s);_e(Pl,"RemoteStore shutting down."),o.Ta.add(5),await Jh(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Px.provider={build:()=>new Px};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):aa("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="FirestoreClient";class RF{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Jn.UNAUTHENTICATED,this.clientId=fj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{_e(_o,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(_e(_o,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cv(t,e){t.asyncQueue.verifyOperationInProgress(),_e(_o,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await nP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CF(t);_e(_o,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>pR(e.remoteStore,s)),t._onlineComponents=e}async function CF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(_o,"Using user provided OfflineComponentProvider");try{await Cv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ce.FAILED_PRECONDITION||s.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;eu("Error using user provided cache. Falling back to memory cache: "+n),await Cv(t,new Yp)}}else _e(_o,"Using default OfflineComponentProvider"),await Cv(t,new AF(void 0));return t._offlineComponents}async function EP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(_o,"Using user provided OnlineComponentProvider"),await wR(t,t._uninitializedComponentsProvider._online)):(_e(_o,"Using default OnlineComponentProvider"),await wR(t,new Px))),t._onlineComponents}function kF(t){return EP(t).then(e=>e.syncEngine)}async function SP(t){const e=await EP(t),n=e.eventManager;return n.onListen=fF.bind(null,e.syncEngine),n.onUnlisten=gF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yF.bind(null,e.syncEngine),n}function NF(t,e,n={}){const r=new na;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,h){const p=new TP({next:x=>{p.Cu(),l.enqueueAndForget(()=>fP(o,v));const w=x.docs.has(u);!w&&x.fromCache?h.reject(new xe(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&d&&d.source==="server"?h.reject(new xe(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),v=new mP(l1(u.path),p,{includeMetadataChanges:!0,La:!0});return hP(o,v)}(await SP(t),t.asyncQueue,e,n,r)),r.promise}function jF(t,e,n={}){const r=new na;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,h){const p=new TP({next:x=>{p.Cu(),l.enqueueAndForget(()=>fP(o,v)),x.fromCache&&d.source==="server"?h.reject(new xe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),v=new mP(u,p,{includeMetadataChanges:!0,La:!0});return hP(o,v)}(await SP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t,e,n){if(!n)throw new xe(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PF(t,e,n,r){if(e===!0&&r===!0)throw new xe(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TR(t){if(!Ie.isDocumentKey(t))throw new xe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ER(t){if(Ie.isDocumentKey(t))throw new xe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dg(t);throw new xe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function IF(t,e){if(e<=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="firestore.googleapis.com",SR=!0;class AR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RP,this.ssl=SR}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:SR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c$)throw new xe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U9;switch(r.type){case"firstParty":return new z9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_R.get(n);r&&(_e("ComponentProvider","Removing Datastore"),_R.delete(n),r.terminate())}(this),Promise.resolve()}}function DF(t,e,n,r={}){var s;t=wi(t,tf);const o=hu(e),l=t._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&($b(`https://${d}`),Fb("Firestore",!0)),l.host!==RP&&l.host!==d&&eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!Cl(h,u)&&(t._setSettings(h),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=Jn.MOCK_USER;else{p=yN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new xe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Jn(x)}t._authCredentials=new B9(new dj(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class pr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class mo extends va{constructor(e,n,r){super(e,n,l1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new Ie(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function ta(t,e,...n){if(t=jn(t),A1("collection","path",e),t instanceof tf){const r=Vt.fromString(e,...n);return ER(r),new mo(t,null,r)}{if(!(t instanceof pr||t instanceof mo))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return ER(r),new mo(t.firestore,null,r)}}function CP(t,e){if(t=wi(t,tf),A1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new va(t,null,function(r){return new Ll(Vt.emptyPath(),r)}(e))}function zr(t,e,...n){if(t=jn(t),arguments.length===1&&(e=fj.newId()),A1("doc","path",e),t instanceof tf){const r=Vt.fromString(e,...n);return TR(r),new pr(t,null,new Ie(r))}{if(!(t instanceof pr||t instanceof mo))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return TR(r),new pr(t.firestore,t instanceof mo?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="AsyncQueue";class CR{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new sP(this,"async_queue_retry"),this.ec=()=>{const r=Rv();r&&_e(RR,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Rv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Rv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new na;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!gu(e))throw e;_e(RR,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,aa("INTERNAL UNHANDLED ERROR: ",kR(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=w1.createAndSchedule(this,e,n,r,o=>this.oc(o));return this.Hu.push(s),s}nc(){this.Ju&&Be(47125,{_c:kR(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function kR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class nf extends tf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new CR,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CR(e),this._firestoreClient=void 0,await e}}}function MF(t,e){const n=typeof t=="object"?t:Hb(),r=typeof t=="string"?t:Bp,s=xg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=mN("firestore");o&&DF(s,...o)}return s}function R1(t){if(t._terminated)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||OF(t),t._firestoreClient}function OF(t){var e,n,r;const s=t._freezeSettings(),o=function(u,d,h,p){return new sB(u,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,AP(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new RF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new au(zn.fromBase64String(e))}catch(n){throw new xe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new au(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=/^__.*__$/;class LF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new No(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qh(e,this.data,n,this.fieldTransforms)}}class kP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new No(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function NP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{hc:t})}}class N1{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new N1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Wp(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(NP(this.hc)&&VF.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class UF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jg(e)}gc(e,n,r,s=!1){return new N1({hc:e,methodName:n,fc:r,path:Fn.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j1(t){const e=t._freezeSettings(),n=jg(t._databaseId);return new UF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BF(t,e,n,r,s,o={}){const l=t.gc(o.merge||o.mergeFields?2:0,e,n,s);I1("Data must be an object, but it was:",l,r);const u=jP(r,l);let d,h;if(o.merge)d=new $r(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const v of o.mergeFields){const x=Ix(e,v,n);if(!l.contains(x))throw new xe(ce.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);IP(p,x)||p.push(x)}d=new $r(p),h=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,h=l.fieldTransforms;return new LF(new _r(u),d,h)}class Vg extends Og{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vg}}class P1 extends Og{_toFieldTransform(e){return new NB(e.path,new bh)}isEqual(e){return e instanceof P1}}function $F(t,e,n,r){const s=t.gc(1,e,n);I1("Data must be an object, but it was:",s,r);const o=[],l=_r.empty();ko(r,(d,h)=>{const p=D1(e,d,n);h=jn(h);const v=s.Ac(p);if(h instanceof Vg)o.push(p);else{const x=rf(h,v);x!=null&&(o.push(p),l.set(p,x))}});const u=new $r(o);return new kP(l,u,s.fieldTransforms)}function FF(t,e,n,r,s,o){const l=t.gc(1,e,n),u=[Ix(e,r,n)],d=[s];if(o.length%2!=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)u.push(Ix(e,o[x])),d.push(o[x+1]);const h=[],p=_r.empty();for(let x=u.length-1;x>=0;--x)if(!IP(h,u[x])){const w=u[x];let T=d[x];T=jn(T);const E=l.Ac(w);if(T instanceof Vg)h.push(w);else{const R=rf(T,E);R!=null&&(h.push(w),p.set(w,R))}}const v=new $r(h);return new kP(p,v,l.fieldTransforms)}function zF(t,e,n,r=!1){return rf(n,t.gc(r?4:3,e))}function rf(t,e){if(PP(t=jn(t)))return I1("Unsupported field value:",e,t),jP(t,e);if(t instanceof Og)return function(r,s){if(!NP(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const o=[];let l=0;for(const u of r){let d=rf(u,s.Rc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Tn.fromDate(r);return{timestampValue:Hp(s.serializer,o)}}if(r instanceof Tn){const o=new Tn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hp(s.serializer,o)}}if(r instanceof C1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof au)return{bytesValue:Kj(s.serializer,r._byteString)};if(r instanceof pr){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.Vc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:h1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof k1)return function(l,u){return{mapValue:{fields:{[wj]:{stringValue:_j},[$p]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Vc("VectorValues must only contain numeric values.");return c1(u.serializer,h)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${Dg(r)}`)}(t,e)}function jP(t,e){const n={};return pj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,(r,s)=>{const o=rf(s,e.Ic(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function PP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tn||t instanceof C1||t instanceof au||t instanceof pr||t instanceof Og||t instanceof k1)}function I1(t,e,n){if(!PP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Dg(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function Ix(t,e,n){if((e=jn(e))instanceof Mg)return e._internalPath;if(typeof e=="string")return D1(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const qF=new RegExp("[~\\*/\\[\\]]");function D1(t,e,n){if(e.search(qF)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mg(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wp(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new xe(ce.INVALID_ARGUMENT,u+t+d)}function IP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HF extends DP{data(){return super.data()}}function Lg(t,e){return typeof e=="string"?D1(t,e):e instanceof Mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M1{}class O1 extends M1{}function fi(t,e,...n){let r=[];e instanceof M1&&r.push(e),r=r.concat(n),function(o){const l=o.filter(d=>d instanceof V1).length,u=o.filter(d=>d instanceof Ug).length;if(l>1||l>0&&u>0)throw new xe(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ug extends O1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ug(e,n,r)}_apply(e){const n=this._parse(e);return MP(e._query,n),new va(e.firestore,e.converter,Tx(e._query,n))}_parse(e){const n=j1(e.firestore);return function(o,l,u,d,h,p,v){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){jR(v,p);const T=[];for(const E of v)T.push(NR(d,o,E));x={arrayValue:{values:T}}}else x=NR(d,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||jR(v,p),x=zF(u,l,v,p==="in"||p==="not-in");return pn.create(h,p,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _i(t,e,n){const r=e,s=Lg("where",t);return Ug._create(s,r,n)}class V1 extends M1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ps.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const u=o.getFlattenedFilters();for(const d of u)MP(l,d),l=Tx(l,d)}(e._query,n),new va(e.firestore,e.converter,Tx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class L1 extends O1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new L1(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xh(o,l)}(e._query,this._field,this._direction);return new va(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new Ll(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Xp(t,e="asc"){const n=e,r=Lg("orderBy",t);return L1._create(r,n)}class U1 extends O1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new U1(e,n,r)}_apply(e){return new va(e.firestore,e.converter,zp(e._query,this._limit,this._limitType))}}function Th(t){return IF("limit",t),U1._create("limit",t,"F")}function NR(t,e,n){if(typeof(n=jn(n))=="string"){if(n==="")throw new xe(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nj(e)&&n.indexOf("/")!==-1)throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vt.fromString(n));if(!Ie.isDocumentKey(r))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HA(t,new Ie(r))}if(n instanceof pr)return HA(t,n._key);throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dg(n)}.`)}function jR(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MP(t,e){const n=function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new xe(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KF{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ko(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[$p].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>rn(l.doubleValue));return new k1(o)}convertGeoPoint(e){return new C1(rn(e.latitude),rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gh(e));default:return null}}convertTimestamp(e){const n=vo(e);return new Tn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);Tt(Jj(r),9688,{name:e});const s=new yh(r.get(1),r.get(3)),o=new Ie(r.popFirst(5));return s.isEqual(n)||aa(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OP extends DP{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fp extends OP{data(e={}){return super.data(e)}}class WF{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new qd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fp(this._firestore,this._userDataWriter,r.key,r,new qd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const d=new fp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new qd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new fp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new qd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:XF(u.type),doc:d,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t){t=wi(t,pr);const e=wi(t.firestore,nf);return NF(R1(e),t._key).then(n=>ZF(e,t,n))}class VP extends KF{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,n)}}function ks(t){t=wi(t,va);const e=wi(t.firestore,nf),n=R1(e),r=new VP(e);return GF(t._query),jF(n,t._query).then(s=>new WF(e,r,t,s))}function LP(t,e,n){t=wi(t,pr);const r=wi(t.firestore,nf),s=YF(t.converter,e);return UP(r,[BF(j1(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,di.none())])}function QF(t,e,n,...r){t=wi(t,pr);const s=wi(t.firestore,nf),o=j1(s);let l;return l=typeof(e=jn(e))=="string"||e instanceof Mg?FF(o,"updateDoc",t._key,e,n,r):$F(o,"updateDoc",t._key,e),UP(s,[l.toMutation(t._key,di.exists(!0))])}function UP(t,e){return function(r,s){const o=new na;return r.asyncQueue.enqueueAndForget(async()=>vF(await kF(r),s,o)),o.promise}(R1(t),e)}function ZF(t,e,n){const r=n.docs.get(e._key),s=new VP(t);return new OP(t,s,e._key,r,new qd(n.hasPendingWrites,n.fromCache),e.converter)}function BP(){return new P1("serverTimestamp")}(function(e,n=!0){(function(s){mu=s})(Vl),kl(new go("firestore",(r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new nf(new $9(r.getProvider("auth-internal")),new q9(l,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new xe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yh(h.options.projectId,p)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ai(IA,DA,e),ai(IA,DA,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="firebasestorage.googleapis.com",JF="storageBucket",ez=2*60*1e3,tz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Si{constructor(e,n,r=0){super(kv(e),`Firebase Storage: ${n} (${kv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ei;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ei||(Ei={}));function kv(t){return"storage/"+t}function nz(){const t="An unknown error occurred, please check the error payload for server response.";return new Ai(Ei.UNKNOWN,t)}function rz(){return new Ai(Ei.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sz(){return new Ai(Ei.CANCELED,"User canceled the upload/download.")}function iz(t){return new Ai(Ei.INVALID_URL,"Invalid URL '"+t+"'.")}function az(t){return new Ai(Ei.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function PR(t){return new Ai(Ei.INVALID_ARGUMENT,t)}function FP(){return new Ai(Ei.APP_DELETED,"The Firebase app was deleted.")}function oz(t){return new Ai(Ei.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ns.makeFromUrl(e,n)}catch{return new Ns(e,"")}if(r.path==="")return r;throw az(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function h(U){U.path_=decodeURIComponent(U.path)}const p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${p}/b/${s}/o${x}`,"i"),T={bucket:1,path:3},E=n===$P?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",C=new RegExp(`^https?://${E}/${s}/${R}`,"i"),j=[{regex:u,indices:d,postModify:o},{regex:w,indices:T,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let U=0;U<j.length;U++){const M=j[U],V=M.regex.exec(e);if(V){const P=V[M.indices.bucket];let N=V[M.indices.path];N||(N=""),r=new Ns(P,N),M.postModify(r);break}}if(r==null)throw iz(e);return r}}class lz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t,e,n){let r=1,s=null,o=null,l=!1,u=0;function d(){return u===2}let h=!1;function p(...R){h||(h=!0,e.apply(null,R))}function v(R){s=setTimeout(()=>{s=null,t(w,d())},R)}function x(){o&&clearTimeout(o)}function w(R,...C){if(h){x();return}if(R){x(),p.call(null,R,...C);return}if(d()||l){x(),p.call(null,R,...C);return}r<64&&(r*=2);let j;u===1?(u=2,j=0):j=(r+Math.random())*1e3,v(j)}let T=!1;function E(R){T||(T=!0,x(),!h&&(s!==null?(R||(u=2),clearTimeout(s),v(0)):R||(u=1)))}return v(0),o=setTimeout(()=>{l=!0,E(!0)},n),E}function uz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t){return t!==void 0}function IR(t,e,n,r){if(r<e)throw PR(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw PR(`Invalid value for '${t}'. Expected ${n} or less.`)}function hz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Qp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qp||(Qp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n,r,s,o,l,u,d,h,p,v,x=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,E)=>{this.resolve_=T,this.reject_=E,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new qm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===Qp.NO_ERROR,d=o.getStatus();if(!u||fz(d,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===Qp.ABORT;r(!1,new qm(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new qm(h,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());dz(d)?o(d):o()}catch(d){l(d)}else if(u!==null){const d=nz();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(s.canceled){const d=this.appDelete_?FP():sz();l(d)}else{const d=rz();l(d)}};this.canceled_?n(!1,new qm(!1,null,!0)):this.backoffId_=cz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xz(t,e,n,r,s,o,l=!0,u=!1){const d=hz(t.urlParams),h=t.url+d,p=Object.assign({},t.headers);return yz(p,e),pz(p,n),gz(p,o),vz(p,r),new mz(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function wz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this._service=e,n instanceof Ns?this._location=n:this._location=Ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zp(e,n)}get root(){const e=new Ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wz(this._location.path)}get storage(){return this._service}get parent(){const e=bz(this._location.path);if(e===null)return null;const n=new Ns(this._location.bucket,e);return new Zp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oz(e)}}function DR(t,e){const n=e==null?void 0:e[JF];return n==null?null:Ns.makeFromBucketSpec(n,t)}function _z(t,e,n,r={}){t.host=`${e}:${n}`;const s=hu(e);s&&($b(`https://${t.host}`),Fb("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:yN(o,t.app.options.projectId))}class Tz{constructor(e,n,r,s,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=$P,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ez,this._maxUploadRetryTime=tz,this._requests=new Set,s!=null?this._bucket=Ns.makeFromBucketSpec(s,this._host):this._bucket=DR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ns.makeFromBucketSpec(this._url,e):this._bucket=DR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zp(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new lz(FP());{const l=xz(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const MR="@firebase/storage",OR="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="storage";function Ez(t=Hb(),e){t=jn(t);const r=xg(t,zP).getImmediate({identifier:e}),s=mN("storage");return s&&Sz(r,...s),r}function Sz(t,e,n,r={}){_z(t,e,n,r)}function Az(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Tz(n,r,s,e,Vl)}function Rz(){kl(new go(zP,Az,"PUBLIC").setMultipleInstances(!0)),ai(MR,OR,""),ai(MR,OR,"esm2017")}Rz();const Cz={apiKey:"AIzaSyAmgqOqkUUuKfvDXR2u5UEEoaVMbdCRQEI",authDomain:"ppr-fubk.firebaseapp.com",projectId:"ppr-fubk",storageBucket:"ppr-fubk.firebasestorage.app",messagingSenderId:"1044435934792",appId:"1:1044435934792:web:b0e7bc85d3bf06160e027d"},B1=bN(Cz),Is=t1(B1),Ft=MF(B1);Ez(B1);const qP=k.createContext(),kz=({children:t})=>{const[e,n]=k.useState(null),[r,s]=k.useState(null),[o,l]=k.useState(!0);return k.useEffect(()=>{const u=RU(Is,async d=>{if(!d){n(null),s(null),l(!1);return}try{const h=zr(Ft,"Student",d.uid),p=zr(Ft,"Lecturer",d.uid),v=await Ti(h),x=await Ti(p);let w;v.exists()&&(w="student"),x.exists()&&(w="lecturer"),n(d),s(w)}catch(h){console.error("Error fetching user role:",h)}l(!1)});return()=>u()},[]),m.jsx(qP.Provider,{value:{currentUser:e,role:r,loading:o},children:t})};function Ut(){const t=k.useContext(qP);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const VR=({children:t,allowedRoles:e})=>{const{currentUser:n,role:r,loading:s}=Ut();if(console.log("ProtectedRoute currentUser:",r),!s)return n===null||!e.includes(r)?m.jsx(tp,{to:"/login",replace:!0}):t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),LR=t=>{const e=jz(t);return e.charAt(0).toUpperCase()+e.slice(1)},HP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Pz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...u},d)=>k.createElement("svg",{ref:d,...Iz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:HP("lucide",s),...!o&&!Pz(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,p])=>k.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=k.forwardRef(({className:r,...s},o)=>k.createElement(Dz,{ref:o,iconNode:e,className:HP(`lucide-${Nz(LR(t))}`,`lucide-${t}`,r),...s}));return n.displayName=LR(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Oz=je("activity",Mz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],GP=je("arrow-left",Vz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Uz=je("arrow-right",Lz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],$z=je("arrow-up-down",Bz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$1=je("badge-check",Fz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],qz=je("ban",zz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M12 21V7",key:"gj6g52"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3",key:"8arnkb"}]],KP=je("book-open-check",Hz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Rr=je("book-open",Gz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],UR=je("briefcase",Kz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],F1=je("calendar-clock",Yz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],$l=je("calendar-days",Wz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Eh=je("calendar",Xz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fl=je("circle-check-big",Qz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YP=je("circle-check",Zz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],WP=je("circle-plus",Jz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xa=je("circle-x",e7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],n7=je("clipboard-list",t7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ri=je("clock",r7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],BR=je("cloud-upload",s7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Bg=je("download",i7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vs=je("eye",a7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"37hlfg"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}],["path",{d:"M9.5 17.5 8 16.25V14",key:"1o80t2"}]],$g=je("file-clock",o7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["rect",{width:"8",height:"6",x:"8",y:"12",rx:"1",key:"3yr8at"}],["path",{d:"M10 12v-2a2 2 0 1 1 4 0v2",key:"j4i8d"}]],c7=je("file-lock",l7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],z1=je("file-question",u7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Mt=je("file-text",d7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],f7=je("folder",h7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],p7=je("funnel",m7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],q1=je("globe",g7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],XP=je("graduation-cap",y7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],QP=je("history",v7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],ZP=je("hourglass",x7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],sf=je("house",b7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],_7=je("id-card",w7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],E7=je("info",T7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],A7=je("key-round",S7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z",key:"165ttr"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814",key:"1ubxi2"}]],C7=je("key-square",R7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],N7=je("key",k7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Dx=je("layers",j7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],I7=je("lightbulb",P7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ba=je("lock",D7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],H1=je("log-in",M7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fg=je("log-out",O7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],L7=je("mail",V7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],B7=je("menu",U7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],F7=je("pen-line",$7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]],q7=je("pencil-line",z7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],G7=je("pencil",H7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],JP=je("save",K7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],zl=je("school",Y7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],af=je("search",W7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eI=je("shield-check",X7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Z7=je("triangle-alert",Q7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],e8=je("upload",J7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],G1=je("user-round",t8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],To=je("user",n8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],K1=je("users",r8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Y1=je("x",s8);function tI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=tI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yt(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=tI(t))&&(r&&(r+=" "),r+=e);return r}const vu=({children:t,className:e,...n})=>m.jsx("div",{className:yt(" p-6 shadow-md backdrop-blur-md","border-b border-[var(--color-border)] dark:border-[var(--color-dark-border)] ",e),...n,children:t}),W1=k.createContext({});function X1(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Q1=typeof window<"u",nI=Q1?k.useLayoutEffect:k.useEffect,zg=k.createContext(null);function Z1(t,e){t.indexOf(e)===-1&&t.push(e)}function J1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const la=(t,e,n)=>n>e?e:n<t?t:n;let ew=()=>{};const ca={},rI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sI(t){return typeof t=="object"&&t!==null}const iI=t=>/^0[^.\s]+$/u.test(t);function tw(t){let e;return()=>(e===void 0&&(e=t()),e)}const ms=t=>t,i8=(t,e)=>n=>e(t(n)),of=(...t)=>t.reduce(i8),Sh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};let nw=class{constructor(){this.subscriptions=[]}add(e){return Z1(this.subscriptions,e),()=>J1(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const mi=t=>t*1e3,pi=t=>t/1e3;function aI(t,e){return e?t*(1e3/e):0}const oI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,a8=1e-7,o8=12;function l8(t,e,n,r,s){let o,l,u=0;do l=e+(n-e)/2,o=oI(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>a8&&++u<o8);return l}function lf(t,e,n,r){if(t===e&&n===r)return ms;const s=o=>l8(o,0,1,t,n);return o=>o===0||o===1?o:oI(s(o),e,r)}const lI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cI=t=>e=>1-t(1-e),uI=lf(.33,1.53,.69,.99),rw=cI(uI),dI=lI(rw),hI=t=>(t*=2)<1?.5*rw(t):.5*(2-Math.pow(2,-10*(t-1))),sw=t=>1-Math.sin(Math.acos(t)),fI=cI(sw),mI=lI(sw),c8=lf(.42,0,1,1),u8=lf(0,0,.58,1),pI=lf(.42,0,.58,1),d8=t=>Array.isArray(t)&&typeof t[0]!="number",gI=t=>Array.isArray(t)&&typeof t[0]=="number",h8={linear:ms,easeIn:c8,easeInOut:pI,easeOut:u8,circIn:sw,circInOut:mI,circOut:fI,backIn:rw,backInOut:dI,backOut:uI,anticipate:hI},f8=t=>typeof t=="string",$R=t=>{if(gI(t)){ew(t.length===4);const[e,n,r,s]=t;return lf(e,n,r,s)}else if(f8(t))return h8[t];return t},Hm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],FR={value:null};function m8(t,e){let n=new Set,r=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function h(v){l.has(v)&&(p.schedule(v),t()),d++,v(u)}const p={schedule:(v,x=!1,w=!1)=>{const E=w&&s?n:r;return x&&l.add(v),E.has(v)||E.add(v),v},cancel:v=>{r.delete(v),l.delete(v)},process:v=>{if(u=v,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),e&&FR.value&&FR.value.frameloop[e].push(d),d=0,n.clear(),s=!1,o&&(o=!1,p.process(v))}};return p}const p8=40;function yI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Hm.reduce((j,U)=>(j[U]=m8(o,e?U:void 0),j),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:p,update:v,preRender:x,render:w,postRender:T}=l,E=()=>{const j=ca.useManualTiming?s.timestamp:performance.now();n=!1,ca.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,p8),1)),s.timestamp=j,s.isProcessing=!0,u.process(s),d.process(s),h.process(s),p.process(s),v.process(s),x.process(s),w.process(s),T.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(E))},R=()=>{n=!0,r=!0,s.isProcessing||t(E)};return{schedule:Hm.reduce((j,U)=>{const M=l[U];return j[U]=(V,P=!1,N=!1)=>(n||R(),M.schedule(V,P,N)),j},{}),cancel:j=>{for(let U=0;U<Hm.length;U++)l[Hm[U]].cancel(j)},state:s,steps:l}}const{schedule:Gt,cancel:Eo,state:Un,steps:Nv}=yI(typeof requestAnimationFrame<"u"?requestAnimationFrame:ms,!0);let mp;function g8(){mp=void 0}const Tr={now:()=>(mp===void 0&&Tr.set(Un.isProcessing||ca.useManualTiming?Un.timestamp:performance.now()),mp),set:t=>{mp=t,queueMicrotask(g8)}},vI=t=>e=>typeof e=="string"&&e.startsWith(t),iw=vI("--"),y8=vI("var(--"),aw=t=>y8(t)?v8.test(t.split("/*")[0].trim()):!1,v8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ah={...xu,transform:t=>la(0,1,t)},Gm={...xu,default:1},Jd=t=>Math.round(t*1e5)/1e5,ow=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function x8(t){return t==null}const b8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lw=(t,e)=>n=>!!(typeof n=="string"&&b8.test(n)&&n.startsWith(t)||e&&!x8(n)&&Object.prototype.hasOwnProperty.call(n,e)),xI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,u]=r.match(ow);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},w8=t=>la(0,255,t),jv={...xu,transform:t=>Math.round(w8(t))},vl={test:lw("rgb","red"),parse:xI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jv.transform(t)+", "+jv.transform(e)+", "+jv.transform(n)+", "+Jd(Ah.transform(r))+")"};function _8(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Mx={test:lw("#"),parse:_8,transform:vl.transform},cf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),to=cf("deg"),gi=cf("%"),Fe=cf("px"),T8=cf("vh"),E8=cf("vw"),zR={...gi,parse:t=>gi.parse(t)/100,transform:t=>gi.transform(t*100)},Uc={test:lw("hsl","hue"),parse:xI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+gi.transform(Jd(e))+", "+gi.transform(Jd(n))+", "+Jd(Ah.transform(r))+")"},Qn={test:t=>vl.test(t)||Mx.test(t)||Uc.test(t),parse:t=>vl.test(t)?vl.parse(t):Uc.test(t)?Uc.parse(t):Mx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vl.transform(t):Uc.transform(t)},S8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function A8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ow))==null?void 0:e.length)||0)+(((n=t.match(S8))==null?void 0:n.length)||0)>0}const bI="number",wI="color",R8="var",C8="var(",qR="${}",k8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(k8,d=>(Qn.test(d)?(r.color.push(o),s.push(wI),n.push(Qn.parse(d))):d.startsWith(C8)?(r.var.push(o),s.push(R8),n.push(d)):(r.number.push(o),s.push(bI),n.push(parseFloat(d))),++o,qR)).split(qR);return{values:n,split:u,indexes:r,types:s}}function _I(t){return Rh(t).values}function TI(t){const{split:e,types:n}=Rh(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const u=n[l];u===bI?o+=Jd(s[l]):u===wI?o+=Qn.transform(s[l]):o+=s[l]}return o}}const N8=t=>typeof t=="number"?0:t;function j8(t){const e=_I(t);return TI(t)(e.map(N8))}const So={test:A8,parse:_I,createTransformer:TI,getAnimatableNone:j8};function Pv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function P8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;s=Pv(d,u,t+1/3),o=Pv(d,u,t),l=Pv(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Jp(t,e){return n=>n>0?e:t}const qt=(t,e,n)=>t+(e-t)*n,Iv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},I8=[Mx,vl,Uc],D8=t=>I8.find(e=>e.test(t));function HR(t){const e=D8(t);if(!e)return!1;let n=e.parse(t);return e===Uc&&(n=P8(n)),n}const GR=(t,e)=>{const n=HR(t),r=HR(e);if(!n||!r)return Jp(t,e);const s={...n};return o=>(s.red=Iv(n.red,r.red,o),s.green=Iv(n.green,r.green,o),s.blue=Iv(n.blue,r.blue,o),s.alpha=qt(n.alpha,r.alpha,o),vl.transform(s))},Ox=new Set(["none","hidden"]);function M8(t,e){return Ox.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function O8(t,e){return n=>qt(t,e,n)}function cw(t){return typeof t=="number"?O8:typeof t=="string"?aw(t)?Jp:Qn.test(t)?GR:U8:Array.isArray(t)?EI:typeof t=="object"?Qn.test(t)?GR:V8:Jp}function EI(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>cw(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function V8(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=cw(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function L8(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],u=t.values[l]??0;n[s]=u,r[o]++}return n}const U8=(t,e)=>{const n=So.createTransformer(e),r=Rh(t),s=Rh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ox.has(t)&&!s.values.length||Ox.has(e)&&!r.values.length?M8(t,e):of(EI(L8(r,s),s.values),n):Jp(t,e)};function SI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qt(t,e,n):cw(t)(t,e)}const B8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Gt.update(e,n),stop:()=>Eo(e),now:()=>Un.isProcessing?Un.timestamp:Tr.now()}},AI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=t(o/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},eg=2e4;function uw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<eg;)e+=n,r=t.next(e);return e>=eg?1/0:e}function $8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(uw(r),eg);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:pi(s)}}const F8=5;function RI(t,e,n){const r=Math.max(e-F8,0);return aI(n-t(r),e-r)}const Qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KR=.001;function z8({duration:t=Qt.duration,bounce:e=Qt.bounce,velocity:n=Qt.velocity,mass:r=Qt.mass}){let s,o,l=1-e;l=la(Qt.minDamping,Qt.maxDamping,l),t=la(Qt.minDuration,Qt.maxDuration,pi(t)),l<1?(s=h=>{const p=h*l,v=p*t,x=p-n,w=Vx(h,l),T=Math.exp(-v);return KR-x/w*T},o=h=>{const v=h*l*t,x=v*n+n,w=Math.pow(l,2)*Math.pow(h,2)*t,T=Math.exp(-v),E=Vx(Math.pow(h,2),l);return(-s(h)+KR>0?-1:1)*((x-w)*T)/E}):(s=h=>{const p=Math.exp(-h*t),v=(h-n)*t+1;return-.001+p*v},o=h=>{const p=Math.exp(-h*t),v=(n-h)*(t*t);return p*v});const u=5/t,d=H8(s,o,u);if(t=mi(t),isNaN(d))return{stiffness:Qt.stiffness,damping:Qt.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const q8=12;function H8(t,e,n){let r=n;for(let s=1;s<q8;s++)r=r-t(r)/e(r);return r}function Vx(t,e){return t*Math.sqrt(1-e*e)}const G8=["duration","bounce"],K8=["stiffness","damping","mass"];function YR(t,e){return e.some(n=>t[n]!==void 0)}function Y8(t){let e={velocity:Qt.velocity,stiffness:Qt.stiffness,damping:Qt.damping,mass:Qt.mass,isResolvedFromDuration:!1,...t};if(!YR(t,K8)&&YR(t,G8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*la(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Qt.mass,stiffness:s,damping:o}}else{const n=z8(t);e={...e,...n,mass:Qt.mass},e.isResolvedFromDuration=!0}return e}function tg(t=Qt.visualDuration,e=Qt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:h,mass:p,duration:v,velocity:x,isResolvedFromDuration:w}=Y8({...n,velocity:-pi(n.velocity||0)}),T=x||0,E=h/(2*Math.sqrt(d*p)),R=l-o,C=pi(Math.sqrt(d/p)),L=Math.abs(R)<5;r||(r=L?Qt.restSpeed.granular:Qt.restSpeed.default),s||(s=L?Qt.restDelta.granular:Qt.restDelta.default);let j;if(E<1){const M=Vx(C,E);j=V=>{const P=Math.exp(-E*C*V);return l-P*((T+E*C*R)/M*Math.sin(M*V)+R*Math.cos(M*V))}}else if(E===1)j=M=>l-Math.exp(-C*M)*(R+(T+C*R)*M);else{const M=C*Math.sqrt(E*E-1);j=V=>{const P=Math.exp(-E*C*V),N=Math.min(M*V,300);return l-P*((T+E*C*R)*Math.sinh(N)+M*R*Math.cosh(N))/M}}const U={calculatedDuration:w&&v||null,next:M=>{const V=j(M);if(w)u.done=M>=v;else{let P=M===0?T:0;E<1&&(P=M===0?mi(T):RI(j,M,V));const N=Math.abs(P)<=r,D=Math.abs(l-V)<=s;u.done=N&&D}return u.value=u.done?l:V,u},toString:()=>{const M=Math.min(uw(U),eg),V=AI(P=>U.next(M*P).value,M,30);return M+"ms "+V},toTransition:()=>{}};return U}tg.applyToOptions=t=>{const e=$8(t,100,tg);return t.ease=e.ease,t.duration=mi(e.duration),t.type="keyframes",t};function Lx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:h=.5,restSpeed:p}){const v=t[0],x={done:!1,value:v},w=N=>u!==void 0&&N<u||d!==void 0&&N>d,T=N=>u===void 0?d:d===void 0||Math.abs(u-N)<Math.abs(d-N)?u:d;let E=n*e;const R=v+E,C=l===void 0?R:l(R);C!==R&&(E=C-v);const L=N=>-E*Math.exp(-N/r),j=N=>C+L(N),U=N=>{const D=L(N),B=j(N);x.done=Math.abs(D)<=h,x.value=x.done?C:B};let M,V;const P=N=>{w(x.value)&&(M=N,V=tg({keyframes:[x.value,T(x.value)],velocity:RI(j,N,x.value),damping:s,stiffness:o,restDelta:h,restSpeed:p}))};return P(0),{calculatedDuration:null,next:N=>{let D=!1;return!V&&M===void 0&&(D=!0,U(N),P(N)),M!==void 0&&N>=M?V.next(N-M):(!D&&U(N),x)}}}function W8(t,e,n){const r=[],s=n||ca.mix||SI,o=t.length-1;for(let l=0;l<o;l++){let u=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||ms:e;u=of(d,u)}r.push(u)}return r}function X8(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(ew(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=W8(e,r,s),d=u.length,h=p=>{if(l&&p<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(p<t[v+1]);v++);const x=Sh(t[v],t[v+1],p);return u[v](x)};return n?p=>h(la(t[0],t[o-1],p)):h}function Q8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Sh(0,e,r);t.push(qt(n,1,s))}}function Z8(t){const e=[0];return Q8(e,t.length-1),e}function J8(t,e){return t.map(n=>n*e)}function eq(t,e){return t.map(()=>e||pI).splice(0,t.length-1)}function eh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=d8(r)?r.map($R):$R(r),o={done:!1,value:e[0]},l=J8(n&&n.length===e.length?n:Z8(e),t),u=X8(l,e,{ease:Array.isArray(s)?s:eq(e,s)});return{calculatedDuration:t,next:d=>(o.value=u(d),o.done=d>=t,o)}}const tq=t=>t!==null;function dw(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(tq),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const nq={decay:Lx,inertia:Lx,tween:eh,keyframes:eh,spring:tg};function CI(t){typeof t.type=="string"&&(t.type=nq[t.type])}let hw=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}};const rq=t=>t/100;let fw=class extends hw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Tr.now()&&this.tick(Tr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;CI(e);const{type:n=eh,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const d=n||eh;d!==eh&&typeof u[0]!="number"&&(this.mixKeyframes=of(rq,SI(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=uw(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:v,repeatType:x,repeatDelay:w,type:T,onUpdate:E,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,U=r;if(v){const N=Math.min(this.currentTime,s)/u;let D=Math.floor(N),B=N%1;!B&&N>=1&&(B=1),B===1&&D--,D=Math.min(D,v+1),!!(D%2)&&(x==="reverse"?(B=1-B,w&&(B-=w/u)):x==="mirror"&&(U=l)),j=la(0,1,B)*u}const M=L?{done:!1,value:p[0]}:U.next(j);o&&(M.value=o(M.value));let{done:V}=M;!L&&d!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return P&&T!==Lx&&(M.value=dw(p,this.options,R,this.speed)),E&&E(M.value),P&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return pi(this.calculatedDuration)}get time(){return pi(this.currentTime)}set time(e){var n;e=mi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pi(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=B8,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(o=(s=this.options).onPlay)==null||o.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}};function sq(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xl=t=>t*180/Math.PI,Ux=t=>{const e=xl(Math.atan2(t[1],t[0]));return Bx(e)},iq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ux,rotateZ:Ux,skewX:t=>xl(Math.atan(t[1])),skewY:t=>xl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Bx=t=>(t=t%360,t<0&&(t+=360),t),WR=Ux,XR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),QR=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),aq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:XR,scaleY:QR,scale:t=>(XR(t)+QR(t))/2,rotateX:t=>Bx(xl(Math.atan2(t[6],t[5]))),rotateY:t=>Bx(xl(Math.atan2(-t[2],t[0]))),rotateZ:WR,rotate:WR,skewX:t=>xl(Math.atan(t[4])),skewY:t=>xl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $x(t){return t.includes("scale")?1:0}function Fx(t,e){if(!t||t==="none")return $x(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=aq,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=iq,s=u}if(!s)return $x(e);const o=r[e],l=s[1].split(",").map(lq);return typeof o=="function"?o(l):l[o]}const oq=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Fx(n,e)};function lq(t){return parseFloat(t.trim())}const bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wu=new Set(bu),ZR=t=>t===xu||t===Fe,cq=new Set(["x","y","z"]),uq=bu.filter(t=>!cq.has(t));function dq(t){const e=[];return uq.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Tl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Fx(e,"x"),y:(t,{transform:e})=>Fx(e,"y")};Tl.translateX=Tl.x;Tl.translateY=Tl.y;const El=new Set;let zx=!1,qx=!1,Hx=!1;function kI(){if(qx){const t=Array.from(El).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=dq(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{var u;(u=r.getValue(o))==null||u.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qx=!1,zx=!1,El.forEach(t=>t.complete(Hx)),El.clear()}function NI(){El.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qx=!0)})}function hq(){Hx=!0,NI(),kI(),Hx=!1}let mw=class{constructor(e,n,r,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(El.add(this),zx||(zx=!0,Gt.read(NI),Gt.resolveKeyframes(kI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}sq(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),El.delete(this)}cancel(){this.state==="scheduled"&&(El.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};const fq=t=>t.startsWith("--");function mq(t,e,n){fq(e)?t.style.setProperty(e,n):t.style[e]=n}const pq=tw(()=>window.ScrollTimeline!==void 0),gq={};function yq(t,e){const n=tw(t);return()=>gq[e]??n()}const jI=yq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,JR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hd([0,.65,.55,1]),circOut:Hd([.55,0,1,.45]),backIn:Hd([.31,.01,.66,-.59]),backOut:Hd([.33,1.53,.69,.99])};function PI(t,e){if(t)return typeof t=="function"?jI()?AI(t,e):"ease-out":gI(t)?Hd(t):Array.isArray(t)?t.map(n=>PI(n,e)||JR.easeOut):JR[t]}function vq(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},h=void 0){const p={[e]:n};d&&(p.offset=d);const v=PI(u,s);Array.isArray(v)&&(p.easing=v);const x={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),t.animate(p,x)}function II(t){return typeof t=="function"&&"applyToOptions"in t}function xq({type:t,...e}){return II(t)&&jI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}let bq=class extends hw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,ew(typeof e.type!="string");const h=xq(e);this.animation=vq(n,r,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=dw(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):mq(n,r,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return pi(Number(e))}get time(){return pi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&pq()?(this.animation.timeline=e,ms):n(this)}};const DI={anticipate:hI,backInOut:dI,circInOut:mI};function wq(t){return t in DI}function _q(t){typeof t.ease=="string"&&wq(t.ease)&&(t.ease=DI[t.ease])}const e2=10;let Tq=class extends bq{constructor(e){_q(e),CI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new fw({...l,autoplay:!1}),d=mi(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-e2).value,u.sample(d).value,e2),u.stop()}};const t2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(So.test(t)||t==="0")&&!t.startsWith("url("));function Eq(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Sq(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=t2(s,e),u=t2(o,e);return!l||!u?!1:Eq(t)||(n==="spring"||II(n))&&r}function pw(t){return sI(t)&&"offsetHeight"in t}const Aq=new Set(["opacity","clipPath","filter","transform"]),Rq=tw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Cq(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:l}=t;if(!pw((h=e==null?void 0:e.owner)==null?void 0:h.current))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return Rq()&&n&&Aq.has(n)&&(n!=="transform"||!d)&&!u&&!r&&s!=="mirror"&&o!==0&&l!=="inertia"}const kq=40;let Nq=class extends hw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:h,element:p,...v}){var T;super(),this.stop=()=>{var E,R;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=Tr.now();const x={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:p,...v},w=(p==null?void 0:p.KeyframeResolver)||mw;this.keyframeResolver=new w(u,(E,R,C)=>this.onKeyframesResolved(E,R,x,!C),d,h,p),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:h,onUpdate:p}=r;this.resolvedAt=Tr.now(),Sq(e,o,l,u)||((ca.instantAnimations||!d)&&(p==null||p(dw(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>kq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},w=!h&&Cq(x)?new Tq({...x,element:x.motionValue.owner.current}):new fw(x);w.finished.then(()=>this.notifyFinished()).catch(ms),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),hq()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}};const jq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pq(t){const e=jq.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function MI(t,e,n=1){const[r,s]=Pq(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return rI(l)?parseFloat(l):l}return aw(s)?MI(s,e,n+1):s}function gw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const OI=new Set(["width","height","top","left","right","bottom",...bu]),Iq={test:t=>t==="auto",parse:t=>t},VI=t=>e=>e.test(t),LI=[xu,Fe,gi,to,E8,T8,Iq],n2=t=>LI.find(VI(t));function Dq(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iI(t):!0}const Mq=new Set(["brightness","contrast","saturate","opacity"]);function Oq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ow)||[];if(!r)return t;const s=n.replace(r,"");let o=Mq.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const Vq=/\b([a-z-]*)\(.*?\)/gu,Gx={...So,getAnimatableNone:t=>{const e=t.match(Vq);return e?e.map(Oq).join(" "):t}},r2={...xu,transform:Math.round},Lq={rotate:to,rotateX:to,rotateY:to,rotateZ:to,scale:Gm,scaleX:Gm,scaleY:Gm,scaleZ:Gm,skew:to,skewX:to,skewY:to,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Ah,originX:zR,originY:zR,originZ:Fe},yw={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...Lq,zIndex:r2,fillOpacity:Ah,strokeOpacity:Ah,numOctaves:r2},Uq={...yw,color:Qn,backgroundColor:Qn,outlineColor:Qn,fill:Qn,stroke:Qn,borderColor:Qn,borderTopColor:Qn,borderRightColor:Qn,borderBottomColor:Qn,borderLeftColor:Qn,filter:Gx,WebkitFilter:Gx},UI=t=>Uq[t];function BI(t,e){let n=UI(t);return n!==Gx&&(n=So),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Bq=new Set(["auto","none","0"]);function $q(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!Bq.has(o)&&Rh(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=BI(n,s)}let Fq=class extends mw{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),aw(h))){const p=MI(h,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!OI.has(r)||e.length!==2)return;const[s,o]=e,l=n2(s),u=n2(o);if(l!==u)if(ZR(l)&&ZR(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Tl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Dq(e[s]))&&r.push(s);r.length&&$q(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Tl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}};function zq(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const $I=(t,e)=>e&&typeof t=="number"?e.transform(t):t,s2=30,qq=t=>!isNaN(parseFloat(t));let Hq=class{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var l,u;const o=Tr.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>s2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,s2);return aI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function ou(t,e){return new Hq(t,e)}const{schedule:vw}=yI(queueMicrotask,!1),As={x:!1,y:!1};function FI(){return As.x||As.y}function Gq(t){return t==="x"||t==="y"?As[t]?null:(As[t]=!0,()=>{As[t]=!1}):As.x||As.y?null:(As.x=As.y=!0,()=>{As.x=As.y=!1})}function zI(t,e){const n=zq(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function i2(t){return!(t.pointerType==="touch"||FI())}function Kq(t,e,n={}){const[r,s,o]=zI(t,n),l=u=>{if(!i2(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const p=v=>{i2(v)&&(h(v),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const qI=(t,e)=>e?t===e?!0:qI(t,e.parentElement):!1,xw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Yq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Wq(t){return Yq.has(t.tagName)||t.tabIndex!==-1}const pp=new WeakSet;function a2(t){return e=>{e.key==="Enter"&&t(e)}}function Dv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Xq=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=a2(()=>{if(pp.has(n))return;Dv(n,"down");const s=a2(()=>{Dv(n,"up")}),o=()=>Dv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function o2(t){return xw(t)&&!FI()}function Qq(t,e,n={}){const[r,s,o]=zI(t,n),l=u=>{const d=u.currentTarget;if(!o2(u))return;pp.add(d);const h=e(d,u),p=(w,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),pp.has(d)&&pp.delete(d),o2(w)&&typeof h=="function"&&h(w,{success:T})},v=w=>{p(w,d===window||d===document||n.useGlobalTarget||qI(d,w.target))},x=w=>{p(w,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),pw(u)&&(u.addEventListener("focus",h=>Xq(h,s)),!Wq(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function HI(t){return sI(t)&&"ownerSVGElement"in t}function Zq(t){return HI(t)&&t.tagName==="svg"}const nr=t=>!!(t&&t.getVelocity),Jq=[...LI,Qn,So],eH=t=>Jq.find(VI(t)),bw=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class tH extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=pw(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function nH({children:t,isPresent:e,anchorX:n}){const r=k.useId(),s=k.useRef(null),o=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=k.useContext(bw);return k.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:p,right:v}=o.current;if(e||!s.current||!u||!d)return;const x=n==="left"?`left: ${p}`:`right: ${v}`;s.current.dataset.motionPopId=r;const w=document.createElement("style");return l&&(w.nonce=l),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(w)&&document.head.removeChild(w)}},[e]),m.jsx(tH,{isPresent:e,childRef:s,sizeRef:o,children:k.cloneElement(t,{ref:s})})}const rH=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:l,anchorX:u})=>{const d=X1(sH),h=k.useId();let p=!0,v=k.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:n,custom:s,onExitComplete:x=>{d.set(x,!0);for(const w of d.values())if(!w)return;r&&r()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[n,d,r]);return o&&p&&(v={...v}),k.useMemo(()=>{d.forEach((x,w)=>d.set(w,!1))},[n]),k.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),l==="popLayout"&&(t=m.jsx(nH,{isPresent:n,anchorX:u,children:t})),m.jsx(zg.Provider,{value:v,children:t})};function sH(){return new Map}function GI(t=!0){const e=k.useContext(zg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=k.useId();k.useEffect(()=>{if(t)return s(o)},[t]);const l=k.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const Km=t=>t.key||"";function l2(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const iH=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:u="left"})=>{const[d,h]=GI(l),p=k.useMemo(()=>l2(t),[t]),v=l&&!d?[]:p.map(Km),x=k.useRef(!0),w=k.useRef(p),T=X1(()=>new Map),[E,R]=k.useState(p),[C,L]=k.useState(p);nI(()=>{x.current=!1,w.current=p;for(let M=0;M<C.length;M++){const V=Km(C[M]);v.includes(V)?T.delete(V):T.get(V)!==!0&&T.set(V,!1)}},[C,v.length,v.join("-")]);const j=[];if(p!==E){let M=[...p];for(let V=0;V<C.length;V++){const P=C[V],N=Km(P);v.includes(N)||(M.splice(V,0,P),j.push(P))}return o==="wait"&&j.length&&(M=j),L(l2(M)),R(p),null}const{forceRender:U}=k.useContext(W1);return m.jsx(m.Fragment,{children:C.map(M=>{const V=Km(M),P=l&&!d?!1:p===C||v.includes(V),N=()=>{if(T.has(V))T.set(V,!0);else return;let D=!0;T.forEach(B=>{B||(D=!1)}),D&&(U==null||U(),L(w.current),l&&(h==null||h()),r&&r())};return m.jsx(rH,{isPresent:P,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,onExitComplete:P?void 0:N,anchorX:u,children:M},V)})})},KI=k.createContext({strict:!1}),c2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lu={};for(const t in c2)lu[t]={isEnabled:e=>c2[t].some(n=>!!e[n])};function aH(t){for(const e in t)lu[e]={...lu[e],...t[e]}}const oH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ng(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||oH.has(t)}let YI=t=>!ng(t);function lH(t){t&&(YI=e=>e.startsWith("on")?!ng(e):t(e))}try{lH(require("@emotion/is-prop-valid").default)}catch{}function cH(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(YI(s)||n===!0&&ng(s)||!e&&!ng(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function uH(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const qg=k.createContext({});function Hg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ch(t){return typeof t=="string"||Array.isArray(t)}const ww=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_w=["initial",...ww];function Gg(t){return Hg(t.animate)||_w.some(e=>Ch(t[e]))}function WI(t){return!!(Gg(t)||t.variants)}function dH(t,e){if(Gg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ch(n)?n:void 0,animate:Ch(r)?r:void 0}}return t.inherit!==!1?e:{}}function hH(t){const{initial:e,animate:n}=dH(t,k.useContext(qg));return k.useMemo(()=>({initial:e,animate:n}),[u2(e),u2(n)])}function u2(t){return Array.isArray(t)?t.join(" "):t}const fH=Symbol.for("motionComponentSymbol");function Bc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mH(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Bc(n)&&(n.current=r))},[e])}const Tw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pH="framerAppearId",XI="data-"+Tw(pH),QI=k.createContext({});function gH(t,e,n,r,s){var E,R;const{visualElement:o}=k.useContext(qg),l=k.useContext(KI),u=k.useContext(zg),d=k.useContext(bw).reducedMotion,h=k.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,v=k.useContext(QI);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&yH(h.current,n,s,v);const x=k.useRef(!1);k.useInsertionEffect(()=>{p&&x.current&&p.update(n,u)});const w=n[XI],T=k.useRef(!!w&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,w))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,w)));return nI(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),vw.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,w)}),T.current=!1))}),p}function yH(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ZI(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&Bc(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:h})}function ZI(t){if(t)return t.options.allowProjection!==!1?t.projection:ZI(t.parent)}function vH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&aH(t);function o(u,d){let h;const p={...k.useContext(bw),...u,layoutId:xH(u)},{isStatic:v}=p,x=hH(u),w=r(u,v);if(!v&&Q1){bH();const T=wH(p);h=T.MeasureLayout,x.visualElement=gH(s,w,p,e,T.ProjectionNode)}return m.jsxs(qg.Provider,{value:x,children:[h&&x.visualElement?m.jsx(h,{visualElement:x.visualElement,...p}):null,n(s,u,mH(w,x.visualElement,d),w,v,x.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=k.forwardRef(o);return l[fH]=s,l}function xH({layoutId:t}){const e=k.useContext(W1).id;return e&&t!==void 0?e+"-"+t:t}function bH(t,e){k.useContext(KI).strict}function wH(t){const{drag:e,layout:n}=lu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const kh={};function _H(t){for(const e in t)kh[e]=t[e],iw(e)&&(kh[e].isCSSVariable=!0)}function JI(t,{layout:e,layoutId:n}){return wu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!kh[t]||t==="opacity")}const TH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EH=bu.length;function SH(t,e,n){let r="",s=!0;for(let o=0;o<EH;o++){const l=bu[o],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const h=$I(u,yw[l]);if(!d){s=!1;const p=TH[l]||l;r+=`${p}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Ew(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,u=!1;for(const d in e){const h=e[d];if(wu.has(d)){l=!0;continue}else if(iw(d)){s[d]=h;continue}else{const p=$I(h,yw[d]);d.startsWith("origin")?(u=!0,o[d]=p):r[d]=p}}if(e.transform||(l||n?r.transform=SH(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=o;r.transformOrigin=`${d} ${h} ${p}`}}const Sw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eD(t,e,n){for(const r in e)!nr(e[r])&&!JI(r,n)&&(t[r]=e[r])}function AH({transformTemplate:t},e){return k.useMemo(()=>{const n=Sw();return Ew(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RH(t,e){const n=t.style||{},r={};return eD(r,n,t),Object.assign(r,AH(t,e)),r}function CH(t,e){const n={},r=RH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const kH={offset:"stroke-dashoffset",array:"stroke-dasharray"},NH={offset:"strokeDashoffset",array:"strokeDasharray"};function jH(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?kH:NH;t[o.offset]=Fe.transform(-r);const l=Fe.transform(e),u=Fe.transform(n);t[o.array]=`${l} ${u}`}function tD(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,h,p){if(Ew(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&jH(v,s,o,l,!1)}const nD=()=>({...Sw(),attrs:{}}),rD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PH(t,e,n,r){const s=k.useMemo(()=>{const o=nD();return tD(o,e,rD(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};eD(o,t.style,t),s.style={...o,...s.style}}return s}const IH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Aw(t){return typeof t!="string"||t.includes("-")?!1:!!(IH.indexOf(t)>-1||/[A-Z]/u.test(t))}function DH(t=!1){return(n,r,s,{latestValues:o},l)=>{const d=(Aw(n)?PH:CH)(r,o,l,n),h=cH(r,typeof n=="string",t),p=n!==k.Fragment?{...h,...d,ref:s}:{},{children:v}=r,x=k.useMemo(()=>nr(v)?v.get():v,[v]);return k.createElement(n,{...p,children:x})}}function d2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Rw(t,e,n,r){if(typeof e=="function"){const[s,o]=d2(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=d2(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function gp(t){return nr(t)?t.get():t}function MH({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:OH(n,r,s,t),renderState:e()}}const sD=t=>(e,n)=>{const r=k.useContext(qg),s=k.useContext(zg),o=()=>MH(t,e,r,s);return n?o():X1(o)};function OH(t,e,n,r){const s={},o=r(t,{});for(const x in o)s[x]=gp(o[x]);let{initial:l,animate:u}=t;const d=Gg(t),h=WI(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const v=p?u:l;if(v&&typeof v!="boolean"&&!Hg(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const T=Rw(t,x[w]);if(T){const{transitionEnd:E,transition:R,...C}=T;for(const L in C){let j=C[L];if(Array.isArray(j)){const U=p?j.length-1:0;j=j[U]}j!==null&&(s[L]=j)}for(const L in E)s[L]=E[L]}}}return s}function Cw(t,e,n){var o;const{style:r}=t,s={};for(const l in r)(nr(r[l])||e.style&&nr(e.style[l])||JI(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(s[l]=r[l]);return s}const VH={useVisualState:sD({scrapeMotionValuesFromProps:Cw,createRenderState:Sw})};function iD(t,e,n){const r=Cw(t,e,n);for(const s in t)if(nr(t[s])||nr(e[s])){const o=bu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const LH={useVisualState:sD({scrapeMotionValuesFromProps:iD,createRenderState:nD})};function UH(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Aw(r)?LH:VH,preloadedFeatures:t,useRender:DH(s),createVisualElement:e,Component:r};return vH(l)}}function Nh(t,e,n){const r=t.getProps();return Rw(r,e,n!==void 0?n:r.custom,t)}const Kx=t=>Array.isArray(t);function BH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ou(n))}function $H(t){return Kx(t)?t[t.length-1]||0:t}function FH(t,e){const n=Nh(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const u=$H(o[l]);BH(t,l,u)}}function zH(t){return!!(nr(t)&&t.add)}function Yx(t,e){const n=t.getValue("willChange");if(zH(n))return n.add(e);if(!n&&ca.WillChange){const r=new ca.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function aD(t){return t.props[XI]}const qH=t=>t!==null;function HH(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(qH),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const GH={type:"spring",stiffness:500,damping:25,restSpeed:10},KH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YH={type:"keyframes",duration:.8},WH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XH=(t,{keyframes:e})=>e.length>2?YH:wu.has(t)?t.startsWith("scale")?KH(e[1]):GH:WH;function QH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const kw=(t,e,n,r={},s,o)=>l=>{const u=gw(r,t)||{},d=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-mi(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};QH(u)||Object.assign(p,XH(t,p)),p.duration&&(p.duration=mi(p.duration)),p.repeatDelay&&(p.repeatDelay=mi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(v=!0)),(ca.instantAnimations||ca.skipAnimations)&&(v=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const x=HH(p.keyframes,u);if(x!==void 0){Gt.update(()=>{p.onUpdate(x),p.onComplete()});return}}return u.isSync?new fw(p):new Nq(p)};function ZH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function oD(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const v=t.getValue(p,t.latestValues[p]??null),x=u[p];if(x===void 0||h&&ZH(h,p))continue;const w={delay:n,...gw(o||{},p)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===T&&!w.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const C=aD(t);if(C){const L=window.MotionHandoffAnimation(C,p,Gt);L!==null&&(w.startTime=L,E=!0)}}Yx(t,p),v.start(kw(p,v,x,t.shouldReduceMotion&&OI.has(p)?{type:!1}:w,t,E));const R=v.animation;R&&d.push(R)}return l&&Promise.all(d).then(()=>{Gt.update(()=>{l&&FH(t,l)})}),d}function Wx(t,e,n={}){var d;const r=Nh(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(oD(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:x}=s;return JH(t,e,p+h,v,x,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[h,p]=u==="beforeChildren"?[o,l]:[l,o];return h().then(()=>p())}else return Promise.all([o(),l(n.delay)])}function JH(t,e,n=0,r=0,s=1,o){const l=[],u=(t.variantChildren.size-1)*r,d=s===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(t.variantChildren).sort(eG).forEach((h,p)=>{h.notify("AnimationStart",e),l.push(Wx(h,e,{...o,delay:n+d(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function eG(t,e){return t.sortNodePosition(e)}function tG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>Wx(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=Wx(t,e,n);else{const s=typeof e=="function"?Nh(t,e,n.custom):e;r=Promise.all(oD(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function lD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const nG=_w.length;function cD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?cD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<nG;n++){const r=_w[n],s=t.props[r];(Ch(s)||s===!1)&&(e[r]=s)}return e}const rG=[...ww].reverse(),sG=ww.length;function iG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>tG(t,n,r)))}function aG(t){let e=iG(t),n=h2(),r=!0;const s=d=>(h,p)=>{var x;const v=Nh(t,p,d==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(v){const{transition:w,transitionEnd:T,...E}=v;h={...h,...E,...T}}return h};function o(d){e=d(t)}function l(d){const{props:h}=t,p=cD(t.parent)||{},v=[],x=new Set;let w={},T=1/0;for(let R=0;R<sG;R++){const C=rG[R],L=n[C],j=h[C]!==void 0?h[C]:p[C],U=Ch(j),M=C===d?L.isActive:null;M===!1&&(T=R);let V=j===p[C]&&j!==h[C]&&U;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),L.protectedKeys={...w},!L.isActive&&M===null||!j&&!L.prevProp||Hg(j)||typeof j=="boolean")continue;const P=oG(L.prevProp,j);let N=P||C===d&&L.isActive&&!V&&U||R>T&&U,D=!1;const B=Array.isArray(j)?j:[j];let $=B.reduce(s(C),{});M===!1&&($={});const{prevResolvedValues:G={}}=L,F={...G,...$},be=re=>{N=!0,x.has(re)&&(D=!0,x.delete(re)),L.needsAnimating[re]=!0;const me=t.getValue(re);me&&(me.liveStyle=!1)};for(const re in F){const me=$[re],Ae=G[re];if(w.hasOwnProperty(re))continue;let z=!1;Kx(me)&&Kx(Ae)?z=!lD(me,Ae):z=me!==Ae,z?me!=null?be(re):x.add(re):me!==void 0&&x.has(re)?be(re):L.protectedKeys[re]=!0}L.prevProp=j,L.prevResolvedValues=$,L.isActive&&(w={...w,...$}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(V&&P)||D)&&v.push(...B.map(re=>({animation:re,options:{type:C}})))}if(x.size){const R={};if(typeof h.initial!="boolean"){const C=Nh(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(R.transition=C.transition)}x.forEach(C=>{const L=t.getBaseTarget(C),j=t.getValue(C);j&&(j.liveStyle=!0),R[C]=L??null}),v.push({animation:R})}let E=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(v):Promise.resolve()}function u(d,h){var v;if(n[d].isActive===h)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(x=>{var w;return(w=x.animationState)==null?void 0:w.setActive(d,h)}),n[d].isActive=h;const p=l(d);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=h2(),r=!0}}}function oG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lD(e,t):!1}function cl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h2(){return{animate:cl(!0),whileInView:cl(),whileHover:cl(),whileTap:cl(),whileDrag:cl(),whileFocus:cl(),exit:cl()}}let jo=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},lG=class extends jo{constructor(e){super(e),e.animationState||(e.animationState=aG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}},cG=0,uG=class extends jo{constructor(){super(...arguments),this.id=cG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}};const dG={animation:{Feature:lG},exit:{Feature:uG}};function jh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function uf(t){return{point:{x:t.pageX,y:t.pageY}}}const hG=t=>e=>xw(e)&&t(e,uf(e));function th(t,e,n,r){return jh(t,e,hG(n),r)}function uD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function fG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const dD=1e-4,pG=1-dD,gG=1+dD,hD=.01,yG=0-hD,vG=0+hD;function hr(t){return t.max-t.min}function xG(t,e,n){return Math.abs(t-e)<=n}function f2(t,e,n,r=.5){t.origin=r,t.originPoint=qt(e.min,e.max,t.origin),t.scale=hr(n)/hr(e),t.translate=qt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pG&&t.scale<=gG||isNaN(t.scale))&&(t.scale=1),(t.translate>=yG&&t.translate<=vG||isNaN(t.translate))&&(t.translate=0)}function nh(t,e,n,r){f2(t.x,e.x,n.x,r?r.originX:void 0),f2(t.y,e.y,n.y,r?r.originY:void 0)}function m2(t,e,n){t.min=n.min+e.min,t.max=t.min+hr(e)}function bG(t,e,n){m2(t.x,e.x,n.x),m2(t.y,e.y,n.y)}function p2(t,e,n){t.min=e.min-n.min,t.max=t.min+hr(e)}function rh(t,e,n){p2(t.x,e.x,n.x),p2(t.y,e.y,n.y)}const g2=()=>({translate:0,scale:1,origin:0,originPoint:0}),$c=()=>({x:g2(),y:g2()}),y2=()=>({min:0,max:0}),tn=()=>({x:y2(),y:y2()});function us(t){return[t("x"),t("y")]}function Mv(t){return t===void 0||t===1}function Xx({scale:t,scaleX:e,scaleY:n}){return!Mv(t)||!Mv(e)||!Mv(n)}function hl(t){return Xx(t)||fD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fD(t){return v2(t.x)||v2(t.y)}function v2(t){return t&&t!=="0%"}function rg(t,e,n){const r=t-n,s=e*r;return n+s}function x2(t,e,n,r,s){return s!==void 0&&(t=rg(t,s,r)),rg(t,n,r)+e}function Qx(t,e=0,n=1,r,s){t.min=x2(t.min,e,n,r,s),t.max=x2(t.max,e,n,r,s)}function mD(t,{x:e,y:n}){Qx(t.x,e.translate,e.scale,e.originPoint),Qx(t.y,n.translate,n.scale,n.originPoint)}const b2=.999999999999,w2=1.0000000000001;function wG(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&zc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,mD(t,l)),r&&hl(o.latestValues)&&zc(t,o.latestValues))}e.x<w2&&e.x>b2&&(e.x=1),e.y<w2&&e.y>b2&&(e.y=1)}function Fc(t,e){t.min=t.min+e,t.max=t.max+e}function _2(t,e,n,r,s=.5){const o=qt(t.min,t.max,s);Qx(t,e,n,o,r)}function zc(t,e){_2(t.x,e.x,e.scaleX,e.scale,e.originX),_2(t.y,e.y,e.scaleY,e.scale,e.originY)}function pD(t,e){return uD(mG(t.getBoundingClientRect(),e))}function _G(t,e,n){const r=pD(t,n),{scroll:s}=e;return s&&(Fc(r.x,s.offset.x),Fc(r.y,s.offset.y)),r}const gD=({current:t})=>t?t.ownerDocument.defaultView:null,T2=(t,e)=>Math.abs(t-e);function TG(t,e){const n=T2(t.x,e.x),r=T2(t.y,e.y);return Math.sqrt(n**2+r**2)}let yD=class{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Vv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=TG(v.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:T}=v,{timestamp:E}=Un;this.history.push({...T,timestamp:E});const{onStart:R,onMove:C}=this.handlers;x||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Ov(x,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Vv(v.type==="pointercancel"?this.lastMoveEventInfo:Ov(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,R),T&&T(v,R)},!xw(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=uf(e),u=Ov(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=Un;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,Vv(u,this.history)),this.removeListeners=of(th(this.contextWindow,"pointermove",this.handlePointerMove),th(this.contextWindow,"pointerup",this.handlePointerUp),th(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Eo(this.updatePoint)}};function Ov(t,e){return e?{point:e(t.point)}:t}function E2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Vv({point:t},e){return{point:t,delta:E2(t,vD(e)),offset:E2(t,EG(e)),velocity:SG(e,.1)}}function EG(t){return t[0]}function vD(t){return t[t.length-1]}function SG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=vD(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>mi(e)));)n--;if(!r)return{x:0,y:0};const o=pi(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function AG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?qt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?qt(n,t,r.max):Math.min(t,n)),t}function S2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RG(t,{top:e,left:n,bottom:r,right:s}){return{x:S2(t.x,n,s),y:S2(t.y,e,r)}}function A2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function CG(t,e){return{x:A2(t.x,e.x),y:A2(t.y,e.y)}}function kG(t,e){let n=.5;const r=hr(t),s=hr(e);return s>r?n=Sh(e.min,e.max-r,t.min):r>s&&(n=Sh(t.min,t.max-s,e.min)),la(0,1,n)}function NG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zx=.35;function jG(t=Zx){return t===!1?t=0:t===!0&&(t=Zx),{x:R2(t,"left","right"),y:R2(t,"top","bottom")}}function R2(t,e,n){return{min:C2(t,e),max:C2(t,n)}}function C2(t,e){return typeof t=="number"?t:t[e]||0}const PG=new WeakMap;let IG=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(uf(p).point)},o=(p,v)=>{const{drag:x,dragPropagation:w,onDragStart:T}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Gq(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),us(R=>{let C=this.getAxisMotionValue(R).get()||0;if(gi.test(C)){const{projection:L}=this.visualElement;if(L&&L.layout){const j=L.layout.layoutBox[R];j&&(C=hr(j)*(parseFloat(C)/100))}}this.originPoint[R]=C}),T&&Gt.postRender(()=>T(p,v)),Yx(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(p,v)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:T,onDrag:E}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:R}=v;if(w&&this.currentDirection===null){this.currentDirection=DG(R),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),E&&E(p,v)},u=(p,v)=>this.stop(p,v),d=()=>us(p=>{var v;return this.getAnimationState(p)==="paused"&&((v=this.getAxisMotionValue(p).animation)==null?void 0:v.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new yD(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:gD(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Gt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ym(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=AG(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&Bc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=RG(r.layoutBox,e):this.constraints=!1,this.elastic=jG(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&us(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=NG(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=_G(r,s.root,this.visualElement.getTransformPagePoint());let l=CG(s.layout.layoutBox,o);if(n){const u=n(fG(l));this.hasMutatedConstraints=!!u,u&&(l=uD(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=us(p=>{if(!Ym(p,n,this.currentDirection))return;let v=d&&d[p]||{};l&&(v={min:0,max:0});const x=s?200:1e6,w=s?40:1e7,T={type:"inertia",velocity:r?e[p]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(p,T)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Yx(this.visualElement,e),r.start(kw(e,r,0,n,this.visualElement,!1))}stopAnimation(){us(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){us(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){us(n=>{const{drag:r}=this.getProps();if(!Ym(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(e[n]-qt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};us(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=kG({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),us(l=>{if(!Ym(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];u.set(qt(d,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;PG.set(this.visualElement,this);const e=this.visualElement.current,n=th(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Bc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Gt.read(r);const l=jh(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(us(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=d[p].translate,v.set(v.get()+d[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Zx,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}};function Ym(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function DG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let MG=class extends jo{constructor(e){super(e),this.removeGroupControls=ms,this.removeListeners=ms,this.controls=new IG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ms}unmount(){this.removeGroupControls(),this.removeListeners()}};const k2=t=>(e,n)=>{t&&Gt.postRender(()=>t(e,n))};let OG=class extends jo{constructor(){super(...arguments),this.removePointerDownListener=ms}onPointerDown(e){this.session=new yD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:k2(e),onStart:k2(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&Gt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=th(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const yp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Fe.test(t))t=parseFloat(t);else return t;const n=N2(t,e.target.x),r=N2(t,e.target.y);return`${n}% ${r}%`}},VG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=So.parse(t);if(s.length>5)return r;const o=So.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=d;const h=qt(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}};let LG=class extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;_H(UG),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),yp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Gt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function xD(t){const[e,n]=GI(),r=k.useContext(W1);return m.jsx(LG,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(QI),isPresent:e,safeToRemove:n})}const UG={borderRadius:{...Pd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pd,borderTopRightRadius:Pd,borderBottomLeftRadius:Pd,borderBottomRightRadius:Pd,boxShadow:VG};function BG(t,e,n){const r=nr(t)?t:ou(t);return r.start(kw("",r,e,n)),r.animation}const $G=(t,e)=>t.depth-e.depth;let FG=class{constructor(){this.children=[],this.isDirty=!1}add(e){Z1(this.children,e),this.isDirty=!0}remove(e){J1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($G),this.isDirty=!1,this.children.forEach(e)}};function zG(t,e){const n=Tr.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Eo(r),t(o-e))};return Gt.setup(r,!0),()=>Eo(r)}const bD=["TopLeft","TopRight","BottomLeft","BottomRight"],qG=bD.length,j2=t=>typeof t=="string"?parseFloat(t):t,P2=t=>typeof t=="number"||Fe.test(t);function HG(t,e,n,r,s,o){s?(t.opacity=qt(0,n.opacity??1,GG(r)),t.opacityExit=qt(e.opacity??1,0,KG(r))):o&&(t.opacity=qt(e.opacity??1,n.opacity??1,r));for(let l=0;l<qG;l++){const u=`border${bD[l]}Radius`;let d=I2(e,u),h=I2(n,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||P2(d)===P2(h)?(t[u]=Math.max(qt(j2(d),j2(h),r),0),(gi.test(h)||gi.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=qt(e.rotate||0,n.rotate||0,r))}function I2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GG=wD(0,.5,fI),KG=wD(.5,.95,ms);function wD(t,e,n){return r=>r<t?0:r>e?1:n(Sh(t,e,r))}function D2(t,e){t.min=e.min,t.max=e.max}function ls(t,e){D2(t.x,e.x),D2(t.y,e.y)}function M2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function O2(t,e,n,r,s){return t-=e,t=rg(t,1/n,r),s!==void 0&&(t=rg(t,1/s,r)),t}function YG(t,e=0,n=1,r=.5,s,o=t,l=t){if(gi.test(e)&&(e=parseFloat(e),e=qt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=qt(o.min,o.max,r);t===o&&(u-=e),t.min=O2(t.min,e,n,u,s),t.max=O2(t.max,e,n,u,s)}function V2(t,e,[n,r,s],o,l){YG(t,e[n],e[r],e[s],e.scale,o,l)}const WG=["x","scaleX","originX"],XG=["y","scaleY","originY"];function L2(t,e,n,r){V2(t.x,e,WG,n?n.x:void 0,r?r.x:void 0),V2(t.y,e,XG,n?n.y:void 0,r?r.y:void 0)}function U2(t){return t.translate===0&&t.scale===1}function _D(t){return U2(t.x)&&U2(t.y)}function B2(t,e){return t.min===e.min&&t.max===e.max}function QG(t,e){return B2(t.x,e.x)&&B2(t.y,e.y)}function $2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function TD(t,e){return $2(t.x,e.x)&&$2(t.y,e.y)}function F2(t){return hr(t.x)/hr(t.y)}function z2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}let ZG=class{constructor(){this.members=[]}add(e){Z1(this.members,e),e.scheduleRender()}remove(e){if(J1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function JG(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:v,rotateY:x,skewX:w,skewY:T}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),w&&(r+=`skewX(${w}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const Lv=["","X","Y","Z"],eK={visibility:"hidden"},tK=1e3;let nK=0;function Uv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ED(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=aD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ED(r)}function SD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e==null?void 0:e()){this.id=nK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iK),this.nodes.forEach(uK),this.nodes.forEach(dK),this.nodes.forEach(aK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new FG)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new nw),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=HI(l)&&!Zq(l),this.instance=l;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const v=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=zG(v,250),yp.hasAnimatedSinceResize&&(yp.hasAnimatedSinceResize=!1,this.nodes.forEach(H2))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||gK,{onLayoutAnimationStart:E,onLayoutAnimationComplete:R}=h.getProps(),C=!this.targetLayout||!TD(this.targetLayout,w),L=!v&&x;if(this.options.layoutRoot||this.resumeFrom||L||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...gw(T,"layout"),onPlay:E,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(p,L)}else v||H2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Eo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hK),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ED(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(q2);return}this.isUpdating||this.nodes.forEach(lK),this.isUpdating=!1,this.nodes.forEach(cK),this.nodes.forEach(rK),this.nodes.forEach(sK),this.clearAllSnapshots();const u=Tr.now();Un.delta=la(0,1e3/60,u-Un.timestamp),Un.timestamp=u,Un.isProcessing=!0,Nv.update.process(Un),Nv.preRender.process(Un),Nv.render.process(Un),Un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oK),this.sharedNodes.forEach(fK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hr(this.snapshot.measuredBox.x)&&!hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!_D(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(u||hl(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),yK(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return tn();const u=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(vK))){const{scroll:p}=this.root;p&&(Fc(u.x,p.offset.x),Fc(u.y,p.offset.y))}return u}removeElementScroll(l){var d;const u=tn();if(ls(u,l),(d=this.scroll)!=null&&d.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:v,options:x}=p;p!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&ls(u,l),Fc(u.x,v.offset.x),Fc(u.y,v.offset.y))}return u}applyTransform(l,u=!1){const d=tn();ls(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&zc(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),hl(p.latestValues)&&zc(d,p.latestValues)}return hl(this.latestValues)&&zc(d,this.latestValues),d}removeTransform(l){const u=tn();ls(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!hl(h.latestValues))continue;Xx(h.latestValues)&&h.updateSnapshot();const p=tn(),v=h.measurePageBox();ls(p,v),L2(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return hl(this.latestValues)&&L2(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=Un.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),rh(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ls(this.target,this.layout.layoutBox),mD(this.target,this.targetDelta)):ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),rh(this.relativeTargetOrigin,this.target,w.target),ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Xx(this.parent.latestValues)||fD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Un.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;ls(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;wG(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=tn());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(M2(this.prevProjectionDelta.x,this.projectionDelta.x),M2(this.prevProjectionDelta.y,this.projectionDelta.y)),nh(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!z2(this.projectionDelta.x,this.prevProjectionDelta.x)||!z2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$c(),this.projectionDelta=$c(),this.projectionDeltaWithTransform=$c()}setAnimationOrigin(l,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},v=$c();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=tn(),w=d?d.source:void 0,T=this.layout?this.layout.source:void 0,E=w!==T,R=this.getStack(),C=!R||R.members.length<=1,L=!!(E&&!C&&this.options.crossfade===!0&&!this.path.some(pK));this.animationProgress=0;let j;this.mixTargetDelta=U=>{const M=U/1e3;G2(v.x,l.x,M),G2(v.y,l.y,M),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mK(this.relativeTarget,this.relativeTargetOrigin,x,M),j&&QG(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=tn()),ls(j,this.relativeTarget)),E&&(this.animationValues=p,HG(p,h,this.latestValues,M,L,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,d,h;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Eo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{yp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ou(0)),this.currentAnimation=BG(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=l;if(!(!u||!d||!h)){if(this!==l&&this.layout&&h&&AD(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||tn();const v=hr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const x=hr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}ls(u,d),zc(u,p),nh(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new ZG),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Uv("z",l,h,this.animationValues);for(let p=0;p<Lv.length;p++)Uv(`rotate${Lv[p]}`,l,h,this.animationValues),Uv(`skew${Lv[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return eK;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=gp(l==null?void 0:l.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=gp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!hl(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=JG(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:v,y:x}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in kh){if(p[w]===void 0)continue;const{correct:T,applyTo:E,isCSSVariable:R}=kh[w],C=u.transform==="none"?p[w]:T(p[w],h);if(E){const L=E.length;for(let j=0;j<L;j++)u[E[j]]=C}else R?this.options.visualElement.renderState.vars[w]=C:u[w]=C}return this.options.layoutId&&(u.pointerEvents=h===this?gp(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(q2),this.root.sharedNodes.clear()}}}function rK(t){t.updateLayout()}function sK(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?us(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],w=hr(x);x.min=r[v].min,x.max=x.min+w}):AD(o,e.layoutBox,r)&&us(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],w=hr(r[v]);x.max=x.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const u=$c();nh(u,r,e.layoutBox);const d=$c();l?nh(d,t.applyTransform(s,!0),e.measuredBox):nh(d,r,e.layoutBox);const h=!_D(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:w}=v;if(x&&w){const T=tn();rh(T,e.layoutBox,x.layoutBox);const E=tn();rh(E,r,w.layoutBox),TD(T,E)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=T,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function iK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function aK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function oK(t){t.clearSnapshot()}function q2(t){t.clearMeasurements()}function lK(t){t.isLayoutDirty=!1}function cK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function H2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function uK(t){t.resolveTargetDelta()}function dK(t){t.calcProjection()}function hK(t){t.resetSkewAndRotation()}function fK(t){t.removeLeadSnapshot()}function G2(t,e,n){t.translate=qt(e.translate,0,n),t.scale=qt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function K2(t,e,n,r){t.min=qt(e.min,n.min,r),t.max=qt(e.max,n.max,r)}function mK(t,e,n,r){K2(t.x,e.x,n.x,r),K2(t.y,e.y,n.y,r)}function pK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const gK={duration:.45,ease:[.4,0,.1,1]},Y2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),W2=Y2("applewebkit/")&&!Y2("chrome/")?Math.round:ms;function X2(t){t.min=W2(t.min),t.max=W2(t.max)}function yK(t){X2(t.x),X2(t.y)}function AD(t,e,n){return t==="position"||t==="preserve-aspect"&&!xG(F2(e),F2(n),.2)}function vK(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const xK=SD({attachResizeListener:(t,e)=>jh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bv={current:void 0},RD=SD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bv.current){const t=new xK({});t.mount(window),t.setOptions({layoutScroll:!0}),Bv.current=t}return Bv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bK={pan:{Feature:OG},drag:{Feature:MG,ProjectionNode:RD,MeasureLayout:xD}};function Q2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Gt.postRender(()=>o(e,uf(e)))}let wK=class extends jo{mount(){const{current:e}=this.node;e&&(this.unmount=Kq(e,(n,r)=>(Q2(this.node,r,"Start"),s=>Q2(this.node,s,"End"))))}unmount(){}},_K=class extends jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=of(jh(this.node.current,"focus",()=>this.onFocus()),jh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function Z2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Gt.postRender(()=>o(e,uf(e)))}let TK=class extends jo{mount(){const{current:e}=this.node;e&&(this.unmount=Qq(e,(n,r)=>(Z2(this.node,r,"Start"),(s,{success:o})=>Z2(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const Jx=new WeakMap,$v=new WeakMap,EK=t=>{const e=Jx.get(t.target);e&&e(t)},SK=t=>{t.forEach(EK)};function AK({root:t,...e}){const n=t||document;$v.has(n)||$v.set(n,{});const r=$v.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(SK,{root:t,...e})),r[s]}function RK(t,e,n){const r=AK(e);return Jx.set(t,n),r.observe(t),()=>{Jx.delete(t),r.unobserve(t)}}const CK={some:0,all:1};let kK=class extends jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:CK[s]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),x=h?p:v;x&&x(d)};return RK(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(NK(e,n))&&this.startObserver()}unmount(){}};function NK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const jK={inView:{Feature:kK},tap:{Feature:TK},focus:{Feature:_K},hover:{Feature:wK}},PK={layout:{ProjectionNode:RD,MeasureLayout:xD}},eb={current:null},CD={current:!1};function IK(){if(CD.current=!0,!!Q1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>eb.current=t.matches;t.addListener(e),e()}else eb.current=!1}const DK=new WeakMap;function MK(t,e,n){for(const r in e){const s=e[r],o=n[r];if(nr(s))t.addValue(r,s);else if(nr(o))t.addValue(r,ou(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,ou(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const J2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let OK=class{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Tr.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Gt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Gg(n),this.isVariantNode=WI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const w=v[x];d[x]!==void 0&&nr(w)&&w.set(d[x],!1)}}mount(e){this.current=e,DK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),CD.current||IK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:eb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Eo(this.notifyUpdate),Eo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=wu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in lu){const n=lu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<J2.length;r++){const s=J2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=MK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ou(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(rI(r)||iI(r))?r=parseFloat(r):!eH(r)&&So.test(n)&&(r=BI(e,n)),this.setBaseTarget(e,nr(r)?r.get():r)),nr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Rw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!nr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}},kD=class extends OK{constructor(){super(...arguments),this.KeyframeResolver=Fq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function ND(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function VK(t){return window.getComputedStyle(t)}let LK=class extends kD{constructor(){super(...arguments),this.type="html",this.renderInstance=ND}readValueFromInstance(e,n){var r;if(wu.has(n))return(r=this.projection)!=null&&r.isProjecting?$x(n):oq(e,n);{const s=VK(e),o=(iw(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pD(e,n)}build(e,n,r){Ew(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Cw(e,n,r)}};const jD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UK(t,e,n,r){ND(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(jD.has(s)?s:Tw(s),e.attrs[s])}let BK=class extends kD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wu.has(n)){const r=UI(n);return r&&r.default||0}return n=jD.has(n)?n:Tw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return iD(e,n,r)}build(e,n,r){tD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){UK(e,n,r,s)}mount(e){this.isSVGTag=rD(e.tagName),super.mount(e)}};const $K=(t,e)=>Aw(t)?new BK(e):new LK(e,{allowProjection:t!==k.Fragment}),FK=UH({...dG,...jK,...bK,...PK},$K),He=uH(FK),Ze=({children:t,onClick:e,type:n="button",variant:r="primary",size:s="md",disabled:o=!1,isLoading:l=!1,fullWidth:u=!1,icon:d=null,iconPosition:h="left",className:p="",...v})=>{const x="font-medium rounded-md inline-flex items-center justify-center transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900 disabled:opacity-60 disabled:cursor-not-allowed",w={primary:"bg-gradient-to-r from-blue-500 to-blue-800 hover:from-blue-600 hover:to-blue-800 text-white focus:ring-blue-400 dark:from-blue-600 dark:to-blue-900 dark:hover:from-blue-500 dark:hoveblue-700",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800 focus:ring-gray-500 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200",danger:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white focus:ring-red-500 dark:from-red-700 dark:to-pink-700 dark:hover:from-red-600 dark:hover:to-pink-600",success:"bg-gradient-to-r from-green-600 to-emerald-500 hover:from-green-700 hover:to-emerald-600 text-white focus:ring-green-500 dark:from-green-700 dark:to-emerald-600 dark:hover:from-green-600 dark:hover:to-emerald-500",warning:"bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white focus:ring-yellow-500 dark:from-yellow-500 dark:to-yellow-700 dark:hover:from-yellow-400 dark:hover:to-yellow-600",outline:"bg-transparent border border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500 dark:border-blue-500 dark:text-blue-400 dark:hover:bg-blue-900/20",ghost:"bg-transparent text-blue-600 hover:bg-blue-50 focus:ring-blue-500 dark:text-blue-400 dark:hover:bg-blue-900/20"},T={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base",xl:"px-6 py-3 text-lg"};return m.jsxs(He.button,{type:n,className:yt(x,w[r]||w.primary,T[s]||T.md,u?"w-full":"",p),onClick:e,disabled:o||l,whileTap:{scale:.98},...v,children:[l&&m.jsx("span",{className:"mr-2 inline-block",children:m.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),d&&h==="left"&&!l&&m.jsx("span",{className:"mr-2",children:d}),m.jsx("span",{children:t}),d&&h==="right"&&m.jsx("span",{className:"ml-2",children:d})]})},zK=()=>m.jsx(vu,{className:"py-20 px-6 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)] text-[var(--color-text)] dark:text-[var(--color-dark-text)] text-center",children:m.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[m.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-primary-light",children:"🎯 Ready to explore or contribute to academic excellence?"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[m.jsx(Pt,{to:"/login",children:m.jsx(Ze,{variant:"primary",className:"text-white flex",size:"lg",icon:m.jsx(H1,{className:"w-5 h-5"}),children:"as FUBK Member"})}),m.jsx(Pt,{to:"/guest/explore",children:m.jsx(Ze,{variant:"outline",className:"text-gray-700 dark:text-gray-300",size:"lg",icon:m.jsx(vs,{className:"w-5 h-5"}),children:"Continue as Guest"})})]}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-4 max-w-xl mx-auto",children:m.jsx("em",{children:"Preserving the past. Empowering the future. Built for FUBK students, by FUBK students."})})]})}),df=({index:t,className:e,children:n})=>m.jsx(m.Fragment,{children:m.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1},className:yt("shadow-md hover:shadow-lg dark:shadow-slate-800/20 hover:dark:shadow-slate-800/50 transition-all ",e),children:n},t)}),qK=()=>m.jsx(m.Fragment,{children:m.jsx(vu,{className:"flex flex-col items-center justify-center px-6 py-16 text-[var(--color-text) bg-ppr-animated",children:m.jsxs(df,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-3xl shadow-none hover:shadow-lg dark:shadow-none hover:dark:shadow-none transition-all",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[var(--color-primary)] dark:text-[var(--color-dark-primary)] mb-4 leading-tight",children:"PPR – Project Repository System"}),m.jsx("p",{className:"text-xl md:text-2xl text-[var(--color-accent)] dark:text-[var(--color-dark-accent)] font-medium mb-6",children:'"Unlock Research. Explore Knowledge. Power Your Project."'}),m.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-gray-300 mb-8",children:"The Project Repository System (PPR) empowers FUBK students, lecturers, and researchers by providing access to previously approved final-year projects. Upload, search, and request access all while supporting research integrity and collaboration."}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[m.jsx(Pt,{to:"/register",children:m.jsx(Ze,{size:"lg",icon:m.jsx(H1,{className:"w-5 h-5"}),className:"bg-[var(--color-primary)] dark:bg-[var(--color-dark-primary)] text-white hover:bg-[var(--color-primary-hover)] dark:hover:bg-[var(--color-dark-primary-hover)]",children:"Get Started"})}),m.jsx(Pt,{to:"/login",children:m.jsx(Ze,{variant:"outline",size:"lg",icon:m.jsx(Rr,{className:"w-5 h-5"}),className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20",children:"Explore Projects"})})]})]})})}),HK=[{icon:H1,title:"Login or Register",description:"Use your FUBK email to log in as a student or lecturer. Guests can continue in read-only mode."},{icon:af,title:"Explore or Upload",description:"Students can search for existing projects or submit their own final-year research for review."},{icon:Fl,title:"Lecturer Review",description:"Lecturers receive and approve submissions from their department, determining project visibility."},{icon:A7,title:"Access Management",description:"For restricted projects, students can submit a request. Lecturers grant or deny access with review."},{icon:Mt,title:"Track History",description:"All actions are logged per department to ensure transparency and research accountability."}],GK=()=>m.jsxs(vu,{className:"py-20 px-6 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] text-[var(--color-text)] dark:text-[var(--color-dark-text)]",children:[m.jsxs("div",{className:"max-w-5xl mx-auto text-center mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-primary-light mb-2",children:"🧭 How It Works"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"From login to full access, here's how PPR streamlines the research journey."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:HK.map((t,e)=>{const n=t.icon;return m.jsxs(df,{className:`p-6 rounded-2xl border backdrop-blur-md \r
                         bg-[var(--color-surface)] dark:bg-slate-900\r
                         border-[var(--color-border)] dark:border-[var(--color-dark-border)]\r
                         `,children:[m.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:m.jsx(n,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),m.jsx("h3",{className:"text-lg font-semibold",children:t.title}),m.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:t.description})]},e)})})]}),KK=()=>{const t=[{icon:KP,title:"Explore Projects",description:"Search titles, read abstracts, and find inspiration from previously approved final-year projects."},{icon:e8,title:"Submit Your Work",description:"Students can upload final-year project information to be reviewed and published by their department."},{icon:ba,title:"Request Full Access",description:"Need more than an abstract? Students can request access to restricted projects with valid reasons."},{icon:eI,title:"Lecturer Review",description:"Lecturers approve or reject submissions, set access level, and manage departmental research integrity."},{icon:QP,title:"Transparent Logs",description:"All submission and access history is logged for transparency, only visible to relevant lecturers."}];return m.jsxs(vu,{className:"py-16 px-4 sm:px-6 lg:px-8 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)]",children:[m.jsxs(He.div,{className:"text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[m.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-primary-light",children:"🔍 Key Features"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 max-w-2xl mx-auto",children:"Discover the power of PPR through its core features for students and staff."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,n)=>{const r=e.icon;return m.jsxs(df,{className:`p-6 rounded-2xl border backdrop-blur-md \r
                         bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]\r
                         border-[var(--color-border)] dark:border-[var(--color-dark-border)]\r
                         `,children:[m.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:m.jsx(r,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),m.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white",children:e.title}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:e.description})]},n)})})]})},YK=[{icon:"🎓",title:"FUBK Students",capabilities:["Submit their project for approval","Explore public and restricted project abstracts","Request full access to restricted content","Download approved files (if granted)"]},{icon:"🧑‍🏫",title:"FUBK Lecturers",capabilities:["Approve/reject student project submissions","Mark projects as public or restricted","Manage access requests","View activity history logs within their department"]},{icon:"🌍",title:"Guest Users (Other Institutions)",capabilities:["Search and view public project abstracts","Cannot upload, request access, or download files","Ideal for exploring academic output or doing comparative research"]}],WK=()=>m.jsxs(vu,{className:"py-20 px-6 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] text-[var(--color-text)] dark:text-[var(--color-dark-text)]",children:[m.jsxs("div",{className:"max-w-6xl mx-auto text-center mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-primary-light",children:"👥 Who Can Use PPR?"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 max-w-2xl mx-auto",children:"PPR is designed for both internal and external academic use. Here's what each role can do:"})]}),m.jsx("div",{className:"grid gap-10 sm:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",children:YK.map((t,e)=>m.jsxs(df,{className:"bg-[var(--color-background)] dark:bg-[var(--color-dark-background)] p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[m.jsx("div",{className:"text-4xl mb-3",children:t.icon}),m.jsx("h3",{className:"text-xl font-semibold mb-4",children:t.title}),m.jsx("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300 list-disc list-inside",children:t.capabilities.map((n,r)=>m.jsx("li",{children:n},r))})]},e))})]}),XK=[{icon:m.jsx(KP,{className:"w-6 h-6 text-primary"}),text:"Discover and reuse existing knowledge"},{icon:m.jsx(I7,{className:"w-6 h-6 text-primary"}),text:"Improve the quality of their own research"},{icon:m.jsx(eI,{className:"w-6 h-6 text-primary"}),text:"Protect research integrity and discourage plagiarism"},{icon:m.jsx(Dx,{className:"w-6 h-6 text-primary"}),text:"Gain insights into departmental research history"},{icon:m.jsx(K1,{className:"w-6 h-6 text-primary"}),text:"Encourage open academic culture through transparency"}],QK=()=>m.jsxs(vu,{className:"py-20 px-6 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)] text-[var(--color-text)] dark:text-[var(--color-dark-text)]",children:[m.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-primary-light mb-4",children:"🧠 Why PPR Matters"}),m.jsx("p",{className:"text-base text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"PPR solves a problem most institutions face: academic projects are submitted, graded, and then forgotten. This platform ensures those valuable works continue to serve the academic community."})]}),m.jsx("div",{className:"max-w-3xl mx-auto grid gap-6 sm:grid-cols-2",children:XK.map((t,e)=>m.jsxs(df,{className:"flex items-start gap-3 shadow-none hover:shadow-none",children:[m.jsx("div",{className:"pt-1",children:t.icon}),m.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:t.text})]},e))})]}),ZK=()=>{const t=new Date().getFullYear();return m.jsxs(m.Fragment,{children:[m.jsx(qK,{}),m.jsx(KK,{}),m.jsx(WK,{}),m.jsx(QK,{}),m.jsx(GK,{}),m.jsx(zK,{}),m.jsx("footer",{className:"w-full bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] text-[var(--color-text)] dark:text-[var(--color-dark-text)] px-6 py-6 text-sm",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4 text-center md:text-left",children:[m.jsxs("div",{children:["© ",t," ",m.jsx("strong",{children:"PPR"})," – Project Repository System",m.jsx("br",{}),"Powered by the Department of Computer Science, Federal University Birnin Kebbi"]}),m.jsxs("div",{className:"space-x-4 text-primary dark:text-primary-light",children:[m.jsx("span",{children:"Version 1.0"}),m.jsx("a",{href:"#",className:"hover:underline",children:"Feedback"}),m.jsx("a",{href:"#",className:"hover:underline",children:"Terms of Use"})]})]})})]})};function JK(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}JK(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hf=t=>typeof t=="number"&&!isNaN(t),Il=t=>typeof t=="string",ua=t=>typeof t=="function",eY=t=>Il(t)||hf(t),tb=t=>Il(t)||ua(t)?t:null,tY=(t,e)=>t===!1||hf(t)&&t>0?t:e,nb=t=>k.isValidElement(t)||Il(t)||ua(t)||hf(t);function nY(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function rY({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:o,position:l,preventExitTransition:u,done:d,nodeRef:h,isIn:p,playToast:v}){let x=n?`${t}--${l}`:t,w=n?`${e}--${l}`:e,T=k.useRef(0);return k.useLayoutEffect(()=>{let E=h.current,R=x.split(" "),C=L=>{L.target===h.current&&(v(),E.removeEventListener("animationend",C),E.removeEventListener("animationcancel",C),T.current===0&&L.type!=="animationcancel"&&E.classList.remove(...R))};E.classList.add(...R),E.addEventListener("animationend",C),E.addEventListener("animationcancel",C)},[]),k.useEffect(()=>{let E=h.current,R=()=>{E.removeEventListener("animationend",R),r?nY(E,d,s):d()};p||(u?R():(T.current=1,E.className+=` ${w}`,E.addEventListener("animationend",R)))},[p]),Lt.createElement(Lt.Fragment,null,o)}}function eC(t,e){return{content:PD(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function PD(t,e,n=!1){return k.isValidElement(t)&&!Il(t.type)?k.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):ua(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function sY({closeToast:t,theme:e,ariaLabel:n="close"}){return Lt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Lt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Lt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function iY({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:o,controlledProgress:l,progress:u,rtl:d,isIn:h,theme:p}){let v=s||l&&u===0,x={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(x.transform=`scaleX(${u})`);let w=yt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),T=ua(o)?o({rtl:d,type:r,defaultClassName:w}):yt(w,o),E={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&n()}};return Lt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},Lt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),Lt.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:T,style:x,...E}))}var aY=1,ID=()=>`${aY++}`;function oY(t,e,n){let r=1,s=0,o=[],l=[],u=e,d=new Map,h=new Set,p=L=>(h.add(L),()=>h.delete(L)),v=()=>{l=Array.from(d.values()),h.forEach(L=>L())},x=({containerId:L,toastId:j,updateId:U})=>{let M=L?L!==t:t!==1,V=d.has(j)&&U==null;return M||V},w=(L,j)=>{d.forEach(U=>{var M;(j==null||j===U.props.toastId)&&((M=U.toggle)==null||M.call(U,L))})},T=L=>{var j,U;(U=(j=L.props)==null?void 0:j.onClose)==null||U.call(j,L.removalReason),L.isActive=!1},E=L=>{if(L==null)d.forEach(T);else{let j=d.get(L);j&&T(j)}v()},R=()=>{s-=o.length,o=[]},C=L=>{var j,U;let{toastId:M,updateId:V}=L.props,P=V==null;L.staleId&&d.delete(L.staleId),L.isActive=!0,d.set(M,L),v(),n(eC(L,P?"added":"updated")),P&&((U=(j=L.props).onOpen)==null||U.call(j))};return{id:t,props:u,observe:p,toggle:w,removeToast:E,toasts:d,clearQueue:R,buildToast:(L,j)=>{if(x(j))return;let{toastId:U,updateId:M,data:V,staleId:P,delay:N}=j,D=M==null;D&&s++;let B={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(j).filter(([G,F])=>F!=null)),toastId:U,updateId:M,data:V,isIn:!1,className:tb(j.className||u.toastClassName),progressClassName:tb(j.progressClassName||u.progressClassName),autoClose:j.isLoading?!1:tY(j.autoClose,u.autoClose),closeToast(G){d.get(U).removalReason=G,E(U)},deleteToast(){let G=d.get(U);if(G!=null){if(n(eC(G,"removed")),d.delete(U),s--,s<0&&(s=0),o.length>0){C(o.shift());return}v()}}};B.closeButton=u.closeButton,j.closeButton===!1||nb(j.closeButton)?B.closeButton=j.closeButton:j.closeButton===!0&&(B.closeButton=nb(u.closeButton)?u.closeButton:!0);let $={content:L,props:B,staleId:P};u.limit&&u.limit>0&&s>u.limit&&D?o.push($):hf(N)?setTimeout(()=>{C($)},N):C($)},setProps(L){u=L},setToggle:(L,j)=>{let U=d.get(L);U&&(U.toggle=j)},isToastActive:L=>{var j;return(j=d.get(L))==null?void 0:j.isActive},getSnapshot:()=>l}}var fr=new Map,Ph=[],rb=new Set,lY=t=>rb.forEach(e=>e(t)),DD=()=>fr.size>0;function cY(){Ph.forEach(t=>OD(t.content,t.options)),Ph=[]}var uY=(t,{containerId:e})=>{var n;return(n=fr.get(e||1))==null?void 0:n.toasts.get(t)};function MD(t,e){var n;if(e)return!!((n=fr.get(e))!=null&&n.isToastActive(t));let r=!1;return fr.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function dY(t){if(!DD()){Ph=Ph.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||eY(t))fr.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=fr.get(t.containerId);e?e.removeToast(t.id):fr.forEach(n=>{n.removeToast(t.id)})}}var hY=(t={})=>{fr.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function OD(t,e){nb(t)&&(DD()||Ph.push({content:t,options:e}),fr.forEach(n=>{n.buildToast(t,e)}))}function fY(t){var e;(e=fr.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function VD(t,e){fr.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function mY(t){let e=t.containerId||1;return{subscribe(n){let r=oY(e,t,lY);fr.set(e,r);let s=r.observe(n);return cY(),()=>{s(),fr.delete(e)}},setProps(n){var r;(r=fr.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=fr.get(e))==null?void 0:n.getSnapshot()}}}function pY(t){return rb.add(t),()=>{rb.delete(t)}}function gY(t){return t&&(Il(t.toastId)||hf(t.toastId))?t.toastId:ID()}function ff(t,e){return OD(t,e),e.toastId}function Kg(t,e){return{...e,type:e&&e.type||t,toastId:gY(e)}}function Yg(t){return(e,n)=>ff(e,Kg(t,n))}function bt(t,e){return ff(t,Kg("default",e))}bt.loading=(t,e)=>ff(t,Kg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function yY(t,{pending:e,error:n,success:r},s){let o;e&&(o=Il(e)?bt.loading(e,s):bt.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,p,v)=>{if(p==null){bt.dismiss(o);return}let x={type:h,...l,...s,data:v},w=Il(p)?{render:p}:p;return o?bt.update(o,{...x,...w}):bt(w.render,{...x,...w}),v},d=ua(t)?t():t;return d.then(h=>u("success",r,h)).catch(h=>u("error",n,h)),d}bt.promise=yY;bt.success=Yg("success");bt.info=Yg("info");bt.error=Yg("error");bt.warning=Yg("warning");bt.warn=bt.warning;bt.dark=(t,e)=>ff(t,Kg("default",{theme:"dark",...e}));function vY(t){dY(t)}bt.dismiss=vY;bt.clearWaitingQueue=hY;bt.isActive=MD;bt.update=(t,e={})=>{let n=uY(t,e);if(n){let{props:r,content:s}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:ID()};o.toastId!==t&&(o.staleId=t);let l=o.render||s;delete o.render,ff(l,o)}};bt.done=t=>{bt.update(t,{progress:1})};bt.onChange=pY;bt.play=t=>VD(!0,t);bt.pause=t=>VD(!1,t);function xY(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=k.useRef(mY(t)).current;s(t);let o=(e=k.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(u){if(!o)return[];let d=new Map;return t.newestOnTop&&o.reverse(),o.forEach(h=>{let{position:p}=h.props;d.has(p)||d.set(p,[]),d.get(p).push(h)}),Array.from(d,h=>u(h[0],h[1]))}return{getToastToRender:l,isToastActive:MD,count:o==null?void 0:o.length}}function bY(t){let[e,n]=k.useState(!1),[r,s]=k.useState(!1),o=k.useRef(null),l=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:d,closeToast:h,onClick:p,closeOnClick:v}=t;fY({id:t.toastId,containerId:t.containerId,fn:n}),k.useEffect(()=>{if(t.pauseOnFocusLoss)return x(),()=>{w()}},[t.pauseOnFocusLoss]);function x(){document.hasFocus()||C(),window.addEventListener("focus",R),window.addEventListener("blur",C)}function w(){window.removeEventListener("focus",R),window.removeEventListener("blur",C)}function T(P){if(t.draggable===!0||t.draggable===P.pointerType){L();let N=o.current;l.canCloseOnClick=!0,l.canDrag=!0,N.style.transition="none",t.draggableDirection==="x"?(l.start=P.clientX,l.removalDistance=N.offsetWidth*(t.draggablePercent/100)):(l.start=P.clientY,l.removalDistance=N.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function E(P){let{top:N,bottom:D,left:B,right:$}=o.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&t.pauseOnHover&&P.clientX>=B&&P.clientX<=$&&P.clientY>=N&&P.clientY<=D?C():R()}function R(){n(!0)}function C(){n(!1)}function L(){l.didMove=!1,document.addEventListener("pointermove",U),document.addEventListener("pointerup",M)}function j(){document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",M)}function U(P){let N=o.current;if(l.canDrag&&N){l.didMove=!0,e&&C(),t.draggableDirection==="x"?l.delta=P.clientX-l.start:l.delta=P.clientY-l.start,l.start!==P.clientX&&(l.canCloseOnClick=!1);let D=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;N.style.transform=`translate3d(${D},0)`,N.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function M(){j();let P=o.current;if(l.canDrag&&l.didMove&&P){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let V={onPointerDown:T,onPointerUp:E};return u&&d&&(V.onMouseEnter=C,t.stacked||(V.onMouseLeave=R)),v&&(V.onClick=P=>{p&&p(P),l.canCloseOnClick&&h(!0)}),{playToast:R,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:V}}var wY=typeof window<"u"?k.useLayoutEffect:k.useEffect,Wg=({theme:t,type:e,isLoading:n,...r})=>Lt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function _Y(t){return Lt.createElement(Wg,{...t},Lt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function TY(t){return Lt.createElement(Wg,{...t},Lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function EY(t){return Lt.createElement(Wg,{...t},Lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function SY(t){return Lt.createElement(Wg,{...t},Lt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function AY(){return Lt.createElement("div",{className:"Toastify__spinner"})}var sb={info:TY,warning:_Y,success:EY,error:SY,spinner:AY},RY=t=>t in sb;function CY({theme:t,type:e,isLoading:n,icon:r}){let s=null,o={theme:t,type:e};return r===!1||(ua(r)?s=r({...o,isLoading:n}):k.isValidElement(r)?s=k.cloneElement(r,o):n?s=sb.spinner():RY(e)&&(s=sb[e](o))),s}var kY=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:o}=bY(t),{closeButton:l,children:u,autoClose:d,onClick:h,type:p,hideProgressBar:v,closeToast:x,transition:w,position:T,className:E,style:R,progressClassName:C,updateId:L,role:j,progress:U,rtl:M,toastId:V,deleteToast:P,isIn:N,isLoading:D,closeOnClick:B,theme:$,ariaLabel:G}=t,F=yt("Toastify__toast",`Toastify__toast-theme--${$}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":B}),be=ua(E)?E({rtl:M,position:T,type:p,defaultClassName:F}):yt(F,E),ve=CY(t),X=!!U||!d,re={closeToast:x,type:p,theme:$},me=null;return l===!1||(ua(l)?me=l(re):k.isValidElement(l)?me=k.cloneElement(l,re):me=sY(re)),Lt.createElement(w,{isIn:N,done:P,position:T,preventExitTransition:n,nodeRef:r,playToast:o},Lt.createElement("div",{id:V,tabIndex:0,onClick:h,"data-in":N,className:be,...s,style:R,ref:r,...N&&{role:j,"aria-label":G}},ve!=null&&Lt.createElement("div",{className:yt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},ve),PD(u,t,!e),me,!t.customProgressBar&&Lt.createElement(iY,{...L&&!X?{key:`p-${L}`}:{},rtl:M,theme:$,delay:d,isRunning:e,isIn:N,closeToast:x,hide:v,type:p,className:C,controlledProgress:X,progress:U||0})))},NY=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),jY=rY(NY("bounce",!0)),PY={position:"top-right",transition:jY,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function IY(t){let e={...PY,...t},n=t.stacked,[r,s]=k.useState(!0),o=k.useRef(null),{getToastToRender:l,isToastActive:u,count:d}=xY(e),{className:h,style:p,rtl:v,containerId:x,hotKeys:w}=e;function T(R){let C=yt("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":v});return ua(h)?h({position:R,rtl:v,defaultClassName:C}):yt(C,tb(h))}function E(){n&&(s(!0),bt.play())}return wY(()=>{var R;if(n){let C=o.current.querySelectorAll('[data-in="true"]'),L=12,j=(R=e.position)==null?void 0:R.includes("top"),U=0,M=0;Array.from(C).reverse().forEach((V,P)=>{let N=V;N.classList.add("Toastify__toast--stacked"),P>0&&(N.dataset.collapsed=`${r}`),N.dataset.pos||(N.dataset.pos=j?"top":"bot");let D=U*(r?.2:1)+(r?0:L*P);N.style.setProperty("--y",`${j?D:D*-1}px`),N.style.setProperty("--g",`${L}`),N.style.setProperty("--s",`${1-(r?M:0)}`),U+=N.offsetHeight,M+=.025})}},[r,d,n]),k.useEffect(()=>{function R(C){var L;let j=o.current;w(C)&&((L=j.querySelector('[tabIndex="0"]'))==null||L.focus(),s(!1),bt.pause()),C.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(s(!0),bt.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[w]),Lt.createElement("section",{ref:o,className:"Toastify",id:x,onMouseEnter:()=>{n&&(s(!1),bt.pause())},onMouseLeave:E,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((R,C)=>{let L=C.length?{...p}:{...p,pointerEvents:"none"};return Lt.createElement("div",{tabIndex:-1,className:T(R),"data-stacked":n,style:L,key:`c-${R}`},C.map(({content:j,props:U})=>Lt.createElement(kY,{...U,stacked:n,collapseAll:E,isIn:u(U.toastId,U.containerId),key:`t-${U.key}`},j)))}))}const LD=k.createContext(),DY=({children:t})=>{const e=o=>bt.success(o),n=o=>bt.error(o),r=o=>bt.info(o),s=o=>bt.warning(o);return m.jsx(LD.Provider,{value:{notifySuccess:e,notifyError:n,notifyInfo:r,notifyWarning:s},children:t})},Po=()=>k.useContext(LD),fs=({type:t="text",label:e,name:n,value:r,onChange:s,placeholder:o,required:l=!1,readOnly:u=!1,error:d,disabled:h=!1,className:p=""})=>m.jsxs("div",{className:"mb-4 w-full",children:[e&&m.jsxs("label",{htmlFor:n,className:"block text-sm font-medium mb-1 dark:text-gray-200 text-gray-700",children:[e," ",l&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(He.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative",children:m.jsx("input",{type:t,id:n,name:n,value:r,onChange:s,placeholder:o,disabled:h,required:l,readOnly:u,className:`w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-opacity-50 
            bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] dark:border-gray-800 dark:text-white 
            focus:outline-none transition-colors duration-200
            ${d?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-700"} 
            ${h?"bg-gray-100 cursor-not-allowed":""} 
            ${p}`})}),d&&m.jsx(He.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",children:d})]}),MY=()=>{const{notifySuccess:t,notifyError:e}=Po(),n=qn(),[r,s]=k.useState({email:"",password:""}),[o,l]=k.useState({}),[u,d]=k.useState(!1),h=E=>{const{name:R,value:C}=E.target;s(L=>({...L,[R]:C})),o[R]&&l(L=>({...L,[R]:""}))},p=()=>{var j;const E={},R=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,C=((j=r.email)==null?void 0:j.trim())||"",L=r.password;if(!C)E.email="Email is required";else if(!R.test(C))E.email="Enter a valid email address";else{const[U,M]=C.split("@"),V=M==="fubk.edu.ng"||M==="ug.fubk.edu.ng",P=/^\d{10}$/.test(U)||/^[a-zA-Z]+\.[a-zA-Z]+$/.test(U);(!V||!P)&&(E.email="Only valid FUBK student or staff emails allowed")}return L?L.length<6&&(E.password="Password must be at least 6 characters"):E.password="Password is required",E},v=async E=>{E.preventDefault();const R=p();if(Object.keys(R).length>0){l(R);return}d(!0);try{const{email:C,password:L}=r,U=(await EU(Is,C,L)).user,M=await Ti(zr(Ft,"Student",U.uid)),V=await Ti(zr(Ft,"Lecturer",U.uid));let P=null;if(M.exists()?P="student":V.exists()?P="lecturer":P="guest",!P){e("User role not found. Please contact support.");return}t("Login successful."),n(P==="student"?"/student/dashboard":P==="lecturer"?"/lecturer/dashboard":"/guest/explore")}catch(C){switch(C.code){case"auth/user-not-found":return e("Account not found. Please register.");case"auth/invalid-credential":return e("Account not found. Please register.");case"auth/wrong-password":return e("Incorrect password");case"auth/too-many-requests":return e("Too many attempts. Try again later.");default:return e(`Login failed: ${C.message}`)}}finally{d(!1)}},x=async()=>{try{const E=await vU(Is);return t("Guest login successful."),n("/guest/explore"),E.user}catch(E){throw e("Guest login failed:",E),E}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1,delayChildren:.2}}},T={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)]",children:m.jsxs(He.div,{initial:"hidden",animate:"visible",variants:w,className:"w-full max-w-md border-2 border-[var(--color-border)] dark:border-[var(--color-dark-border)] rounded-lg shadow-lg bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-6 space-y-10",children:[m.jsx(He.h2,{variants:T,className:"text-2xl font-bold mb-6 text-center text-gray-800 dark:text-white",children:"Login to Your Account"}),o.form&&m.jsx(He.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-3 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800",children:o.form}),m.jsxs("form",{onSubmit:v,children:[m.jsx(He.div,{variants:T,children:m.jsx(fs,{label:"Email",type:"email",name:"email",value:r.email,onChange:h,error:o.email,required:!0,placeholder:"Enter your FUBK email"})}),m.jsx(He.div,{variants:T,children:m.jsx(fs,{label:"Password",type:"password",name:"password",value:r.password,onChange:h,error:o.password,required:!0,placeholder:"Enter your password"})}),m.jsx(He.div,{variants:T,className:"mt-4 text-right text-sm text-gray-600 dark:text-gray-400",children:m.jsx(Pt,{to:"/resetPassword",className:"text-[#1E40AF] hover:underline",children:"Forgot password?"})}),m.jsx(He.div,{variants:T,className:"mt-6",children:m.jsx(Ze,{type:"submit",variant:"primary",fullWidth:!0,isLoading:u,disabled:u,children:u?"Logging in...":"Login"})}),m.jsxs(He.p,{variants:T,className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400",children:["Don’t have an account?"," ",m.jsx(Pt,{to:"/register",className:"text-[#1E40AF] hover:underline",children:"Register here"})]}),m.jsxs(He.div,{variants:T,className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400 flex items-center gap-4 opacity-70 dark:opacity-50",children:[m.jsx("hr",{className:"flex-1 border-current"}),m.jsx("span",{children:"OR"}),m.jsx("hr",{className:"flex-1 border-current"})]})]}),m.jsx(He.div,{variants:T,className:"mt-6",children:m.jsx(Ze,{type:"submit",variant:"outline",fullWidth:!0,icon:m.jsx(vs,{className:"w-5 h-5"}),size:"lg",onClick:x,children:"Continue as Guest"})})]})})},sh=({label:t,name:e,value:n,onChange:r,options:s=[],required:o=!1,error:l,disabled:u=!1,className:d=""})=>m.jsxs("div",{className:"mb-4 w-full",children:[t&&m.jsxs("label",{htmlFor:e,className:"block text-sm font-medium mb-1 dark:text-gray-200 text-gray-700",children:[t," ",o&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs(He.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative",children:[m.jsx("select",{id:e,name:e,value:n,onChange:r,disabled:u,required:o,className:`w-full px-4 py-2 rounded-lg border appearance-none bg-white/50 dark:bg-gray-900/50
            focus:ring-2 focus:ring-opacity-50
            dark:border-gray-800 dark:text-white
            focus:outline-none transition-colors duration-200
            ${l?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"} 
            ${u?"bg-gray-100 cursor-not-allowed":""} 
            ${d}`,children:s.map(h=>m.jsx("option",{value:h.value,children:h.label},h.value))}),m.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:m.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),l&&m.jsx(He.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",children:l})]}),OY=()=>new Promise(t=>{setTimeout(()=>{t([{id:1,name:"Faculty of Arts",departments:["History and International Studies","English","European Languages"]},{id:2,name:"Faculty of Social and Management Sciences",departments:["Accounting","Business Administration","Economics","Political Science","Sociology","Geography","Demography and Social Statistics"]},{id:3,name:"Faculty of Science",departments:["Biochemistry","Biology","Computer Science","Mathematics","Physics with Electronics","Statistics","Applied Geology","Biochemistry and Molecular Biology","Geology","Industrial Chemistry","Pure Chemistry","Microbiology"]},{id:4,name:"Faculty of Environmental Sciences",departments:["Architecture","Building","Quantity Surveying"]},{id:5,name:"Faculty of Education",departments:["Science Education","Social Science Education","Educational Foundation"]},{id:6,name:"College of Health Sciences",departments:["MBBS","Nursing Science","Anatomy","Physiology"]}])},500)}),VY=()=>{const[t,e]=k.useState([]),[n,r]=k.useState([]),[s,o]=k.useState("");return k.useEffect(()=>{(async()=>{try{const d=await OY();e(d)}catch(d){o("Failed to fetch faculties",d.message)}})()},[]),{faculties:t,departments:n,getDepartments:u=>{const d=t.find(p=>p.name===u),h=d?d.departments:[];return r(h),h},error:s}},LY=(t,e)=>{const n=qn(),{faculties:r,departments:s,getDepartments:o,error:l}=VY(),[u,d]=k.useState({firstName:"",lastName:"",email:"",faculties:"",departments:"",studentId:"",photoURL:"",password:"",confirmPassword:"",staffType:""}),[h,p]=k.useState({}),[v,x]=k.useState(!1),[w,T]=k.useState(!1),[E,R]=k.useState(!1),[C,L]=k.useState(""),[j,U]=k.useState(""),[M,V]=k.useState(1),[P,N]=k.useState(""),D=be=>{const{name:ve,value:X}=be.target;d(re=>({...re,[ve]:X})),ve==="faculty"&&(o(X),d(re=>({...re,faculties:X,departments:""})),p(re=>({...re,departments:""}))),h[ve]&&p(re=>({...re,[ve]:""}))},B=be=>{const ve={};if(be===1){u!=null&&u.firstName.trim()||(ve.firstName="First name is required"),u!=null&&u.lastName.trim()||(ve.lastName="Last name is required");const X=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!(u!=null&&u.email.trim()))ve.email="Email is required";else if(!X.test(u==null?void 0:u.email))ve.email="Please enter a valid email";else{const[re,me]=u.email.split("@"),Ae=/^\d{10}$/.test(re),z=/^[a-zA-Z]+\.[a-zA-Z]+$/.test(re);me==="fubk.edu.ng"||me==="ug.fubk.edu.ng"?!Ae&&!z&&(ve.email="Username must be 10-digit (student) or firstname.lastname (lecturer)"):ve.email="Only FUBK institutional emails are allowed"}}return be===2&&(u!=null&&u.faculties||(ve.faculties="Faculty is required"),!(u!=null&&u.departments)&&(!E||E&&(u==null?void 0:u.staffType)==="academic")&&(ve.departments="Department is required"),u!=null&&u.password?(u==null?void 0:u.password.length)<6&&(ve.password="Password must be at least 6 characters"):ve.password="Password is required",u!=null&&u.confirmPassword?(u==null?void 0:u.password)!==(u==null?void 0:u.confirmPassword)&&(ve.confirmPassword="Passwords do not match"):ve.confirmPassword="Please confirm your password",E&&!(u!=null&&u.staffType)&&(ve.staffType="Please select staff type")),l&&(ve.form=l),p(ve),ve},$=r.map(be=>({value:be.name,label:be.name})),G=s.map(be=>({value:be,label:be})),F=async be=>{var X,re,me,Ae,z;be.preventDefault();const ve=B(2);if(!(Object.keys(ve).length>0)){if(!j){p(ae=>({...ae,form:"Unable to determine user type from email. Please use your FUBK email."}));return}T(!0),x(!0);try{const pe=(await TU(Is,u==null?void 0:u.email,u==null?void 0:u.password)).user;if(!(pe!=null&&pe.uid))throw new Error("Failed to register user.");const fe=j==="Student",Ee={fullName:`${(X=u==null?void 0:u.firstName)==null?void 0:X.trim()} ${(re=u==null?void 0:u.lastName)==null?void 0:re.trim()}`.trim(),displayName:(me=u==null?void 0:u.firstName)==null?void 0:me.trim(),email:(Ae=u==null?void 0:u.email)==null?void 0:Ae.trim(),faculty:(z=u==null?void 0:u.faculties)==null?void 0:z.trim(),department:E&&(u==null?void 0:u.staffType)==="non-academic"?"":((u==null?void 0:u.departments)||"").trim(),createdAt:BP()},Ge=fe?{...Ee,studentId:pe.uid,role:"student",admissionNumber:P}:{...Ee,lecturerId:pe.uid,role:"lecturer",staffType:C};await LP(zr(Ft,fe==="Student"?"Student":"Lecturer",pe.uid),Ge),t("Registration successful!"),fe?n("/login",{replace:!0}):n("/login",{replace:!0})}catch(ae){if(ae!=null&&ae.code)switch(ae.code){case"auth/email-already-in-use":e("This email is already in use.");break;case"auth/invalid-email":e("Invalid email format.");break;case"auth/weak-password":e("Password is too weak.");break;case"auth/operation-not-allowed":e("Sign-up is currently disabled.");break;default:e(`Unexpected error: ${ae.message}`)}else e(`Unexpected error: ${(ae==null?void 0:ae.message)||"Unknown error"}`);console.error(ae)}finally{T(!1),x(!1)}}};return k.useEffect(()=>{var ve;const be=((ve=u==null?void 0:u.email)==null?void 0:ve.trim())||"";if(be.includes("@")){const[X,re]=be.split("@"),me=/^\d{10}$/.test(X),Ae=/^[a-zA-Z]+\.[a-zA-Z]+$/.test(X),z=re==="fubk.edu.ng"||re==="ug.fubk.edu.ng";me&&z?(U("Student"),R(!1),N(X)):Ae&&z?(U("Lecturer"),R(!0),N("")):(U(""),R(!1),N(""))}else U(""),R(!1),N("")},[u==null?void 0:u.email]),k.useEffect(()=>{(u==null?void 0:u.staffType)==="academic"?L("academic"):(u==null?void 0:u.staffType)==="non-academic"?L("non-academic"):L("")},[u==null?void 0:u.staffType]),{formData:u,handleChange:D,errors:h,handleSubmit:F,isValidating:w,submitLoading:v,isStaff:E,departments:s,facultyOptions:$,departmentOptions:G,step:M,setStep:V,validateStep:B}},UY=()=>{const{notifySuccess:t,notifyError:e}=Po(),{formData:n,handleChange:r,errors:s,handleSubmit:o,submitLoading:l,isStaff:u,departments:d,facultyOptions:h,departmentOptions:p,step:v,setStep:x,validateStep:w}=LY(t,e),T={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1,delayChildren:.2}}},E={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},R=L=>{L.preventDefault();const j=w(v);Object.keys(j).length===0&&x(2)},C=()=>x(1);return m.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)]",children:m.jsxs(He.div,{initial:"hidden",animate:"visible",variants:T,className:"w-full max-w-md border-2 border-[var(--color-border)] dark:border-[var(--color-dark-border)] rounded-lg shadow-lg bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-6 space-y-6",children:[m.jsx(He.h2,{variants:E,className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white text-center",children:"Create an Account"}),m.jsxs(He.div,{variants:E,className:"mb-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("div",{className:`flex-1 text-center ${v===1?"font-bold text-[#1E40AF]":"text-gray-500"}`,children:"Step 1: Personal & Academic"}),m.jsx("div",{className:`flex-1 text-center ${v===2?"font-bold text-[#1E40AF]":"text-gray-500"}`,children:"Step 2: Credentials"})]}),m.jsx("div",{className:"relative mt-2 h-2 bg-gray-200 rounded-full",children:m.jsx("div",{className:"absolute h-2 bg-[#1E40AF] rounded-full transition-all duration-300",style:{width:v===1?"50%":"100%"}})})]}),s.form&&m.jsx(He.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-3 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800",children:s.form}),m.jsxs("form",{onSubmit:v===2?o:R,className:"space-y-6",children:[v===1&&m.jsxs(m.Fragment,{children:[m.jsx(He.div,{variants:E,children:m.jsx(fs,{label:"First Name",name:"firstName",value:n.firstName,onChange:r,placeholder:"First Name",required:!0,error:s.firstName,autoFocus:!0})}),m.jsx(He.div,{variants:E,children:m.jsx(fs,{label:"Last Name",name:"lastName",value:n.lastName,onChange:r,placeholder:"Last Name",required:!0,error:s.lastName})}),m.jsx(He.div,{variants:E,children:m.jsx(fs,{label:"Email",name:"email",type:"email",value:n.email.trim(),onChange:r,placeholder:"FUBK Email",required:!0,error:s.email})}),u&&m.jsx(He.div,{variants:E,children:m.jsx(sh,{label:"Staff Type",name:"staffType",value:n.staffType,onChange:r,options:[{value:"",label:"-- Select Staff Type --"},{value:"academic",label:"Academic"},{value:"non-academic",label:"Non-Academic"}],required:!0,error:s.staffType})}),m.jsx(He.div,{variants:E,className:"flex space-x-4",children:m.jsx(Ze,{type:"button",fullWidth:!0,icon:m.jsx(Uz,{className:"w-5 h-5"}),iconPosition:"right",variant:"primary",onClick:R,children:"Continue"})})]}),v===2&&m.jsxs(m.Fragment,{children:[m.jsx(He.div,{variants:E,children:m.jsx(sh,{label:"Faculty",name:"faculty",value:n.faculties,onChange:r,options:[{value:"",label:"-- Select Faculty --"},...h],required:!0,error:s.faculties})}),d.length>0&&(!u||n.staffType==="academic")&&m.jsx(He.div,{variants:E,children:m.jsx(sh,{label:"Department",name:"departments",value:n.departments,onChange:r,options:[{value:"",label:"-- Select Department --"},...p],required:!u||n.staffType==="academic",error:s.departments})}),m.jsx(He.div,{variants:E,children:m.jsx(fs,{label:"Password",name:"password",type:"password",value:n.password.trim(),onChange:r,placeholder:"Password",required:!0,error:s.password})}),m.jsx(He.div,{variants:E,children:m.jsx(fs,{label:"Confirm Password",name:"confirmPassword",type:"password",value:n.confirmPassword.trim(),onChange:r,placeholder:"Confirm Password",required:!0,error:s.confirmPassword})}),m.jsxs(He.div,{variants:E,className:"flex space-x-4",children:[m.jsx(Ze,{type:"button",variant:"outline",fullWidth:!0,onClick:C,disabled:l,children:"Back"}),m.jsx(Ze,{type:"submit",variant:"primary",fullWidth:!0,isLoading:l,disabled:l,children:l?"Creating Account":"Register"})]})]}),m.jsxs(He.p,{variants:E,className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",m.jsx(Pt,{to:"/login",className:"text-[#1E40AF] hover:underline",children:"Login here"})]})]})]})})},UD=k.createContext({});function BY(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Nw=typeof window<"u",$Y=Nw?k.useLayoutEffect:k.useEffect,jw=k.createContext(null),BD=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $D(t){return typeof t=="object"&&t!==null}function FD(t){return $D(t)&&"offsetHeight"in t}function FY(t=!0){const e=k.useContext(jw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=k.useId();k.useEffect(()=>{if(t)return s(o)},[t]);const l=k.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const Wm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],tC={value:null};function zY(t,e){let n=new Set,r=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function h(v){l.has(v)&&(p.schedule(v),t()),d++,v(u)}const p={schedule:(v,x=!1,w=!1)=>{const E=w&&s?n:r;return x&&l.add(v),E.has(v)||E.add(v),v},cancel:v=>{r.delete(v),l.delete(v)},process:v=>{if(u=v,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),e&&tC.value&&tC.value.frameloop[e].push(d),d=0,n.clear(),s=!1,o&&(o=!1,p.process(v))}};return p}const da={},qY=40;function zD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Wm.reduce((j,U)=>(j[U]=zY(o,e?U:void 0),j),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:p,update:v,preRender:x,render:w,postRender:T}=l,E=()=>{const j=da.useManualTiming?s.timestamp:performance.now();n=!1,da.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,qY),1)),s.timestamp=j,s.isProcessing=!0,u.process(s),d.process(s),h.process(s),p.process(s),v.process(s),x.process(s),w.process(s),T.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(E))},R=()=>{n=!0,r=!0,s.isProcessing||t(E)};return{schedule:Wm.reduce((j,U)=>{const M=l[U];return j[U]=(V,P=!1,N=!1)=>(n||R(),M.schedule(V,P,N)),j},{}),cancel:j=>{for(let U=0;U<Wm.length;U++)l[Wm[U]].cancel(j)},state:s,steps:l}}const ps=t=>t,{schedule:Kt,cancel:Ao,state:Bn,steps:Fv}=zD(typeof requestAnimationFrame<"u"?requestAnimationFrame:ps,!0),qD=k.createContext({strict:!1}),nC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cu={};for(const t in nC)cu[t]={isEnabled:e=>nC[t].some(n=>!!e[n])};function HY(t){for(const e in t)cu[e]={...cu[e],...t[e]}}const GY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||GY.has(t)}let HD=t=>!sg(t);function KY(t){t&&(HD=e=>e.startsWith("on")?!sg(e):t(e))}try{KY(require("@emotion/is-prop-valid").default)}catch{}function YY(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(HD(s)||n===!0&&sg(s)||!e&&!sg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function WY(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Xg=k.createContext({});function Qg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ih(t){return typeof t=="string"||Array.isArray(t)}const Pw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Iw=["initial",...Pw];function Zg(t){return Qg(t.animate)||Iw.some(e=>Ih(t[e]))}function GD(t){return!!(Zg(t)||t.variants)}function XY(t,e){if(Zg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ih(n)?n:void 0,animate:Ih(r)?r:void 0}}return t.inherit!==!1?e:{}}function QY(t){const{initial:e,animate:n}=XY(t,k.useContext(Xg));return k.useMemo(()=>({initial:e,animate:n}),[rC(e),rC(n)])}function rC(t){return Array.isArray(t)?t.join(" "):t}const ZY=Symbol.for("motionComponentSymbol");function qc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function JY(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):qc(n)&&(n.current=r))},[e])}const Dw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eW="framerAppearId",KD="data-"+Dw(eW),YD=k.createContext({}),{schedule:Mw}=zD(queueMicrotask,!1);function tW(t,e,n,r,s){var E,R;const{visualElement:o}=k.useContext(Xg),l=k.useContext(qD),u=k.useContext(jw),d=k.useContext(BD).reducedMotion,h=k.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,v=k.useContext(YD);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&nW(h.current,n,s,v);const x=k.useRef(!1);k.useInsertionEffect(()=>{p&&x.current&&p.update(n,u)});const w=n[KD],T=k.useRef(!!w&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,w))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,w)));return $Y(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Mw.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,w)}),T.current=!1))}),p}function nW(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:WD(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&qc(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:h})}function WD(t){if(t)return t.options.allowProjection!==!1?t.projection:WD(t.parent)}let Ow=()=>{};function rW({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&HY(t);function o(u,d){let h;const p={...k.useContext(BD),...u,layoutId:sW(u)},{isStatic:v}=p,x=QY(u),w=r(u,v);if(!v&&Nw){iW();const T=aW(p);h=T.MeasureLayout,x.visualElement=tW(s,w,p,e,T.ProjectionNode)}return m.jsxs(Xg.Provider,{value:x,children:[h&&x.visualElement?m.jsx(h,{visualElement:x.visualElement,...p}):null,n(s,u,JY(w,x.visualElement,d),w,v,x.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=k.forwardRef(o);return l[ZY]=s,l}function sW({layoutId:t}){const e=k.useContext(UD).id;return e&&t!==void 0?e+"-"+t:t}function iW(t,e){k.useContext(qD).strict}function aW(t){const{drag:e,layout:n}=cu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const XD=t=>e=>typeof e=="string"&&e.startsWith(t),Vw=XD("--"),oW=XD("var(--"),Lw=t=>oW(t)?lW.test(t.split("/*")[0].trim()):!1,lW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dh={};function cW(t){for(const e in t)Dh[e]=t[e],Vw(e)&&(Dh[e].isCSSVariable=!0)}const _u=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tu=new Set(_u);function QD(t,{layout:e,layoutId:n}){return Tu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Dh[t]||t==="opacity")}const ZD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ha=(t,e,n)=>n>e?e:n<t?t:n,Eu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mh={...Eu,transform:t=>ha(0,1,t)},Xm={...Eu,default:1},sC={...Eu,transform:Math.round},mf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),no=mf("deg"),yi=mf("%"),ze=mf("px"),uW=mf("vh"),dW=mf("vw"),iC={...yi,parse:t=>yi.parse(t)/100,transform:t=>yi.transform(t*100)},hW={rotate:no,rotateX:no,rotateY:no,rotateZ:no,scale:Xm,scaleX:Xm,scaleY:Xm,scaleZ:Xm,skew:no,skewX:no,skewY:no,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:Mh,originX:iC,originY:iC,originZ:ze},Uw={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...hW,zIndex:sC,fillOpacity:Mh,strokeOpacity:Mh,numOctaves:sC},fW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mW=_u.length;function pW(t,e,n){let r="",s=!0;for(let o=0;o<mW;o++){const l=_u[o],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const h=ZD(u,Uw[l]);if(!d){s=!1;const p=fW[l]||l;r+=`${p}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Bw(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,u=!1;for(const d in e){const h=e[d];if(Tu.has(d)){l=!0;continue}else if(Vw(d)){s[d]=h;continue}else{const p=ZD(h,Uw[d]);d.startsWith("origin")?(u=!0,o[d]=p):r[d]=p}}if(e.transform||(l||n?r.transform=pW(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=o;r.transformOrigin=`${d} ${h} ${p}`}}const $w=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),rr=t=>!!(t&&t.getVelocity);function JD(t,e,n){for(const r in e)!rr(e[r])&&!QD(r,n)&&(t[r]=e[r])}function gW({transformTemplate:t},e){return k.useMemo(()=>{const n=$w();return Bw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yW(t,e){const n=t.style||{},r={};return JD(r,n,t),Object.assign(r,gW(t,e)),r}function vW(t,e){const n={},r=yW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const xW={offset:"stroke-dashoffset",array:"stroke-dasharray"},bW={offset:"strokeDashoffset",array:"strokeDasharray"};function wW(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?xW:bW;t[o.offset]=ze.transform(-r);const l=ze.transform(e),u=ze.transform(n);t[o.array]=`${l} ${u}`}function eM(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,h,p){if(Bw(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&wW(v,s,o,l,!1)}const tM=()=>({...$w(),attrs:{}}),nM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _W(t,e,n,r){const s=k.useMemo(()=>{const o=tM();return eM(o,e,nM(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};JD(o,t.style,t),s.style={...o,...s.style}}return s}const TW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fw(t){return typeof t!="string"||t.includes("-")?!1:!!(TW.indexOf(t)>-1||/[A-Z]/u.test(t))}function EW(t=!1){return(n,r,s,{latestValues:o},l)=>{const d=(Fw(n)?_W:vW)(r,o,l,n),h=YY(r,typeof n=="string",t),p=n!==k.Fragment?{...h,...d,ref:s}:{},{children:v}=r,x=k.useMemo(()=>rr(v)?v.get():v,[v]);return k.createElement(n,{...p,children:x})}}function aC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function zw(t,e,n,r){if(typeof e=="function"){const[s,o]=aC(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=aC(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function vp(t){return rr(t)?t.get():t}function SW({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:AW(n,r,s,t),renderState:e()}}const rM=t=>(e,n)=>{const r=k.useContext(Xg),s=k.useContext(jw),o=()=>SW(t,e,r,s);return n?o():BY(o)};function AW(t,e,n,r){const s={},o=r(t,{});for(const x in o)s[x]=vp(o[x]);let{initial:l,animate:u}=t;const d=Zg(t),h=GD(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const v=p?u:l;if(v&&typeof v!="boolean"&&!Qg(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const T=zw(t,x[w]);if(T){const{transitionEnd:E,transition:R,...C}=T;for(const L in C){let j=C[L];if(Array.isArray(j)){const U=p?j.length-1:0;j=j[U]}j!==null&&(s[L]=j)}for(const L in E)s[L]=E[L]}}}return s}function qw(t,e,n){var o;const{style:r}=t,s={};for(const l in r)(rr(r[l])||e.style&&rr(e.style[l])||QD(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(s[l]=r[l]);return s}const RW={useVisualState:rM({scrapeMotionValuesFromProps:qw,createRenderState:$w})};function sM(t,e,n){const r=qw(t,e,n);for(const s in t)if(rr(t[s])||rr(e[s])){const o=_u.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const CW={useVisualState:rM({scrapeMotionValuesFromProps:sM,createRenderState:tM})};function kW(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Fw(r)?CW:RW,preloadedFeatures:t,useRender:EW(s),createVisualElement:e,Component:r};return rW(l)}}function Oh(t,e,n){const r=t.getProps();return zw(r,e,n!==void 0?n:r.custom,t)}const ib=t=>Array.isArray(t);let xp;function NW(){xp=void 0}const Er={now:()=>(xp===void 0&&Er.set(Bn.isProcessing||da.useManualTiming?Bn.timestamp:performance.now()),xp),set:t=>{xp=t,queueMicrotask(NW)}};function Hw(t,e){t.indexOf(e)===-1&&t.push(e)}function Gw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Kw{constructor(){this.subscriptions=[]}add(e){return Hw(this.subscriptions,e),()=>Gw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function iM(t,e){return e?t*(1e3/e):0}const oC=30,jW=t=>!isNaN(parseFloat(t));class PW{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var l,u;const o=Er.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Kw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>oC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,oC);return iM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uu(t,e){return new PW(t,e)}function IW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uu(n))}function DW(t){return ib(t)?t[t.length-1]||0:t}function MW(t,e){const n=Oh(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const u=DW(o[l]);IW(t,l,u)}}function OW(t){return!!(rr(t)&&t.add)}function ab(t,e){const n=t.getValue("willChange");if(OW(n))return n.add(e);if(!n&&da.WillChange){const r=new da.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function aM(t){return t.props[KD]}const VW=t=>t!==null;function LW(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(VW),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const UW={type:"spring",stiffness:500,damping:25,restSpeed:10},BW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$W={type:"keyframes",duration:.8},FW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zW=(t,{keyframes:e})=>e.length>2?$W:Tu.has(t)?t.startsWith("scale")?BW(e[1]):UW:FW;function qW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}function Yw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const vi=t=>t*1e3,xi=t=>t/1e3,ih=t=>Math.round(t*1e5)/1e5,Ww=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HW(t){return t==null}const GW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xw=(t,e)=>n=>!!(typeof n=="string"&&GW.test(n)&&n.startsWith(t)||e&&!HW(n)&&Object.prototype.hasOwnProperty.call(n,e)),oM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,u]=r.match(Ww);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},KW=t=>ha(0,255,t),zv={...Eu,transform:t=>Math.round(KW(t))},bl={test:Xw("rgb","red"),parse:oM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+zv.transform(t)+", "+zv.transform(e)+", "+zv.transform(n)+", "+ih(Mh.transform(r))+")"};function YW(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ob={test:Xw("#"),parse:YW,transform:bl.transform},Hc={test:Xw("hsl","hue"),parse:oM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+yi.transform(ih(e))+", "+yi.transform(ih(n))+", "+ih(Mh.transform(r))+")"},Zn={test:t=>bl.test(t)||ob.test(t)||Hc.test(t),parse:t=>bl.test(t)?bl.parse(t):Hc.test(t)?Hc.parse(t):ob.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bl.transform(t):Hc.transform(t)},WW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XW(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ww))==null?void 0:e.length)||0)+(((n=t.match(WW))==null?void 0:n.length)||0)>0}const lM="number",cM="color",QW="var",ZW="var(",lC="${}",JW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(JW,d=>(Zn.test(d)?(r.color.push(o),s.push(cM),n.push(Zn.parse(d))):d.startsWith(ZW)?(r.var.push(o),s.push(QW),n.push(d)):(r.number.push(o),s.push(lM),n.push(parseFloat(d))),++o,lC)).split(lC);return{values:n,split:u,indexes:r,types:s}}function uM(t){return Vh(t).values}function dM(t){const{split:e,types:n}=Vh(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const u=n[l];u===lM?o+=ih(s[l]):u===cM?o+=Zn.transform(s[l]):o+=s[l]}return o}}const eX=t=>typeof t=="number"?0:t;function tX(t){const e=uM(t);return dM(t)(e.map(eX))}const Ro={test:XW,parse:uM,createTransformer:dM,getAnimatableNone:tX};function qv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function nX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;s=qv(d,u,t+1/3),o=qv(d,u,t),l=qv(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function ig(t,e){return n=>n>0?e:t}const Ht=(t,e,n)=>t+(e-t)*n,Hv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},rX=[ob,bl,Hc],sX=t=>rX.find(e=>e.test(t));function cC(t){const e=sX(t);if(!e)return!1;let n=e.parse(t);return e===Hc&&(n=nX(n)),n}const uC=(t,e)=>{const n=cC(t),r=cC(e);if(!n||!r)return ig(t,e);const s={...n};return o=>(s.red=Hv(n.red,r.red,o),s.green=Hv(n.green,r.green,o),s.blue=Hv(n.blue,r.blue,o),s.alpha=Ht(n.alpha,r.alpha,o),bl.transform(s))},lb=new Set(["none","hidden"]);function iX(t,e){return lb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}const aX=(t,e)=>n=>e(t(n)),pf=(...t)=>t.reduce(aX);function oX(t,e){return n=>Ht(t,e,n)}function Qw(t){return typeof t=="number"?oX:typeof t=="string"?Lw(t)?ig:Zn.test(t)?uC:uX:Array.isArray(t)?hM:typeof t=="object"?Zn.test(t)?uC:lX:ig}function hM(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>Qw(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function lX(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Qw(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function cX(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],u=t.values[l]??0;n[s]=u,r[o]++}return n}const uX=(t,e)=>{const n=Ro.createTransformer(e),r=Vh(t),s=Vh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?lb.has(t)&&!s.values.length||lb.has(e)&&!r.values.length?iX(t,e):pf(hM(cX(r,s),s.values),n):ig(t,e)};function fM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ht(t,e,n):Qw(t)(t,e)}const dX=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Kt.update(e,n),stop:()=>Ao(e),now:()=>Bn.isProcessing?Bn.timestamp:Er.now()}},mM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=t(o/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},ag=2e4;function Zw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ag;)e+=n,r=t.next(e);return e>=ag?1/0:e}function hX(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Zw(r),ag);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:xi(s)}}const fX=5;function pM(t,e,n){const r=Math.max(e-fX,0);return iM(n-t(r),e-r)}const Zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dC=.001;function mX({duration:t=Zt.duration,bounce:e=Zt.bounce,velocity:n=Zt.velocity,mass:r=Zt.mass}){let s,o,l=1-e;l=ha(Zt.minDamping,Zt.maxDamping,l),t=ha(Zt.minDuration,Zt.maxDuration,xi(t)),l<1?(s=h=>{const p=h*l,v=p*t,x=p-n,w=cb(h,l),T=Math.exp(-v);return dC-x/w*T},o=h=>{const v=h*l*t,x=v*n+n,w=Math.pow(l,2)*Math.pow(h,2)*t,T=Math.exp(-v),E=cb(Math.pow(h,2),l);return(-s(h)+dC>0?-1:1)*((x-w)*T)/E}):(s=h=>{const p=Math.exp(-h*t),v=(h-n)*t+1;return-.001+p*v},o=h=>{const p=Math.exp(-h*t),v=(n-h)*(t*t);return p*v});const u=5/t,d=gX(s,o,u);if(t=vi(t),isNaN(d))return{stiffness:Zt.stiffness,damping:Zt.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const pX=12;function gX(t,e,n){let r=n;for(let s=1;s<pX;s++)r=r-t(r)/e(r);return r}function cb(t,e){return t*Math.sqrt(1-e*e)}const yX=["duration","bounce"],vX=["stiffness","damping","mass"];function hC(t,e){return e.some(n=>t[n]!==void 0)}function xX(t){let e={velocity:Zt.velocity,stiffness:Zt.stiffness,damping:Zt.damping,mass:Zt.mass,isResolvedFromDuration:!1,...t};if(!hC(t,vX)&&hC(t,yX))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*ha(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Zt.mass,stiffness:s,damping:o}}else{const n=mX(t);e={...e,...n,mass:Zt.mass},e.isResolvedFromDuration=!0}return e}function og(t=Zt.visualDuration,e=Zt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:h,mass:p,duration:v,velocity:x,isResolvedFromDuration:w}=xX({...n,velocity:-xi(n.velocity||0)}),T=x||0,E=h/(2*Math.sqrt(d*p)),R=l-o,C=xi(Math.sqrt(d/p)),L=Math.abs(R)<5;r||(r=L?Zt.restSpeed.granular:Zt.restSpeed.default),s||(s=L?Zt.restDelta.granular:Zt.restDelta.default);let j;if(E<1){const M=cb(C,E);j=V=>{const P=Math.exp(-E*C*V);return l-P*((T+E*C*R)/M*Math.sin(M*V)+R*Math.cos(M*V))}}else if(E===1)j=M=>l-Math.exp(-C*M)*(R+(T+C*R)*M);else{const M=C*Math.sqrt(E*E-1);j=V=>{const P=Math.exp(-E*C*V),N=Math.min(M*V,300);return l-P*((T+E*C*R)*Math.sinh(N)+M*R*Math.cosh(N))/M}}const U={calculatedDuration:w&&v||null,next:M=>{const V=j(M);if(w)u.done=M>=v;else{let P=M===0?T:0;E<1&&(P=M===0?vi(T):pM(j,M,V));const N=Math.abs(P)<=r,D=Math.abs(l-V)<=s;u.done=N&&D}return u.value=u.done?l:V,u},toString:()=>{const M=Math.min(Zw(U),ag),V=mM(P=>U.next(M*P).value,M,30);return M+"ms "+V},toTransition:()=>{}};return U}og.applyToOptions=t=>{const e=hX(t,100,og);return t.ease=e.ease,t.duration=vi(e.duration),t.type="keyframes",t};function ub({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:h=.5,restSpeed:p}){const v=t[0],x={done:!1,value:v},w=N=>u!==void 0&&N<u||d!==void 0&&N>d,T=N=>u===void 0?d:d===void 0||Math.abs(u-N)<Math.abs(d-N)?u:d;let E=n*e;const R=v+E,C=l===void 0?R:l(R);C!==R&&(E=C-v);const L=N=>-E*Math.exp(-N/r),j=N=>C+L(N),U=N=>{const D=L(N),B=j(N);x.done=Math.abs(D)<=h,x.value=x.done?C:B};let M,V;const P=N=>{w(x.value)&&(M=N,V=og({keyframes:[x.value,T(x.value)],velocity:pM(j,N,x.value),damping:s,stiffness:o,restDelta:h,restSpeed:p}))};return P(0),{calculatedDuration:null,next:N=>{let D=!1;return!V&&M===void 0&&(D=!0,U(N),P(N)),M!==void 0&&N>=M?V.next(N-M):(!D&&U(N),x)}}}const Lh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};function bX(t,e,n){const r=[],s=n||da.mix||fM,o=t.length-1;for(let l=0;l<o;l++){let u=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||ps:e;u=pf(d,u)}r.push(u)}return r}function wX(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(Ow(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=bX(e,r,s),d=u.length,h=p=>{if(l&&p<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(p<t[v+1]);v++);const x=Lh(t[v],t[v+1],p);return u[v](x)};return n?p=>h(ha(t[0],t[o-1],p)):h}function _X(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Lh(0,e,r);t.push(Ht(n,1,s))}}function TX(t){const e=[0];return _X(e,t.length-1),e}function EX(t,e){return t.map(n=>n*e)}const gM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SX=1e-7,AX=12;function RX(t,e,n,r,s){let o,l,u=0;do l=e+(n-e)/2,o=gM(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>SX&&++u<AX);return l}function gf(t,e,n,r){if(t===e&&n===r)return ps;const s=o=>RX(o,0,1,t,n);return o=>o===0||o===1?o:gM(s(o),e,r)}const CX=gf(.42,0,1,1),kX=gf(0,0,.58,1),yM=gf(.42,0,.58,1),NX=t=>Array.isArray(t)&&typeof t[0]!="number",vM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xM=t=>e=>1-t(1-e),bM=gf(.33,1.53,.69,.99),Jw=xM(bM),wM=vM(Jw),_M=t=>(t*=2)<1?.5*Jw(t):.5*(2-Math.pow(2,-10*(t-1))),e_=t=>1-Math.sin(Math.acos(t)),TM=xM(e_),EM=vM(e_),SM=t=>Array.isArray(t)&&typeof t[0]=="number",jX={linear:ps,easeIn:CX,easeInOut:yM,easeOut:kX,circIn:e_,circInOut:EM,circOut:TM,backIn:Jw,backInOut:wM,backOut:bM,anticipate:_M},PX=t=>typeof t=="string",fC=t=>{if(SM(t)){Ow(t.length===4);const[e,n,r,s]=t;return gf(e,n,r,s)}else if(PX(t))return jX[t];return t};function IX(t,e){return t.map(()=>e||yM).splice(0,t.length-1)}function ah({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=NX(r)?r.map(fC):fC(r),o={done:!1,value:e[0]},l=EX(n&&n.length===e.length?n:TX(e),t),u=wX(l,e,{ease:Array.isArray(s)?s:IX(e,s)});return{calculatedDuration:t,next:d=>(o.value=u(d),o.done=d>=t,o)}}const DX=t=>t!==null;function t_(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(DX),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const MX={decay:ub,inertia:ub,tween:ah,keyframes:ah,spring:og};function AM(t){typeof t.type=="string"&&(t.type=MX[t.type])}class n_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const OX=t=>t/100;class r_ extends n_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Er.now()&&this.tick(Er.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;AM(e);const{type:n=ah,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const d=n||ah;d!==ah&&typeof u[0]!="number"&&(this.mixKeyframes=pf(OX,fM(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Zw(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:v,repeatType:x,repeatDelay:w,type:T,onUpdate:E,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,U=r;if(v){const N=Math.min(this.currentTime,s)/u;let D=Math.floor(N),B=N%1;!B&&N>=1&&(B=1),B===1&&D--,D=Math.min(D,v+1),!!(D%2)&&(x==="reverse"?(B=1-B,w&&(B-=w/u)):x==="mirror"&&(U=l)),j=ha(0,1,B)*u}const M=L?{done:!1,value:p[0]}:U.next(j);o&&(M.value=o(M.value));let{done:V}=M;!L&&d!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return P&&T!==ub&&(M.value=t_(p,this.options,R,this.speed)),E&&E(M.value),P&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return xi(this.calculatedDuration)}get time(){return xi(this.currentTime)}set time(e){var n;e=vi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Er.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xi(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=dX,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(o=(s=this.options).onPlay)==null||o.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function VX(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wl=t=>t*180/Math.PI,db=t=>{const e=wl(Math.atan2(t[1],t[0]));return hb(e)},LX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:db,rotateZ:db,skewX:t=>wl(Math.atan(t[1])),skewY:t=>wl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},hb=t=>(t=t%360,t<0&&(t+=360),t),mC=db,pC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),UX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pC,scaleY:gC,scale:t=>(pC(t)+gC(t))/2,rotateX:t=>hb(wl(Math.atan2(t[6],t[5]))),rotateY:t=>hb(wl(Math.atan2(-t[2],t[0]))),rotateZ:mC,rotate:mC,skewX:t=>wl(Math.atan(t[4])),skewY:t=>wl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function fb(t){return t.includes("scale")?1:0}function mb(t,e){if(!t||t==="none")return fb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=UX,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=LX,s=u}if(!s)return fb(e);const o=r[e],l=s[1].split(",").map($X);return typeof o=="function"?o(l):l[o]}const BX=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return mb(n,e)};function $X(t){return parseFloat(t.trim())}const yC=t=>t===Eu||t===ze,FX=new Set(["x","y","z"]),zX=_u.filter(t=>!FX.has(t));function qX(t){const e=[];return zX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Sl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>mb(e,"x"),y:(t,{transform:e})=>mb(e,"y")};Sl.translateX=Sl.x;Sl.translateY=Sl.y;const Al=new Set;let pb=!1,gb=!1,yb=!1;function RM(){if(gb){const t=Array.from(Al).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=qX(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{var u;(u=r.getValue(o))==null||u.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gb=!1,pb=!1,Al.forEach(t=>t.complete(yb)),Al.clear()}function CM(){Al.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gb=!0)})}function HX(){yb=!0,CM(),RM(),yb=!1}class s_{constructor(e,n,r,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Al.add(this),pb||(pb=!0,Kt.read(CM),Kt.resolveKeyframes(RM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}VX(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Al.delete(this)}cancel(){this.state==="scheduled"&&(Al.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GX=t=>t.startsWith("--");function KX(t,e,n){GX(e)?t.style.setProperty(e,n):t.style[e]=n}function i_(t){let e;return()=>(e===void 0&&(e=t()),e)}const YX=i_(()=>window.ScrollTimeline!==void 0),WX={};function XX(t,e){const n=i_(t);return()=>WX[e]??n()}const kM=XX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gd([0,.65,.55,1]),circOut:Gd([.55,0,1,.45]),backIn:Gd([.31,.01,.66,-.59]),backOut:Gd([.33,1.53,.69,.99])};function NM(t,e){if(t)return typeof t=="function"?kM()?mM(t,e):"ease-out":SM(t)?Gd(t):Array.isArray(t)?t.map(n=>NM(n,e)||vC.easeOut):vC[t]}function QX(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},h=void 0){const p={[e]:n};d&&(p.offset=d);const v=NM(u,s);Array.isArray(v)&&(p.easing=v);const x={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),t.animate(p,x)}function jM(t){return typeof t=="function"&&"applyToOptions"in t}function ZX({type:t,...e}){return jM(t)&&kM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class JX extends n_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,Ow(typeof e.type!="string");const h=ZX(e);this.animation=QX(n,r,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=t_(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):KX(n,r,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return xi(Number(e))}get time(){return xi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=vi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&YX()?(this.animation.timeline=e,ps):n(this)}}const PM={anticipate:_M,backInOut:wM,circInOut:EM};function eQ(t){return t in PM}function tQ(t){typeof t.ease=="string"&&eQ(t.ease)&&(t.ease=PM[t.ease])}const xC=10;class nQ extends JX{constructor(e){tQ(e),AM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new r_({...l,autoplay:!1}),d=vi(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-xC).value,u.sample(d).value,xC),u.stop()}}const bC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ro.test(t)||t==="0")&&!t.startsWith("url("));function rQ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sQ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=bC(s,e),u=bC(o,e);return!l||!u?!1:rQ(t)||(n==="spring"||jM(n))&&r}const iQ=new Set(["opacity","clipPath","filter","transform"]),aQ=i_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oQ(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:l}=t;if(!FD((h=e==null?void 0:e.owner)==null?void 0:h.current))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return aQ()&&n&&iQ.has(n)&&(n!=="transform"||!d)&&!u&&!r&&s!=="mirror"&&o!==0&&l!=="inertia"}const lQ=40;class cQ extends n_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:h,element:p,...v}){var T;super(),this.stop=()=>{var E,R;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=Er.now();const x={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:p,...v},w=(p==null?void 0:p.KeyframeResolver)||s_;this.keyframeResolver=new w(u,(E,R,C)=>this.onKeyframesResolved(E,R,x,!C),d,h,p),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:h,onUpdate:p}=r;this.resolvedAt=Er.now(),sQ(e,o,l,u)||((da.instantAnimations||!d)&&(p==null||p(t_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>lQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},w=!h&&oQ(x)?new nQ({...x,element:x.motionValue.owner.current}):new r_(x);w.finished.then(()=>this.notifyFinished()).catch(ps),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),HX()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const a_=(t,e,n,r={},s,o)=>l=>{const u=Yw(r,t)||{},d=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-vi(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};qW(u)||Object.assign(p,zW(t,p)),p.duration&&(p.duration=vi(p.duration)),p.repeatDelay&&(p.repeatDelay=vi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(v=!0)),(da.instantAnimations||da.skipAnimations)&&(v=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const x=LW(p.keyframes,u);if(x!==void 0){Kt.update(()=>{p.onUpdate(x),p.onComplete()});return}}return u.isSync?new r_(p):new cQ(p)},IM=new Set(["width","height","top","left","right","bottom",..._u]);function uQ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function DM(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const v=t.getValue(p,t.latestValues[p]??null),x=u[p];if(x===void 0||h&&uQ(h,p))continue;const w={delay:n,...Yw(o||{},p)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===T&&!w.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const C=aM(t);if(C){const L=window.MotionHandoffAnimation(C,p,Kt);L!==null&&(w.startTime=L,E=!0)}}ab(t,p),v.start(a_(p,v,x,t.shouldReduceMotion&&IM.has(p)?{type:!1}:w,t,E));const R=v.animation;R&&d.push(R)}return l&&Promise.all(d).then(()=>{Kt.update(()=>{l&&MW(t,l)})}),d}function vb(t,e,n={}){var d;const r=Oh(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(DM(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:x}=s;return dQ(t,e,p+h,v,x,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[h,p]=u==="beforeChildren"?[o,l]:[l,o];return h().then(()=>p())}else return Promise.all([o(),l(n.delay)])}function dQ(t,e,n=0,r=0,s=1,o){const l=[],u=(t.variantChildren.size-1)*r,d=s===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(t.variantChildren).sort(hQ).forEach((h,p)=>{h.notify("AnimationStart",e),l.push(vb(h,e,{...o,delay:n+d(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function hQ(t,e){return t.sortNodePosition(e)}function fQ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>vb(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=vb(t,e,n);else{const s=typeof e=="function"?Oh(t,e,n.custom):e;r=Promise.all(DM(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function MM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const mQ=Iw.length;function OM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?OM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mQ;n++){const r=Iw[n],s=t.props[r];(Ih(s)||s===!1)&&(e[r]=s)}return e}const pQ=[...Pw].reverse(),gQ=Pw.length;function yQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>fQ(t,n,r)))}function vQ(t){let e=yQ(t),n=wC(),r=!0;const s=d=>(h,p)=>{var x;const v=Oh(t,p,d==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(v){const{transition:w,transitionEnd:T,...E}=v;h={...h,...E,...T}}return h};function o(d){e=d(t)}function l(d){const{props:h}=t,p=OM(t.parent)||{},v=[],x=new Set;let w={},T=1/0;for(let R=0;R<gQ;R++){const C=pQ[R],L=n[C],j=h[C]!==void 0?h[C]:p[C],U=Ih(j),M=C===d?L.isActive:null;M===!1&&(T=R);let V=j===p[C]&&j!==h[C]&&U;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),L.protectedKeys={...w},!L.isActive&&M===null||!j&&!L.prevProp||Qg(j)||typeof j=="boolean")continue;const P=xQ(L.prevProp,j);let N=P||C===d&&L.isActive&&!V&&U||R>T&&U,D=!1;const B=Array.isArray(j)?j:[j];let $=B.reduce(s(C),{});M===!1&&($={});const{prevResolvedValues:G={}}=L,F={...G,...$},be=re=>{N=!0,x.has(re)&&(D=!0,x.delete(re)),L.needsAnimating[re]=!0;const me=t.getValue(re);me&&(me.liveStyle=!1)};for(const re in F){const me=$[re],Ae=G[re];if(w.hasOwnProperty(re))continue;let z=!1;ib(me)&&ib(Ae)?z=!MM(me,Ae):z=me!==Ae,z?me!=null?be(re):x.add(re):me!==void 0&&x.has(re)?be(re):L.protectedKeys[re]=!0}L.prevProp=j,L.prevResolvedValues=$,L.isActive&&(w={...w,...$}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(V&&P)||D)&&v.push(...B.map(re=>({animation:re,options:{type:C}})))}if(x.size){const R={};if(typeof h.initial!="boolean"){const C=Oh(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(R.transition=C.transition)}x.forEach(C=>{const L=t.getBaseTarget(C),j=t.getValue(C);j&&(j.liveStyle=!0),R[C]=L??null}),v.push({animation:R})}let E=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(v):Promise.resolve()}function u(d,h){var v;if(n[d].isActive===h)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(x=>{var w;return(w=x.animationState)==null?void 0:w.setActive(d,h)}),n[d].isActive=h;const p=l(d);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=wC(),r=!0}}}function xQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MM(e,t):!1}function ul(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wC(){return{animate:ul(!0),whileInView:ul(),whileHover:ul(),whileTap:ul(),whileDrag:ul(),whileFocus:ul(),exit:ul()}}class Io{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bQ extends Io{constructor(e){super(e),e.animationState||(e.animationState=vQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let wQ=0;class _Q extends Io{constructor(){super(...arguments),this.id=wQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const TQ={animation:{Feature:bQ},exit:{Feature:_Q}};function Uh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const o_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function yf(t){return{point:{x:t.pageX,y:t.pageY}}}const EQ=t=>e=>o_(e)&&t(e,yf(e));function oh(t,e,n,r){return Uh(t,e,EQ(n),r)}function VM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function SQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function AQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const LM=1e-4,RQ=1-LM,CQ=1+LM,UM=.01,kQ=0-UM,NQ=0+UM;function mr(t){return t.max-t.min}function jQ(t,e,n){return Math.abs(t-e)<=n}function _C(t,e,n,r=.5){t.origin=r,t.originPoint=Ht(e.min,e.max,t.origin),t.scale=mr(n)/mr(e),t.translate=Ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=RQ&&t.scale<=CQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=kQ&&t.translate<=NQ||isNaN(t.translate))&&(t.translate=0)}function lh(t,e,n,r){_C(t.x,e.x,n.x,r?r.originX:void 0),_C(t.y,e.y,n.y,r?r.originY:void 0)}function TC(t,e,n){t.min=n.min+e.min,t.max=t.min+mr(e)}function PQ(t,e,n){TC(t.x,e.x,n.x),TC(t.y,e.y,n.y)}function EC(t,e,n){t.min=e.min-n.min,t.max=t.min+mr(e)}function ch(t,e,n){EC(t.x,e.x,n.x),EC(t.y,e.y,n.y)}const SC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gc=()=>({x:SC(),y:SC()}),AC=()=>({min:0,max:0}),nn=()=>({x:AC(),y:AC()});function ds(t){return[t("x"),t("y")]}function Gv(t){return t===void 0||t===1}function xb({scale:t,scaleX:e,scaleY:n}){return!Gv(t)||!Gv(e)||!Gv(n)}function fl(t){return xb(t)||BM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function BM(t){return RC(t.x)||RC(t.y)}function RC(t){return t&&t!=="0%"}function lg(t,e,n){const r=t-n,s=e*r;return n+s}function CC(t,e,n,r,s){return s!==void 0&&(t=lg(t,s,r)),lg(t,n,r)+e}function bb(t,e=0,n=1,r,s){t.min=CC(t.min,e,n,r,s),t.max=CC(t.max,e,n,r,s)}function $M(t,{x:e,y:n}){bb(t.x,e.translate,e.scale,e.originPoint),bb(t.y,n.translate,n.scale,n.originPoint)}const kC=.999999999999,NC=1.0000000000001;function IQ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Yc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,$M(t,l)),r&&fl(o.latestValues)&&Yc(t,o.latestValues))}e.x<NC&&e.x>kC&&(e.x=1),e.y<NC&&e.y>kC&&(e.y=1)}function Kc(t,e){t.min=t.min+e,t.max=t.max+e}function jC(t,e,n,r,s=.5){const o=Ht(t.min,t.max,s);bb(t,e,n,o,r)}function Yc(t,e){jC(t.x,e.x,e.scaleX,e.scale,e.originX),jC(t.y,e.y,e.scaleY,e.scale,e.originY)}function FM(t,e){return VM(AQ(t.getBoundingClientRect(),e))}function DQ(t,e,n){const r=FM(t,n),{scroll:s}=e;return s&&(Kc(r.x,s.offset.x),Kc(r.y,s.offset.y)),r}const zM=({current:t})=>t?t.ownerDocument.defaultView:null,PC=(t,e)=>Math.abs(t-e);function MQ(t,e){const n=PC(t.x,e.x),r=PC(t.y,e.y);return Math.sqrt(n**2+r**2)}class qM{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Yv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=MQ(v.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:T}=v,{timestamp:E}=Bn;this.history.push({...T,timestamp:E});const{onStart:R,onMove:C}=this.handlers;x||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Kv(x,this.transformPagePoint),Kt.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Yv(v.type==="pointercancel"?this.lastMoveEventInfo:Kv(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,R),T&&T(v,R)},!o_(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=yf(e),u=Kv(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=Bn;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,Yv(u,this.history)),this.removeListeners=pf(oh(this.contextWindow,"pointermove",this.handlePointerMove),oh(this.contextWindow,"pointerup",this.handlePointerUp),oh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ao(this.updatePoint)}}function Kv(t,e){return e?{point:e(t.point)}:t}function IC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yv({point:t},e){return{point:t,delta:IC(t,HM(e)),offset:IC(t,OQ(e)),velocity:VQ(e,.1)}}function OQ(t){return t[0]}function HM(t){return t[t.length-1]}function VQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=HM(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>vi(e)));)n--;if(!r)return{x:0,y:0};const o=xi(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function LQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ht(n,t,r.max):Math.min(t,n)),t}function DC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function UQ(t,{top:e,left:n,bottom:r,right:s}){return{x:DC(t.x,n,s),y:DC(t.y,e,r)}}function MC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function BQ(t,e){return{x:MC(t.x,e.x),y:MC(t.y,e.y)}}function $Q(t,e){let n=.5;const r=mr(t),s=mr(e);return s>r?n=Lh(e.min,e.max-r,t.min):r>s&&(n=Lh(t.min,t.max-s,e.min)),ha(0,1,n)}function FQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const wb=.35;function zQ(t=wb){return t===!1?t=0:t===!0&&(t=wb),{x:OC(t,"left","right"),y:OC(t,"top","bottom")}}function OC(t,e,n){return{min:VC(t,e),max:VC(t,n)}}function VC(t,e){return typeof t=="number"?t:t[e]||0}const Rs={x:!1,y:!1};function GM(){return Rs.x||Rs.y}function qQ(t){return t==="x"||t==="y"?Rs[t]?null:(Rs[t]=!0,()=>{Rs[t]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1})}const HQ=new WeakMap;class GQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yf(p).point)},o=(p,v)=>{const{drag:x,dragPropagation:w,onDragStart:T}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qQ(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ds(R=>{let C=this.getAxisMotionValue(R).get()||0;if(yi.test(C)){const{projection:L}=this.visualElement;if(L&&L.layout){const j=L.layout.layoutBox[R];j&&(C=mr(j)*(parseFloat(C)/100))}}this.originPoint[R]=C}),T&&Kt.postRender(()=>T(p,v)),ab(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(p,v)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:T,onDrag:E}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:R}=v;if(w&&this.currentDirection===null){this.currentDirection=KQ(R),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),E&&E(p,v)},u=(p,v)=>this.stop(p,v),d=()=>ds(p=>{var v;return this.getAnimationState(p)==="paused"&&((v=this.getAxisMotionValue(p).animation)==null?void 0:v.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new qM(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:zM(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Kt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Qm(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=LQ(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&qc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=UQ(r.layoutBox,e):this.constraints=!1,this.elastic=zQ(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ds(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=FQ(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=DQ(r,s.root,this.visualElement.getTransformPagePoint());let l=BQ(s.layout.layoutBox,o);if(n){const u=n(SQ(l));this.hasMutatedConstraints=!!u,u&&(l=VM(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=ds(p=>{if(!Qm(p,n,this.currentDirection))return;let v=d&&d[p]||{};l&&(v={min:0,max:0});const x=s?200:1e6,w=s?40:1e7,T={type:"inertia",velocity:r?e[p]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(p,T)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ab(this.visualElement,e),r.start(a_(e,r,0,n,this.visualElement,!1))}stopAnimation(){ds(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ds(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ds(n=>{const{drag:r}=this.getProps();if(!Qm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(e[n]-Ht(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!qc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ds(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=$Q({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ds(l=>{if(!Qm(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];u.set(Ht(d,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;HQ.set(this.visualElement,this);const e=this.visualElement.current,n=oh(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();qc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Kt.read(r);const l=Uh(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(ds(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=d[p].translate,v.set(v.get()+d[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=wb,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Qm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YQ extends Io{constructor(e){super(e),this.removeGroupControls=ps,this.removeListeners=ps,this.controls=new GQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const LC=t=>(e,n)=>{t&&Kt.postRender(()=>t(e,n))};class WQ extends Io{constructor(){super(...arguments),this.removePointerDownListener=ps}onPointerDown(e){this.session=new qM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:LC(e),onStart:LC(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&Kt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=oh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Id={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=UC(t,e.target.x),r=UC(t,e.target.y);return`${n}% ${r}%`}},XQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ro.parse(t);if(s.length>5)return r;const o=Ro.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=d;const h=Ht(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}};class QQ extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;cW(ZQ),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),bp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Kt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KM(t){const[e,n]=FY(),r=k.useContext(UD);return m.jsx(QQ,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(YD),isPresent:e,safeToRemove:n})}const ZQ={borderRadius:{...Id,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Id,borderTopRightRadius:Id,borderBottomLeftRadius:Id,borderBottomRightRadius:Id,boxShadow:XQ};function JQ(t,e,n){const r=rr(t)?t:uu(t);return r.start(a_("",r,e,n)),r.animation}const eZ=(t,e)=>t.depth-e.depth;class tZ{constructor(){this.children=[],this.isDirty=!1}add(e){Hw(this.children,e),this.isDirty=!0}remove(e){Gw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eZ),this.isDirty=!1,this.children.forEach(e)}}function nZ(t,e){const n=Er.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Ao(r),t(o-e))};return Kt.setup(r,!0),()=>Ao(r)}const YM=["TopLeft","TopRight","BottomLeft","BottomRight"],rZ=YM.length,BC=t=>typeof t=="string"?parseFloat(t):t,$C=t=>typeof t=="number"||ze.test(t);function sZ(t,e,n,r,s,o){s?(t.opacity=Ht(0,n.opacity??1,iZ(r)),t.opacityExit=Ht(e.opacity??1,0,aZ(r))):o&&(t.opacity=Ht(e.opacity??1,n.opacity??1,r));for(let l=0;l<rZ;l++){const u=`border${YM[l]}Radius`;let d=FC(e,u),h=FC(n,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||$C(d)===$C(h)?(t[u]=Math.max(Ht(BC(d),BC(h),r),0),(yi.test(h)||yi.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=Ht(e.rotate||0,n.rotate||0,r))}function FC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const iZ=WM(0,.5,TM),aZ=WM(.5,.95,ps);function WM(t,e,n){return r=>r<t?0:r>e?1:n(Lh(t,e,r))}function zC(t,e){t.min=e.min,t.max=e.max}function cs(t,e){zC(t.x,e.x),zC(t.y,e.y)}function qC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HC(t,e,n,r,s){return t-=e,t=lg(t,1/n,r),s!==void 0&&(t=lg(t,1/s,r)),t}function oZ(t,e=0,n=1,r=.5,s,o=t,l=t){if(yi.test(e)&&(e=parseFloat(e),e=Ht(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Ht(o.min,o.max,r);t===o&&(u-=e),t.min=HC(t.min,e,n,u,s),t.max=HC(t.max,e,n,u,s)}function GC(t,e,[n,r,s],o,l){oZ(t,e[n],e[r],e[s],e.scale,o,l)}const lZ=["x","scaleX","originX"],cZ=["y","scaleY","originY"];function KC(t,e,n,r){GC(t.x,e,lZ,n?n.x:void 0,r?r.x:void 0),GC(t.y,e,cZ,n?n.y:void 0,r?r.y:void 0)}function YC(t){return t.translate===0&&t.scale===1}function XM(t){return YC(t.x)&&YC(t.y)}function WC(t,e){return t.min===e.min&&t.max===e.max}function uZ(t,e){return WC(t.x,e.x)&&WC(t.y,e.y)}function XC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function QM(t,e){return XC(t.x,e.x)&&XC(t.y,e.y)}function QC(t){return mr(t.x)/mr(t.y)}function ZC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class dZ{constructor(){this.members=[]}add(e){Hw(this.members,e),e.scheduleRender()}remove(e){if(Gw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hZ(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:v,rotateY:x,skewX:w,skewY:T}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),w&&(r+=`skewX(${w}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}function ZM(t){return $D(t)&&"ownerSVGElement"in t}function fZ(t){return ZM(t)&&t.tagName==="svg"}const Wv=["","X","Y","Z"],mZ={visibility:"hidden"},pZ=1e3;let gZ=0;function Xv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function JM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=aM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Kt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&JM(r)}function eO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e==null?void 0:e()){this.id=gZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xZ),this.nodes.forEach(EZ),this.nodes.forEach(SZ),this.nodes.forEach(bZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new tZ)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Kw),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=ZM(l)&&!fZ(l),this.instance=l;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const v=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=nZ(v,250),bp.hasAnimatedSinceResize&&(bp.hasAnimatedSinceResize=!1,this.nodes.forEach(ek))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||NZ,{onLayoutAnimationStart:E,onLayoutAnimationComplete:R}=h.getProps(),C=!this.targetLayout||!QM(this.targetLayout,w),L=!v&&x;if(this.options.layoutRoot||this.resumeFrom||L||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...Yw(T,"layout"),onPlay:E,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(p,L)}else v||ek(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ao(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AZ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JC);return}this.isUpdating||this.nodes.forEach(_Z),this.isUpdating=!1,this.nodes.forEach(TZ),this.nodes.forEach(yZ),this.nodes.forEach(vZ),this.clearAllSnapshots();const u=Er.now();Bn.delta=ha(0,1e3/60,u-Bn.timestamp),Bn.timestamp=u,Bn.isProcessing=!0,Fv.update.process(Bn),Fv.preRender.process(Bn),Fv.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wZ),this.sharedNodes.forEach(RZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mr(this.snapshot.measuredBox.x)&&!mr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!XM(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(u||fl(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),jZ(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return nn();const u=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(PZ))){const{scroll:p}=this.root;p&&(Kc(u.x,p.offset.x),Kc(u.y,p.offset.y))}return u}removeElementScroll(l){var d;const u=nn();if(cs(u,l),(d=this.scroll)!=null&&d.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:v,options:x}=p;p!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&cs(u,l),Kc(u.x,v.offset.x),Kc(u.y,v.offset.y))}return u}applyTransform(l,u=!1){const d=nn();cs(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Yc(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),fl(p.latestValues)&&Yc(d,p.latestValues)}return fl(this.latestValues)&&Yc(d,this.latestValues),d}removeTransform(l){const u=nn();cs(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!fl(h.latestValues))continue;xb(h.latestValues)&&h.updateSnapshot();const p=nn(),v=h.measurePageBox();cs(p,v),KC(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return fl(this.latestValues)&&KC(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=Bn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),ch(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cs(this.target,this.layout.layoutBox),$M(this.target,this.targetDelta)):cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),ch(this.relativeTargetOrigin,this.target,w.target),cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||xb(this.parent.latestValues)||BM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;cs(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;IQ(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nn());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qC(this.prevProjectionDelta.x,this.projectionDelta.x),qC(this.prevProjectionDelta.y,this.projectionDelta.y)),lh(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!ZC(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gc(),this.projectionDelta=Gc(),this.projectionDeltaWithTransform=Gc()}setAnimationOrigin(l,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},v=Gc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=nn(),w=d?d.source:void 0,T=this.layout?this.layout.source:void 0,E=w!==T,R=this.getStack(),C=!R||R.members.length<=1,L=!!(E&&!C&&this.options.crossfade===!0&&!this.path.some(kZ));this.animationProgress=0;let j;this.mixTargetDelta=U=>{const M=U/1e3;tk(v.x,l.x,M),tk(v.y,l.y,M),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ch(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CZ(this.relativeTarget,this.relativeTargetOrigin,x,M),j&&uZ(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=nn()),cs(j,this.relativeTarget)),E&&(this.animationValues=p,sZ(p,h,this.latestValues,M,L,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,d,h;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Ao(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kt.update(()=>{bp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=uu(0)),this.currentAnimation=JQ(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=l;if(!(!u||!d||!h)){if(this!==l&&this.layout&&h&&tO(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||nn();const v=mr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const x=mr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}cs(u,d),Yc(u,p),lh(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new dZ),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Xv("z",l,h,this.animationValues);for(let p=0;p<Wv.length;p++)Xv(`rotate${Wv[p]}`,l,h,this.animationValues),Xv(`skew${Wv[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return mZ;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=vp(l==null?void 0:l.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=vp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!fl(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=hZ(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:v,y:x}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Dh){if(p[w]===void 0)continue;const{correct:T,applyTo:E,isCSSVariable:R}=Dh[w],C=u.transform==="none"?p[w]:T(p[w],h);if(E){const L=E.length;for(let j=0;j<L;j++)u[E[j]]=C}else R?this.options.visualElement.renderState.vars[w]=C:u[w]=C}return this.options.layoutId&&(u.pointerEvents=h===this?vp(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(JC),this.root.sharedNodes.clear()}}}function yZ(t){t.updateLayout()}function vZ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?ds(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],w=mr(x);x.min=r[v].min,x.max=x.min+w}):tO(o,e.layoutBox,r)&&ds(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],w=mr(r[v]);x.max=x.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const u=Gc();lh(u,r,e.layoutBox);const d=Gc();l?lh(d,t.applyTransform(s,!0),e.measuredBox):lh(d,r,e.layoutBox);const h=!XM(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:w}=v;if(x&&w){const T=nn();ch(T,e.layoutBox,x.layoutBox);const E=nn();ch(E,r,w.layoutBox),QM(T,E)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=T,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function xZ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function bZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function wZ(t){t.clearSnapshot()}function JC(t){t.clearMeasurements()}function _Z(t){t.isLayoutDirty=!1}function TZ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ek(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function EZ(t){t.resolveTargetDelta()}function SZ(t){t.calcProjection()}function AZ(t){t.resetSkewAndRotation()}function RZ(t){t.removeLeadSnapshot()}function tk(t,e,n){t.translate=Ht(e.translate,0,n),t.scale=Ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function nk(t,e,n,r){t.min=Ht(e.min,n.min,r),t.max=Ht(e.max,n.max,r)}function CZ(t,e,n,r){nk(t.x,e.x,n.x,r),nk(t.y,e.y,n.y,r)}function kZ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const NZ={duration:.45,ease:[.4,0,.1,1]},rk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sk=rk("applewebkit/")&&!rk("chrome/")?Math.round:ps;function ik(t){t.min=sk(t.min),t.max=sk(t.max)}function jZ(t){ik(t.x),ik(t.y)}function tO(t,e,n){return t==="position"||t==="preserve-aspect"&&!jQ(QC(e),QC(n),.2)}function PZ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const IZ=eO({attachResizeListener:(t,e)=>Uh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qv={current:void 0},nO=eO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qv.current){const t=new IZ({});t.mount(window),t.setOptions({layoutScroll:!0}),Qv.current=t}return Qv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),DZ={pan:{Feature:WQ},drag:{Feature:YQ,ProjectionNode:nO,MeasureLayout:KM}};function MZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function rO(t,e){const n=MZ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function ak(t){return!(t.pointerType==="touch"||GM())}function OZ(t,e,n={}){const[r,s,o]=rO(t,n),l=u=>{if(!ak(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const p=v=>{ak(v)&&(h(v),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}function ok(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Kt.postRender(()=>o(e,yf(e)))}class VZ extends Io{mount(){const{current:e}=this.node;e&&(this.unmount=OZ(e,(n,r)=>(ok(this.node,r,"Start"),s=>ok(this.node,s,"End"))))}unmount(){}}class LZ extends Io{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pf(Uh(this.node.current,"focus",()=>this.onFocus()),Uh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sO=(t,e)=>e?t===e?!0:sO(t,e.parentElement):!1,UZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BZ(t){return UZ.has(t.tagName)||t.tabIndex!==-1}const wp=new WeakSet;function lk(t){return e=>{e.key==="Enter"&&t(e)}}function Zv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $Z=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=lk(()=>{if(wp.has(n))return;Zv(n,"down");const s=lk(()=>{Zv(n,"up")}),o=()=>Zv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ck(t){return o_(t)&&!GM()}function FZ(t,e,n={}){const[r,s,o]=rO(t,n),l=u=>{const d=u.currentTarget;if(!ck(u))return;wp.add(d);const h=e(d,u),p=(w,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),wp.has(d)&&wp.delete(d),ck(w)&&typeof h=="function"&&h(w,{success:T})},v=w=>{p(w,d===window||d===document||n.useGlobalTarget||sO(d,w.target))},x=w=>{p(w,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),FD(u)&&(u.addEventListener("focus",h=>$Z(h,s)),!BZ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function uk(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Kt.postRender(()=>o(e,yf(e)))}class zZ extends Io{mount(){const{current:e}=this.node;e&&(this.unmount=FZ(e,(n,r)=>(uk(this.node,r,"Start"),(s,{success:o})=>uk(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _b=new WeakMap,Jv=new WeakMap,qZ=t=>{const e=_b.get(t.target);e&&e(t)},HZ=t=>{t.forEach(qZ)};function GZ({root:t,...e}){const n=t||document;Jv.has(n)||Jv.set(n,{});const r=Jv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(HZ,{root:t,...e})),r[s]}function KZ(t,e,n){const r=GZ(e);return _b.set(t,n),r.observe(t),()=>{_b.delete(t),r.unobserve(t)}}const YZ={some:0,all:1};class WZ extends Io{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:YZ[s]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),x=h?p:v;x&&x(d)};return KZ(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XZ(e,n))&&this.startObserver()}unmount(){}}function XZ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const QZ={inView:{Feature:WZ},tap:{Feature:zZ},focus:{Feature:LZ},hover:{Feature:VZ}},ZZ={layout:{ProjectionNode:nO,MeasureLayout:KM}},Tb={current:null},iO={current:!1};function JZ(){if(iO.current=!0,!!Nw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tb.current=t.matches;t.addListener(e),e()}else Tb.current=!1}const eJ=new WeakMap;function tJ(t,e,n){for(const r in e){const s=e[r],o=n[r];if(rr(s))t.addValue(r,s);else if(rr(o))t.addValue(r,uu(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,uu(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const aO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),oO=t=>/^0[^.\s]+$/u.test(t),nJ={test:t=>t==="auto",parse:t=>t},lO=t=>e=>e.test(t),cO=[Eu,ze,yi,no,dW,uW,nJ],dk=t=>cO.find(lO(t)),rJ=[...cO,Zn,Ro],sJ=t=>rJ.find(lO(t)),iJ=new Set(["brightness","contrast","saturate","opacity"]);function aJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ww)||[];if(!r)return t;const s=n.replace(r,"");let o=iJ.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const oJ=/\b([a-z-]*)\(.*?\)/gu,Eb={...Ro,getAnimatableNone:t=>{const e=t.match(oJ);return e?e.map(aJ).join(" "):t}},lJ={...Uw,color:Zn,backgroundColor:Zn,outlineColor:Zn,fill:Zn,stroke:Zn,borderColor:Zn,borderTopColor:Zn,borderRightColor:Zn,borderBottomColor:Zn,borderLeftColor:Zn,filter:Eb,WebkitFilter:Eb},uO=t=>lJ[t];function dO(t,e){let n=uO(t);return n!==Eb&&(n=Ro),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=s_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Er.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Kt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Zg(n),this.isVariantNode=GD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const w=v[x];d[x]!==void 0&&rr(w)&&w.set(d[x],!1)}}mount(e){this.current=e,eJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),iO.current||JZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ao(this.notifyUpdate),Ao(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Tu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cu){const n=cu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hk.length;r++){const s=hk[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=tJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=uu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(aO(r)||oO(r))?r=parseFloat(r):!sJ(r)&&Ro.test(n)&&(r=dO(e,n)),this.setBaseTarget(e,rr(r)?r.get():r)),rr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=zw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!rr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Kw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}const uJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dJ(t){const e=uJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function hO(t,e,n=1){const[r,s]=dJ(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return aO(l)?parseFloat(l):l}return Lw(s)?hO(s,e,n+1):s}function hJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oO(t):!0}const fJ=new Set(["auto","none","0"]);function mJ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!fJ.has(o)&&Vh(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=dO(n,s)}class pJ extends s_{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Lw(h))){const p=hO(h,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!IM.has(r)||e.length!==2)return;const[s,o]=e,l=dk(s),u=dk(o);if(l!==u)if(yC(l)&&yC(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Sl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||hJ(e[s]))&&r.push(s);r.length&&mJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Sl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}class fO extends cJ{constructor(){super(...arguments),this.KeyframeResolver=pJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mO(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function gJ(t){return window.getComputedStyle(t)}class yJ extends fO{constructor(){super(...arguments),this.type="html",this.renderInstance=mO}readValueFromInstance(e,n){var r;if(Tu.has(n))return(r=this.projection)!=null&&r.isProjecting?fb(n):BX(e,n);{const s=gJ(e),o=(Vw(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return FM(e,n)}build(e,n,r){Bw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return qw(e,n,r)}}const pO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vJ(t,e,n,r){mO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(pO.has(s)?s:Dw(s),e.attrs[s])}class xJ extends fO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tu.has(n)){const r=uO(n);return r&&r.default||0}return n=pO.has(n)?n:Dw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return sM(e,n,r)}build(e,n,r){eM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){vJ(e,n,r,s)}mount(e){this.isSVGTag=nM(e.tagName),super.mount(e)}}const bJ=(t,e)=>Fw(t)?new xJ(e):new yJ(e,{allowProjection:t!==k.Fragment}),wJ=kW({...TQ,...QZ,...DZ,...ZZ},bJ),lo=WY(wJ),_J=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(!1),{notifySuccess:s,notifyError:o}=Po(),[l,u]=k.useState({}),d=w=>{const T={};return w?/\S+@\S+\.\S+/.test(w)||(T.email="Invalid email format"):T.email="Email is required",T},h=w=>{const{value:T}=w.target;e(T),l!=null&&l.email&&u(d(T))};async function p(w){w.preventDefault();const T=d(t);if(Object.keys(T).length>0){u(T);return}r(!0);try{await _U(Is,t),e(""),s("Password reset email sent! Check your inbox (and spam folder).")}catch(E){switch(E.code){case"auth/invalid-email":o("Invalid email format. Please provide a valid email.");break;case"auth/user-not-found":o("No user found with this email. Please check the email.");break;default:o(`An unexpected error occurred: ${E.message}`)}}finally{r(!1)}}const v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,staggerChildren:.1}}},x={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)]",children:m.jsxs(lo.form,{onSubmit:p,initial:"hidden",animate:"visible",variants:v,className:"w-full max-w-md border border-[var(--color-border)] dark:border-[var(--color-dark-border)] rounded-lg shadow-lg bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-6 space-y-6",children:[m.jsx(lo.h2,{variants:x,className:"text-2xl font-bold text-center text-gray-800 dark:text-white",children:"Reset Password"}),m.jsx(lo.div,{variants:x,children:m.jsx(fs,{label:"Email",type:"email",name:"email",value:t,onChange:h,error:l.email,required:!0,placeholder:"Enter your email"})}),m.jsx(lo.div,{variants:x,children:m.jsx(Ze,{type:"submit",variant:"primary",fullWidth:!0,isLoading:n,disabled:n||!t||l.email,children:n?"Sending...":"Reset Password"})}),m.jsx(lo.div,{variants:x,className:"text-center text-sm text-gray-600 dark:text-gray-400",children:m.jsx(Pt,{to:"/login",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Back to login"})})]})})},TJ=()=>{const{currentUser:t,role:e}=Ut(),n=qn(),r=()=>{if(!t)return"You seem lost. This page doesn’t exist.";switch(e){case"student":return"Oops! Student, the page you're looking for wasn't found.";case"lecturer":return"Lecturer, looks like this page doesn't exist.";case"staff":return"Staff member, we couldn’t find that page.";default:return"Oops! This page doesn’t exist."}};return m.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)] text-center space-y-6",children:m.jsxs(He.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col items-center justify-center px-4 py-12 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)] text-center space-y-6",children:[m.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-[var(--color-primary)] dark:text-[var(--color-dark-primary)] space-y-5",children:[m.jsx("p",{className:"text-6xl md:text-8xl",children:"404"}),m.jsx("p",{children:" Page Not Found"})]}),m.jsx("p",{className:"text-base md:text-lg text-[var(--color-text)] dark:text-[var(--color-dark-text)] max-w-xl",children:r()}),m.jsxs("div",{className:"flex gap-8 mt-4 ",children:[m.jsx(Ze,{onClick:()=>n(-1),variant:"outline",icon:m.jsx(GP,{className:"w-5 h-5"}),children:"Go Back"}),m.jsx(Ze,{onClick:()=>n("/"),variant:"primary",icon:m.jsx(sf,{className:"w-5 h-5"}),children:"Go Home"})]})]})})},EJ=()=>{const t=[{name:"Home",to:"/student/dashboard",icon:sf},{name:"Project",to:"/student/projects",icon:Mt},{name:"Explore",to:"/student/explore",icon:af},{name:"Profile",to:"/student/profile",icon:To}];return m.jsx("nav",{className:"fixed bottom-0 inset-x-0 z-50 lg:hidden border-t border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-gray-900/70 backdrop-blur",children:m.jsx("div",{className:"flex justify-around items-center h-16",children:t.map(e=>{const n=e.icon;return m.jsx(Ol,{to:e.to,className:({isActive:r})=>yt("flex flex-col items-center justify-center px-3 py-1 rounded-md transition-all",r?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400"),children:({isActive:r})=>m.jsxs(m.Fragment,{children:[m.jsx(n,{className:"w-5 h-5 mb-0.5"}),r&&m.jsx("span",{className:"text-xs font-medium",children:e.name})]})},e.name)})})})},l_=({isOpen:t,onClose:e,title:n,children:r,size:s="md",closeOnOverlayClick:o=!0,showFooter:l=!1,footerContent:u=null,className:d=""})=>{const[h,p]=k.useState(!1);k.useEffect(()=>{const T=E=>{E.key==="Escape"&&t&&!h&&e()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,e,h]),k.useEffect(()=>(document.body.style.overflow=t?"hidden":"",()=>document.body.style.overflow=""),[t]);const v={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl",full:"w-full mx-4"},x={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.15,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.1,ease:"easeIn"}}},w={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};return m.jsx(iH,{children:t&&m.jsxs(m.Fragment,{children:[m.jsx(He.div,{className:"fixed inset-0 z-40 bg-black/20 backdrop-blur",initial:"hidden",animate:"visible",exit:"exit",variants:w,onClick:()=>o&&e()}),m.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:m.jsxs(He.div,{role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",className:yt("relative bg-white/70 dark:bg-gray-900/70 rounded-xl shadow-xl w-full transition-all",v[s],d),initial:"hidden",animate:"visible",exit:"exit",variants:x,onAnimationStart:()=>p(!0),onAnimationComplete:()=>p(!1),onClick:T=>T.stopPropagation(),children:[m.jsx("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:m.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-gray-900 dark:text-white",children:n})}),m.jsx("div",{className:"px-6 py-5 text-sm text-gray-700 dark:text-gray-300",children:r}),l&&m.jsx("div",{className:"flex justify-around gap-3 px-6 py-4  rounded-b-lg",children:u||m.jsxs(m.Fragment,{children:[m.jsx(Ze,{variant:"outline",onClick:e,children:"Cancel"}),m.jsx(Ze,{type:"button",children:"Confirm"})]})})]})})})]})})};function SJ(){const t=qn(),[e,n]=k.useState(!1),r=[{name:"Dashboard",to:"/student/dashboard",icon:sf},{name:"My Projects",to:"/student/projects",icon:Mt},{name:"Explore",to:"/student/explore",icon:Rr},{name:"Profile",to:"/student/profile",icon:K1}],s=async()=>{await Is.signOut(),t("/login",{replace:!0})};return m.jsxs(He.div,{initial:{x:-300},animate:{x:0},transition:{type:"spring",stiffness:80,damping:18},className:"hidden lg:flex fixed top-0 left-0 h-screen w-64 flex-col border-r-2 border-gray-200 dark:border-gray-700 z-50 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",children:[m.jsx("div",{className:"flex h-16 items-center justify-between px-4",children:m.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🎓 PPR Student"})}),m.jsx("nav",{className:"flex-1 py-6 space-y-2",children:r.map(({name:o,to:l,icon:u})=>m.jsxs(Ol,{to:l,className:({isActive:d})=>yt("flex items-center gap-3 px-4 py-3 rounded-sm text-lg font-medium transition-colors duration-150",d?"bg-blue-900/20 text-blue-600 hover:bg-blue-50 focus:ring-blue-500 dark:text-blue-400 dark:hover:bg-blue-900/40":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[m.jsx(u,{className:"w-6 h-6"}),o]},o))}),m.jsx(Ze,{onClick:()=>n(!0),variant:"danger",fullWidth:!0,icon:m.jsx(Fg,{size:20}),className:"justify-start gap-1",size:"lg",children:"Logout"}),m.jsx(l_,{isOpen:e,onClose:()=>n(!1),title:"Confirm Logout",showFooter:!0,footerContent:m.jsxs(m.Fragment,{children:[m.jsx(Ze,{variant:"secondary",onClick:()=>n(!1),children:"Cancel"}),m.jsx(Ze,{variant:"danger",onClick:s,children:"Logout"})]}),children:m.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Are you sure you want to log out of your account?"})})]})}const AJ=()=>{const[t,e]=k.useState(!1),n=()=>{e(!t)};return m.jsxs("div",{className:"bg-ppr-animated min-h-screen transition-colors duration-200",children:[m.jsx(EJ,{toggleSidebar:n}),m.jsxs("div",{className:"flex",children:[m.jsx(SJ,{isOpen:t,setIsOpen:e}),m.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 lg:pl-64",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsx(Lb,{})})})]})]})},xs=t=>{const[e,n]=k.useState(null),[r,s]=k.useState(!0),[o,l]=k.useState(null);return k.useEffect(()=>{if(!t)return;(async()=>{s(!0);try{const d=zr(Ft,"Student",t),h=await Ti(d);h.exists()?n(h.data()):n(null)}catch(d){console.error("Error fetching user data:",d),l(d.message||"Failed to fetch user data.")}finally{s(!1)}})()},[t]),{userData:e,loading:r,error:o}},gO=({name:t,size:e=40})=>{const n=t.charAt(0).toUpperCase();return m.jsxs("svg",{width:e,height:e,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"rounded-full shadow-md",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"avatar-gradient",x1:"0",y1:"0",x2:"1",y2:"1",children:[m.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),m.jsx("stop",{offset:"100%",stopColor:"#1e40af"})]})}),m.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"url(#avatar-gradient)"}),m.jsx("text",{x:"50%",y:"54%",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"42",fontFamily:"Inter, sans-serif",fontWeight:"600",children:n})]})},wa=t=>{const[e,n]=k.useState(null),[r,s]=k.useState(!0),[o,l]=k.useState(null);return k.useEffect(()=>{if(!t)return;(async()=>{s(!0);try{const d=zr(Ft,"Lecturer",t),h=await Ti(d);h.exists()?n(h.data()):n(null)}catch(d){console.error("Error fetching user data:",d),l(d.message||"Failed to fetch user data.")}finally{s(!1)}})()},[t]),{userData:e,loading:r,error:o}},on=({showBack:t=!1,title:e,rightContent:n,children:r})=>{const s=qn(),{currentUser:o}=Ut(),{userData:l}=wa(o==null?void 0:o.uid),{userData:u}=xs(o==null?void 0:o.uid),d=(l==null?void 0:l.role)||(u==null?void 0:u.role)||null,h=d==="lecturer"?l:u,p=()=>s(-1),v=(e==null?void 0:e.toLowerCase())==="dashboard",x=e||"Page";return m.jsxs("div",{role:"banner","aria-label":"Page header",className:"sticky top-0 z-30 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] shadow border-b border-gray-700 px-4 flex items-center justify-between h-16 md:h-20 backdrop-blur supports-[backdrop-filter]:bg-[var(--color-surface)] dark:supports-[backdrop-filter]:bg-[var(--color-dark-surface)]",children:[m.jsx("div",{className:"flex items-center gap-3",children:v?m.jsxs(m.Fragment,{children:[h!=null&&h.photoURL?m.jsx("img",{src:h.photoURL,alt:"Avatar",className:"w-10 h-10 rounded-full"}):m.jsx(gO,{name:(h==null?void 0:h.displayName)||"User",size:40}),m.jsxs("div",{children:[m.jsxs("h2",{className:"text-lg font-semibold text-blue-800 dark:text-blue-100",children:["Welcome back, ",(h==null?void 0:h.displayName)||"User"," 👋"]}),m.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:d==="lecturer"?"Manage project reviews and approvals":"Here’s your personalized activity summary."})]})]}):m.jsxs(m.Fragment,{children:[t&&m.jsx("button",{onClick:p,className:"hidden group md:inline-flex items-center gap-1 px-3 py-1.5 rounded-md bg-gray-100/50 dark:bg-gray-800/60 hover:bg-gray-200 dark:hover:bg-gray-700 text-blue-700 dark:text-blue-300 transition-colors","aria-label":"Go back",children:m.jsx(GP,{size:18,className:"transition-transform group-hover:-translate-x-1"})}),m.jsx("h2",{className:"text-xl font-semibold text-blue-800 dark:text-blue-100",children:x})]})}),n?m.jsx("div",{className:"mt-2 sm:mt-0",children:n}):r&&m.jsx("div",{className:"mt-2 sm:mt-0",children:r})]})},jc=({title:t,value:e,icon:n,bgColor:r})=>m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h3",{className:"text-md md:text-lg font-semibold text-black dark:text-white",children:t}),m.jsx("span",{className:`p-2 rounded-full ${r}`,children:m.jsx(n,{className:"h-5 w-5 text-white"})})]}),m.jsx("p",{className:"text-2xl font-bold text-black dark:text-white",children:e})]}),yO=6048e5,RJ=864e5,Zm=43200,fk=1440,mk=Symbol.for("constructDateFrom");function fa(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&mk in t?t[mk](e):t instanceof Date?new t.constructor(e):new Date(e)}function Pn(t,e){return fa(e||t,t)}let CJ={};function vf(){return CJ}function Bh(t,e){var u,d,h,p;const n=vf(),r=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=Pn(t,e==null?void 0:e.in),o=s.getDay(),l=(o<r?7:0)+o-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function cg(t,e){return Bh(t,{...e,weekStartsOn:1})}function vO(t,e){const n=Pn(t,e==null?void 0:e.in),r=n.getFullYear(),s=fa(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=cg(s),l=fa(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=cg(l);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function ug(t){const e=Pn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Jg(t,...e){const n=fa.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function pk(t,e){const n=Pn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function kJ(t,e,n){const[r,s]=Jg(n==null?void 0:n.in,t,e),o=pk(r),l=pk(s),u=+o-ug(o),d=+l-ug(l);return Math.round((u-d)/RJ)}function NJ(t,e){const n=vO(t,e),r=fa(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),cg(r)}function _p(t,e){const n=+Pn(t)-+Pn(e);return n<0?-1:n>0?1:n}function jJ(t){return fa(t,Date.now())}function PJ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function IJ(t){return!(!PJ(t)&&typeof t!="number"||isNaN(+Pn(t)))}function DJ(t,e,n){const[r,s]=Jg(n==null?void 0:n.in,t,e),o=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return o*12+l}function MJ(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function OJ(t,e){return+Pn(t)-+Pn(e)}function VJ(t,e){const n=Pn(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function LJ(t,e){const n=Pn(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function UJ(t,e){const n=Pn(t,e==null?void 0:e.in);return+VJ(n,e)==+LJ(n,e)}function BJ(t,e,n){const[r,s,o]=Jg(n==null?void 0:n.in,t,t,e),l=_p(s,o),u=Math.abs(DJ(s,o));if(u<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*u);let d=_p(s,o)===-l;UJ(r)&&u===1&&_p(r,o)===1&&(d=!1);const h=l*(u-+d);return h===0?0:h}function $J(t,e,n){const r=OJ(t,e)/1e3;return MJ(n==null?void 0:n.roundingMethod)(r)}function FJ(t,e){const n=Pn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const zJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qJ=(t,e,n)=>{let r;const s=zJ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ex(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const HJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YJ={date:ex({formats:HJ,defaultWidth:"full"}),time:ex({formats:GJ,defaultWidth:"full"}),dateTime:ex({formats:KJ,defaultWidth:"full"})},WJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XJ=(t,e,n,r)=>WJ[t];function Dd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):l;s=t.formattingValues[u]||t.formattingValues[l]}else{const l=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const QJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ree=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},see={ordinalNumber:ree,era:Dd({values:QJ,defaultWidth:"wide"}),quarter:Dd({values:ZJ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Dd({values:JJ,defaultWidth:"wide"}),day:Dd({values:eee,defaultWidth:"wide"}),dayPeriod:Dd({values:tee,defaultWidth:"wide",formattingValues:nee,defaultFormattingWidth:"wide"})};function Md(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const l=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(u)?aee(u,v=>v.test(l)):iee(u,v=>v.test(l));let h;h=t.valueCallback?t.valueCallback(d):d,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(l.length);return{value:h,rest:p}}}function iee(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function aee(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function oee(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(s.length);return{value:l,rest:u}}}const lee=/^(\d+)(th|st|nd|rd)?/i,cee=/\d+/i,uee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dee={any:[/^b/i,/^(a|c)/i]},hee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fee={any:[/1/i,/2/i,/3/i,/4/i]},mee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bee={ordinalNumber:oee({matchPattern:lee,parsePattern:cee,valueCallback:t=>parseInt(t,10)}),era:Md({matchPatterns:uee,defaultMatchWidth:"wide",parsePatterns:dee,defaultParseWidth:"any"}),quarter:Md({matchPatterns:hee,defaultMatchWidth:"wide",parsePatterns:fee,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Md({matchPatterns:mee,defaultMatchWidth:"wide",parsePatterns:pee,defaultParseWidth:"any"}),day:Md({matchPatterns:gee,defaultMatchWidth:"wide",parsePatterns:yee,defaultParseWidth:"any"}),dayPeriod:Md({matchPatterns:vee,defaultMatchWidth:"any",parsePatterns:xee,defaultParseWidth:"any"})},xO={code:"en-US",formatDistance:qJ,formatLong:YJ,formatRelative:XJ,localize:see,match:bee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wee(t,e){const n=Pn(t,e==null?void 0:e.in);return kJ(n,FJ(n))+1}function _ee(t,e){const n=Pn(t,e==null?void 0:e.in),r=+cg(n)-+NJ(n);return Math.round(r/yO)+1}function bO(t,e){var p,v,x,w;const n=Pn(t,e==null?void 0:e.in),r=n.getFullYear(),s=vf(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(x=s.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,l=fa((e==null?void 0:e.in)||t,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=Bh(l,e),d=fa((e==null?void 0:e.in)||t,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const h=Bh(d,e);return+n>=+u?r+1:+n>=+h?r:r-1}function Tee(t,e){var u,d,h,p;const n=vf(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=bO(t,e),o=fa((e==null?void 0:e.in)||t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Bh(o,e)}function Eee(t,e){const n=Pn(t,e==null?void 0:e.in),r=+Bh(n,e)-+Tee(n,e);return Math.round(r/yO)+1}function At(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ja={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return At(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):At(n+1,2)},d(t,e){return At(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return At(t.getHours()%12||12,e.length)},H(t,e){return At(t.getHours(),e.length)},m(t,e){return At(t.getMinutes(),e.length)},s(t,e){return At(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return At(s,e.length)}},Pc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gk={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ja.y(t,e)},Y:function(t,e,n,r){const s=bO(t,r),o=s>0?s:1-s;if(e==="YY"){const l=o%100;return At(l,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):At(o,e.length)},R:function(t,e){const n=vO(t);return At(n,e.length)},u:function(t,e){const n=t.getFullYear();return At(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return At(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return At(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ja.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return At(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Eee(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):At(s,e.length)},I:function(t,e,n){const r=_ee(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):At(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ja.d(t,e)},D:function(t,e,n){const r=wee(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):At(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return At(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return At(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return At(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Pc.noon:r===0?s=Pc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Pc.evening:r>=12?s=Pc.afternoon:r>=4?s=Pc.morning:s=Pc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ja.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ja.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ja.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ja.s(t,e)},S:function(t,e){return Ja.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return vk(r);case"XXXX":case"XX":return ml(r);case"XXXXX":case"XXX":default:return ml(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return vk(r);case"xxxx":case"xx":return ml(r);case"xxxxx":case"xxx":default:return ml(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yk(r,":");case"OOOO":default:return"GMT"+ml(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yk(r,":");case"zzzz":default:return"GMT"+ml(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return At(r,e.length)},T:function(t,e,n){return At(+t,e.length)}};function yk(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+At(o,2)}function vk(t,e){return t%60===0?(t>0?"-":"+")+At(Math.abs(t)/60,2):ml(t,e)}function ml(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=At(Math.trunc(r/60),2),o=At(r%60,2);return n+s+e+o}const xk=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},wO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},See=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return xk(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",xk(r,e)).replace("{{time}}",wO(s,e))},Aee={p:wO,P:See},Ree=/^D+$/,Cee=/^Y+$/,kee=["D","DD","YY","YYYY"];function Nee(t){return Ree.test(t)}function jee(t){return Cee.test(t)}function Pee(t,e,n){const r=Iee(t,e,n);if(console.warn(r),kee.includes(t))throw new RangeError(r)}function Iee(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Dee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Oee=/^'([^]*?)'?$/,Vee=/''/g,Lee=/[a-zA-Z]/;function Su(t,e,n){var p,v,x,w;const r=vf(),s=r.locale??xO,o=r.firstWeekContainsDate??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,l=r.weekStartsOn??((w=(x=r.locale)==null?void 0:x.options)==null?void 0:w.weekStartsOn)??0,u=Pn(t,n==null?void 0:n.in);if(!IJ(u))throw new RangeError("Invalid time value");let d=e.match(Mee).map(T=>{const E=T[0];if(E==="p"||E==="P"){const R=Aee[E];return R(T,s.formatLong)}return T}).join("").match(Dee).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const E=T[0];if(E==="'")return{isToken:!1,value:Uee(T)};if(gk[E])return{isToken:!0,value:T};if(E.match(Lee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:T}});s.localize.preprocessor&&(d=s.localize.preprocessor(u,d));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:s};return d.map(T=>{if(!T.isToken)return T.value;const E=T.value;(jee(E)||Nee(E))&&Pee(E,e,String(t));const R=gk[E[0]];return R(u,E,s.localize,h)}).join("")}function Uee(t){const e=t.match(Oee);return e?e[1].replace(Vee,"'"):t}function Bee(t,e,n){const r=vf(),s=(n==null?void 0:n.locale)??r.locale??xO,o=2520,l=_p(t,e);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[d,h]=Jg(n==null?void 0:n.in,...l>0?[e,t]:[t,e]),p=$J(h,d),v=(ug(h)-ug(d))/1e3,x=Math.round((p-v)/60);let w;if(x<2)return n!=null&&n.includeSeconds?p<5?s.formatDistance("lessThanXSeconds",5,u):p<10?s.formatDistance("lessThanXSeconds",10,u):p<20?s.formatDistance("lessThanXSeconds",20,u):p<40?s.formatDistance("halfAMinute",0,u):p<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):x===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",x,u);if(x<45)return s.formatDistance("xMinutes",x,u);if(x<90)return s.formatDistance("aboutXHours",1,u);if(x<fk){const T=Math.round(x/60);return s.formatDistance("aboutXHours",T,u)}else{if(x<o)return s.formatDistance("xDays",1,u);if(x<Zm){const T=Math.round(x/fk);return s.formatDistance("xDays",T,u)}else if(x<Zm*2)return w=Math.round(x/Zm),s.formatDistance("aboutXMonths",w,u)}if(w=BJ(h,d),w<12){const T=Math.round(x/Zm);return s.formatDistance("xMonths",T,u)}else{const T=w%12,E=Math.trunc(w/12);return T<3?s.formatDistance("aboutXYears",E,u):T<9?s.formatDistance("overXYears",E,u):s.formatDistance("almostXYears",E+1,u)}}function ey(t,e){return Bee(t,jJ(t),e)}const $ee={approved:{icon:m.jsx(Fl,{size:14,className:"text-green-600"}),style:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400"},pending:{icon:m.jsx(ZP,{size:14,className:"text-yellow-600"}),style:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400"},rejected:{icon:m.jsx(xa,{size:14,className:"text-red-600"}),style:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400"},"under review":{icon:m.jsx(vs,{size:14,className:"text-blue-600"}),style:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400"}},Fee=({status:t})=>{const e=$ee[t==null?void 0:t.toLowerCase()]||{icon:null,style:"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800/30 dark:text-gray-400"};return m.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full ${e.style}`,children:[e.icon,t]})},zee=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),{currentUser:s}=Ut(),{userData:o}=xs(s==null?void 0:s.uid);return k.useEffect(()=>{(async()=>{if(o!=null&&o.department){r(!0);try{const u=fi(ta(Ft,`Projects/${o.department}/projectSubmissions`),_i("submittedBy","==",o==null?void 0:o.studentId),Xp("submittedAt","desc"),Th(5)),h=(await ks(u)).docs.map(p=>({id:p.id,...p.data()}));e(h)}catch(u){console.error("Error fetching recent projects:",u)}finally{r(!1)}}})()},[o==null?void 0:o.department,o==null?void 0:o.studentId,s]),m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm h-fit",children:[m.jsxs("h2",{className:"text-md md:text-lg font-semibold text-black dark:text-white mb-4 flex items-center gap-2",children:[m.jsx(Mt,{size:18,className:"text-blue-500"})," Recent Projects"]}),n?m.jsx("div",{className:"space-y-4",children:[...Array(5)].map((l,u)=>m.jsxs("div",{className:"animate-pulse flex items-center justify-between p-3 border rounded-lg",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-1"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/4"})]}),m.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-full w-20"})]},u))}):t.length>0?m.jsx("div",{className:"space-y-3",children:t.map(l=>{var u;return m.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/30 cursor-pointer transition-colors duration-200",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[m.jsxs("h3",{className:"text-sm font-medium text-black dark:text-white truncate flex items-center gap-1",children:[m.jsx(Mt,{size:16,className:"text-purple-500"}),l.title]}),m.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300 mt-1 flex items-center gap-1",children:[m.jsx(Mt,{size:16,className:"text-emerald-500"}),l.abstract?l.abstract.slice(0,30)+"...":"N/A"]}),m.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-400 mt-1 flex items-center gap-1",children:[m.jsx(Ri,{size:16,className:"text-yellow-500"}),(u=l.submittedAt)!=null&&u.toDate?ey(l.submittedAt.toDate(),{addSuffix:!0}):""]})]}),m.jsx(Fee,{status:l.status})]})},l.id)})}):m.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No recent projects found."})]})},qee={approved:{icon:m.jsx(Fl,{size:14,className:"text-green-600"}),style:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400"},pending:{icon:m.jsx(ZP,{size:14,className:"text-yellow-600"}),style:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400"},rejected:{icon:m.jsx(xa,{size:14,className:"text-red-600"}),style:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400"},"under review":{icon:m.jsx(vs,{size:14,className:"text-blue-600"}),style:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400"}},Hee=({status:t})=>{const e=qee[t==null?void 0:t.toLowerCase()]||{icon:null,style:"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800/30 dark:text-gray-400"};return m.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full ${e.style}`,children:[e.icon,t]})},Gee=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),{currentUser:s}=Ut(),{userData:o}=xs(s==null?void 0:s.uid);return k.useEffect(()=>{(async()=>{if(o!=null&&o.department){r(!0);try{const u=fi(ta(Ft,`Projects/${o.department}/accessRequests`),_i("requestedBy","==",o==null?void 0:o.studentId),Xp("requestedAt","desc"),Th(5)),h=(await ks(u)).docs.map(p=>({id:p.id,...p.data()}));e(h)}catch(u){console.error("Error fetching access requests:",u)}finally{r(!1)}}})()},[s,o==null?void 0:o.department,o==null?void 0:o.studentId]),m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm h-fit",children:[m.jsxs("h2",{className:"text-md md:text-lg font-semibold text-black dark:text-white mb-4 flex items-center gap-2",children:[m.jsx(Mt,{size:18,className:"text-indigo-500"})," Access Requests"]}),n?m.jsx("div",{className:"space-y-4",children:[...Array(5)].map((l,u)=>m.jsxs("div",{className:"animate-pulse flex items-center justify-between p-3 border rounded-lg",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3 mb-2"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-1"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]}),m.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-full w-20"})]},u))}):t.length>0?m.jsx("div",{className:"space-y-3",children:t.map(l=>{var u;return m.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/30 cursor-pointer transition-colors duration-200",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[m.jsxs("h3",{className:"text-sm font-medium text-black dark:text-white truncate flex items-center gap-1",children:[m.jsx(Mt,{size:16,className:"text-purple-500"}),l.projectTitle]}),m.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300 mt-1 flex items-center gap-1",children:[m.jsx(Mt,{size:16,className:"text-emerald-500"}),l.requestReason?l.requestReason.slice(0,30)+"...":"N/A"]}),m.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-400 flex items-center gap-1",children:[m.jsx(Ri,{size:16,className:"text-yellow-500"}),(u=l.requestedAt)!=null&&u.toDate?ey(l.requestedAt.toDate(),{addSuffix:!0}):""]})]}),m.jsx(Hee,{status:l.status})]})},l.id)})}):m.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No access requests found."})]})},Kee=()=>{const t=[{label:"Submit New Project",to:"/student/projects/submit",icon:m.jsx(WP,{className:"w-5 h-5"}),bg:"bg-indigo-600 hover:bg-indigo-700"},{label:"Explore Projects",to:"/student/explore",icon:m.jsx(af,{className:"w-5 h-5"}),bg:"bg-green-600 hover:bg-green-700"}];return m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm",children:[m.jsx("h2",{className:"text-md md:text-lg font-semibold text-black dark:text-white mb-4 flex items-center gap-2",children:"Quick Actions"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((e,n)=>m.jsxs(Pt,{to:e.to,className:`${e.bg} flex items-center justify-center gap-2 text-white px-4 py-3 rounded-lg transition-colors duration-200`,"aria-label":e.label,children:[e.icon,m.jsx("span",{children:e.label})]},n))})]})},gn=({count:t=2})=>m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 px-4 md:px-6 my-6",children:Array.from({length:t}).map((e,n)=>m.jsxs("div",{className:"animate-pulse flex flex-col rounded-lg bg-gray-200/50 dark:bg-gray-900/50 space-y-2 p-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"h-6 bg-gray-200/50 dark:bg-gray-700/50 rounded w-full mb-2"}),m.jsx("div",{className:"h-32 bg-gray-200/50 dark:bg-gray-700/50 rounded w-full mb-1"})]}),m.jsxs("div",{className:"flex justify-end items-center gap-2",children:[m.jsx("div",{className:"h-8 bg-gray-200/50 dark:bg-gray-700/50 rounded-full w-24"}),m.jsx("div",{className:"h-8 bg-gray-200/50 dark:bg-gray-700/50 rounded-full w-24"})]})]},n))}),Yee=()=>{var l,u,d,h,p,v;const[t,e]=k.useState({}),[n,r]=k.useState(!0),{currentUser:s}=Ut(),{userData:o}=xs(s==null?void 0:s.uid);return k.useEffect(()=>{const x=async()=>{if(!(!(o!=null&&o.department)||!(o!=null&&o.studentId)))try{const[w,T]=await Promise.all([ks(fi(ta(Ft,`Projects/${o==null?void 0:o.department}/projectSubmissions`),_i("submittedBy","==",o==null?void 0:o.studentId))),ks(fi(ta(Ft,`Projects/${o==null?void 0:o.department}/accessRequests`),_i("requestedBy","==",o==null?void 0:o.studentId)))]),E=w.docs.map(P=>P.data()),R=T.docs.map(P=>P.data()),C=E.filter(P=>P.status==="approved").length,L=E.filter(P=>P.status==="pending").length,j=E.filter(P=>P.status==="rejected").length,U=E.filter(P=>P.status==="draft").length,M=R.filter(P=>P.status==="approved").length,V=R.filter(P=>P.status==="pending").length;e({projects:{total:E.length,approved:C,pending:L,rejected:j,draft:U},accessRequests:{total:R.length,approved:M,pending:V}})}catch(w){console.error("Error fetching dashboard stats:",w)}finally{r(!1)}};o!=null&&o.department&&(o!=null&&o.studentId)&&x()},[o,s]),m.jsxs("div",{className:"space-y-6",children:[m.jsx(on,{title:"Dashboard"}),n?m.jsx(gn,{}):m.jsx(m.Fragment,{children:m.jsxs("div",{className:"space-y-4 pb-12 md:pb-0",children:[m.jsx("h1",{className:"text-2xl font-semibold text-black dark:text-white px-3",children:"Dashboard Overview"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 px-3",children:[m.jsx(jc,{title:"Total Projects",value:((l=t.projects)==null?void 0:l.total)||0,icon:f7,bgColor:"bg-indigo-500"}),m.jsx(jc,{title:"Approved Projects",value:((u=t.projects)==null?void 0:u.approved)||0,icon:Fl,bgColor:"bg-green-500"}),m.jsx(jc,{title:"Pending Projects",value:((d=t.projects)==null?void 0:d.pending)||0,icon:Ri,bgColor:"bg-yellow-500"}),m.jsx(jc,{title:"Rejected Projects",value:((h=t.projects)==null?void 0:h.rejected)||0,icon:xa,bgColor:"bg-red-500"}),m.jsx(jc,{title:"Draft Projects",value:((p=t.projects)==null?void 0:p.draft)||0,icon:$g,bgColor:"bg-gray-500"}),m.jsx(jc,{title:"Access Requests",value:((v=t.accessRequests)==null?void 0:v.total)||0,icon:ba,bgColor:"bg-purple-500"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 px-3",children:[m.jsx(zee,{}),m.jsx(Gee,{})]}),m.jsx("div",{className:"grid grid-cols-1 gap-6 px-3 pb-8",children:m.jsx(Kee,{})})]})})]})},Wee=[{title:"My Projects",description:"View or manage your submitted projects.",to:"/student/projects/my",icon:Mt,bg:"bg-blue-600 dark:bg-blue-500"},{title:"Submit New Project",description:"Create and submit a new final year project.",to:"/student/projects/submit",icon:q7,bg:"bg-emerald-600 dark:bg-emerald-500"},{title:"Drafts",description:"Continue working on your saved or incomplete projects.",to:"/student/projects/drafts",icon:F7,bg:"bg-violet-600 dark:bg-violet-500"},{title:"Access Request History",description:"Track the status of your access requests.",to:"/student/projects/requests",icon:n7,bg:"bg-yellow-500 dark:bg-yellow-400"}],Xee=()=>m.jsxs("div",{className:"space-y-4",children:[m.jsx(on,{title:"Projects"}),m.jsx("div",{className:"flex flex-col divide-y divide-gray-400 dark:divide-gray-700 divide-solid px-4 md:px-8",children:Wee.map(({title:t,description:e,to:n,icon:r,bg:s})=>m.jsx(Pt,{to:n,className:"group rounded-lg bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-5 shadow-sm hover:shadow-md transition-all duration-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${s} text-white group-hover:scale-105 transition-transform`,children:m.jsx(r,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-base font-semibold text-gray-800 dark:text-white",children:t}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e})]})]}),m.jsx("span",{className:"text-gray-400 group-hover:text-blue-600 transition",children:">"})]})},t))})]}),Qee=({rejectionReason:t,onClose:e})=>m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm transition-all duration-200 ease-out",children:m.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-slate-900/80 rounded-2xl shadow-xl p-6 scale-100 opacity-100 duration-200 ease-out animate-[fadeIn_0.3s_ease-out]",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(qz,{className:"text-red-600 dark:text-red-400",size:22}),m.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Rejection Reason"})]})}),m.jsx("div",{className:"max-h-48 overflow-y-auto text-sm leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-line border border-gray-200 dark:border-gray-700 rounded-md p-3 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-700",children:(t==null?void 0:t.trim())||"No reason was provided for this rejection."}),m.jsx("div",{className:"mt-6 flex justify-end",children:m.jsx(Ze,{onClick:e,variant:"outline",children:"Close"})})]})}),Zee={approved:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-800/30",pending:"text-yellow-700 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-800/30",rejected:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-800/30",draft:"text-purple-700 bg-purple-100 dark:text-purple-300 dark:bg-purple-800/50"},Jee={draft:m.jsx($g,{className:"size-4 md:size-5 mr-1"}),pending:m.jsx(Ri,{className:"size-4 md:size-5 mr-1"}),approved:m.jsx($1,{className:"size-4 md:size-5 mr-1"}),rejected:m.jsx(xa,{className:"size-4 md:size-5 mr-1"})},_O=({project:t})=>{const{id:e,title:n,projectTitle:r,department:s,status:o="pending",submittedAt:l,abstract:u,updatedAt:d,projectYear:h,submissionRejectionReason:p,requestedAt:v}=t,x=o==="draft",w=o==="rejected",[T,E]=k.useState(!1),R=V=>{if(!V)return null;try{const P=V.seconds??V._seconds;if(!P)return null;const N=new Date(P*1e3);return isNaN(N.getTime())?null:Su(N,"PPpp")}catch{return null}},C=R(d),L=R(l),j=R(v),U=C||L||j||"N/A",M={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.3,staggerChildren:.1,delayChildren:.2}}};return m.jsxs(He.div,{initial:"hidden",animate:"visible",variants:M,className:yt("h-fit rounded-xl border-l-3 p-5 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",{"border-l-purple-500 dark:border-l-purple-500":x,"border-l-red-500 dark:border-l-red-500":w,"border-l-yellow-500 dark:border-l-yellow-500":o==="pending","border-l-green-500 dark:border-l-green-500":o==="approved"}),children:[m.jsxs("div",{className:"flex flex-col justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex justify-between items-center w-full bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm",children:[m.jsxs("div",{className:"flex items-start text-lg font-semibold text-gray-800 dark:text-white capitalize gap-2",children:[m.jsx("div",{className:"pt-1 text-gray-600 dark:text-white min-h-full w-fit size-6 md:size-8",children:m.jsx(Rr,{})}),m.jsx("h2",{className:"break-words",children:n||r})]}),m.jsxs("span",{className:yt("px-3 py-1 text-xs md:text-md rounded-full font-medium capitalize shadow-sm whitespace-nowrap flex items-center",Zee[o]),children:[Jee[o],o]})]}),m.jsxs("div",{className:"flex flex-col justify-center items-start w-full mt-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-3 rounded-xl space-y-3 shadow-sm",children:[m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(Mt,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Abstract:"}),m.jsx("span",{children:u?u.slice(0,40)+"...":"N/A"})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(zl,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Department:"}),m.jsx("span",{children:s})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($l,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:" Project Year:"}),m.jsx("span",{children:h})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(F1,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Submitted At:"}),m.jsx("span",{children:U})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[w&&p&&m.jsx(Ze,{variant:"ghost",size:"sm",className:"self-start text-sm px-1",onClick:()=>E(!0),children:"View Rejection Reason"}),o!=="draft"&&!w&&m.jsxs(Pt,{to:`/student/projects/view/${e}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[m.jsx(vs,{size:16}),"View Details"]}),(x||w)&&m.jsxs(Pt,{to:`/student/projects/edit/${e}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-gray-700 hover:bg-gray-800 text-white rounded-lg transition",children:[m.jsx(G7,{size:16}),"Edit"]})]}),T&&m.jsx(Qee,{rejectionReason:p,onClose:()=>E(!1)})]})},ty=({title:t="No Data Found",subtitle:e="Looks like there's nothing here yet.",icon:n=z1,children:r=null})=>m.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-16 px-6 mx-4 md:mx-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] border border-dashed border-gray-200 dark:border-gray-700 rounded-lg shadow-sm",children:[m.jsx("div",{className:"mb-4",children:m.jsx(n,{className:"w-12 h-12 text-gray-400 dark:text-gray-600"})}),m.jsx("h2",{className:"text-lg font-semibold text-gray-700 dark:text-gray-100",children:t}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-4",children:e}),r&&m.jsx("div",{className:"mt-4",children:r})]});function TO(t,e){return function(){return t.apply(e,arguments)}}const{toString:ete}=Object.prototype,{getPrototypeOf:c_}=Object,{iterator:ny,toStringTag:EO}=Symbol,ry=(t=>e=>{const n=ete.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Os=t=>(t=t.toLowerCase(),e=>ry(e)===t),sy=t=>e=>typeof e===t,{isArray:Au}=Array,$h=sy("undefined");function tte(t){return t!==null&&!$h(t)&&t.constructor!==null&&!$h(t.constructor)&&Sr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const SO=Os("ArrayBuffer");function nte(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&SO(t.buffer),e}const rte=sy("string"),Sr=sy("function"),AO=sy("number"),iy=t=>t!==null&&typeof t=="object",ste=t=>t===!0||t===!1,Tp=t=>{if(ry(t)!=="object")return!1;const e=c_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(EO in t)&&!(ny in t)},ite=Os("Date"),ate=Os("File"),ote=Os("Blob"),lte=Os("FileList"),cte=t=>iy(t)&&Sr(t.pipe),ute=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Sr(t.append)&&((e=ry(t))==="formdata"||e==="object"&&Sr(t.toString)&&t.toString()==="[object FormData]"))},dte=Os("URLSearchParams"),[hte,fte,mte,pte]=["ReadableStream","Request","Response","Headers"].map(Os),gte=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Au(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(r=0;r<l;r++)u=o[r],e.call(null,t[u],u,t)}}function RO(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const _l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,CO=t=>!$h(t)&&t!==_l;function Sb(){const{caseless:t}=CO(this)&&this||{},e={},n=(r,s)=>{const o=t&&RO(e,s)||s;Tp(e[o])&&Tp(r)?e[o]=Sb(e[o],r):Tp(r)?e[o]=Sb({},r):Au(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&xf(arguments[r],n);return e}const yte=(t,e,n,{allOwnKeys:r}={})=>(xf(e,(s,o)=>{n&&Sr(s)?t[o]=TO(s,n):t[o]=s},{allOwnKeys:r}),t),vte=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xte=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},bte=(t,e,n,r)=>{let s,o,l;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)l=s[o],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&c_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},wte=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},_te=t=>{if(!t)return null;if(Au(t))return t;let e=t.length;if(!AO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Tte=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&c_(Uint8Array)),Ete=(t,e)=>{const r=(t&&t[ny]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},Ste=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Ate=Os("HTMLFormElement"),Rte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),bk=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Cte=Os("RegExp"),kO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};xf(n,(s,o)=>{let l;(l=e(s,o,t))!==!1&&(r[o]=l||s)}),Object.defineProperties(t,r)},kte=t=>{kO(t,(e,n)=>{if(Sr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Sr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Nte=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Au(t)?r(t):r(String(t).split(e)),n},jte=()=>{},Pte=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Ite(t){return!!(t&&Sr(t.append)&&t[EO]==="FormData"&&t[ny])}const Dte=t=>{const e=new Array(10),n=(r,s)=>{if(iy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=Au(r)?[]:{};return xf(r,(l,u)=>{const d=n(l,s+1);!$h(d)&&(o[u]=d)}),e[s]=void 0,o}}return r};return n(t,0)},Mte=Os("AsyncFunction"),Ote=t=>t&&(iy(t)||Sr(t))&&Sr(t.then)&&Sr(t.catch),NO=((t,e)=>t?setImmediate:e?((n,r)=>(_l.addEventListener("message",({source:s,data:o})=>{s===_l&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),_l.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Sr(_l.postMessage)),Vte=typeof queueMicrotask<"u"?queueMicrotask.bind(_l):typeof process<"u"&&process.nextTick||NO,Lte=t=>t!=null&&Sr(t[ny]),ie={isArray:Au,isArrayBuffer:SO,isBuffer:tte,isFormData:ute,isArrayBufferView:nte,isString:rte,isNumber:AO,isBoolean:ste,isObject:iy,isPlainObject:Tp,isReadableStream:hte,isRequest:fte,isResponse:mte,isHeaders:pte,isUndefined:$h,isDate:ite,isFile:ate,isBlob:ote,isRegExp:Cte,isFunction:Sr,isStream:cte,isURLSearchParams:dte,isTypedArray:Tte,isFileList:lte,forEach:xf,merge:Sb,extend:yte,trim:gte,stripBOM:vte,inherits:xte,toFlatObject:bte,kindOf:ry,kindOfTest:Os,endsWith:wte,toArray:_te,forEachEntry:Ete,matchAll:Ste,isHTMLForm:Ate,hasOwnProperty:bk,hasOwnProp:bk,reduceDescriptors:kO,freezeMethods:kte,toObjectSet:Nte,toCamelCase:Rte,noop:jte,toFiniteNumber:Pte,findKey:RO,global:_l,isContextDefined:CO,isSpecCompliantForm:Ite,toJSONObject:Dte,isAsyncFn:Mte,isThenable:Ote,setImmediate:NO,asap:Vte,isIterable:Lte};function We(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}ie.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const jO=We.prototype,PO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{PO[t]={value:t}});Object.defineProperties(We,PO);Object.defineProperty(jO,"isAxiosError",{value:!0});We.from=(t,e,n,r,s,o)=>{const l=Object.create(jO);return ie.toFlatObject(t,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),We.call(l,t.message,e,n,r,s),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const Ute=null;function Ab(t){return ie.isPlainObject(t)||ie.isArray(t)}function IO(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function wk(t,e,n){return t?t.concat(e).map(function(s,o){return s=IO(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function Bte(t){return ie.isArray(t)&&!t.some(Ab)}const $te=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function ay(t,e,n){if(!ie.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,R){return!ie.isUndefined(R[E])});const r=n.metaTokens,s=n.visitor||p,o=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(s))throw new TypeError("visitor must be a function");function h(T){if(T===null)return"";if(ie.isDate(T))return T.toISOString();if(ie.isBoolean(T))return T.toString();if(!d&&ie.isBlob(T))throw new We("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(T)||ie.isTypedArray(T)?d&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function p(T,E,R){let C=T;if(T&&!R&&typeof T=="object"){if(ie.endsWith(E,"{}"))E=r?E:E.slice(0,-2),T=JSON.stringify(T);else if(ie.isArray(T)&&Bte(T)||(ie.isFileList(T)||ie.endsWith(E,"[]"))&&(C=ie.toArray(T)))return E=IO(E),C.forEach(function(j,U){!(ie.isUndefined(j)||j===null)&&e.append(l===!0?wk([E],U,o):l===null?E:E+"[]",h(j))}),!1}return Ab(T)?!0:(e.append(wk(R,E,o),h(T)),!1)}const v=[],x=Object.assign($te,{defaultVisitor:p,convertValue:h,isVisitable:Ab});function w(T,E){if(!ie.isUndefined(T)){if(v.indexOf(T)!==-1)throw Error("Circular reference detected in "+E.join("."));v.push(T),ie.forEach(T,function(C,L){(!(ie.isUndefined(C)||C===null)&&s.call(e,C,ie.isString(L)?L.trim():L,E,x))===!0&&w(C,E?E.concat(L):[L])}),v.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return w(t),e}function _k(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function u_(t,e){this._pairs=[],t&&ay(t,this,e)}const DO=u_.prototype;DO.append=function(e,n){this._pairs.push([e,n])};DO.toString=function(e){const n=e?function(r){return e.call(this,r,_k)}:_k;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Fte(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function MO(t,e,n){if(!e)return t;const r=n&&n.encode||Fte;ie.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=ie.isURLSearchParams(e)?e.toString():new u_(e,n).toString(r),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Tk{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(r){r!==null&&e(r)})}}const OO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zte=typeof URLSearchParams<"u"?URLSearchParams:u_,qte=typeof FormData<"u"?FormData:null,Hte=typeof Blob<"u"?Blob:null,Gte={isBrowser:!0,classes:{URLSearchParams:zte,FormData:qte,Blob:Hte},protocols:["http","https","file","blob","url","data"]},d_=typeof window<"u"&&typeof document<"u",Rb=typeof navigator=="object"&&navigator||void 0,Kte=d_&&(!Rb||["ReactNative","NativeScript","NS"].indexOf(Rb.product)<0),Yte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Wte=d_&&window.location.href||"http://localhost",Xte=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:d_,hasStandardBrowserEnv:Kte,hasStandardBrowserWebWorkerEnv:Yte,navigator:Rb,origin:Wte},Symbol.toStringTag,{value:"Module"})),tr={...Xte,...Gte};function Qte(t,e){return ay(t,new tr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return tr.isNode&&ie.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Zte(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Jte(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function VO(t){function e(n,r,s,o){let l=n[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=n.length;return l=!l&&ie.isArray(s)?s.length:l,d?(ie.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!u):((!s[l]||!ie.isObject(s[l]))&&(s[l]=[]),e(n,r,s[l],o)&&ie.isArray(s[l])&&(s[l]=Jte(s[l])),!u)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const n={};return ie.forEachEntry(t,(r,s)=>{e(Zte(r),s,n,0)}),n}return null}function ene(t,e,n){if(ie.isString(t))try{return(e||JSON.parse)(t),ie.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const bf={transitional:OO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=ie.isObject(e);if(o&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return s?JSON.stringify(VO(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Qte(e,this.formSerializer).toString();if((u=ie.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return ay(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),ene(e)):e}],transformResponse:[function(e){const n=this.transitional||bf.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?We.from(u,We.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tr.classes.FormData,Blob:tr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{bf.headers[t]={}});const tne=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nne=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||e[n]&&tne[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Ek=Symbol("internals");function Od(t){return t&&String(t).trim().toLowerCase()}function Ep(t){return t===!1||t==null?t:ie.isArray(t)?t.map(Ep):String(t)}function rne(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const sne=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function tx(t,e,n,r,s){if(ie.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!ie.isString(e)){if(ie.isString(r))return e.indexOf(r)!==-1;if(ie.isRegExp(r))return r.test(e)}}function ine(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ane(t,e){const n=ie.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,l){return this[r].call(this,e,s,o,l)},configurable:!0})})}let Ar=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(u,d,h){const p=Od(d);if(!p)throw new Error("header name must be a non-empty string");const v=ie.findKey(s,p);(!v||s[v]===void 0||h===!0||h===void 0&&s[v]!==!1)&&(s[v||d]=Ep(u))}const l=(u,d)=>ie.forEach(u,(h,p)=>o(h,p,d));if(ie.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(ie.isString(e)&&(e=e.trim())&&!sne(e))l(nne(e),n);else if(ie.isObject(e)&&ie.isIterable(e)){let u={},d,h;for(const p of e){if(!ie.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(d=u[h])?ie.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Od(e),e){const r=ie.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return rne(s);if(ie.isFunction(n))return n.call(this,s,r);if(ie.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Od(e),e){const r=ie.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||tx(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(l){if(l=Od(l),l){const u=ie.findKey(r,l);u&&(!n||tx(r,r[u],u,n))&&(delete r[u],s=!0)}}return ie.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||tx(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return ie.forEach(this,(s,o)=>{const l=ie.findKey(r,o);if(l){n[l]=Ep(s),delete n[o];return}const u=e?ine(o):String(o).trim();u!==o&&delete n[o],n[u]=Ep(s),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ie.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&ie.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Ek]=this[Ek]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=Od(l);r[u]||(ane(s,l),r[u]=!0)}return ie.isArray(e)?e.forEach(o):o(e),this}};Ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(Ar.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ie.freezeMethods(Ar);function nx(t,e){const n=this||bf,r=e||n,s=Ar.from(r.headers);let o=r.data;return ie.forEach(t,function(u){o=u.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function LO(t){return!!(t&&t.__CANCEL__)}function Ru(t,e,n){We.call(this,t??"canceled",We.ERR_CANCELED,e,n),this.name="CanceledError"}ie.inherits(Ru,We,{__CANCEL__:!0});function UO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new We("Request failed with status code "+n.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function one(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function lne(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),p=r[o];l||(l=h),n[s]=d,r[s]=h;let v=o,x=0;for(;v!==s;)x+=n[v++],v=v%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),h-l<e)return;const w=p&&h-p;return w?Math.round(x*1e3/w):void 0}}function cne(t,e){let n=0,r=1e3/e,s,o;const l=(h,p=Date.now())=>{n=p,s=null,o&&(clearTimeout(o),o=null),t.apply(null,h)};return[(...h)=>{const p=Date.now(),v=p-n;v>=r?l(h,p):(s=h,o||(o=setTimeout(()=>{o=null,l(s)},r-v)))},()=>s&&l(s)]}const dg=(t,e,n=3)=>{let r=0;const s=lne(50,250);return cne(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-r,h=s(d),p=l<=u;r=l;const v={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&p?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(v)},n)},Sk=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Ak=t=>(...e)=>ie.asap(()=>t(...e)),une=tr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,tr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(tr.origin),tr.navigator&&/(msie|trident)/i.test(tr.navigator.userAgent)):()=>!0,dne=tr.hasStandardBrowserEnv?{write(t,e,n,r,s,o){const l=[t+"="+encodeURIComponent(e)];ie.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ie.isString(r)&&l.push("path="+r),ie.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hne(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function fne(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function BO(t,e,n){let r=!hne(e);return t&&(r||n==!1)?fne(t,e):e}const Rk=t=>t instanceof Ar?{...t}:t;function Dl(t,e){e=e||{};const n={};function r(h,p,v,x){return ie.isPlainObject(h)&&ie.isPlainObject(p)?ie.merge.call({caseless:x},h,p):ie.isPlainObject(p)?ie.merge({},p):ie.isArray(p)?p.slice():p}function s(h,p,v,x){if(ie.isUndefined(p)){if(!ie.isUndefined(h))return r(void 0,h,v,x)}else return r(h,p,v,x)}function o(h,p){if(!ie.isUndefined(p))return r(void 0,p)}function l(h,p){if(ie.isUndefined(p)){if(!ie.isUndefined(h))return r(void 0,h)}else return r(void 0,p)}function u(h,p,v){if(v in e)return r(h,p);if(v in t)return r(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,p,v)=>s(Rk(h),Rk(p),v,!0)};return ie.forEach(Object.keys(Object.assign({},t,e)),function(p){const v=d[p]||s,x=v(t[p],e[p],p);ie.isUndefined(x)&&v!==u||(n[p]=x)}),n}const $O=t=>{const e=Dl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=Ar.from(l),e.url=MO(BO(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(ie.isFormData(n)){if(tr.hasStandardBrowserEnv||tr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...p]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...p].join("; "))}}if(tr.hasStandardBrowserEnv&&(r&&ie.isFunction(r)&&(r=r(e)),r||r!==!1&&une(e.url))){const h=s&&o&&dne.read(o);h&&l.set(s,h)}return e},mne=typeof XMLHttpRequest<"u",pne=mne&&function(t){return new Promise(function(n,r){const s=$O(t);let o=s.data;const l=Ar.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=s,p,v,x,w,T;function E(){w&&w(),T&&T(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let R=new XMLHttpRequest;R.open(s.method.toUpperCase(),s.url,!0),R.timeout=s.timeout;function C(){if(!R)return;const j=Ar.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),M={data:!u||u==="text"||u==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:j,config:t,request:R};UO(function(P){n(P),E()},function(P){r(P),E()},M),R=null}"onloadend"in R?R.onloadend=C:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(C)},R.onabort=function(){R&&(r(new We("Request aborted",We.ECONNABORTED,t,R)),R=null)},R.onerror=function(){r(new We("Network Error",We.ERR_NETWORK,t,R)),R=null},R.ontimeout=function(){let U=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const M=s.transitional||OO;s.timeoutErrorMessage&&(U=s.timeoutErrorMessage),r(new We(U,M.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,t,R)),R=null},o===void 0&&l.setContentType(null),"setRequestHeader"in R&&ie.forEach(l.toJSON(),function(U,M){R.setRequestHeader(M,U)}),ie.isUndefined(s.withCredentials)||(R.withCredentials=!!s.withCredentials),u&&u!=="json"&&(R.responseType=s.responseType),h&&([x,T]=dg(h,!0),R.addEventListener("progress",x)),d&&R.upload&&([v,w]=dg(d),R.upload.addEventListener("progress",v),R.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(p=j=>{R&&(r(!j||j.type?new Ru(null,t,R):j),R.abort(),R=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const L=one(s.url);if(L&&tr.protocols.indexOf(L)===-1){r(new We("Unsupported protocol "+L+":",We.ERR_BAD_REQUEST,t));return}R.send(o||null)})},gne=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(h){if(!s){s=!0,u();const p=h instanceof Error?h:this.reason;r.abort(p instanceof We?p:new Ru(p instanceof Error?p.message:p))}};let l=e&&setTimeout(()=>{l=null,o(new We(`timeout ${e} of ms exceeded`,We.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>ie.asap(u),d}},yne=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},vne=async function*(t,e){for await(const n of xne(t))yield*yne(n,e)},xne=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Ck=(t,e,n,r)=>{const s=vne(t,e);let o=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:p}=await s.next();if(h){u(),d.close();return}let v=p.byteLength;if(n){let x=o+=v;n(x)}d.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},oy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",FO=oy&&typeof ReadableStream=="function",bne=oy&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),zO=(t,...e)=>{try{return!!t(...e)}catch{return!1}},wne=FO&&zO(()=>{let t=!1;const e=new Request(tr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),kk=64*1024,Cb=FO&&zO(()=>ie.isReadableStream(new Response("").body)),hg={stream:Cb&&(t=>t.body)};oy&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hg[e]&&(hg[e]=ie.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new We(`Response type '${e}' is not supported`,We.ERR_NOT_SUPPORT,r)})})})(new Response);const _ne=async t=>{if(t==null)return 0;if(ie.isBlob(t))return t.size;if(ie.isSpecCompliantForm(t))return(await new Request(tr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(t)||ie.isArrayBuffer(t))return t.byteLength;if(ie.isURLSearchParams(t)&&(t=t+""),ie.isString(t))return(await bne(t)).byteLength},Tne=async(t,e)=>{const n=ie.toFiniteNumber(t.getContentLength());return n??_ne(e)},Ene=oy&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:p,withCredentials:v="same-origin",fetchOptions:x}=$O(t);h=h?(h+"").toLowerCase():"text";let w=gne([s,o&&o.toAbortSignal()],l),T;const E=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let R;try{if(d&&wne&&n!=="get"&&n!=="head"&&(R=await Tne(p,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),V;if(ie.isFormData(r)&&(V=M.headers.get("content-type"))&&p.setContentType(V),M.body){const[P,N]=Sk(R,dg(Ak(d)));r=Ck(M.body,kk,P,N)}}ie.isString(v)||(v=v?"include":"omit");const C="credentials"in Request.prototype;T=new Request(e,{...x,signal:w,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:C?v:void 0});let L=await fetch(T,x);const j=Cb&&(h==="stream"||h==="response");if(Cb&&(u||j&&E)){const M={};["status","statusText","headers"].forEach(D=>{M[D]=L[D]});const V=ie.toFiniteNumber(L.headers.get("content-length")),[P,N]=u&&Sk(V,dg(Ak(u),!0))||[];L=new Response(Ck(L.body,kk,P,()=>{N&&N(),E&&E()}),M)}h=h||"text";let U=await hg[ie.findKey(hg,h)||"text"](L,t);return!j&&E&&E(),await new Promise((M,V)=>{UO(M,V,{data:U,headers:Ar.from(L.headers),status:L.status,statusText:L.statusText,config:t,request:T})})}catch(C){throw E&&E(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,t,T),{cause:C.cause||C}):We.from(C,C&&C.code,t,T)}}),kb={http:Ute,xhr:pne,fetch:Ene};ie.forEach(kb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Nk=t=>`- ${t}`,Sne=t=>ie.isFunction(t)||t===null||t===!1,qO={getAdapter:t=>{t=ie.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let o=0;o<e;o++){n=t[o];let l;if(r=n,!Sne(n)&&(r=kb[(l=String(n)).toLowerCase()],r===void 0))throw new We(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+o]=r}if(!r){const o=Object.entries(s).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(Nk).join(`
`):" "+Nk(o[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:kb};function rx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ru(null,t)}function jk(t){return rx(t),t.headers=Ar.from(t.headers),t.data=nx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),qO.getAdapter(t.adapter||bf.adapter)(t).then(function(r){return rx(t),r.data=nx.call(t,t.transformResponse,r),r.headers=Ar.from(r.headers),r},function(r){return LO(r)||(rx(t),r&&r.response&&(r.response.data=nx.call(t,t.transformResponse,r.response),r.response.headers=Ar.from(r.response.headers))),Promise.reject(r)})}const HO="1.10.0",ly={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ly[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Pk={};ly.transitional=function(e,n,r){function s(o,l){return"[Axios v"+HO+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(e===!1)throw new We(s(l," has been removed"+(n?" in "+n:"")),We.ERR_DEPRECATED);return n&&!Pk[l]&&(Pk[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};ly.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Ane(t,e,n){if(typeof t!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],l=e[o];if(l){const u=t[o],d=u===void 0||l(u,o,t);if(d!==!0)throw new We("option "+o+" must be "+d,We.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new We("Unknown option "+o,We.ERR_BAD_OPTION)}}const Sp={assertOptions:Ane,validators:ly},ri=Sp.validators;let Rl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Tk,response:new Tk}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Dl(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Sp.assertOptions(r,{silentJSONParsing:ri.transitional(ri.boolean),forcedJSONParsing:ri.transitional(ri.boolean),clarifyTimeoutError:ri.transitional(ri.boolean)},!1),s!=null&&(ie.isFunction(s)?n.paramsSerializer={serialize:s}:Sp.assertOptions(s,{encode:ri.function,serialize:ri.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sp.assertOptions(n,{baseUrl:ri.spelling("baseURL"),withXsrfToken:ri.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&ie.merge(o.common,o[n.method]);o&&ie.forEach(["delete","get","head","post","put","patch","common"],T=>{delete o[T]}),n.headers=Ar.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(d=d&&E.synchronous,u.unshift(E.fulfilled,E.rejected))});const h=[];this.interceptors.response.forEach(function(E){h.push(E.fulfilled,E.rejected)});let p,v=0,x;if(!d){const T=[jk.bind(this),void 0];for(T.unshift.apply(T,u),T.push.apply(T,h),x=T.length,p=Promise.resolve(n);v<x;)p=p.then(T[v++],T[v++]);return p}x=u.length;let w=n;for(v=0;v<x;){const T=u[v++],E=u[v++];try{w=T(w)}catch(R){E.call(this,R);break}}try{p=jk.call(this,w)}catch(T){return Promise.reject(T)}for(v=0,x=h.length;v<x;)p=p.then(h[v++],h[v++]);return p}getUri(e){e=Dl(this.defaults,e);const n=BO(e.baseURL,e.url,e.allowAbsoluteUrls);return MO(n,e.params,e.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(e){Rl.prototype[e]=function(n,r){return this.request(Dl(r||{},{method:e,url:n,data:(r||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function n(r){return function(o,l,u){return this.request(Dl(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Rl.prototype[e]=n(),Rl.prototype[e+"Form"]=n(!0)});let Rne=class GO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(s);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,u){r.reason||(r.reason=new Ru(o,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new GO(function(s){e=s}),cancel:e}}};function Cne(t){return function(n){return t.apply(null,n)}}function kne(t){return ie.isObject(t)&&t.isAxiosError===!0}const Nb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nb).forEach(([t,e])=>{Nb[e]=t});function KO(t){const e=new Rl(t),n=TO(Rl.prototype.request,e);return ie.extend(n,Rl.prototype,e,{allOwnKeys:!0}),ie.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return KO(Dl(t,s))},n}const an=KO(bf);an.Axios=Rl;an.CanceledError=Ru;an.CancelToken=Rne;an.isCancel=LO;an.VERSION=HO;an.toFormData=ay;an.AxiosError=We;an.Cancel=an.CanceledError;an.all=function(e){return Promise.all(e)};an.spread=Cne;an.isAxiosError=kne;an.mergeConfig=Dl;an.AxiosHeaders=Ar;an.formToJSON=t=>VO(ie.isHTMLForm(t)?new FormData(t):t);an.getAdapter=qO.getAdapter;an.HttpStatusCode=Nb;an.default=an;const{Axios:hse,AxiosError:fse,CanceledError:mse,isCancel:pse,CancelToken:gse,VERSION:yse,all:vse,Cancel:xse,isAxiosError:bse,spread:wse,toFormData:_se,AxiosHeaders:Tse,HttpStatusCode:Ese,formToJSON:Sse,getAdapter:Ase,mergeConfig:Rse}=an,_n=an.create({baseURL:"http://localhost:3000/api",timeout:2e4});_n.interceptors.request.use(async t=>{const n=t1().currentUser;if(n)try{let r=await n.getIdToken();t.headers.Authorization=`Bearer ${r}`}catch(r){console.warn("⚠️ Failed to get Firebase token:",r.message)}return t},t=>Promise.reject(t));_n.interceptors.response.use(t=>t,async t=>{var r;const e=t1(),n=t.config;if(((r=t.response)==null?void 0:r.status)===401&&e.currentUser&&!n._retry){n._retry=!0;try{console.warn("🔄 Refreshing expired token...");const s=await e.currentUser.getIdToken(!0);return n.headers.Authorization=`Bearer ${s}`,_n(n)}catch(s){console.error("❌ Failed to refresh token:",s.message)}}return Promise.reject(t)});const Ds={getMyProjects:(t,e)=>_n.get("/student/my-projects",{params:{studentId:t,department:e}}).then(n=>n.data.data),getProjectById:(t,e)=>_n.get(`/student/project/${t}/${e}`).then(n=>n.data.data),submitProject:t=>_n.post("/student/upload",t,{headers:{"Content-Type":"multipart/form-data"}}),projectUpdateData:t=>{const{projectId:e,...n}=t;return _n.patch(`/student/update/${e}`,n)},requestAccess:(t,e)=>_n.post(`/student/access-requests/${t}`,e),accessRequestHistory:(t,e)=>_n.get("/student/access-requests/history",{params:{studentId:t,department:e}}).then(n=>n.data.data),getPublicProjects:()=>_n.get("/student/explore").then(t=>t.data),activityLog:t=>_n.post("/activity/logs",t),deleteProject:t=>_n.delete(`/projects/${t}`)},Nne=({value:t,onChange:e,placeholder:n="Search..."})=>m.jsx("input",{type:"text",value:t,onChange:r=>e(r.target.value),placeholder:n,className:"px-3 py-2 w-40 md:w-64 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)/20] text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all "}),jne=({value:t,onChange:e,statuses:n})=>m.jsx("div",{className:"flex flex-col flex-wrap justify-center items-start space-y-2",children:n.map(r=>m.jsx("button",{onClick:()=>e(r),className:`px-3 py-1 rounded-full text-xs font-medium transition-all
            ${t===r?"bg-blue-600 text-white shadow":"bg-gray-200/50 dark:bg-gray-700/50 text-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:r.charAt(0).toUpperCase()+r.slice(1)},r))}),ql=({searchQuery:t,onSearchChange:e,statusFilter:n,onStatusChange:r,showSearch:s=!0,showFilter:o=!0,showSort:l=!1,sortValue:u,onSortChange:d,statuses:h=["all","approved","pending","rejected"],onLogout:p})=>{const[v,x]=k.useState(!1),[w,T]=k.useState(!1),[E,R]=k.useState(!1),C=k.useRef(null),L=k.useRef(null),j=k.useRef(null);return k.useEffect(()=>{const U=M=>{C.current&&!C.current.contains(M.target)&&x(!1),L.current&&!L.current.contains(M.target)&&T(!1),j.current&&!j.current.contains(M.target)&&R(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]),m.jsxs("div",{className:"flex gap-2 md:flex-row md:items-center md:flex-wrap w-full md:w-auto relative",children:[s&&m.jsx("div",{className:"w-full sm:w-auto",children:m.jsx(Nne,{value:t,onChange:e,placeholder:"Search by title..."})}),o&&m.jsxs("div",{ref:C,className:"relative",children:[m.jsxs("button",{onClick:()=>x(U=>!U),className:"flex items-center gap-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:[m.jsx(p7,{className:"w-4 h-5"}),m.jsx("span",{className:"hidden md:block",children:"Filter"})]}),v&&m.jsx("div",{className:"absolute right-0 z-10 mt-2 p-2 bg-white/40 dark:bg-gray-800/40 border border-gray-200 dark:border-gray-700 rounded-lg shadow-md transition-all",children:m.jsx(jne,{value:n,onChange:U=>{r(U),x(!1)},statuses:h})})]}),l&&m.jsxs("div",{ref:L,className:"relative",children:[m.jsxs("button",{onClick:()=>T(U=>!U),className:"hidden md:flex items-center gap-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:[m.jsx($z,{className:"w-4 h-4"}),m.jsx("span",{children:"Sort"})]}),w&&m.jsx("div",{className:"absolute right-0 z-10 mt-2 p-2 bg-white/40 dark:bg-gray-800/40 border border-gray-200 dark:border-gray-700 rounded-lg shadow-md transition-all",children:m.jsx("ul",{className:"space-y-1",children:[{label:"Newest",value:"newest"},{label:"Oldest",value:"oldest"},{label:"Title A-Z",value:"title_asc"},{label:"Title Z-A",value:"title_desc"}].map(U=>m.jsx("li",{children:m.jsx("button",{onClick:()=>{d(U.value),T(!1)},className:`block w-full text-left px-3 py-1 rounded-md text-sm ${u===U.value?"bg-blue-600 text-white":"hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200"}`,children:U.label})},U.value))})})]}),m.jsxs("div",{ref:j,className:"relative md:hidden",children:[m.jsx("button",{onClick:()=>R(U=>!U),className:"flex items-center gap-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:m.jsx(B7,{className:"w-5 h-5"})}),E&&m.jsx("div",{className:"absolute right-0 mt-7 w-36 bg-white/50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-20",children:m.jsxs("button",{onClick:p,className:"flex items-center gap-2 w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all",children:[m.jsx(Fg,{className:"w-4 h-4"}),"Logout"]})})]})]})},Pne=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),{currentUser:s}=Ut(),[o,l]=k.useState(""),[u,d]=k.useState("all"),[h,p]=k.useState("newest"),{userData:v}=xs(s==null?void 0:s.uid);k.useEffect(()=>{const w=async()=>{try{const T=await Ds.getMyProjects(v==null?void 0:v.studentId,v==null?void 0:v.department);e(T)}catch(T){console.error("Failed to fetch projects:",T)}finally{r(!1)}};v!=null&&v.studentId&&(v!=null&&v.department)&&w()},[v==null?void 0:v.studentId,v==null?void 0:v.department]);const x=t.filter(w=>u==="all"?!0:w.status===u).filter(w=>(w.title||"").toLowerCase().includes(o.toLowerCase())).sort((w,T)=>{var E,R,C,L,j,U,M,V;return h==="newest"?((R=(E=T.submittedAt)==null?void 0:E.toMillis)==null?void 0:R.call(E))-((L=(C=w.submittedAt)==null?void 0:C.toMillis)==null?void 0:L.call(C)):h==="oldest"?((U=(j=w.submittedAt)==null?void 0:j.toMillis)==null?void 0:U.call(j))-((V=(M=T.submittedAt)==null?void 0:M.toMillis)==null?void 0:V.call(M)):h==="title_asc"?w.title.localeCompare(T.title):h==="title_desc"?T.title.localeCompare(w.title):0});return m.jsxs("div",{className:"space-y-6 pb-2 md:pb-4",children:[m.jsx(on,{title:"My Projects",showBack:!0,rightContent:m.jsx(ql,{searchQuery:o,onSearchChange:l,statusFilter:u,onStatusChange:d,sortValue:h,onSortChange:p})}),n?m.jsx(gn,{}):x.length===0?m.jsx(ty,{title:"No Projects Found",subtitle:"Try adjusting your filters or submit a new project!",children:m.jsxs(Pt,{to:"/student/projects/submit",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:[m.jsx(WP,{className:"w-4 h-4"}),"Submit New Project"]})}):m.jsx("div",{className:"grid sm:grid-cols-2 gap-4 px-4 md:px-6 my-10",children:x.map(w=>m.jsx(_O,{project:w},w.id))})]})},cy=({label:t,name:e,value:n,onChange:r,placeholder:s,rows:o=4,required:l=!1,readOnly:u=!1,error:d,disabled:h=!1,className:p=""})=>m.jsxs("div",{className:"mb-4 w-full",children:[t&&m.jsxs("label",{htmlFor:e,className:"block text-sm font-medium mb-1 dark:text-gray-200 text-gray-700",children:[t," ",l&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(He.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative",children:m.jsx("textarea",{id:e,name:e,value:n,onChange:r,placeholder:s,rows:o,disabled:h,required:l,readOnly:u,className:yt("w-full resize-none rounded-lg border px-4 py-2 text-sm shadow-sm transition duration-200","bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)/50] text-gray-900 border-gray-300 focus:border-blue-700 focus:ring-2 focus:ring-blue-200","dark:text-white dark:border-gray-700 dark:focus:border-blue-500 dark:focus:ring-blue-500",d&&"border-red-500 focus:border-red-500 focus:ring-red-200 dark:border-red-500 dark:focus:ring-red-400",h&&"bg-gray-100 cursor-not-allowed",p)})}),d&&m.jsx(He.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",children:d})]}),YO=()=>({uploadFile:async(e,n="projects")=>{const r=new FormData;r.append("file",e),r.append("folder",n);try{return{success:!0,url:(await Ds.submitProject(r)).data.url}}catch(s){return console.error("Upload error:",s),{success:!1,error:s}}}}),Ine=(t,e="PPR")=>{const n=t.toLowerCase().replace(/\s+/g,"-"),r=Date.now().toString().slice(-6),s=Math.floor(Math.random()*1e4).toString().padStart(6,"0");return`${n}-${r}-${e}-${s}`},Dne=async({projectId:t,projectTitle:e,performedByStudentId:n,performedByName:r,performedByRole:s,action:o,department:l,status:u})=>{try{const d={projectId:t,projectTitle:e,performedByStudentId:n,performedByName:r,performedByRole:s,action:o,department:l,status:u},h=await Ds.activityLog(d);h.data.success||console.warn("⚠️ Activity log not saved:",h.data.message)}catch(d){console.error("❌ Failed to send activity log:",d.message)}},h_=async({userData:t,action:e,project:n,status:r})=>{if(!t||!n){console.warn("Activity log skipped: missing user or project info");return}await Dne({projectId:n==null?void 0:n.projectId,projectTitle:(n==null?void 0:n.title)||(n==null?void 0:n.projectTitle),performedByStudentId:t==null?void 0:t.studentId,performedByName:t==null?void 0:t.fullName,performedByRole:t==null?void 0:t.role,action:e,department:(t==null?void 0:t.department)||"General",status:r||"pending"})},Mne=async(t,e,n,r)=>{try{const s=zr(Ft,"Projects",e,"projectSubmissions",n),o={...t,projectId:n,department:e,submittedAt:BP(),status:t.status||"pending"},l=u=>Object.fromEntries(Object.entries(u).filter(([d,h])=>h!==void 0));return await h_({userData:r,action:"Project submission",project:o,status:"pending"}),await LP(s,l(o)),{success:!0,projectId:n}}catch(s){return console.error("❌ Error creating project:",s.message),{success:!1,error:s}}},One=()=>{const{notifySuccess:t,notifyError:e}=Po(),{currentUser:n,role:r,loading:s}=Ut(),o=qn(),{uploadFile:l}=YO(),u=new Date().getFullYear(),d=Array.from({length:u-2016},(U,M)=>{const V=2017+M;return{value:V.toString(),label:V.toString()}}),[h,p]=k.useState({title:"",abstract:"",supervisor:"",projectYear:"",file:null}),[v,x]=k.useState(null),[w,T]=k.useState(!1),[E,R]=k.useState(!1);k.useEffect(()=>{(async()=>{if(n!=null&&n.uid)try{const M=zr(Ft,"Student",n.uid),V=await Ti(M);V.exists()&&x(V.data())}catch(M){console.error("Error fetching user data:",M)}})()},[n]);const C=U=>{const{name:M,value:V,files:P}=U.target;p(M==="file"?N=>({...N,file:P[0]||null}):N=>({...N,[M]:V}))},L=()=>{p(U=>({...U,file:null}))},j=async(U,M=!1)=>{var V;if(U.preventDefault(),!h.title||!h.abstract||!h.supervisor||!h.projectYear){e("Please fill all required fields.");return}if(s)return m.jsx(gn,{});if(!n||r!=="student"){e("You're not authenticated.");return}try{M?R(!0):T(!0);let P=null;if(h.file){const G=await l(h.file,"project_files");if(!G.success)throw new Error("File upload failed");P=G.url}const N=(v==null?void 0:v.department)||"General",D=Ine(N),B={title:h.title,abstract:h.abstract,supervisor:h.supervisor,projectYear:h.projectYear,fileURL:P,status:M?"draft":"pending",submittedBy:(v==null?void 0:v.studentId)||n.uid,accessLevel:"public"},$=await Mne(B,N,D,v);if($.success)t(M?"Project saved as draft.":"Project submitted!"),p({title:"",abstract:"",supervisor:"",projectYear:"",file:null}),o(-1,{replace:!0});else throw new Error(((V=$.error)==null?void 0:V.message)||"Project creation failed")}catch(P){console.error(P),e("Failed to submit project. Try again.")}finally{T(!1),R(!1)}};return m.jsxs("div",{className:"space-y-4 pb-4",children:[m.jsx(on,{to:"/student/projects",title:"Submit New Project",showBack:!0}),m.jsxs("form",{className:"space-y-5 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-4 rounded-lg shadow-md w-[90%] mx-auto mb-4 md:mb-0",onSubmit:U=>j(U,!1),noValidate:!0,children:[m.jsx(fs,{label:"Project Title",name:"title",value:h.title,onChange:C,required:!0,placeholder:"Enter your project title"}),m.jsx(cy,{label:"Abstract",name:"abstract",rows:6,value:h.abstract,onChange:C,required:!0,placeholder:"Write a brief abstract"}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[m.jsx("div",{className:"flex-1",children:m.jsx(sh,{label:"Project Year",name:"projectYear",value:h.projectYear,onChange:C,options:[{value:"",label:"-- Select Project Year --"},...d],required:!0})}),m.jsx("div",{className:"flex-1",children:m.jsx(fs,{label:"Supervisor Name",name:"supervisor",value:h.supervisor,onChange:C,required:!0,placeholder:"Supervisor's full name"})})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium mb-2 dark:text-gray-200 text-gray-700",children:["Upload Project File"," ",m.jsx("span",{className:"text-gray-400 text-xs",children:"(DOC, DOCX)"})]}),m.jsx("div",{className:"relative flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-6 cursor-pointer hover:border-blue-500 transition-colors bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] overflow-hidden",onClick:()=>document.getElementById("fileInput").click(),role:"button",tabIndex:0,children:h.file?m.jsxs("div",{className:"flex items-center justify-between w-full max-w-md bg-white dark:bg-gray-900 rounded-md p-3 shadow-sm",children:[m.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate overflow-hidden",children:h.file.name?h.file.name.substring(0,25)+"...":"No file selected"}),m.jsx("button",{type:"button",onClick:L,className:"text-red-500 hover:text-red-600 focus:outline-none","aria-label":"Remove file",children:m.jsx(Y1,{size:18})})]}):m.jsxs(m.Fragment,{children:[m.jsx(BR,{className:"text-blue-500 mb-2",size:36}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Click or drag & drop to upload file"}),m.jsx("input",{type:"file",id:"fileInput",name:"file",accept:".doc,.docx",onChange:C,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx(Ze,{type:"button",variant:"secondary",icon:m.jsx(JP,{size:16}),onClick:U=>j(U,!0),isLoading:E,disabled:w,children:"Save as Draft"}),m.jsx(Ze,{type:"submit",variant:"primary",icon:m.jsx(BR,{size:16}),isLoading:w,disabled:E,children:"Submit Project"})]})]})]})},Vne=()=>{const{currentUser:t}=Ut(),[e,n]=k.useState([]),[r,s]=k.useState(!0),{userData:o}=xs(t==null?void 0:t.uid);return k.useEffect(()=>{(async()=>{if(!(!(o!=null&&o.department)||!(o!=null&&o.studentId)))try{const u=ta(Ft,"Projects",o==null?void 0:o.department,"projectSubmissions"),d=fi(u,_i("submittedBy","==",o==null?void 0:o.studentId),_i("status","in",["draft","rejected","pending"])),p=(await ks(d)).docs.map(v=>({id:v.id,...v.data()}));n(p)}catch(u){console.error("Error fetching drafts:",u.message)}finally{s(!1)}})()},[o==null?void 0:o.department,o==null?void 0:o.studentId]),{drafts:e,loading:r}},Lne=()=>{const{drafts:t,loading:e}=Vne();return m.jsxs("div",{className:"pb-16 md:pb-4 space-y-4",children:[m.jsx(on,{title:"Drafts",backTo:"/student/projects",showBack:!0}),e?m.jsx(gn,{}):t.length===0?m.jsx("div",{className:"px-4 md:px-8",children:m.jsx(ty,{title:"No Drafts Yet",description:"You haven't saved any projects as drafts. Start a new project and it will appear here if saved."})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 px-4 md:px-6",children:t.map(n=>m.jsx(_O,{project:n},n.id))})]})},Ik={pending:{icon:m.jsx(Ri,{size:16,className:"text-yellow-500"}),badge:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",border:"border-yellow-400"},approved:{icon:m.jsx(Fl,{size:16,className:"text-green-500"}),badge:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",border:"border-green-500"},rejected:{icon:m.jsx(xa,{size:16,className:"text-red-500"}),badge:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",border:"border-red-500"}},Une=t=>{if(!t)return null;try{const e=t.seconds??t._seconds;if(!e)return null;const n=new Date(e*1e3);return isNaN(n.getTime())?null:Su(n,"PPpp")}catch{return null}},Bne=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),{currentUser:s}=Ut(),{userData:o}=xs(s==null?void 0:s.uid);return k.useEffect(()=>{(async()=>{try{if(!(o!=null&&o.studentId)||!(o!=null&&o.department))return;const u=await Ds.accessRequestHistory(o.studentId,o.department);e(u)}catch(u){console.error("Failed to fetch access requests",u)}finally{r(!1)}})()},[o==null?void 0:o.studentId,o==null?void 0:o.department]),m.jsxs("div",{className:"space-y-6 pb-2 md:pb-4",children:[m.jsx(on,{title:"Access Request History",showBack:!0}),n?m.jsx(gn,{}):t.length===0?m.jsx(ty,{title:"No Access Requests Yet",description:"You haven’t made any access requests for restricted projects."}):m.jsx("div",{className:"space-y-4 px-4 md:px-8",children:t.map(l=>m.jsx("div",{className:"grid sm:grid-cols-2 gap-4 px-4 md:px-6 my-10",children:l.history&&l.history.length>0?l.history.map((u,d)=>{const{icon:h,badge:p,border:v}=Ik[u.status]||Ik.pending;return m.jsx("div",{className:`border-l-4 ${v} rounded-xl p-4 bg-white dark:bg-[var(--color-dark-surface)] shadow mb-3`,children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:u.projectTitle}),m.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Status:"," ",m.jsx("span",{className:"font-medium capitalize",children:u.status})]}),m.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Requested at:"," ",m.jsx("span",{className:"font-medium",children:Une(u.requestedAt)})]})]}),m.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium capitalize ${p}`,children:[h,u.status]})]})},`${l.id}-${d}`)}):m.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic",children:"No history available"})},l.id))})]})},$ne=({open:t,onClose:e,project:n})=>{const{currentUser:r}=Ut(),s=qn(),{userData:o}=xs(r==null?void 0:r.uid),{notifySuccess:l,notifyError:u}=Po(),[d,h]=k.useState(""),[p,v]=k.useState(!1);if(!t)return null;const x=async()=>{var w;if(!d.trim()){u("Please provide a reason for your request.");return}if(!(n!=null&&n.projectId)){u("Invalid project. Please try again.");return}if(n.department!==(o==null?void 0:o.department)){u("You can only request access to projects in your department.");return}try{v(!0);const T={projectId:n.projectId,projectTitle:n.title,requestedBy:o==null?void 0:o.studentId,department:o==null?void 0:o.department,status:"pending",requestReason:d.trim()};await Ds.requestAccess(n.projectId,T),await h_({userData:o,action:"Requesting access to project",project:n,status:"pending"}),l("Access request sent successfully!"),h(""),e(),s(-1,{replace:!0})}catch(T){console.error(T),((w=T==null?void 0:T.response)==null?void 0:w.status)===400?u(T.response.data.message):u("Something went wrong. Please try again.")}finally{v(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/10 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900/50 rounded-xl p-6 w-full max-w-md shadow-lg",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(c7,{className:"text-gray-700 dark:text-white",size:20}),m.jsx("h2",{className:"text-lg md:text-xl font-semibold dark:text-white",children:"Request Access"})]}),m.jsx("p",{className:"text-sm md:text-md text-gray-600 dark:text-gray-300 mb-4",children:"Please explain why you need access to this project."}),m.jsx(cy,{value:d,onChange:w=>h(w.target.value),placeholder:"Write your reason..."}),m.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[m.jsx(Ze,{onClick:e,disabled:p,variant:"outline",children:"Cancel"}),m.jsx(Ze,{onClick:x,disabled:p,children:p?"Sending...":"Send Request"})]})]})})},Dk=()=>{const{id:t,department:e}=zh(),{currentUser:n}=Ut(),{userData:r}=xs(n==null?void 0:n.uid),[s,o]=k.useState(null),[l,u]=k.useState(!1),[d,h]=k.useState(!0),[p,v]=k.useState([]),[x,w]=k.useState(!1),T={public:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-900/20",owner:"text-blue-700 bg-blue-100 dark:text-blue-400 dark:bg-blue-900/20",restricted:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-900/20"},E=(s==null?void 0:s.admissionNumber)===(r==null?void 0:r.admissionNumber),R=(r==null?void 0:r.staffRole)==="academic",C=E?"owner":(s==null?void 0:s.accessLevel)??"public",L=C==="public"||E||R||x;return k.useEffect(()=>{(async()=>{const U=e||(r==null?void 0:r.department);if(!(!t||!U))try{const M=await Ds.getProjectById(U,t);if(M&&o({...M,title:M.title||"Untitled Project",abstract:M.abstract||"No abstract provided.",supervisor:M.supervisor||"N/A",fileURL:M.fileURL||"",department:M.department||"N/A",projectYear:M.projectYear||"N/A"}),!e)return;const V=await Ds.accessRequestHistory(r==null?void 0:r.studentId,U);v(V||[]);const P=V==null?void 0:V.some(N=>N.projectId===t&&N.status==="approved");w(P)}catch(M){console.error("Error fetching project or access requests:",M)}finally{h(!1)}})()},[e,r,t]),m.jsxs(m.Fragment,{children:[m.jsx(on,{title:"View Project",backTo:"/student/projects/my",showBack:!0}),d||!r||!s?m.jsx(gn,{}):m.jsx("main",{className:"flex justify-center px-4 mt-8",children:m.jsxs("div",{className:"w-full max-w-4xl space-y-4 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6 md:p-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] transition-all",children:[m.jsxs("div",{className:"flex justify-between items-start bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm text-gray-600 dark:text-gray-100 md:text-lg font-semibold",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Rr,{className:"text-blue-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Title:"})," ",s.title]})]}),m.jsxs("span",{title:E?"You are the owner of this project":C==="restricted"?"Restricted access — request required":"This project is public",className:yt("px-3 py-1 text-xs rounded-full font-semibold capitalize shadow-sm whitespace-nowrap inline-flex items-center gap-1",T[C]),children:[C==="restricted"?m.jsx(ba,{className:"size-4"}):m.jsx(vs,{className:"size-4"}),C]})]}),x&&C==="restricted"&&m.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 font-medium",children:[m.jsx(YP,{className:"w-4 h-4"}),"Access request approved — you can now download the file."]}),m.jsxs("div",{className:"flex flex-col gap-4 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-4 rounded-xl shadow-sm text-gray-600 dark:text-gray-100",children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Mt,{className:"text-fuchsia-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Abstract:"})," ",s.abstract]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(To,{className:"text-purple-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Supervisor:"})," ",s.supervisor]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Eh,{className:"text-amber-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Project Year:"})," ",s.projectYear]})]})]}),m.jsx("div",{className:"pt-2 w-full flex justify-end",children:L?m.jsx("a",{href:s.fileURL,target:"_blank",rel:"noopener noreferrer",download:`${s.title}.docx`,"aria-label":`Download project "${s.title}" as Word Document`,children:m.jsx(Ze,{variant:"primary",icon:m.jsx(Bg,{className:"size-4 mr-1"}),children:"Download DOC"})}):m.jsx(Ze,{variant:"primary",type:"button",onClick:()=>u(!0),"aria-label":"Request access to download project file",icon:m.jsx(N7,{className:"w-4 h-4"}),children:"Request Access"})})]})}),m.jsx($ne,{open:l,onClose:()=>u(!1),project:s})]})},Fne=()=>{const{notifySuccess:t,notifyError:e}=Po(),{currentUser:n,loading:r}=Ut(),{uploadFile:s}=YO(),{id:o}=zh(),l=qn(),u=new Date().getFullYear(),d=Array.from({length:u-2016},(U,M)=>{const V=2017+M;return{value:V.toString(),label:V.toString()}}),[h,p]=k.useState({title:"",abstract:"",supervisor:"",projectYear:"",fileURL:"",department:""}),{userData:v,loading:x}=xs(r?null:n==null?void 0:n.uid),[w,T]=k.useState(null),[E,R]=k.useState(!1);k.useEffect(()=>{(async()=>{if(!(!(v!=null&&v.department)||!o))try{const M=await Ds.getProjectById(v.department,o);M&&p(V=>({...V,...M,title:(M==null?void 0:M.title)||"",abstract:(M==null?void 0:M.abstract)||"",supervisor:(M==null?void 0:M.supervisor)||"",projectYear:(M==null?void 0:M.projectYear)||"",fileURL:(M==null?void 0:M.fileURL)||"",department:(M==null?void 0:M.department)||""}))}catch(M){console.error("Error fetching project:",M)}})()},[v==null?void 0:v.department,o]);const C=U=>{const{name:M,value:V,files:P}=U.target;M==="file"?T(P[0]):p(N=>({...N,[M]:V}))},L=()=>{T(null)},j=async U=>{if(U.preventDefault(),!h.title||!h.abstract||!h.supervisor){e("Please fill all required fields.");return}try{R(!0);let M=h.fileURL;if(w&&typeof w!="string"){const N=await s(w,"project_files");if(!N.success)throw new Error("File upload failed");M=N.url}const V={...h,fileURL:M,status:["draft","rejected"].includes(h.status)?"pending":h.status,rejectionReason:["draft","rejected"].includes(h.status)?"":h.rejectionReason||"",projectId:o};(await Ds.projectUpdateData(V)).data.success?(await h_({user:n,action:"updated project",project:h}),t("Project updated successfully!"),l("/student/projects/drafts",{replace:!0})):e("Failed to update project.")}catch(M){console.error("Update error:",M.message),e("An error occurred while updating the project.")}finally{R(!1)}};return m.jsxs("div",{className:"space-y-6",children:[m.jsx(on,{title:"Edit Project",backTo:"/student/projects/my",showBack:!0}),r||x?m.jsx(gn,{}):m.jsxs("form",{onSubmit:j,className:"space-y-6 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-4 rounded-lg shadow-md w-[90%] mx-auto",children:[m.jsx(fs,{label:"Project Title",name:"title",value:h.title,onChange:C,required:!0}),m.jsx(cy,{label:"Abstract",name:"abstract",value:h.abstract,onChange:C,rows:6,required:!0}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[m.jsx("div",{className:"flex-1",children:m.jsx(sh,{label:"Project Year",name:"projectYear",value:h.projectYear,onChange:C,options:d,required:!0})}),m.jsx("div",{className:"flex-1",children:m.jsx(fs,{label:"Supervisor Name",name:"supervisor",value:h.supervisor,onChange:C,required:!0,placeholder:"Supervisor's full name"})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-200 text-gray-700",children:"Project File (DOC, DOCX)"}),m.jsxs("div",{className:"relative flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-6 cursor-pointer hover:border-blue-500 transition-colors bg-gray-50 dark:bg-gray-800",onClick:()=>document.getElementById("fileInput").click(),role:"button",tabIndex:0,children:[w?m.jsxs("div",{className:"flex items-center justify-between w-full max-w-md bg-white dark:bg-gray-900 rounded-md p-3 shadow-sm",children:[m.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:w.name}),m.jsx("button",{type:"button",onClick:L,className:"text-red-500 hover:text-red-600 focus:outline-none","aria-label":"Remove file",children:m.jsx(Y1,{size:18})})]}):m.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:h.fileURL?m.jsxs(m.Fragment,{children:["Current file: ",h.fileURL.split("/").pop()]}):"Click to upload a new file (optional)"}),m.jsx("input",{type:"file",id:"fileInput",name:"file",accept:".doc,.docx",onChange:C,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsx(Ze,{type:"submit",variant:"primary",icon:m.jsx(JP,{size:16}),isLoading:E,disabled:h.status==="pending",children:h.status==="draft"?"Save Changes":"Update Project"})})]})]})},Mk={public:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-800/30",restricted:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-800/30"},zne=({project:t})=>{const{id:e,title:n,abstract:r,department:s,projectYear:o,accessLevel:l}=t,u={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.3,staggerChildren:.1,delayChildren:.2}}},d={public:m.jsx(q1,{className:"w-4 h-4 mr-1"}),restricted:m.jsx(ba,{className:"w-4 h-4 mr-1"})};return m.jsxs(lo.div,{initial:"hidden",animate:"visible",variants:u,className:yt("h-fit rounded-xl border-l-3 p-5 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",{"border-l-green-500 dark:border-l-green-500":l==="public","border-l-red-500 dark:border-l-red-500":l==="restricted"}),children:[m.jsxs("div",{className:"flex flex-col justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex justify-between items-center w-full bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm ",children:[m.jsxs("div",{className:"flex items-start text-lg font-semibold text-gray-800 dark:text-white capitalize gap-2",children:[m.jsx("div",{className:"pt-1 text-gray-600 dark:text-white min-h-full w-fit size-6 md:size-8",children:m.jsx(Rr,{})}),m.jsx("h2",{className:"break-words",children:n})]}),m.jsxs("div",{className:"relative group",children:[m.jsxs("span",{className:yt("px-3 py-1 text-xs rounded-full font-medium capitalize shadow-sm whitespace-nowrap inline-flex items-center",Mk[l]||Mk.public),children:[d[l],l]}),m.jsx("div",{className:"absolute z-10 hidden group-hover:flex w-max bg-gray-800 text-white text-xs rounded-md px-2 py-1 mt-1 left-1/2 -translate-x-1/2 shadow-lg",children:l==="public"?"Anyone can view this project":"Restricted — request required for full access"})]})]}),m.jsxs("div",{className:"flex flex-col justify-center items-start w-full mt-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-3 rounded-xl space-y-3 shadow-sm",children:[m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(Mt,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Abstract:"}),m.jsx("span",{children:r?r.slice(0,40)+"...":"N/A"})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(zl,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Department:"}),m.jsx("span",{children:s})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($l,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:" Project Year:"}),m.jsx("span",{children:o})]})]})]}),m.jsx("div",{className:"flex justify-end gap-3 mt-4",children:m.jsxs(Pt,{to:`/student/explore/view/${s}/${e}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[m.jsx(vs,{size:16}),"View Details"]})})]})},qne=()=>{var w;const[t,e]=k.useState(""),[n,r]=k.useState("all"),[s,o]=k.useState("newest"),[l,u]=k.useState([]),[d,h]=k.useState(!0),{currentUser:p}=Ut();k.useEffect(()=>{const T=async()=>{try{const E=await Ds.getPublicProjects(p==null?void 0:p.uid);u(E.projects||[])}catch(E){console.error("Fetch projects error:",E.message)}finally{h(!1)}};p!=null&&p.uid&&T()},[p]);const v=(w=l==null?void 0:l.filter(T=>n==="all"?!0:T.accessLevel===n))==null?void 0:w.filter(T=>(T.title||"").toLowerCase().includes(t.toLowerCase())),x=T=>{let E=[...l];T==="title_asc"?E.sort((R,C)=>R.title.localeCompare(C.title)):T==="title_desc"?E.sort((R,C)=>C.title.localeCompare(R.title)):T==="newest"?E.sort((R,C)=>new Date(C.submittedAt)-new Date(R.submittedAt)):T==="oldest"&&E.sort((R,C)=>new Date(R.submittedAt)-new Date(C.submittedAt)),u(E)};return m.jsxs("div",{className:"pb-16 md:pb-4 space-y-6",children:[m.jsx(on,{title:"Explore Projects",rightContent:m.jsx(ql,{searchQuery:t,onSearchChange:e,statusFilter:n,onStatusChange:r,sortValue:s,onSortChange:x,statuses:["all","public","restricted"]})}),d?m.jsx(gn,{}):v.length===0?m.jsx(ty,{title:"No Projects Found",description:"Try adjusting your filters or search terms."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 px-4 md:px-6 pb-12 md:pb-0",children:v.map(T=>m.jsx(zne,{project:T},T.id))})]})},WO=()=>{const{currentUser:t,role:e}=Ut(),[n,r]=k.useState(null),[s,o]=k.useState(!0);return k.useEffect(()=>{if(!t||!e){o(!1);return}(async()=>{try{const h=zr(Ft,e==="student"?"Student":"Lecturer",t.uid),p=await Ti(h);p.exists()&&r(p.data())}catch(d){console.error("Error fetching profile:",d)}finally{o(!1)}})()},[t,e]),{profile:n,loading:s,updateProfile:async u=>{if(!t||!e)return;const h=zr(Ft,e==="student"?"Student":"Lecturer",t.uid);await QF(h,u),r(p=>({...p,...u}))}}},XO=({profile:t,role:e})=>{if(!t)return m.jsx("p",{children:"No profile data available"});const n=e==="student"?"student":e==="lecturer"&&t.staffType==="non-academic"?"staff":"lecturer";return m.jsx(m.Fragment,{children:m.jsx("main",{className:"flex justify-center px-4 mt-8",children:m.jsxs("div",{className:"w-full max-w-3xl space-y-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6 md:p-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] transition-all capitalize",children:[m.jsxs("div",{className:"flex items-center gap-4 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-4 rounded-xl shadow-sm",children:[m.jsx(gO,{name:(t==null?void 0:t.displayName)||"User",size:80}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:t.fullName}),m.jsxs("p",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[m.jsx(L7,{className:"w-4 h-4 text-blue-500"}),t.email]}),m.jsx("p",{className:"mt-1 inline-block px-3 py-1 text-xs rounded-full font-semibold capitalize shadow-sm bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:n})]})]}),m.jsxs("div",{className:"flex flex-col gap-3 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-4 rounded-xl shadow-sm",children:[m.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Details"}),m.jsx("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:e==="student"?m.jsxs(m.Fragment,{children:[m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(XP,{className:"w-4 h-4 text-purple-500"}),m.jsxs("span",{children:["Matric No: ",t.admissionNumber||"-"]})]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(UR,{className:"w-4 h-4 text-amber-500"}),m.jsxs("span",{children:["Faculty: ",t.faculty||"-"]})]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(Dx,{className:"w-4 h-4 text-green-500"}),m.jsxs("span",{children:["Department: ",t.department||"-"]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(To,{className:"w-4 h-4 text-purple-500"}),m.jsxs("span",{children:["Staff Role: ",t.staffType||"-"]})]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(UR,{className:"w-4 h-4 text-amber-500"}),m.jsxs("span",{children:["Faculty: ",t.faculty||"-"]})]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(Dx,{className:"w-4 h-4 text-green-500"}),m.jsxs("span",{children:["Department: ",t.department||"-"]})]})]})})]})]})})})},Hne=()=>{const{role:t}=Ut(),{profile:e,loading:n}=WO(),r=qn();return m.jsxs(m.Fragment,{children:[m.jsx(on,{title:"Profile",rightContent:m.jsx(ql,{showSearch:!1,showFilter:!1,onLogout:()=>{Is.signOut(),r("/login")}})}),n?m.jsx(gn,{}):m.jsx(XO,{profile:e,role:t})]})};function Gne(){const t=qn(),[e,n]=k.useState(!1),r=[{name:"Dashboard",to:"/lecturer/dashboard",icon:sf},{name:"Projects",to:"/lecturer/projects",icon:Mt},{name:"Explore",to:"/lecturer/explore",icon:Rr},{name:"Profile",to:"/lecturer/profile",icon:K1}],s=async()=>{await Is.signOut(),t("/login",{replace:!0})};return m.jsxs(He.div,{initial:{x:-300},animate:{x:0},transition:{type:"spring",stiffness:80,damping:18},className:"hidden lg:flex fixed top-0 left-0 h-screen w-64 flex-col border-r-2 border-gray-200 dark:border-gray-700 z-50 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",children:[m.jsx("div",{className:"flex h-16 items-center justify-between px-4",children:m.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🎓 PPR Lecturer"})}),m.jsx("nav",{className:"flex-1 py-6 space-y-2",children:r.map(({name:o,to:l,icon:u})=>m.jsxs(Ol,{to:l,className:({isActive:d})=>yt("flex items-center gap-3 px-4 py-3 rounded-sm text-lg font-medium transition-colors duration-150",d?"bg-blue-900/20 text-blue-600 hover:bg-blue-50 focus:ring-blue-500 dark:text-blue-400 dark:hover:bg-blue-900/40":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[m.jsx(u,{className:"w-6 h-6"}),o]},o))}),m.jsx(Ze,{onClick:()=>n(!0),variant:"danger",fullWidth:!0,icon:m.jsx(Fg,{size:20}),className:"justify-start gap-1",size:"lg",children:"Logout"}),m.jsx(l_,{isOpen:e,onClose:()=>n(!1),title:"Confirm Logout",showFooter:!0,footerContent:m.jsxs(m.Fragment,{children:[m.jsx(Ze,{variant:"secondary",onClick:()=>n(!1),children:"Cancel"}),m.jsx(Ze,{variant:"danger",onClick:s,children:"Logout"})]}),children:m.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Are you sure you want to log out of your account?"})})]})}const Kne=()=>{const t=[{name:"Home",to:"/lecturer/dashboard",icon:sf},{name:"Project",to:"/lecturer/projects",icon:Mt},{name:"Explore",to:"/lecturer/explore",icon:af},{name:"Profile",to:"/lecturer/profile",icon:To}];return m.jsx("nav",{className:"fixed bottom-0 inset-x-0 z-50 lg:hidden border-t border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-gray-900/70 backdrop-blur",children:m.jsx("div",{className:"flex justify-around items-center h-16",children:t.map(e=>{const n=e.icon;return m.jsx(Ol,{to:e.to,className:({isActive:r})=>yt("flex flex-col items-center justify-center px-3 py-1 rounded-md transition-all",r?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400"),children:({isActive:r})=>m.jsxs(m.Fragment,{children:[m.jsx(n,{className:"w-5 h-5 mb-0.5"}),r&&m.jsx("span",{className:"text-xs font-medium",children:e.name})]})},e.name)})})})},Yne=()=>{const[t,e]=k.useState(!1),n=()=>{e(!t)};return m.jsx("div",{children:m.jsxs("div",{className:"bg-ppr-animated min-h-screen transition-colors duration-200",children:[m.jsx(Kne,{toggleSidebar:n}),m.jsxs("div",{className:"flex",children:[m.jsx(Gne,{isOpen:t,setIsOpen:e}),m.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 lg:pl-64",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsx(Lb,{})})})]})]})})},Jm=({title:t,value:e,icon:n,bgColor:r})=>m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h3",{className:"text-md md:text-lg font-semibold text-black dark:text-white",children:t}),m.jsx("span",{className:`p-2 rounded-full ${r}`,children:m.jsx(n,{className:"h-5 w-5 text-white"})})]}),m.jsx("p",{className:"text-2xl font-bold text-black dark:text-white",children:e})]}),Wne=t=>t?typeof(t==null?void 0:t.toDate)=="function"?t.toDate():typeof t=="number"?new Date(t):typeof t=="string"?new Date(t):null:null,Xne=({projects:t=[]})=>{const[e,n]=k.useState([]),[r,s]=k.useState(!0);return k.useEffect(()=>{if(!t.length){n([]),s(!1);return}(async()=>{s(!0);try{const l=t.filter(d=>(d.status||"").toLowerCase()==="pending"),u=await Promise.all(l.map(async d=>{if(!d.submittedBy)return{...d,studentName:"Unknown"};const h=zr(Ft,"Student",d.submittedBy),p=await Ti(h);return{...d,studentName:p.exists()?p.data().fullName:"Unknown"}}));n(u)}catch(l){console.error("Error fetching student data for submissions:",l)}finally{s(!1)}})()},[t]),m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm h-fit",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h2",{className:"text-md md:text-lg font-semibold text-black dark:text-white flex items-center gap-2",children:[m.jsx(Mt,{size:18,className:"text-blue-500"}),"Recent Submissions"]}),m.jsx(Pt,{to:"/lecturer/projects/submissions",className:"text-xs md:text-sm text-indigo-600 hover:text-indigo-800 hover:underline",children:"View All"})]}),r?m.jsx("div",{className:"space-y-4",children:[...Array(5)].map((o,l)=>m.jsxs("div",{className:"animate-pulse flex items-center justify-between p-3 border rounded-lg",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-1"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/4"})]}),m.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-full w-20"})]},l))}):e.length===0?m.jsx("p",{className:"text-gray-500 text-sm",children:"No recent submissions found."}):m.jsx("ul",{className:"divide-y divide-gray-100",children:e.map(o=>{const l=Wne(o.submittedAt),u=l?ey(l,{addSuffix:!0}):"N/A";return m.jsx("li",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/30 cursor-pointer transition-colors duration-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[m.jsxs("h3",{className:"text-sm font-medium text-black dark:text-white truncate flex items-center gap-1",children:[m.jsx(G1,{size:16,className:"text-emerald-500"}),m.jsx("span",{className:"truncate",children:o.studentName})]}),m.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300 mt-1 flex items-center gap-1",children:[m.jsx(Mt,{size:16,className:"text-purple-500"}),o.title]}),m.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[m.jsx(Ri,{size:16,className:"text-yellow-500"}),u]})]}),m.jsx(Pt,{to:`/lecturer/projects/submissions/view/${o.id}`,className:"inline-flex items-center justify-center px-3 py-1.5 text-xs md:text-sm font-medium rounded-lg bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 dark:hover:bg-green-800 dark:bg-green-700 dark:text-white dark:border-green-800 transition",children:"Review"})]})},o.id)})})]})},Qne=t=>t?typeof(t==null?void 0:t.toDate)=="function"?t.toDate():typeof t=="number"?new Date(t):typeof t=="string"?new Date(t):null:null,Zne=({requests:t=[]})=>{const[e,n]=k.useState([]),[r,s]=k.useState(!0);return k.useEffect(()=>{if(!t.length){n([]),s(!1);return}(async()=>{s(!0);try{const l=t.filter(d=>d.status==="pending"),u=await Promise.all(l.map(async d=>{if(!d.requestedBy)return{...d,studentName:"Unknown"};const h=zr(Ft,"Student",d.requestedBy),p=await Ti(h);return{...d,studentName:p.exists()?p.data().fullName:"Unknown"}}));n(u)}catch(l){console.error("Error fetching student data for access requests:",l)}finally{s(!1)}})()},[t]),m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-5 md:p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 h-fit",children:[m.jsxs("div",{className:"flex justify-between items-center mb-5",children:[m.jsxs("h2",{className:"text-base md:text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[m.jsx(ba,{size:18,className:"text-purple-500"}),"Pending Access Requests"]}),m.jsx(Pt,{to:"/lecturer/projects/access-requests-review",className:"text-xs md:text-sm text-indigo-600 hover:text-indigo-800 hover:underline",children:"View All"})]}),r?m.jsx("div",{className:"space-y-4",children:[...Array(5)].map((o,l)=>m.jsxs("div",{className:"animate-pulse flex items-center justify-between p-3 border rounded-lg",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-1"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/4"})]}),m.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-full w-20"})]},l))}):e.length===0?m.jsx("p",{className:"text-gray-500 text-sm",children:"No recent access request found."}):m.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:e.map(o=>{const l=Qne(o.requestedAt),u=l?ey(l,{addSuffix:!0}):"N/A";return m.jsx("li",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/30 cursor-pointer transition-colors duration-200",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("h3",{className:"text-sm font-medium text-black dark:text-white truncate flex items-center gap-1",children:[m.jsx(G1,{size:16,className:"text-emerald-500"}),m.jsx("span",{className:"truncate",children:o.studentName})]}),m.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300 mt-1 flex items-center gap-1",children:[m.jsx(Mt,{size:16,className:"text-purple-500"}),o.projectTitle]}),m.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[m.jsx(Ri,{size:16,className:"text-yellow-500"}),u]})]}),m.jsx(Pt,{to:`/lecturer/projects/access-request/view/${o.projectId}`,className:"inline-flex items-center justify-center px-3 py-1.5 text-xs md:text-sm font-medium rounded-lg bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 dark:hover:bg-green-800 dark:bg-green-700 dark:text-white dark:border-green-800 transition",children:"Review"})]})},o.id)})})]})},Jne=()=>m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm",children:[m.jsx("h2",{className:"text-lg font-medium text-black dark:text-white mb-6",children:"Quick Actions"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx(Pt,{to:"/lecturer/projects/submissions",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:"📂 View All Projects"}),m.jsx(Pt,{to:"/lecturer/projects/access-requests-review",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:"📝 Manage Access Requests"}),m.jsx(Pt,{to:"/lecturer/projects/activity-logs",className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition",children:"📊 View Activity Logs"})]})]}),ere=()=>{var v;const[t,e]=k.useState({pendingReviews:0,approvedProjects:0,rejectedProjects:0,accessRequests:0}),[n,r]=k.useState(!0),[s,o]=k.useState([]),[l,u]=k.useState([]),{currentUser:d}=Ut(),{userData:h}=wa(d==null?void 0:d.uid),p=((v=h==null?void 0:h.staffType)==null?void 0:v.toLowerCase())==="academic";return k.useEffect(()=>{if(!(h!=null&&h.department))return;(async()=>{r(!0);try{const T=(await ks(ta(Ft,`Projects/${h.department}/projectSubmissions`))).docs.map($=>$.data()),E=T.filter($=>($.status||"").toLowerCase()==="pending").length,R=T.filter($=>($.status||"").toLowerCase()==="approved").length,C=T.filter($=>($.status||"").toLowerCase()==="rejected").length,U=(await ks(fi(ta(Ft,`Projects/${h.department}/accessRequests`),_i("status","==","pending")))).docs.map($=>$.data()).length,M=fi(ta(Ft,`Projects/${h.department}/projectSubmissions`),Xp("submittedAt","desc"),Th(10)),P=(await ks(M)).docs.map($=>({id:$.id,...$.data()})),N=fi(ta(Ft,`Projects/${h.department}/accessRequests`),Xp("requestedAt","desc"),Th(10)),B=(await ks(N)).docs.map($=>({id:$.id,...$.data()}));e({pendingReviews:E,approvedProjects:R,rejectedProjects:C,accessRequests:U}),o(P),u(B)}catch(w){console.error("Error fetching lecturer dashboard stats:",w)}finally{r(!1)}})()},[h]),m.jsxs("div",{className:"space-y-6",children:[m.jsx(on,{title:"Dashboard"}),n?m.jsx(gn,{}):m.jsx(m.Fragment,{children:m.jsxs("div",{className:"space-y-4 pb-12 md:pb-0",children:[m.jsx("h1",{className:"text-2xl font-semibold text-black dark:text-white px-3",children:"Dashboard Overview"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 px-3",children:[m.jsx(Jm,{title:"Pending Reviews",value:t.pendingReviews,icon:Ri,bgColor:"bg-yellow-500"}),m.jsx(Jm,{title:"Approved Projects",value:t.approvedProjects,icon:Fl,bgColor:"bg-green-500"}),m.jsx(Jm,{title:"Rejected Projects",value:t.rejectedProjects,icon:xa,bgColor:"bg-red-500"}),m.jsx(Jm,{title:"Access Requests",value:t.accessRequests,icon:ba,bgColor:"bg-purple-500"})]}),p&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 px-3 mt-4",children:[m.jsx(Xne,{projects:s}),m.jsx(Zne,{requests:l})]}),m.jsx("div",{className:"grid grid-cols-1 gap-6 px-3 pb-8",children:m.jsx(Jne,{})})]})]})})]})},tre=[{title:"Project Submissions",description:"Review, approve, or reject submitted student projects in your department.",to:"/lecturer/projects/submissions",icon:Mt,bg:"bg-amber-600 dark:bg-amber-500"},{title:"Access Requests",description:"Manage requests for access to restricted department projects.",to:"/lecturer/projects/access-requests-review",icon:C7,bg:"bg-cyan-600 dark:bg-cyan-500"},{title:"Activity Logs",description:"View logs of approvals, rejections, and user actions.",to:"/lecturer/projects/activity-logs",icon:QP,bg:"bg-violet-500 dark:bg-violet-400"}],nre=()=>{var s;const{currentUser:t}=Ut(),{userData:e,loading:n}=wa(t==null?void 0:t.uid),r=((s=e==null?void 0:e.staffType)==null?void 0:s.toLowerCase())==="academic";return m.jsxs("div",{className:"space-y-4",children:[m.jsx(on,{title:"Projects"}),m.jsx("div",{className:"px-4 pb-12 md:pb-0",children:n?m.jsx(gn,{}):r?m.jsx("div",{className:"flex flex-col divide-y divide-gray-400 dark:divide-gray-700 divide-solid",children:tre.map(({title:o,description:l,to:u,icon:d,bg:h})=>m.jsx(Pt,{to:u,className:"group rounded-lg bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-5 shadow-sm hover:shadow-md transition-all duration-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${h} text-white group-hover:scale-105 transition-transform`,children:m.jsx(d,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-base font-semibold text-gray-800 dark:text-white",children:o}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l})]})]}),m.jsx("span",{className:"text-gray-400 group-hover:text-blue-600 transition",children:">"})]})},o))}):m.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-6 flex items-start gap-3",children:[m.jsx(Z7,{className:"w-6 h-6 text-red-500 mt-0.5"}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-red-700 dark:text-red-400",children:"Access Restricted"}),m.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:"Only academic staff can view and review project submissions and access requests."})]})]})})]})},rre={approved:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-900/20",pending:"text-yellow-700 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/20",rejected:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-900/20",draft:"text-purple-700 bg-purple-100 dark:text-purple-300 dark:bg-purple-800/50"},sre={draft:m.jsx($g,{className:"size-4 md:size-5 mr-1"}),pending:m.jsx(Ri,{className:"size-4 md:size-5 mr-1"}),approved:m.jsx($1,{className:"size-4 md:size-5 mr-1"}),rejected:m.jsx(xa,{className:"size-4 md:size-5 mr-1"})},ire=({project:t})=>{const{id:e,title:n,department:r,status:s="pending",abstract:o,submittedAt:l,projectYear:u}=t,h=(v=>{if(!v)return null;try{const x=v.seconds??v._seconds;if(!x)return null;const w=new Date(x*1e3);return isNaN(w.getTime())?null:Su(w,"PPpp")}catch{return null}})(l)||"N/A",p={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.3,staggerChildren:.1,delayChildren:.2}}};return m.jsxs(He.div,{initial:"hidden",animate:"visible",variants:p,className:yt("h-fit rounded-xl border-l-3 p-5 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",{"border-l-purple-500 dark:border-l-purple-500":s==="draft","border-l-red-500 dark:border-l-red-500":s==="rejected","border-l-yellow-500 dark:border-l-yellow-500":s==="pending","border-l-green-500 dark:border-l-green-500":s==="approved"}),children:[m.jsxs("div",{className:"flex flex-col justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex justify-between items-center w-full bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm",children:[m.jsxs("div",{className:"flex items-start text-lg font-semibold text-gray-800 dark:text-white capitalize gap-2",children:[m.jsx("div",{className:"pt-1 text-gray-600 dark:text-white min-h-full w-fit size-6 md:size-8",children:m.jsx(Rr,{})}),m.jsx("h2",{className:"break-words",children:n})]}),m.jsxs("span",{className:yt("px-3 py-1 text-xs md:text-md rounded-full font-medium capitalize shadow-sm whitespace-nowrap flex items-center",rre[s]),children:[sre[s],s]})]}),m.jsxs("div",{className:"flex flex-col justify-center items-start w-full mt-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-3 rounded-xl space-y-3 shadow-sm",children:[m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(Mt,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Abstract:"}),m.jsx("span",{children:o?o.slice(0,40)+"...":"N/A"})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(zl,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Department:"}),m.jsx("span",{children:r})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($l,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Project Year:"}),m.jsx("span",{children:u})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(F1,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Submitted At:"}),m.jsx("span",{children:h})]})]})]}),m.jsx("div",{className:"flex justify-end gap-3 mt-4",children:m.jsxs(Pt,{to:`/lecturer/projects/submissions/view/${e}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[m.jsx(vs,{size:16}),"View"]})})]})},uy=({title:t="No Data Found",subtitle:e="Looks like there's nothing here yet.",icon:n=z1,children:r=null})=>m.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-16 px-6 mx-4 md:mx-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] border border-dashed border-gray-200 dark:border-gray-700 rounded-lg shadow-sm",children:[m.jsx("div",{className:"mb-4",children:m.jsx(n,{className:"w-12 h-12 text-gray-400 dark:text-gray-600"})}),m.jsx("h2",{className:"text-lg font-semibold text-gray-700 dark:text-gray-100",children:t}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-4",children:e}),r&&m.jsx("div",{className:"mt-4",children:r})]}),Fr={getDepartmentSubmissions:t=>_n.get(`/lecturer/submissions/${t}`).then(e=>e.data.data),getProjectById:(t,e)=>_n.get(`/lecturer/project/${t}/${e}`).then(n=>n.data.data),updateSubmissionStatus:(t,e)=>_n.patch(`/lecturer/submissions/${t}`,e),getAccessRequests:t=>_n.get(`/lecturer/access-requests/${t}`).then(e=>e.data.data),reviewAccessRequest:t=>_n.patch("/lecturer/access-requests/review",t),getActivityLogs:t=>_n.get(`/lecturer/activity-logs/${t}`).then(e=>e.data.data),activityLog:t=>_n.post("/activity/logs",t)},are=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),{currentUser:s}=Ut(),[o,l]=k.useState(""),[u,d]=k.useState("all"),[h,p]=k.useState("newest"),{userData:v}=wa(s==null?void 0:s.uid);k.useEffect(()=>{const w=async()=>{try{const T=await Fr.getDepartmentSubmissions(v==null?void 0:v.department);e(T)}catch(T){console.error("Failed to fetch submissions:",T)}finally{r(!1)}};v!=null&&v.department&&w()},[v==null?void 0:v.department]);const x=t.filter(w=>u==="all"?!0:w.status===u).filter(w=>(w.title||"").toLowerCase().includes(o.toLowerCase())).sort((w,T)=>{var E,R,C,L,j,U,M,V;return h==="newest"?((R=(E=T.submittedAt)==null?void 0:E.toMillis)==null?void 0:R.call(E))-((L=(C=w.submittedAt)==null?void 0:C.toMillis)==null?void 0:L.call(C)):h==="oldest"?((U=(j=w.submittedAt)==null?void 0:j.toMillis)==null?void 0:U.call(j))-((V=(M=T.submittedAt)==null?void 0:M.toMillis)==null?void 0:V.call(M)):h==="title_asc"?w.title.localeCompare(T.title):h==="title_desc"?T.title.localeCompare(w.title):0});return m.jsxs("div",{className:"space-y-6 pb-2 md:pb-4",children:[m.jsx(on,{title:"Department Submissions",showBack:!0,rightContent:m.jsx(ql,{searchQuery:o,onSearchChange:l,statusFilter:u,onStatusChange:d,sortValue:h,onSortChange:p})}),n?m.jsx(gn,{}):x.length===0?m.jsx(uy,{title:"No Submissions Available",subtitle:"There are no student submissions yet. You can check back later."}):m.jsx("div",{className:"grid sm:grid-cols-2 gap-4 px-4 md:px-6",children:x.map(w=>m.jsx(ire,{project:w},w.id))})]})},Ok={public:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-800/30",restricted:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-800/30"},ore=({project:t})=>{const{id:e,title:n,abstract:r,department:s,projectYear:o,accessLevel:l}=t,u={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.3,staggerChildren:.1,delayChildren:.2}}},d={public:m.jsx(q1,{className:"w-4 h-4 mr-1"}),restricted:m.jsx(ba,{className:"w-4 h-4 mr-1"})};return m.jsxs(lo.div,{initial:"hidden",animate:"visible",variants:u,className:yt("h-fit rounded-xl border-l-3 p-5 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",{"border-l-green-500 dark:border-l-green-500":l==="public","border-l-red-500 dark:border-l-red-500":l==="restricted"}),children:[m.jsxs("div",{className:"flex flex-col justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex justify-between items-center w-full bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm ",children:[m.jsxs("div",{className:"flex items-start text-lg font-semibold text-gray-800 dark:text-white capitalize gap-2",children:[m.jsx("div",{className:"pt-1 text-gray-600 dark:text-white min-h-full w-fit size-6 md:size-8",children:m.jsx(Rr,{})}),m.jsx("h2",{className:"break-words",children:n})]}),m.jsxs("div",{className:"relative group",children:[m.jsxs("span",{className:yt("px-3 py-1 text-xs rounded-full font-medium capitalize shadow-sm whitespace-nowrap inline-flex items-center",Ok[l]||Ok.public),children:[d[l],l]}),m.jsx("div",{className:"absolute z-10 hidden group-hover:flex w-max bg-gray-800 text-white text-xs rounded-md px-2 py-1 mt-1 left-1/2 -translate-x-1/2 shadow-lg",children:l==="public"?"Anyone can view this project":"Restricted — request required for full access"})]})]}),m.jsxs("div",{className:"flex flex-col justify-center items-start w-full mt-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-3 rounded-xl space-y-3 shadow-sm",children:[m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(Mt,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Abstract:"}),m.jsx("span",{children:r?r.slice(0,40)+"...":"N/A"})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(zl,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Department:"}),m.jsx("span",{children:s})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($l,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:" Project Year:"}),m.jsx("span",{children:o})]})]})]}),m.jsx("div",{className:"flex justify-end gap-3 mt-4",children:m.jsxs(Pt,{to:`/lecturer/explore/view/${e}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[m.jsx(vs,{size:16}),"View Details"]})})]})},lre=()=>{var v;const[t,e]=k.useState(""),[n,r]=k.useState("all"),[s,o]=k.useState([]),[l,u]=k.useState(!0),{currentUser:d}=Ut(),{userData:h}=wa(d==null?void 0:d.uid);k.useEffect(()=>{const x=async()=>{try{const w=await Ds.getPublicProjects(d==null?void 0:d.uid);o(w.projects||[])}catch(w){console.error("Fetch projects error:",w)}finally{u(!1)}};d!=null&&d.uid&&x()},[d]);const p=(v=s==null?void 0:s.filter(x=>n==="all"?!0:x.accessLevel===n))==null?void 0:v.filter(x=>(x.title||"").toLowerCase().includes(t.toLowerCase()));return m.jsxs("div",{className:"pb-16 md:pb-4 space-y-6",children:[m.jsx(on,{title:"Explore Projects",rightContent:m.jsx(ql,{searchQuery:t,onSearchChange:e,statusFilter:n,onStatusChange:r,showSort:!0,statuses:["all","public","restricted"]})}),l?m.jsx(gn,{}):p.length===0?m.jsx(uy,{title:"No Projects Found",description:"Try adjusting your filters or search terms."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pb-12 md:pb-0",children:p.map(x=>m.jsx(ore,{project:x,lecturerData:h,hasApprovedRequest:x.accessStatus==="approved"},x.projectId))})]})},cre=(t,e,n)=>{const[r,s]=k.useState(null),[o,l]=k.useState(!0),[u,d]=k.useState(null),[h,p]=k.useState(null),[v,x]=k.useState(null),[w,T]=k.useState(null),E=(h==null?void 0:h.submittedBy)||(h==null?void 0:h.requestedBy),{userData:R}=xs(E);return k.useEffect(()=>{(async()=>{if(!(!t||!e||!n))try{l(!0);let L={};if(t==="submission"){const j=await Fr.getProjectById(e,n);if(!j)throw new Error("Submission not found");T(j),L=j}else if(t==="access-request"){const j=await Fr.getProjectById(e,n),M=(await Fr.getAccessRequests(e)).find(V=>V.projectId===n);if(!M)throw new Error("Access request not found");L={...j,...M},x(M)}if(!L)throw new Error("No data found");p(L)}catch(L){d(L),console.error("useReviewProject error:",L)}finally{l(!1)}})()},[t,e,n]),k.useEffect(()=>{if(!h||!R)return;const C={type:t,id:h.accessRequestId,projectId:h.projectId,projectTitle:h.title||h.projectTitle||"Untitled Project",abstract:h.abstract||"No abstract provided.",supervisor:h.supervisor||"N/A",fileURL:h.fileURL||null,projectYear:h.projectYear||"N/A",department:h.department||e,studentInfo:{fullName:(R==null?void 0:R.fullName)||"Unknown",admissionNumber:(R==null?void 0:R.admissionNumber)||"Unknown",uid:R==null?void 0:R.studentId},status:h.status||"pending",submittedAt:h.submittedAt||null,requestedAt:h.requestedAt||null,requestReason:h.requestReason||""};s(C)},[t,h,e,R]),{data:r,loading:o,error:u,requestData:v,projectData:w}},ure=async({projectId:t,projectTitle:e,performedByLecturerId:n,performedByName:r,performedByRole:s,action:o,department:l,status:u})=>{try{const d={projectId:t,projectTitle:e,performedByLecturerId:n,performedByName:r,performedByRole:s,action:o,department:l,status:u},h=await Fr.activityLog(d);h.data.success||console.warn("⚠️ Activity log not saved:",h.data.message)}catch(d){console.error("❌ Failed to send activity log:",d.message)}},fg=async({lecturerData:t,action:e,project:n,status:r})=>{if(!t||!n){console.warn("Activity log skipped: missing user or project info");return}console.log(t,n,e,r),await ure({projectId:n==null?void 0:n.projectId,projectTitle:n==null?void 0:n.title,performedByLecturerId:t==null?void 0:t.lecturerId,performedByName:t==null?void 0:t.fullName,performedByRole:t==null?void 0:t.role,action:e,department:t==null?void 0:t.department,status:r})},QO=({open:t,onClose:e,project:n,lecturerData:r,type:s,title:o,description:l,submitText:u})=>{const d=qn(),{notifySuccess:h,notifyError:p}=Po(),[v,x]=k.useState(""),[w,T]=k.useState(!1);if(!t)return null;console.log("RejectModel project:",n);const E=async()=>{if(!v.trim()){p("Please provide a reason for rejection.");return}try{if(T(!0),s==="submission"){const C={updateStatus:"rejected",submissionRejectionReason:v.trim(),supervisedBy:r.lecturerId,accessLevel:"public",...n};await Fr.updateSubmissionStatus("rejected",C),await fg({lecturerData:r,action:"Submission Rejected",project:{projectId:n==null?void 0:n.projectId,projectTitle:n==null?void 0:n.title,studentId:n==null?void 0:n.studentId},status:"rejected"})}else if(s==="access-request"){const C={accessRequestId:n==null?void 0:n.id,department:n==null?void 0:n.department,updateStatus:"rejected",requestRejectionReason:v.trim(),respondedBy:r.lecturerId};await Fr.reviewAccessRequest(C),await fg({lecturerData:r,action:"Access Request Rejected",project:{projectId:n==null?void 0:n.projectId,projectTitle:n==null?void 0:n.projectTitle,studentId:n==null?void 0:n.requestedBy},status:"rejected"})}h("Rejected successfully!"),x(""),e(),d(-1,{replace:!0})}catch(C){console.error("❌ Error rejecting:",C),p("Something went wrong. Please try again.")}finally{T(!1)}},R=()=>{x(""),e()};return m.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"reject-modal-title",className:"fixed inset-0 z-50 flex items-center justify-center bg-black/10 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-[var(--color-dark-surface)] rounded-xl p-6 w-full max-w-md shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold mb-2 dark:text-white",children:o}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:l}),m.jsx(cy,{value:v,onChange:C=>x(C.target.value),placeholder:"Enter your reason..."}),m.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[m.jsx(Ze,{onClick:R,disabled:w,variant:"outline",children:"Cancel"}),m.jsx(Ze,{onClick:E,disabled:w,variant:"danger",children:w?"Rejecting...":u})]})]})})},dre=({onClose:t,children:e,title:n})=>m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-[var(--color-surface)] dark:bg-gray-900 rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[m.jsx("button",{className:"absolute top-4 right-4 text-red-500 hover:text-red-800 dark:hover:text-red-600",onClick:t,children:m.jsx(Y1,{className:"w-5 h-5"})}),n&&m.jsx("h2",{children:n}),m.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-sm space-y-3",children:e})]})}),Vk=()=>{const{id:t}=zh(),n=ma().pathname.includes("access")?"access-request":"submission",r=qn(),{currentUser:s}=Ut(),{userData:o}=wa(s==null?void 0:s.uid),{data:l,loading:u,requestData:d,projectData:h}=cre(n,o==null?void 0:o.department,t),[p,v]=k.useState("public"),[x,w]=k.useState(!1),[T,E]=k.useState(!1),[R,C]=k.useState(!1),{notifySuccess:L,notifyError:j}=Po(),U=D=>{v(B=>B===D?"public":D)},M=async()=>{C(!0);try{n==="submission"?(await Fr.updateSubmissionStatus("approved",{...h,accessLevel:p,updateStatus:"approved",supervisedBy:o==null?void 0:o.lecturerId}),await fg({lecturerData:o,action:"Submission approved",project:{projectId:l==null?void 0:l.projectId,projectTitle:l==null?void 0:l.title},status:"approved"})):(await Fr.reviewAccessRequest({...d,updateStatus:"approved",respondedBy:o==null?void 0:o.lecturerId}),await fg({lecturerData:o,action:"Access request approved",project:{projectId:l==null?void 0:l.projectId,projectTitle:l==null?void 0:l.title},status:"approved"})),L("Approved successfully!"),r(-1)}catch(D){console.error(D),j("Failed to approve")}finally{C(!1)}},V=D=>{if(!D||typeof D!="object")return"N/A";const B=D.seconds??D._seconds,$=new Date(B*1e3);return isNaN($.getTime())?"N/A":Su($,"PPpp")},P=n==="access-request"?l==null?void 0:l.requestedAt:l==null?void 0:l.submittedAt,N=V(P);return console.log("Project Data:",l),m.jsxs(m.Fragment,{children:[m.jsx(on,{title:`View ${n==="submission"?"Submission":"Access Request"}`,showBack:!0}),u||!l?m.jsx(gn,{}):m.jsx("main",{className:"flex justify-center px-4 mb-20 mt-8",children:m.jsx("div",{className:"w-full max-w-3xl space-y-4 border rounded-xl p-6 md:p-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",children:m.jsxs("div",{className:"flex flex-col gap-3 text-sm text-gray-700 dark:text-gray-100",children:[m.jsxs("div",{className:"bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(To,{className:"text-orange-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Name:"})," ",l.studentInfo.fullName]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(zl,{className:"text-emerald-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Admission Number:"})," ",l.studentInfo.admissionNumber]})]})]}),m.jsxs("div",{className:"bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm space-y-3",children:[n==="access-request"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Rr,{className:"text-indigo-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Title:"})," ",l.projectTitle]})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Mt,{className:"text-fuchsia-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Abstract:"})," ",l.abstract]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Eh,{className:"text-amber-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Requested At:"})," ",N]})]})]}),n==="submission"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Mt,{className:"text-sky-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Abstract:"})," ",l.abstract]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(To,{className:"text-indigo-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Supervisor:"})," ",l.supervisor]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Eh,{className:"text-purple-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Project Year:"})," ",l.projectYear]})]})]})]}),m.jsxs("div",{className:"bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm space-y-3",children:[n==="access-request"&&m.jsx("div",{className:"flex flex-col gap-1",children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("strong",{className:"text-green-600 font-bold",children:"Reason:"}),m.jsx("span",{children:l.requestReason})]})}),n==="submission"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{className:"text-md font-semibold",children:"Access Level"}),m.jsx("button",{onClick:()=>E(!0),children:m.jsx(E7,{className:"w-4 h-4 text-gray-500 cursor-pointer"})})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"radio",name:"access",value:"public",checked:p==="public",onChange:()=>U("public")}),m.jsx("span",{children:"Public"})]}),m.jsxs("label",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"radio",name:"access",value:"restricted",checked:p==="restricted",onChange:()=>U("restricted")}),m.jsx("span",{children:"Restricted"})]})]})]})]}),m.jsxs("div",{className:"flex flex-wrap justify-end gap-4 pt-4",children:[l.fileURL?m.jsx("a",{href:l.fileURL,target:"_blank",rel:"noopener noreferrer",children:m.jsx(Ze,{variant:"primary",icon:m.jsx(Bg,{className:"size-4 mr-1"}),children:"Download DOC"})}):m.jsx(Ze,{variant:"primary",disabled:!0,children:"DOC Not Available"}),m.jsx(Ze,{variant:"success",onClick:M,disabled:R,icon:m.jsx(Fl,{className:"text-white w-4 h-4"}),children:R?"Processing...":"Approve"}),m.jsx(Ze,{variant:"danger",onClick:()=>w(!0),disabled:R,icon:m.jsx(xa,{className:"text-white w-4 h-4"}),children:"Reject"})]})]})})}),m.jsx(QO,{open:x,onClose:()=>w(!1),project:l,lecturerData:o,type:n,title:`Reject ${n==="submission"?"Project Submission":"Access Request"}`,description:`Please provide a reason for rejecting this ${n==="submission"?"project":"request"}.`,submitText:`Reject ${n==="submission"?"Submission":"Request"}`}),T&&m.jsxs(dre,{open:T,onClose:()=>E(!1),children:[m.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-gray-100",children:"Access Level Explanation"}),m.jsxs("p",{children:[m.jsx("strong",{children:"Public"}),": Anyone can view and download this project."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Restricted"}),": Only abstract is visible. Full DOC requires request and approval."]})]})]})},hre=()=>{const{id:t}=zh(),{currentUser:e}=Ut(),{userData:n}=wa(e==null?void 0:e.uid),[r,s]=k.useState(null),[o,l]=k.useState(!0),u={public:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-900/20",restricted:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-900/20"},d=(n==null?void 0:n.staffType)==="academic",h=(n==null?void 0:n.department)===(r==null?void 0:r.department),p=(r==null?void 0:r.accessLevel)==="public"||d&&h;return k.useEffect(()=>{(async()=>{if(!(!t||!(n!=null&&n.department)))try{const x=await Fr.getProjectById(n.department,t);x&&(s({...x,title:x.title||"Untitled Project",abstract:x.abstract||"No abstract provided.",supervisor:x.supervisor||"N/A",fileURL:x.fileURL||"",department:x.department||"N/A",projectYear:x.projectYear||"N/A"}),console.log("Project data:",x.fileURL))}catch(x){console.error("Error fetching project:",x)}finally{l(!1)}})()},[n,t]),m.jsxs(m.Fragment,{children:[m.jsx(on,{title:"View Project",backTo:"/lecturer/explore",showBack:!0}),o||!r?m.jsx(gn,{}):m.jsx("main",{className:"flex justify-center px-4 mt-8",children:m.jsxs("div",{className:"w-full max-w-4xl space-y-4 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6 md:p-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] transition-all",children:[m.jsxs("div",{className:"flex justify-between items-start bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm text-gray-600 dark:text-gray-100 md:text-lg font-semibold",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Rr,{className:"text-blue-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Title:"})," ",r.title]})]}),m.jsxs("span",{title:r.accessLevel==="restricted"?"Restricted access — only staff in same department can download":"This project is public",className:yt("px-3 py-1 text-xs rounded-full font-semibold capitalize shadow-sm whitespace-nowrap inline-flex items-center gap-1",u[r.accessLevel]),children:[r.accessLevel==="restricted"?m.jsx(ba,{className:"size-4"}):m.jsx(vs,{className:"size-4"}),r.accessLevel]})]}),p&&r.accessLevel==="restricted"&&m.jsxs("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium flex items-center gap-2",children:[m.jsx(YP,{className:"w-4 h-4"}),"You're a lecturer in this department"]}),m.jsxs("div",{className:"flex flex-col gap-4 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-4 rounded-xl shadow-sm text-gray-600 dark:text-gray-100",children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Mt,{className:"text-fuchsia-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Abstract:"})," ",r.abstract]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(To,{className:"text-purple-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Supervisor:"})," ",r.supervisor]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Eh,{className:"text-amber-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Project Year:"})," ",r.projectYear]})]})]}),m.jsx("div",{className:"pt-2 w-full flex justify-end",children:p&&r.fileURL?m.jsx("a",{href:r.fileURL,target:"_blank",rel:"noopener noreferrer",download:`${r.title}.pdf`,"aria-label":`Download project "${r.title}" as PDF`,children:m.jsx(Ze,{variant:"primary",icon:m.jsx(Bg,{className:"size-4 mr-1"}),children:"Download PDF"})}):null})]})})]})},fre={approved:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-900/20",pending:"text-yellow-700 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/20",rejected:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-900/20",draft:"text-purple-700 bg-purple-100 dark:text-purple-300 dark:bg-purple-800/50"},mre={draft:m.jsx($g,{className:"size-4 md:size-5 mr-1"}),pending:m.jsx(Ri,{className:"size-4 md:size-5 mr-1"}),approved:m.jsx($1,{className:"size-4 md:size-5 mr-1"}),rejected:m.jsx(xa,{className:"size-4 md:size-5 mr-1"})},pre=({request:t,lecturer:e})=>{const[n,r]=k.useState(!1),{projectId:s,requestedAt:o,projectTitle:l,requestReason:u,status:d="pending",requestedBy:h}=t,{userData:p}=xs(h),x=(w=>{if(!w)return"N/A";try{const T=w.seconds??w._seconds,E=new Date(T*1e3);return isNaN(E.getTime())?"N/A":Su(E,"PPpp")}catch{return"N/A"}})(o);return m.jsxs(He.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.3},className:yt("h-fit rounded-xl border-l-3 p-5 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",{"border-l-purple-500 dark:border-l-purple-500":d==="draft","border-l-red-500 dark:border-l-red-500":d==="rejected","border-l-yellow-500 dark:border-l-yellow-500":d==="pending","border-l-green-500 dark:border-l-green-500":d==="approved"}),children:[m.jsxs("div",{className:"flex flex-col justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex justify-between items-center w-full bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm",children:[m.jsxs("div",{className:"flex items-start text-lg font-semibold text-gray-800 dark:text-white capitalize gap-2",children:[m.jsx("div",{className:"pt-1 text-gray-600 dark:text-white min-h-full w-fit size-6 md:size-8",children:m.jsx(Rr,{})}),m.jsx("h2",{className:"break-words",children:l})]}),m.jsxs("span",{className:yt("px-3 py-1 text-xs md:text-md rounded-full font-medium capitalize shadow-sm whitespace-nowrap flex items-center",fre[d]),children:[mre[d],d]})]}),m.jsxs("div",{className:"flex flex-col justify-center items-start w-full mt-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-3 rounded-xl space-y-3 shadow-sm",children:[m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(Mt,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Reason:"}),m.jsx("span",{className:"whitespace-pre-line",children:u})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(zl,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Student:"}),m.jsx("span",{children:p==null?void 0:p.fullName})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($l,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Requested At:"}),m.jsx("span",{children:x})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(F1,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Admission Number:"}),m.jsx("span",{children:p==null?void 0:p.admissionNumber})]})]})]}),m.jsx("div",{className:"flex justify-end gap-3 mt-4",children:m.jsxs(Pt,{to:`/lecturer/projects/access-request/view/${s}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[m.jsx(vs,{size:16}),"View"]})}),n&&m.jsx(QO,{open:n,onClose:()=>r(!1),project:t,lecturerData:e,type:"access-request",title:"Reject Access Request",description:"Please provide a reason for rejecting this access request.",submitText:"Reject Request"})]})},gre=()=>{const{currentUser:t}=Ut(),[e,n]=k.useState([]),[r,s]=k.useState(!0),{userData:o}=wa(t==null?void 0:t.uid);return k.useEffect(()=>{const l=async()=>{if(o!=null&&o.department)try{const u=await Fr.getAccessRequests(o.department);n(u||[])}catch(u){console.error("Error loading requests:",u.message)}finally{s(!1)}};o!=null&&o.department&&l()},[o==null?void 0:o.department]),m.jsxs("div",{className:"space-y-4",children:[m.jsx(on,{title:"Access Requests",showBack:!0}),r?m.jsx(gn,{}):e.length===0?m.jsx(uy,{title:"No access requests yet."}):m.jsx("div",{className:"grid sm:grid-cols-2 gap-4 px-4 md:px-6",children:e.map(l=>m.jsx(pre,{request:l,lecturer:o},l.id))})]})},yre=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),{currentUser:s}=Ut(),{userData:o}=wa(s==null?void 0:s.uid);k.useEffect(()=>{const d=async()=>{try{const h=await Fr.getActivityLogs(o.department),p=await Promise.all(h.map(async v=>{if(v.projectId)try{const x=await Fr.getProjectById(o.department,v.projectId);return{...v,projectTitle:(x==null?void 0:x.title)||v.projectId}}catch{return{...v,projectTitle:v.projectId}}return v}));e(p)}catch(h){console.error("Error fetching logs:",h)}finally{r(!1)}};o!=null&&o.department&&d()},[o==null?void 0:o.department]);const l=d=>{if(!d)return"N/A";try{const h=d.seconds??d._seconds,p=new Date(h*1e3);return isNaN(p.getTime())?"Invalid Date":Su(p,"PPpp")}catch{return"Invalid Date"}},u=d=>d==="Student"?m.jsx(XP,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}):m.jsx(G1,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"});return m.jsxs("div",{className:"space-y-6 pb-2 md:pb-4",children:[m.jsx(on,{title:"Department Activity Logs",showBack:!0}),n?m.jsx(gn,{}):t.length===0?m.jsx(uy,{title:"No Activity Logs Available",subtitle:"There are no logs for your department yet. Actions by students and lecturers will appear here."}):m.jsx("div",{className:"grid sm:grid-cols-2 gap-4 px-4 md:px-6",children:t.map(d=>m.jsxs("div",{className:"border-l-3 border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-[var(--color-dark-surface)] shadow-sm space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-800 dark:text-gray-200",children:[u(d.performedByRole),m.jsx("span",{className:"font-medium",children:d.performedByName}),m.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",d.performedByRole,")"]})]}),m.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[m.jsx(_7,{className:"size-4 mt-0.5 text-teal-500 dark:text-teal-400"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Project Title:"})," ",m.jsx("span",{className:"font-medium",children:d.projectTitle})]})]}),m.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[m.jsx(Oz,{className:"size-4 mt-0.5 text-indigo-500 dark:text-indigo-400"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Action:"})," ",m.jsx("span",{className:"font-medium",children:d.action})]})]}),m.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[m.jsx($l,{className:"size-4 mt-0.5 text-amber-500 dark:text-amber-400"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Performed At:"})," ",m.jsx("span",{className:"font-medium",children:l(d.timestamp)})]})]})]},d.id))})]})},vre=()=>{const{role:t}=Ut(),{profile:e,loading:n}=WO(),r=qn();return m.jsxs(m.Fragment,{children:[m.jsx(on,{title:"Profile",rightContent:m.jsx(ql,{showSearch:!1,showFilter:!1,onLogout:()=>{Is.signOut(),r("/login")}})}),n?m.jsx(gn,{}):m.jsx(XO,{profile:e,role:t})]})};function xre(){const t=qn(),[e,n]=k.useState(!1),r=[{name:"Explore",to:"/guest/explore",icon:Rr}],s=async()=>{await Is.signOut(),t("/login",{replace:!0})};return m.jsxs(He.div,{initial:{x:-300},animate:{x:0},transition:{type:"spring",stiffness:80,damping:18},className:"hidden lg:flex fixed top-0 left-0 h-screen w-64 flex-col border-r-2 border-gray-200 dark:border-gray-700 z-50 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",children:[m.jsx("div",{className:"flex h-16 items-center justify-between px-4",children:m.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🎓 PPR Guest"})}),m.jsx("nav",{className:"flex-1 py-6 space-y-2",children:r.map(({name:o,to:l,icon:u})=>m.jsxs(Ol,{to:l,className:({isActive:d})=>yt("flex items-center gap-3 px-4 py-3 rounded-sm text-lg font-medium transition-colors duration-150",d?"bg-blue-900/20 text-blue-600 hover:bg-blue-50 focus:ring-blue-500 dark:text-blue-400 dark:hover:bg-blue-900/40":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[m.jsx(u,{className:"w-6 h-6"}),o]},o))}),m.jsx(Ze,{onClick:()=>n(!0),variant:"danger",fullWidth:!0,icon:m.jsx(Fg,{size:20}),className:"justify-start gap-1",size:"lg",children:"Logout"}),m.jsx(l_,{isOpen:e,onClose:()=>n(!1),title:"Confirm Logout",showFooter:!0,footerContent:m.jsxs(m.Fragment,{children:[m.jsx(Ze,{variant:"secondary",onClick:()=>n(!1),children:"Cancel"}),m.jsx(Ze,{variant:"danger",onClick:s,children:"Logout"})]}),children:m.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Are you sure you want to log out of your account?"})})]})}const bre=()=>{const t=[{name:"Explore",to:"/guest/explore",icon:af}];return m.jsx("nav",{className:"fixed bottom-0 inset-x-0 z-50 lg:hidden border-t border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-gray-900/70 backdrop-blur",children:m.jsx("div",{className:"flex justify-around items-center h-16",children:t.map(e=>{const n=e.icon;return m.jsx(Ol,{to:e.to,className:({isActive:r})=>yt("flex flex-col items-center justify-center px-3 py-1 rounded-md transition-all",r?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400"),children:({isActive:r})=>m.jsxs(m.Fragment,{children:[m.jsx(n,{className:"w-5 h-5 mb-0.5"}),r&&m.jsx("span",{className:"text-xs font-medium",children:e.name})]})},e.name)})})})},wre=()=>{const[t,e]=k.useState(!1),n=()=>{e(!t)};return m.jsx("div",{children:m.jsxs("div",{className:"bg-ppr-animated min-h-screen transition-colors duration-200",children:[m.jsx(bre,{toggleSidebar:n}),m.jsxs("div",{className:"flex",children:[m.jsx(xre,{isOpen:t,setIsOpen:e}),m.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 lg:pl-64",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsx(Lb,{})})})]})]})})},_re=({title:t="No Data Found",subtitle:e="Looks like there's nothing here yet.",icon:n=z1,children:r=null})=>m.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-16 px-6 mx-4 md:mx-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] border border-dashed border-gray-200 dark:border-gray-700 rounded-lg shadow-sm",children:[m.jsx("div",{className:"mb-4",children:m.jsx(n,{className:"w-12 h-12 text-gray-400 dark:text-gray-600"})}),m.jsx("h2",{className:"text-lg font-semibold text-gray-700 dark:text-gray-100",children:t}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-4",children:e}),r&&m.jsx("div",{className:"mt-4",children:r})]}),Lk={public:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-800/30",restricted:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-800/30"},Tre=({project:t})=>{const{projectId:e,title:n,abstract:r,department:s,projectYear:o,accessLevel:l}=t,u={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.3,staggerChildren:.1,delayChildren:.2}}},d={public:m.jsx(q1,{className:"w-4 h-4 mr-1"}),restricted:m.jsx(ba,{className:"w-4 h-4 mr-1"})};return m.jsxs(lo.div,{initial:"hidden",animate:"visible",variants:u,className:yt("h-fit rounded-xl border-l-3 p-5 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",{"border-l-green-500 dark:border-l-green-500":l==="public","border-l-red-500 dark:border-l-red-500":l==="restricted"}),children:[m.jsxs("div",{className:"flex flex-col justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex justify-between items-center w-full bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm ",children:[m.jsxs("div",{className:"flex items-start text-lg font-semibold text-gray-800 dark:text-white capitalize gap-2",children:[m.jsx("div",{className:"pt-1 text-gray-600 dark:text-white min-h-full w-fit size-6 md:size-8",children:m.jsx(Rr,{})}),m.jsx("h2",{className:"break-words",children:n})]}),m.jsxs("div",{className:"relative group",children:[m.jsxs("span",{className:yt("px-3 py-1 text-xs rounded-full font-medium capitalize shadow-sm whitespace-nowrap inline-flex items-center",Lk[l]||Lk.public),children:[d[l],l]}),m.jsx("div",{className:"absolute z-10 hidden group-hover:flex w-max bg-gray-800 text-white text-xs rounded-md px-2 py-1 mt-1 left-1/2 -translate-x-1/2 shadow-lg",children:l==="public"?"Anyone can view this project":"Restricted — request required for full access"})]})]}),m.jsxs("div",{className:"flex flex-col justify-center items-start w-full mt-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-3 rounded-xl space-y-3 shadow-sm",children:[m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(Mt,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Abstract:"}),m.jsx("span",{children:r?r.slice(0,40)+"...":"N/A"})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(zl,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Department:"}),m.jsx("span",{children:s})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($l,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:" Project Year:"}),m.jsx("span",{children:o})]})]})]}),m.jsx("div",{className:"flex justify-end gap-3 mt-4",children:m.jsxs(Pt,{to:`/guest/explore/view/${s}/${e}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[m.jsx(vs,{size:16}),"View Details"]})})]})},Ere=()=>{const[t,e]=k.useState(""),[n,r]=k.useState("all"),[s,o]=k.useState([]),[l,u]=k.useState(!0),d=qn();k.useEffect(()=>{(async()=>{try{const v=fi(CP(Ft,"projectSubmissions"),_i("status","==","approved"),_i("accessLevel","==","public")),w=(await ks(v)).docs.map(T=>({projectId:T.id,...T.data()}));o(w)}catch(v){console.error("Error fetching approved projects:",v)}finally{u(!1)}})()},[]);const h=s==null?void 0:s.filter(p=>(p.title||"").toLowerCase().includes(t.toLowerCase()));return m.jsxs("div",{className:"pb-16 md:pb-4 space-y-6 h-screen",children:[m.jsx(on,{title:"Explore Projects",rightContent:m.jsx(ql,{searchQuery:t,onSearchChange:e,showFilter:!1,onLogout:()=>{Is.signOut(),d("/login")}})}),l?m.jsx(gn,{}):h.length===0?m.jsx(_re,{title:"No Projects Found",description:"Try adjusting your filters or search terms."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pb-12 md:pb-0 px-4",children:h.map(p=>m.jsx(Tre,{project:p},p.projectId))})]})},Sre=()=>{const{projectId:t}=zh(),[e,n]=k.useState(null),[r,s]=k.useState(!0);return console.log(t),k.useEffect(()=>{(async()=>{try{const l=fi(CP(Ft,"projectSubmissions"),_i("projectId","==",t),Th(1)),u=await ks(l);u.empty||n({id:u.docs[0].id,...u.docs[0].data()})}catch(l){console.error("Error fetching project:",l)}finally{s(!1)}})()},[t]),m.jsxs(m.Fragment,{children:[m.jsx(on,{title:"View Project",backTo:"/guest/explore",showBack:!0}),r||!e?m.jsx(gn,{}):m.jsx("main",{className:"flex justify-center px-4 mt-8",children:m.jsxs("div",{className:"w-full max-w-4xl space-y-4 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6 md:p-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",children:[m.jsx("div",{className:"flex justify-between items-start px-3 py-2 rounded-xl shadow-sm bg-white/60 dark:bg-gray-700/20",children:m.jsxs("div",{className:"flex items-center gap-2 text-gray-800 dark:text-gray-100 font-semibold",children:[m.jsx(Rr,{className:"text-blue-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Title:"})," ",e.title]})]})}),m.jsxs("div",{className:"flex flex-col gap-4 px-3 py-4 rounded-xl shadow-sm bg-white/60 dark:bg-gray-700/20 text-gray-600 dark:text-gray-100",children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Mt,{className:"text-fuchsia-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Abstract:"})," ",e.abstract]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(To,{className:"text-purple-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Supervisor:"})," ",e.supervisor]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Eh,{className:"text-amber-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Project Year:"})," ",e.projectYear]})]})]}),m.jsx("div",{className:"pt-2 w-full flex justify-end",children:m.jsx("a",{href:e.fileURL,target:"_blank",rel:"noopener noreferrer",download:`${e.title}.docx`,children:m.jsx(Ze,{variant:"primary",icon:m.jsx(Bg,{className:"size-4 mr-1"}),children:"Download DOC"})})})]})})]})},Are=R3(r3(m.jsxs(ot,{path:"/",children:[m.jsx(ot,{index:!0,element:m.jsx(ZK,{})}),m.jsx(ot,{path:"login",element:m.jsx(MY,{})}),m.jsx(ot,{path:"register",element:m.jsx(UY,{})}),m.jsx(ot,{path:"resetPassword",element:m.jsx(_J,{})}),m.jsxs(ot,{path:"student",element:m.jsx(VR,{allowedRoles:["student"],children:m.jsx(AJ,{})}),children:[m.jsx(ot,{index:!0,element:m.jsx(tp,{to:"dashboard",replace:!0})}),m.jsx(ot,{path:"dashboard",element:m.jsx(Yee,{})}),m.jsx(ot,{path:"projects",element:m.jsx(Xee,{})}),m.jsx(ot,{path:"projects/my",element:m.jsx(Pne,{})}),m.jsx(ot,{path:"projects/submit",element:m.jsx(One,{})}),m.jsx(ot,{path:"projects/drafts",element:m.jsx(Lne,{})}),m.jsx(ot,{path:"projects/requests",element:m.jsx(Bne,{})}),m.jsx(ot,{path:"projects/edit/:id",element:m.jsx(Fne,{})}),m.jsx(ot,{path:"projects/view/:id",element:m.jsx(Dk,{})}),m.jsx(ot,{path:"explore",element:m.jsx(qne,{})}),m.jsx(ot,{path:"explore/view/:department/:id",element:m.jsx(Dk,{})}),m.jsx(ot,{path:"profile",element:m.jsx(Hne,{})})]}),m.jsxs(ot,{path:"lecturer",element:m.jsx(VR,{allowedRoles:["lecturer"],children:m.jsx(Yne,{})}),children:[m.jsx(ot,{index:!0,element:m.jsx(tp,{to:"dashboard",replace:!0})}),m.jsx(ot,{path:"dashboard",element:m.jsx(ere,{})}),m.jsx(ot,{path:"projects",element:m.jsx(nre,{})}),m.jsx(ot,{path:"projects/submissions",element:m.jsx(are,{})}),m.jsx(ot,{path:"projects/submissions/view/:id",element:m.jsx(Vk,{})}),m.jsx(ot,{path:"explore",element:m.jsx(lre,{})}),m.jsx(ot,{path:"explore/view/:id",element:m.jsx(hre,{})}),m.jsx(ot,{path:"profile",element:m.jsx(vre,{})}),m.jsx(ot,{path:"projects/access-requests-review",element:m.jsx(gre,{})}),m.jsx(ot,{path:"projects/access-request/view/:id",element:m.jsx(Vk,{})}),m.jsx(ot,{path:"projects/activity-logs",element:m.jsx(yre,{})})]}),m.jsxs(ot,{path:"guest",element:m.jsx(wre,{}),children:[m.jsx(ot,{index:!0,element:m.jsx(tp,{to:"explore",replace:!0})}),m.jsx(ot,{path:"explore",element:m.jsx(Ere,{})}),m.jsx(ot,{path:"explore/view/:department/:projectId",element:m.jsx(Sre,{})})]}),m.jsx(ot,{path:"*",element:m.jsx(TJ,{})})]}))),Rre=()=>m.jsx(U3,{router:Are}),Cre=()=>m.jsx(IY,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),kre=k.createContext(),Nre=({children:t})=>{const[e,n]=k.useState(!1),r=o=>{const l=document.documentElement;o?(l.classList.add("dark"),localStorage.setItem("theme","dark")):(l.classList.remove("dark"),localStorage.setItem("theme","light"))};k.useEffect(()=>{const o=localStorage.getItem("theme"),l=window.matchMedia("(prefers-color-scheme: dark)").matches,u=o==="dark"||!o&&l;n(u),r(u);const d=window.matchMedia("(prefers-color-scheme: dark)"),h=p=>{localStorage.getItem("theme")||(n(p.matches),r(p.matches))};return d.addEventListener("change",h),()=>d.removeEventListener("change",h)},[]);const s=()=>{const o=!e;n(o),r(o)};return m.jsx(kre.Provider,{value:{darkMode:e,toggleTheme:s},children:t})};function jre(){return m.jsx("div",{className:"bg-ppr-glow",children:m.jsx(kz,{children:m.jsx(Nre,{children:m.jsxs(DY,{children:[m.jsx(Rre,{}),m.jsx(Cre,{})]})})})})}jV.createRoot(document.getElementById("root")).render(m.jsx(k.StrictMode,{children:m.jsx(jre,{})}));
