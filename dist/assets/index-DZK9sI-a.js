(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function TV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iv={exports:{}},Sd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function EV(){if(_S)return Sd;_S=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:l,ref:s!==void 0?s:null,props:o}}return Sd.Fragment=e,Sd.jsx=n,Sd.jsxs=n,Sd}var TS;function SV(){return TS||(TS=1,iv.exports=EV()),iv.exports}var m=SV(),av={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES;function AV(){if(ES)return Xe;ES=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function R(H,le,ge){this.props=H,this.context=le,this.refs=S,this.updater=ge||w}R.prototype.isReactComponent={},R.prototype.setState=function(H,le){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,le,"setState")},R.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=R.prototype;function O(H,le,ge){this.props=H,this.context=le,this.refs=S,this.updater=ge||w}var j=O.prototype=new C;j.constructor=O,T(j,R.prototype),j.isPureReactComponent=!0;var $=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function I(H,le,ge,fe,Re,Ye){return ge=Ye.ref,{$$typeof:t,type:H,key:le,ref:ge!==void 0?ge:null,props:Ye}}function N(H,le){return I(H.type,le,void 0,void 0,void 0,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function B(H){var le={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ge){return le[ge]})}var q=/\/+/g;function z(H,le){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):le.toString(36)}function U(){}function ve(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(U,U):(H.status="pending",H.then(function(le){H.status==="pending"&&(H.status="fulfilled",H.value=le)},function(le){H.status==="pending"&&(H.status="rejected",H.reason=le)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function be(H,le,ge,fe,Re){var Ye=typeof H;(Ye==="undefined"||Ye==="boolean")&&(H=null);var Pe=!1;if(H===null)Pe=!0;else switch(Ye){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(H.$$typeof){case t:case e:Pe=!0;break;case p:return Pe=H._init,be(Pe(H._payload),le,ge,fe,Re)}}if(Pe)return Re=Re(H),Pe=fe===""?"."+z(H,0):fe,$(Re)?(ge="",Pe!=null&&(ge=Pe.replace(q,"$&/")+"/"),be(Re,le,ge,"",function(qr){return qr})):Re!=null&&(M(Re)&&(Re=N(Re,ge+(Re.key==null||H&&H.key===Re.key?"":(""+Re.key).replace(q,"$&/")+"/")+Pe)),le.push(Re)),1;Pe=0;var ln=fe===""?".":fe+":";if($(H))for(var Rt=0;Rt<H.length;Rt++)fe=H[Rt],Ye=ln+z(fe,Rt),Pe+=be(fe,le,ge,Ye,Re);else if(Rt=x(H),typeof Rt=="function")for(H=Rt.call(H),Rt=0;!(fe=H.next()).done;)fe=fe.value,Ye=ln+z(fe,Rt++),Pe+=be(fe,le,ge,Ye,Re);else if(Ye==="object"){if(typeof H.then=="function")return be(ve(H),le,ge,fe,Re);throw le=String(H),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function J(H,le,ge){if(H==null)return H;var fe=[],Re=0;return be(H,fe,"","",function(Ye){return le.call(ge,Ye,Re++)}),fe}function se(H){if(H._status===-1){var le=H._result;le=le(),le.then(function(ge){(H._status===0||H._status===-1)&&(H._status=1,H._result=ge)},function(ge){(H._status===0||H._status===-1)&&(H._status=2,H._result=ge)}),H._status===-1&&(H._status=0,H._result=le)}if(H._status===1)return H._result.default;throw H._result}var me=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function je(){}return Xe.Children={map:J,forEach:function(H,le,ge){J(H,function(){le.apply(this,arguments)},ge)},count:function(H){var le=0;return J(H,function(){le++}),le},toArray:function(H){return J(H,function(le){return le})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Xe.Component=R,Xe.Fragment=n,Xe.Profiler=s,Xe.PureComponent=O,Xe.StrictMode=r,Xe.Suspense=d,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return D.H.useMemoCache(H)}},Xe.cache=function(H){return function(){return H.apply(null,arguments)}},Xe.cloneElement=function(H,le,ge){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var fe=T({},H.props),Re=H.key,Ye=void 0;if(le!=null)for(Pe in le.ref!==void 0&&(Ye=void 0),le.key!==void 0&&(Re=""+le.key),le)!V.call(le,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&le.ref===void 0||(fe[Pe]=le[Pe]);var Pe=arguments.length-2;if(Pe===1)fe.children=ge;else if(1<Pe){for(var ln=Array(Pe),Rt=0;Rt<Pe;Rt++)ln[Rt]=arguments[Rt+2];fe.children=ln}return I(H.type,Re,void 0,void 0,Ye,fe)},Xe.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Xe.createElement=function(H,le,ge){var fe,Re={},Ye=null;if(le!=null)for(fe in le.key!==void 0&&(Ye=""+le.key),le)V.call(le,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Re[fe]=le[fe]);var Pe=arguments.length-2;if(Pe===1)Re.children=ge;else if(1<Pe){for(var ln=Array(Pe),Rt=0;Rt<Pe;Rt++)ln[Rt]=arguments[Rt+2];Re.children=ln}if(H&&H.defaultProps)for(fe in Pe=H.defaultProps,Pe)Re[fe]===void 0&&(Re[fe]=Pe[fe]);return I(H,Ye,void 0,void 0,null,Re)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(H){return{$$typeof:u,render:H}},Xe.isValidElement=M,Xe.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:se}},Xe.memo=function(H,le){return{$$typeof:h,type:H,compare:le===void 0?null:le}},Xe.startTransition=function(H){var le=D.T,ge={};D.T=ge;try{var fe=H(),Re=D.S;Re!==null&&Re(ge,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(je,me)}catch(Ye){me(Ye)}finally{D.T=le}},Xe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Xe.use=function(H){return D.H.use(H)},Xe.useActionState=function(H,le,ge){return D.H.useActionState(H,le,ge)},Xe.useCallback=function(H,le){return D.H.useCallback(H,le)},Xe.useContext=function(H){return D.H.useContext(H)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(H,le){return D.H.useDeferredValue(H,le)},Xe.useEffect=function(H,le,ge){var fe=D.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(H,le)},Xe.useId=function(){return D.H.useId()},Xe.useImperativeHandle=function(H,le,ge){return D.H.useImperativeHandle(H,le,ge)},Xe.useInsertionEffect=function(H,le){return D.H.useInsertionEffect(H,le)},Xe.useLayoutEffect=function(H,le){return D.H.useLayoutEffect(H,le)},Xe.useMemo=function(H,le){return D.H.useMemo(H,le)},Xe.useOptimistic=function(H,le){return D.H.useOptimistic(H,le)},Xe.useReducer=function(H,le,ge){return D.H.useReducer(H,le,ge)},Xe.useRef=function(H){return D.H.useRef(H)},Xe.useState=function(H){return D.H.useState(H)},Xe.useSyncExternalStore=function(H,le,ge){return D.H.useSyncExternalStore(H,le,ge)},Xe.useTransition=function(){return D.H.useTransition()},Xe.version="19.1.0",Xe}var SS;function Nb(){return SS||(SS=1,av.exports=AV()),av.exports}var k=Nb();const Lt=TV(k);var ov={exports:{}},Ad={},lv={exports:{}},cv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS;function RV(){return AS||(AS=1,function(t){function e(J,se){var me=J.length;J.push(se);e:for(;0<me;){var je=me-1>>>1,H=J[je];if(0<s(H,se))J[je]=se,J[me]=H,me=je;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var se=J[0],me=J.pop();if(me!==se){J[0]=me;e:for(var je=0,H=J.length,le=H>>>1;je<le;){var ge=2*(je+1)-1,fe=J[ge],Re=ge+1,Ye=J[Re];if(0>s(fe,me))Re<H&&0>s(Ye,fe)?(J[je]=Ye,J[Re]=me,je=Re):(J[je]=fe,J[ge]=me,je=ge);else if(Re<H&&0>s(Ye,me))J[je]=Ye,J[Re]=me,je=Re;else break e}}return se}function s(J,se){var me=J.sortIndex-se.sortIndex;return me!==0?me:J.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,v=null,x=3,w=!1,T=!1,S=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function $(J){for(var se=n(h);se!==null;){if(se.callback===null)r(h);else if(se.startTime<=J)r(h),se.sortIndex=se.expirationTime,e(d,se);else break;se=n(h)}}function D(J){if(S=!1,$(J),!T)if(n(d)!==null)T=!0,V||(V=!0,z());else{var se=n(h);se!==null&&be(D,se.startTime-J)}}var V=!1,I=-1,N=5,M=-1;function B(){return R?!0:!(t.unstable_now()-M<N)}function q(){if(R=!1,V){var J=t.unstable_now();M=J;var se=!0;try{e:{T=!1,S&&(S=!1,O(I),I=-1),w=!0;var me=x;try{t:{for($(J),v=n(d);v!==null&&!(v.expirationTime>J&&B());){var je=v.callback;if(typeof je=="function"){v.callback=null,x=v.priorityLevel;var H=je(v.expirationTime<=J);if(J=t.unstable_now(),typeof H=="function"){v.callback=H,$(J),se=!0;break t}v===n(d)&&r(d),$(J)}else r(d);v=n(d)}if(v!==null)se=!0;else{var le=n(h);le!==null&&be(D,le.startTime-J),se=!1}}break e}finally{v=null,x=me,w=!1}se=void 0}}finally{se?z():V=!1}}}var z;if(typeof j=="function")z=function(){j(q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ve=U.port2;U.port1.onmessage=q,z=function(){ve.postMessage(null)}}else z=function(){C(q,0)};function be(J,se){I=C(function(){J(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(J){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var me=x;x=se;try{return J()}finally{x=me}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(J,se){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var me=x;x=J;try{return se()}finally{x=me}},t.unstable_scheduleCallback=function(J,se,me){var je=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,J){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=me+H,J={id:p++,callback:se,priorityLevel:J,startTime:me,expirationTime:H,sortIndex:-1},me>je?(J.sortIndex=me,e(h,J),n(d)===null&&J===n(h)&&(S?(O(I),I=-1):S=!0,be(D,me-je))):(J.sortIndex=H,e(d,J),T||w||(T=!0,V||(V=!0,z()))),J},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(J){var se=x;return function(){var me=x;x=se;try{return J.apply(this,arguments)}finally{x=me}}}}(cv)),cv}var RS;function CV(){return RS||(RS=1,lv.exports=RV()),lv.exports}var uv={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS;function kV(){if(CS)return Wn;CS=1;var t=Nb();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wn.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,p)},Wn.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},Wn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Wn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Wn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,v=u(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Wn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Wn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,v=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Wn.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Wn.requestFormReset=function(d){r.d.r(d)},Wn.unstable_batchedUpdates=function(d,h){return d(h)},Wn.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},Wn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var kS;function Lk(){if(kS)return uv.exports;kS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uv.exports=kV(),uv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS;function NV(){if(NS)return Ad;NS=1;var t=CV(),e=Nb(),n=Lk();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var c=i,f=a;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return u(y),i;if(b===f)return u(y),a;b=b.sibling}throw Error(r(188))}if(c.return!==f.return)c=y,f=b;else{for(var A=!1,P=y.child;P;){if(P===c){A=!0,c=y,f=b;break}if(P===f){A=!0,f=y,c=b;break}P=P.sibling}if(!A){for(P=b.child;P;){if(P===c){A=!0,c=b,f=y;break}if(P===f){A=!0,f=b,c=y;break}P=P.sibling}if(!A)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:a}function h(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=h(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function ve(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case R:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case V:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case j:return(i.displayName||"Context")+".Provider";case O:return(i._context.displayName||"Context")+".Consumer";case $:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return a=i.displayName||null,a!==null?a:ve(i.type)||"Memo";case N:a=i._payload,i=i._init;try{return ve(i(a))}catch{}}return null}var be=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],H=-1;function le(i){return{current:i}}function ge(i){0>H||(i.current=je[H],je[H]=null,H--)}function fe(i,a){H++,je[H]=i.current,i.current=a}var Re=le(null),Ye=le(null),Pe=le(null),ln=le(null);function Rt(i,a){switch(fe(Pe,a),fe(Ye,i),fe(Re,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?XE(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=XE(a),i=QE(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ge(Re),fe(Re,i)}function qr(){ge(Re),ge(Ye),ge(Pe)}function Bt(i){i.memoizedState!==null&&fe(ln,i);var a=Re.current,c=QE(a,i.type);a!==c&&(fe(Ye,i),fe(Re,c))}function Hn(i){Ye.current===i&&(ge(Re),ge(Ye)),ln.current===i&&(ge(ln),bd._currentValue=me)}var Vs=Object.prototype.hasOwnProperty,Ci=t.unstable_scheduleCallback,ir=t.unstable_cancelCallback,Do=t.unstable_shouldYield,Hl=t.unstable_requestPaint,ar=t.unstable_now,Ru=t.unstable_getCurrentPriorityLevel,Mo=t.unstable_ImmediatePriority,_a=t.unstable_UserBlockingPriority,ki=t.unstable_NormalPriority,bs=t.unstable_LowPriority,Hr=t.unstable_IdlePriority,Ta=t.log,Ea=t.unstable_setDisableYieldValue,vt=null,Je=null;function Gn(i){if(typeof Ta=="function"&&Ea(i),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(vt,i)}catch{}}var cn=Math.clz32?Math.clz32:Ls,Gl=Math.log,Gr=Math.LN2;function Ls(i){return i>>>=0,i===0?32:31-(Gl(i)/Gr|0)|0}var Us=256,Bs=4194304;function Cr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ni(i,a,c){var f=i.pendingLanes;if(f===0)return 0;var y=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var P=f&134217727;return P!==0?(f=P&~b,f!==0?y=Cr(f):(A&=P,A!==0?y=Cr(A):c||(c=P&~i,c!==0&&(y=Cr(c))))):(P=f&~b,P!==0?y=Cr(P):A!==0?y=Cr(A):c||(c=f&~i,c!==0&&(y=Cr(c)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,c=a&-a,b>=c||b===32&&(c&4194048)!==0)?a:y}function Kr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Sa(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ji(){var i=Us;return Us<<=1,(Us&4194048)===0&&(Us=256),i}function Oo(){var i=Bs;return Bs<<=1,(Bs&62914560)===0&&(Bs=4194304),i}function Yr(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function ws(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Aa(i,a,c,f,y,b){var A=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var P=i.entanglements,F=i.expirationTimes,ee=i.hiddenUpdates;for(c=A&~c;0<c;){var ae=31-cn(c),de=1<<ae;P[ae]=0,F[ae]=-1;var te=ee[ae];if(te!==null)for(ee[ae]=null,ae=0;ae<te.length;ae++){var ne=te[ae];ne!==null&&(ne.lane&=-536870913)}c&=~de}f!==0&&or(i,f,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~a))}function or(i,a,c){i.pendingLanes|=a,i.suspendedLanes&=~a;var f=31-cn(a);i.entangledLanes|=a,i.entanglements[f]=i.entanglements[f]|1073741824|c&4194090}function $s(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var f=31-cn(c),y=1<<f;y&a|i[f]&a&&(i[f]|=a),c&=~y}}function Fs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ra(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function G(){var i=se.p;return i!==0?i:(i=window.event,i===void 0?32:gS(i.type))}function W(i,a){var c=se.p;try{return se.p=i,a()}finally{se.p=c}}var Z=Math.random().toString(36).slice(2),ue="__reactFiber$"+Z,pe="__reactProps$"+Z,we="__reactContainer$"+Z,De="__reactEvents$"+Z,Te="__reactListeners$"+Z,Se="__reactHandles$"+Z,Ce="__reactResources$"+Z,Me="__reactMarker$"+Z;function Ae(i){delete i[ue],delete i[pe],delete i[De],delete i[Te],delete i[Se]}function Ve(i){var a=i[ue];if(a)return a;for(var c=i.parentNode;c;){if(a=c[we]||c[ue]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=tS(i);i!==null;){if(c=i[ue])return c;i=tS(i)}return a}i=c,c=i.parentNode}return null}function st(i){if(i=i[ue]||i[we]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function wt(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function pt(i){var a=i[Ce];return a||(a=i[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ut(i){i[Me]=!0}var nt=new Set,Wr={};function yn(i,a){lr(i,a),lr(i+"Capture",a)}function lr(i,a){for(Wr[i]=a,i=0;i<a.length;i++)nt.add(a[i])}var In=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zs={},kr={};function Ca(i){return Vs.call(kr,i)?!0:Vs.call(zs,i)?!1:In.test(i)?kr[i]=!0:(zs[i]=!0,!1)}function Kn(i,a,c){if(Ca(a))if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+c)}}function cr(i,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+c)}}function qe(i,a,c,f){if(f===null)i.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(a,c,""+f)}}var un,Nr;function gr(i){if(un===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);un=a&&a[1]||"",Nr=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+i+Nr}var qs=!1;function It(i,a){if(!i||qs)return"";qs=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var te=ne}Reflect.construct(i,[],de)}else{try{de.call()}catch(ne){te=ne}i.call(de.prototype)}}else{try{throw Error()}catch(ne){te=ne}(de=i())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),A=b[0],P=b[1];if(A&&P){var F=A.split(`
`),ee=P.split(`
`);for(y=f=0;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;for(;y<ee.length&&!ee[y].includes("DetermineComponentFrameRoot");)y++;if(f===F.length||y===ee.length)for(f=F.length-1,y=ee.length-1;1<=f&&0<=y&&F[f]!==ee[y];)y--;for(;1<=f&&0<=y;f--,y--)if(F[f]!==ee[y]){if(f!==1||y!==1)do if(f--,y--,0>y||F[f]!==ee[y]){var ae=`
`+F[f].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=f&&0<=y);break}}}finally{qs=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?gr(c):""}function Xr(i){switch(i.tag){case 26:case 27:case 5:return gr(i.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return It(i.type,!1);case 11:return It(i.type.render,!1);case 1:return It(i.type,!0);case 31:return gr("Activity");default:return""}}function Pi(i){try{var a="";do a+=Xr(i),i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Cu(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function cy(i){var a=Cu(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),f=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,b=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(A){f=""+A,b.call(this,A)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Kl(i){i._valueTracker||(i._valueTracker=cy(i))}function ku(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return i&&(f=Cu(i)?i.checked?"true":"false":i.value),i=f,i!==c?(a.setValue(i),!0):!1}function Vo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var uy=/[\n"\\]/g;function dn(i){return i.replace(uy,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function jr(i,a,c,f,y,b,A,P){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),a!=null?A==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Dn(a)):i.value!==""+Dn(a)&&(i.value=""+Dn(a)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),a!=null?ka(i,A,Dn(a)):c!=null?ka(i,A,Dn(c)):f!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+Dn(P):i.removeAttribute("name")}function Lo(i,a,c,f,y,b,A,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;c=c!=null?""+Dn(c):"",a=a!=null?""+Dn(a):c,P||a===i.value||(i.value=a),i.defaultValue=a}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=P?i.checked:!!f,i.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function ka(i,a,c){a==="number"&&Vo(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Ii(i,a,c,f){if(i=i.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=a.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&f&&(i[c].defaultSelected=!0)}else{for(c=""+Dn(c),a=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,f&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function Ct(i,a,c){if(a!=null&&(a=""+Dn(a),a!==i.value&&(i.value=a),c==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=c!=null?""+Dn(c):""}function Uo(i,a,c,f){if(a==null){if(f!=null){if(c!=null)throw Error(r(92));if(be(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),a=c}c=Dn(a),i.defaultValue=c,f=i.textContent,f===c&&f!==""&&f!==null&&(i.value=f)}function Qr(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wf(i,a,c){var f=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":f?i.setProperty(a,c):typeof c!="number"||c===0||Bo.has(a)?a==="float"?i.cssFloat=c:i[a]=(""+c).trim():i[a]=c+"px"}function Nu(i,a,c){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var y in a)f=a[y],a.hasOwnProperty(y)&&c[y]!==f&&wf(i,y,f)}else for(var b in a)a.hasOwnProperty(b)&&wf(i,b,a[b])}function ju(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(i){return hy.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Di=null;function Zr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mi=null,Oi=null;function Pu(i){var a=st(i);if(a&&(i=a.stateNode)){var c=i[pe]||null;e:switch(i=a.stateNode,a.type){case"input":if(jr(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+dn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==i&&f.form===i.form){var y=f[pe]||null;if(!y)throw Error(r(90));jr(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<c.length;a++)f=c[a],f.form===i.form&&ku(f)}break e;case"textarea":Ct(i,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Ii(i,!!c.multiple,a,!1)}}}var Hs=!1;function _f(i,a,c){if(Hs)return i(a,c);Hs=!0;try{var f=i(a);return f}finally{if(Hs=!1,(Mi!==null||Oi!==null)&&(pm(),Mi&&(a=Mi,i=Oi,Oi=Mi=null,Pu(a),i)))for(a=0;a<i.length;a++)Pu(i[a])}}function $o(i,a){var c=i.stateNode;if(c===null)return null;var f=c[pe]||null;if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jr=!1;if(_s)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){Jr=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{Jr=!1}var Gs=null,Na=null,Vi=null;function Iu(){if(Vi)return Vi;var i,a=Na,c=a.length,f,y="value"in Gs?Gs.value:Gs.textContent,b=y.length;for(i=0;i<c&&a[i]===y[i];i++);var A=c-i;for(f=1;f<=A&&a[c-f]===y[b-f];f++);return Vi=y.slice(i,1<f?1-f:void 0)}function Ks(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ys(){return!0}function Du(){return!1}function Sn(i){function a(c,f,y,b,A){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(c=i[P],this[P]=c?c(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ys:Du,this.isPropagationStopped=Du,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),a}var _t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wl=Sn(_t),zo=p({},_t,{view:0,detail:0}),Tf=Sn(zo),Xl,Ql,Ws,qo=p({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ko,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ws&&(Ws&&i.type==="mousemove"?(Xl=i.screenX-Ws.screenX,Ql=i.screenY-Ws.screenY):Ql=Xl=0,Ws=i),Xl)},movementY:function(i){return"movementY"in i?i.movementY:Ql}}),es=Sn(qo),Ef=p({},qo,{dataTransfer:0}),fy=Sn(Ef),Ho=p({},zo,{relatedTarget:0}),Zl=Sn(Ho),Mu=p({},_t,{animationName:0,elapsedTime:0,pseudoElement:0}),Jl=Sn(Mu),Sf=p({},_t,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ec=Sn(Sf),my=p({},_t,{data:0}),Ou=Sn(my),Go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Rf[i])?!!a[i]:!1}function Ko(){return Vu}var Cf=p({},zo,{key:function(i){if(i.key){var a=Go[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ks(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Af[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ko,charCode:function(i){return i.type==="keypress"?Ks(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ks(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tc=Sn(Cf),kf=p({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lu=Sn(kf),Li=p({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ko}),Nf=Sn(Li),jf=p({},_t,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pf=Sn(jf),If=p({},qo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),nc=Sn(If),ur=p({},_t,{newState:0,oldState:0}),Df=Sn(ur),Mf=[9,13,27,32],Xs=_s&&"CompositionEvent"in window,g=null;_s&&"documentMode"in document&&(g=document.documentMode);var _=_s&&"TextEvent"in window&&!g,E=_s&&(!Xs||g&&8<g&&11>=g),L=" ",X=!1;function re(i,a){switch(i){case"keyup":return Mf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var dt=!1;function vn(i,a){switch(i){case"compositionend":return ye(a);case"keypress":return a.which!==32?null:(X=!0,L);case"textInput":return i=a.data,i===L&&X?null:i;default:return null}}function ht(i,a){if(dt)return i==="compositionend"||!Xs&&re(i,a)?(i=Iu(),Vi=Na=Gs=null,dt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!An[i.type]:a==="textarea"}function Ui(i,a,c,f){Mi?Oi?Oi.push(f):Oi=[f]:Mi=f,a=wm(a,"onChange"),0<a.length&&(c=new Wl("onChange","change",null,c,f),i.push({event:c,listeners:a}))}var Mn=null,Qs=null;function Uu(i){HE(i,0)}function Of(i){var a=wt(i);if(ku(a))return i}function h_(i,a){if(i==="change")return a}var f_=!1;if(_s){var py;if(_s){var gy="oninput"in document;if(!gy){var m_=document.createElement("div");m_.setAttribute("oninput","return;"),gy=typeof m_.oninput=="function"}py=gy}else py=!1;f_=py&&(!document.documentMode||9<document.documentMode)}function p_(){Mn&&(Mn.detachEvent("onpropertychange",g_),Qs=Mn=null)}function g_(i){if(i.propertyName==="value"&&Of(Qs)){var a=[];Ui(a,Qs,i,Zr(i)),_f(Uu,a)}}function JO(i,a,c){i==="focusin"?(p_(),Mn=a,Qs=c,Mn.attachEvent("onpropertychange",g_)):i==="focusout"&&p_()}function e4(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Of(Qs)}function t4(i,a){if(i==="click")return Of(a)}function n4(i,a){if(i==="input"||i==="change")return Of(a)}function r4(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Pr=typeof Object.is=="function"?Object.is:r4;function Bu(i,a){if(Pr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!Vs.call(a,y)||!Pr(i[y],a[y]))return!1}return!0}function y_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function v_(i,a){var c=y_(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=a&&f>=a)return{node:c,offset:a-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=y_(c)}}function x_(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?x_(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function b_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Vo(i.document);a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Vo(i.document)}return a}function yy(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var s4=_s&&"documentMode"in document&&11>=document.documentMode,rc=null,vy=null,$u=null,xy=!1;function w_(i,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xy||rc==null||rc!==Vo(f)||(f=rc,"selectionStart"in f&&yy(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),$u&&Bu($u,f)||($u=f,f=wm(vy,"onSelect"),0<f.length&&(a=new Wl("onSelect","select",null,a,c),i.push({event:a,listeners:f}),a.target=rc)))}function Yo(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var sc={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionrun:Yo("Transition","TransitionRun"),transitionstart:Yo("Transition","TransitionStart"),transitioncancel:Yo("Transition","TransitionCancel"),transitionend:Yo("Transition","TransitionEnd")},by={},__={};_s&&(__=document.createElement("div").style,"AnimationEvent"in window||(delete sc.animationend.animation,delete sc.animationiteration.animation,delete sc.animationstart.animation),"TransitionEvent"in window||delete sc.transitionend.transition);function Wo(i){if(by[i])return by[i];if(!sc[i])return i;var a=sc[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in __)return by[i]=a[c];return i}var T_=Wo("animationend"),E_=Wo("animationiteration"),S_=Wo("animationstart"),i4=Wo("transitionrun"),a4=Wo("transitionstart"),o4=Wo("transitioncancel"),A_=Wo("transitionend"),R_=new Map,wy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wy.push("scrollEnd");function Ts(i,a){R_.set(i,a),yn(a,[i])}var C_=new WeakMap;function ts(i,a){if(typeof i=="object"&&i!==null){var c=C_.get(i);return c!==void 0?c:(a={value:i,source:a,stack:Pi(a)},C_.set(i,a),a)}return{value:i,source:a,stack:Pi(a)}}var ns=[],ic=0,_y=0;function Vf(){for(var i=ic,a=_y=ic=0;a<i;){var c=ns[a];ns[a++]=null;var f=ns[a];ns[a++]=null;var y=ns[a];ns[a++]=null;var b=ns[a];if(ns[a++]=null,f!==null&&y!==null){var A=f.pending;A===null?y.next=y:(y.next=A.next,A.next=y),f.pending=y}b!==0&&k_(c,y,b)}}function Lf(i,a,c,f){ns[ic++]=i,ns[ic++]=a,ns[ic++]=c,ns[ic++]=f,_y|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Ty(i,a,c,f){return Lf(i,a,c,f),Uf(i)}function ac(i,a){return Lf(i,null,null,a),Uf(i)}function k_(i,a,c){i.lanes|=c;var f=i.alternate;f!==null&&(f.lanes|=c);for(var y=!1,b=i.return;b!==null;)b.childLanes|=c,f=b.alternate,f!==null&&(f.childLanes|=c),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&a!==null&&(y=31-cn(c),i=b.hiddenUpdates,f=i[y],f===null?i[y]=[a]:f.push(a),a.lane=c|536870912),b):null}function Uf(i){if(50<hd)throw hd=0,k0=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var oc={};function l4(i,a,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(i,a,c,f){return new l4(i,a,c,f)}function Ey(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bi(i,a){var c=i.alternate;return c===null?(c=Ir(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function N_(i,a){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,a=c.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Bf(i,a,c,f,y,b){var A=0;if(f=i,typeof i=="function")Ey(i)&&(A=1);else if(typeof i=="string")A=uV(i,c,Re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=Ir(31,c,a,y),i.elementType=M,i.lanes=b,i;case T:return Xo(c.children,y,b,a);case S:A=8,y|=24;break;case R:return i=Ir(12,c,a,y|2),i.elementType=R,i.lanes=b,i;case D:return i=Ir(13,c,a,y),i.elementType=D,i.lanes=b,i;case V:return i=Ir(19,c,a,y),i.elementType=V,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case j:A=10;break e;case O:A=9;break e;case $:A=11;break e;case I:A=14;break e;case N:A=16,f=null;break e}A=29,c=Error(r(130,i===null?"null":typeof i,"")),f=null}return a=Ir(A,c,a,y),a.elementType=i,a.type=f,a.lanes=b,a}function Xo(i,a,c,f){return i=Ir(7,i,f,a),i.lanes=c,i}function Sy(i,a,c){return i=Ir(6,i,null,a),i.lanes=c,i}function Ay(i,a,c){return a=Ir(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var lc=[],cc=0,$f=null,Ff=0,rs=[],ss=0,Qo=null,$i=1,Fi="";function Zo(i,a){lc[cc++]=Ff,lc[cc++]=$f,$f=i,Ff=a}function j_(i,a,c){rs[ss++]=$i,rs[ss++]=Fi,rs[ss++]=Qo,Qo=i;var f=$i;i=Fi;var y=32-cn(f)-1;f&=~(1<<y),c+=1;var b=32-cn(a)+y;if(30<b){var A=y-y%5;b=(f&(1<<A)-1).toString(32),f>>=A,y-=A,$i=1<<32-cn(a)+y|c<<y|f,Fi=b+i}else $i=1<<b|c<<y|f,Fi=i}function Ry(i){i.return!==null&&(Zo(i,1),j_(i,1,0))}function Cy(i){for(;i===$f;)$f=lc[--cc],lc[cc]=null,Ff=lc[--cc],lc[cc]=null;for(;i===Qo;)Qo=rs[--ss],rs[ss]=null,Fi=rs[--ss],rs[ss]=null,$i=rs[--ss],rs[ss]=null}var dr=null,Wt=null,xt=!1,Jo=null,Zs=!1,ky=Error(r(519));function el(i){var a=Error(r(418,""));throw qu(ts(a,i)),ky}function P_(i){var a=i.stateNode,c=i.type,f=i.memoizedProps;switch(a[ue]=i,a[pe]=f,c){case"dialog":at("cancel",a),at("close",a);break;case"iframe":case"object":case"embed":at("load",a);break;case"video":case"audio":for(c=0;c<md.length;c++)at(md[c],a);break;case"source":at("error",a);break;case"img":case"image":case"link":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"input":at("invalid",a),Lo(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Kl(a);break;case"select":at("invalid",a);break;case"textarea":at("invalid",a),Uo(a,f.value,f.defaultValue,f.children),Kl(a)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||f.suppressHydrationWarning===!0||WE(a.textContent,c)?(f.popover!=null&&(at("beforetoggle",a),at("toggle",a)),f.onScroll!=null&&at("scroll",a),f.onScrollEnd!=null&&at("scrollend",a),f.onClick!=null&&(a.onclick=_m),a=!0):a=!1,a||el(i)}function I_(i){for(dr=i.return;dr;)switch(dr.tag){case 5:case 13:Zs=!1;return;case 27:case 3:Zs=!0;return;default:dr=dr.return}}function Fu(i){if(i!==dr)return!1;if(!xt)return I_(i),xt=!0,!1;var a=i.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||H0(i.type,i.memoizedProps)),c=!c),c&&Wt&&el(i),I_(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(a===0){Wt=Ss(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;i=i.nextSibling}Wt=null}}else a===27?(a=Wt,Ga(i.type)?(i=W0,W0=null,Wt=i):Wt=a):Wt=dr?Ss(i.stateNode.nextSibling):null;return!0}function zu(){Wt=dr=null,xt=!1}function D_(){var i=Jo;return i!==null&&(xr===null?xr=i:xr.push.apply(xr,i),Jo=null),i}function qu(i){Jo===null?Jo=[i]:Jo.push(i)}var Ny=le(null),tl=null,zi=null;function ja(i,a,c){fe(Ny,a._currentValue),a._currentValue=c}function qi(i){i._currentValue=Ny.current,ge(Ny)}function jy(i,a,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===c)break;i=i.return}}function Py(i,a,c,f){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var A=y.child;b=b.firstContext;e:for(;b!==null;){var P=b;b=y;for(var F=0;F<a.length;F++)if(P.context===a[F]){b.lanes|=c,P=b.alternate,P!==null&&(P.lanes|=c),jy(b.return,c,i),f||(A=null);break e}b=P.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(r(341));A.lanes|=c,b=A.alternate,b!==null&&(b.lanes|=c),jy(A,c,i),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===i){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function Hu(i,a,c,f){i=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var P=y.type;Pr(y.pendingProps.value,A.value)||(i!==null?i.push(P):i=[P])}}else if(y===ln.current){if(A=y.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(bd):i=[bd])}y=y.return}i!==null&&Py(a,i,c,f),a.flags|=262144}function zf(i){for(i=i.firstContext;i!==null;){if(!Pr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function nl(i){tl=i,zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yn(i){return M_(tl,i)}function qf(i,a){return tl===null&&nl(i),M_(i,a)}function M_(i,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},zi===null){if(i===null)throw Error(r(308));zi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else zi=zi.next=a;return c}var c4=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(c,f){i.push(f)}};this.abort=function(){a.aborted=!0,i.forEach(function(c){return c()})}},u4=t.unstable_scheduleCallback,d4=t.unstable_NormalPriority,bn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Iy(){return{controller:new c4,data:new Map,refCount:0}}function Gu(i){i.refCount--,i.refCount===0&&u4(d4,function(){i.controller.abort()})}var Ku=null,Dy=0,uc=0,dc=null;function h4(i,a){if(Ku===null){var c=Ku=[];Dy=0,uc=O0(),dc={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Dy++,a.then(O_,O_),a}function O_(){if(--Dy===0&&Ku!==null){dc!==null&&(dc.status="fulfilled");var i=Ku;Ku=null,uc=0,dc=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function f4(i,a){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return i.then(function(){f.status="fulfilled",f.value=a;for(var y=0;y<c.length;y++)(0,c[y])(a)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var V_=J.S;J.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&h4(i,a),V_!==null&&V_(i,a)};var rl=le(null);function My(){var i=rl.current;return i!==null?i:Ot.pooledCache}function Hf(i,a){a===null?fe(rl,rl.current):fe(rl,a.pool)}function L_(){var i=My();return i===null?null:{parent:bn._currentValue,pool:i}}var Yu=Error(r(460)),U_=Error(r(474)),Gf=Error(r(542)),Oy={then:function(){}};function B_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Kf(){}function $_(i,a,c){switch(c=i[c],c===void 0?i.push(a):c!==a&&(a.then(Kf,Kf),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,z_(i),i;default:if(typeof a.status=="string")a.then(Kf,Kf);else{if(i=Ot,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(f){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=f}},function(f){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,z_(i),i}throw Wu=a,Yu}}var Wu=null;function F_(){if(Wu===null)throw Error(r(459));var i=Wu;return Wu=null,i}function z_(i){if(i===Yu||i===Gf)throw Error(r(483))}var Pa=!1;function Vy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ly(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ia(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Da(i,a,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Et&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,a=Uf(i),k_(i,null,c),a}return Lf(i,f,a,c),Uf(i)}function Xu(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var f=a.lanes;f&=i.pendingLanes,c|=f,a.lanes=c,$s(i,c)}}function Uy(i,a){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?y=b=A:b=b.next=A,c=c.next}while(c!==null);b===null?y=b=a:b=b.next=a}else y=b=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}var By=!1;function Qu(){if(By){var i=dc;if(i!==null)throw i}}function Zu(i,a,c,f){By=!1;var y=i.updateQueue;Pa=!1;var b=y.firstBaseUpdate,A=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var F=P,ee=F.next;F.next=null,A===null?b=ee:A.next=ee,A=F;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==A&&(P===null?ae.firstBaseUpdate=ee:P.next=ee,ae.lastBaseUpdate=F))}if(b!==null){var de=y.baseState;A=0,ae=ee=F=null,P=b;do{var te=P.lane&-536870913,ne=te!==P.lane;if(ne?(ft&te)===te:(f&te)===te){te!==0&&te===uc&&(By=!0),ae!==null&&(ae=ae.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var $e=i,Oe=P;te=a;var jt=c;switch(Oe.tag){case 1:if($e=Oe.payload,typeof $e=="function"){de=$e.call(jt,de,te);break e}de=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Oe.payload,te=typeof $e=="function"?$e.call(jt,de,te):$e,te==null)break e;de=p({},de,te);break e;case 2:Pa=!0}}te=P.callback,te!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=y.callbacks,ne===null?y.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(ee=ae=ne,F=de):ae=ae.next=ne,A|=te;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;ne=P,P=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);ae===null&&(F=de),y.baseState=F,y.firstBaseUpdate=ee,y.lastBaseUpdate=ae,b===null&&(y.shared.lanes=0),Fa|=A,i.lanes=A,i.memoizedState=de}}function q_(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function H_(i,a){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)q_(c[i],a)}var hc=le(null),Yf=le(0);function G_(i,a){i=Qi,fe(Yf,i),fe(hc,a),Qi=i|a.baseLanes}function $y(){fe(Yf,Qi),fe(hc,hc.current)}function Fy(){Qi=Yf.current,ge(hc),ge(Yf)}var Ma=0,et=null,kt=null,hn=null,Wf=!1,fc=!1,sl=!1,Xf=0,Ju=0,mc=null,m4=0;function Jt(){throw Error(r(321))}function zy(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!Pr(i[c],a[c]))return!1;return!0}function qy(i,a,c,f,y,b){return Ma=b,et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,J.H=i===null||i.memoizedState===null?kT:NT,sl=!1,b=c(f,y),sl=!1,fc&&(b=Y_(a,c,f,y)),K_(i),b}function K_(i){J.H=nm;var a=kt!==null&&kt.next!==null;if(Ma=0,hn=kt=et=null,Wf=!1,Ju=0,mc=null,a)throw Error(r(300));i===null||Rn||(i=i.dependencies,i!==null&&zf(i)&&(Rn=!0))}function Y_(i,a,c,f){et=i;var y=0;do{if(fc&&(mc=null),Ju=0,fc=!1,25<=y)throw Error(r(301));if(y+=1,hn=kt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}J.H=w4,b=a(c,f)}while(fc);return b}function p4(){var i=J.H,a=i.useState()[0];return a=typeof a.then=="function"?ed(a):a,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(et.flags|=1024),a}function Hy(){var i=Xf!==0;return Xf=0,i}function Gy(i,a,c){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~c}function Ky(i){if(Wf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Wf=!1}Ma=0,hn=kt=et=null,fc=!1,Ju=Xf=0,mc=null}function yr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?et.memoizedState=hn=i:hn=hn.next=i,hn}function fn(){if(kt===null){var i=et.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var a=hn===null?et.memoizedState:hn.next;if(a!==null)hn=a,kt=i;else{if(i===null)throw et.alternate===null?Error(r(467)):Error(r(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},hn===null?et.memoizedState=hn=i:hn=hn.next=i}return hn}function Yy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ed(i){var a=Ju;return Ju+=1,mc===null&&(mc=[]),i=$_(mc,i,a),a=et,(hn===null?a.memoizedState:hn.next)===null&&(a=a.alternate,J.H=a===null||a.memoizedState===null?kT:NT),i}function Qf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ed(i);if(i.$$typeof===j)return Yn(i)}throw Error(r(438,String(i)))}function Wy(i){var a=null,c=et.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var f=et.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Yy(),et.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(i),f=0;f<i;f++)c[f]=B;return a.index++,c}function Hi(i,a){return typeof a=="function"?a(i):a}function Zf(i){var a=fn();return Xy(a,kt,i)}function Xy(i,a,c){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var y=i.baseQueue,b=f.pending;if(b!==null){if(y!==null){var A=y.next;y.next=b.next,b.next=A}a.baseQueue=y=b,f.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{a=y.next;var P=A=null,F=null,ee=a,ae=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(ft&de)===de:(Ma&de)===de){var te=ee.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===uc&&(ae=!0);else if((Ma&te)===te){ee=ee.next,te===uc&&(ae=!0);continue}else de={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(P=F=de,A=b):F=F.next=de,et.lanes|=te,Fa|=te;de=ee.action,sl&&c(b,de),b=ee.hasEagerState?ee.eagerState:c(b,de)}else te={lane:de,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(P=F=te,A=b):F=F.next=te,et.lanes|=de,Fa|=de;ee=ee.next}while(ee!==null&&ee!==a);if(F===null?A=b:F.next=P,!Pr(b,i.memoizedState)&&(Rn=!0,ae&&(c=dc,c!==null)))throw c;i.memoizedState=b,i.baseState=A,i.baseQueue=F,f.lastRenderedState=b}return y===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Qy(i){var a=fn(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var f=c.dispatch,y=c.pending,b=a.memoizedState;if(y!==null){c.pending=null;var A=y=y.next;do b=i(b,A.action),A=A.next;while(A!==y);Pr(b,a.memoizedState)||(Rn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,f]}function W_(i,a,c){var f=et,y=fn(),b=xt;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=a();var A=!Pr((kt||y).memoizedState,c);A&&(y.memoizedState=c,Rn=!0),y=y.queue;var P=Z_.bind(null,f,y,i);if(td(2048,8,P,[i]),y.getSnapshot!==a||A||hn!==null&&hn.memoizedState.tag&1){if(f.flags|=2048,pc(9,Jf(),Q_.bind(null,f,y,c,a),null),Ot===null)throw Error(r(349));b||(Ma&124)!==0||X_(f,a,c)}return c}function X_(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=et.updateQueue,a===null?(a=Yy(),et.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function Q_(i,a,c,f){a.value=c,a.getSnapshot=f,J_(a)&&eT(i)}function Z_(i,a,c){return c(function(){J_(a)&&eT(i)})}function J_(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!Pr(i,c)}catch{return!0}}function eT(i){var a=ac(i,2);a!==null&&Lr(a,i,2)}function Zy(i){var a=yr();if(typeof i=="function"){var c=i;if(i=c(),sl){Gn(!0);try{c()}finally{Gn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:i},a}function tT(i,a,c,f){return i.baseState=c,Xy(i,kt,typeof f=="function"?f:Hi)}function g4(i,a,c,f,y){if(tm(i))throw Error(r(485));if(i=a.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};J.T!==null?c(!0):b.isTransition=!1,f(b),c=a.pending,c===null?(b.next=a.pending=b,nT(a,b)):(b.next=c.next,a.pending=c.next=b)}}function nT(i,a){var c=a.action,f=a.payload,y=i.state;if(a.isTransition){var b=J.T,A={};J.T=A;try{var P=c(y,f),F=J.S;F!==null&&F(A,P),rT(i,a,P)}catch(ee){Jy(i,a,ee)}finally{J.T=b}}else try{b=c(y,f),rT(i,a,b)}catch(ee){Jy(i,a,ee)}}function rT(i,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){sT(i,a,f)},function(f){return Jy(i,a,f)}):sT(i,a,c)}function sT(i,a,c){a.status="fulfilled",a.value=c,iT(a),i.state=c,a=i.pending,a!==null&&(c=a.next,c===a?i.pending=null:(c=c.next,a.next=c,nT(i,c)))}function Jy(i,a,c){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=c,iT(a),a=a.next;while(a!==f)}i.action=null}function iT(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function aT(i,a){return a}function oT(i,a){if(xt){var c=Ot.formState;if(c!==null){e:{var f=et;if(xt){if(Wt){t:{for(var y=Wt,b=Zs;y.nodeType!==8;){if(!b){y=null;break t}if(y=Ss(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Wt=Ss(y.nextSibling),f=y.data==="F!";break e}}el(f)}f=!1}f&&(a=c[0])}}return c=yr(),c.memoizedState=c.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aT,lastRenderedState:a},c.queue=f,c=AT.bind(null,et,f),f.dispatch=c,f=Zy(!1),b=s0.bind(null,et,!1,f.queue),f=yr(),y={state:a,dispatch:null,action:i,pending:null},f.queue=y,c=g4.bind(null,et,y,b,c),y.dispatch=c,f.memoizedState=i,[a,c,!1]}function lT(i){var a=fn();return cT(a,kt,i)}function cT(i,a,c){if(a=Xy(i,a,aT)[0],i=Zf(Hi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=ed(a)}catch(A){throw A===Yu?Gf:A}else f=a;a=fn();var y=a.queue,b=y.dispatch;return c!==a.memoizedState&&(et.flags|=2048,pc(9,Jf(),y4.bind(null,y,c),null)),[f,b,i]}function y4(i,a){i.action=a}function uT(i){var a=fn(),c=kt;if(c!==null)return cT(a,c,i);fn(),a=a.memoizedState,c=fn();var f=c.queue.dispatch;return c.memoizedState=i,[a,f,!1]}function pc(i,a,c,f){return i={tag:i,create:c,deps:f,inst:a,next:null},a=et.updateQueue,a===null&&(a=Yy(),et.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,a.lastEffect=i),i}function Jf(){return{destroy:void 0,resource:void 0}}function dT(){return fn().memoizedState}function em(i,a,c,f){var y=yr();f=f===void 0?null:f,et.flags|=i,y.memoizedState=pc(1|a,Jf(),c,f)}function td(i,a,c,f){var y=fn();f=f===void 0?null:f;var b=y.memoizedState.inst;kt!==null&&f!==null&&zy(f,kt.memoizedState.deps)?y.memoizedState=pc(a,b,c,f):(et.flags|=i,y.memoizedState=pc(1|a,b,c,f))}function hT(i,a){em(8390656,8,i,a)}function fT(i,a){td(2048,8,i,a)}function mT(i,a){return td(4,2,i,a)}function pT(i,a){return td(4,4,i,a)}function gT(i,a){if(typeof a=="function"){i=i();var c=a(i);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function yT(i,a,c){c=c!=null?c.concat([i]):null,td(4,4,gT.bind(null,a,i),c)}function e0(){}function vT(i,a){var c=fn();a=a===void 0?null:a;var f=c.memoizedState;return a!==null&&zy(a,f[1])?f[0]:(c.memoizedState=[i,a],i)}function xT(i,a){var c=fn();a=a===void 0?null:a;var f=c.memoizedState;if(a!==null&&zy(a,f[1]))return f[0];if(f=i(),sl){Gn(!0);try{i()}finally{Gn(!1)}}return c.memoizedState=[f,a],f}function t0(i,a,c){return c===void 0||(Ma&1073741824)!==0?i.memoizedState=a:(i.memoizedState=c,i=_E(),et.lanes|=i,Fa|=i,c)}function bT(i,a,c,f){return Pr(c,a)?c:hc.current!==null?(i=t0(i,c,f),Pr(i,a)||(Rn=!0),i):(Ma&42)===0?(Rn=!0,i.memoizedState=c):(i=_E(),et.lanes|=i,Fa|=i,a)}function wT(i,a,c,f,y){var b=se.p;se.p=b!==0&&8>b?b:8;var A=J.T,P={};J.T=P,s0(i,!1,a,c);try{var F=y(),ee=J.S;if(ee!==null&&ee(P,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ae=f4(F,f);nd(i,a,ae,Vr(i))}else nd(i,a,f,Vr(i))}catch(de){nd(i,a,{then:function(){},status:"rejected",reason:de},Vr())}finally{se.p=b,J.T=A}}function v4(){}function n0(i,a,c,f){if(i.tag!==5)throw Error(r(476));var y=_T(i).queue;wT(i,y,a,me,c===null?v4:function(){return TT(i),c(f)})}function _T(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:me},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:c},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function TT(i){var a=_T(i).next.queue;nd(i,a,{},Vr())}function r0(){return Yn(bd)}function ET(){return fn().memoizedState}function ST(){return fn().memoizedState}function x4(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var c=Vr();i=Ia(c);var f=Da(a,i,c);f!==null&&(Lr(f,a,c),Xu(f,a,c)),a={cache:Iy()},i.payload=a;return}a=a.return}}function b4(i,a,c){var f=Vr();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},tm(i)?RT(a,c):(c=Ty(i,a,c,f),c!==null&&(Lr(c,i,f),CT(c,a,f)))}function AT(i,a,c){var f=Vr();nd(i,a,c,f)}function nd(i,a,c,f){var y={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(tm(i))RT(a,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var A=a.lastRenderedState,P=b(A,c);if(y.hasEagerState=!0,y.eagerState=P,Pr(P,A))return Lf(i,a,y,0),Ot===null&&Vf(),!1}catch{}finally{}if(c=Ty(i,a,y,f),c!==null)return Lr(c,i,f),CT(c,a,f),!0}return!1}function s0(i,a,c,f){if(f={lane:2,revertLane:O0(),action:f,hasEagerState:!1,eagerState:null,next:null},tm(i)){if(a)throw Error(r(479))}else a=Ty(i,c,f,2),a!==null&&Lr(a,i,2)}function tm(i){var a=i.alternate;return i===et||a!==null&&a===et}function RT(i,a){fc=Wf=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function CT(i,a,c){if((c&4194048)!==0){var f=a.lanes;f&=i.pendingLanes,c|=f,a.lanes=c,$s(i,c)}}var nm={readContext:Yn,use:Qf,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},kT={readContext:Yn,use:Qf,useCallback:function(i,a){return yr().memoizedState=[i,a===void 0?null:a],i},useContext:Yn,useEffect:hT,useImperativeHandle:function(i,a,c){c=c!=null?c.concat([i]):null,em(4194308,4,gT.bind(null,a,i),c)},useLayoutEffect:function(i,a){return em(4194308,4,i,a)},useInsertionEffect:function(i,a){em(4,2,i,a)},useMemo:function(i,a){var c=yr();a=a===void 0?null:a;var f=i();if(sl){Gn(!0);try{i()}finally{Gn(!1)}}return c.memoizedState=[f,a],f},useReducer:function(i,a,c){var f=yr();if(c!==void 0){var y=c(a);if(sl){Gn(!0);try{c(a)}finally{Gn(!1)}}}else y=a;return f.memoizedState=f.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},f.queue=i,i=i.dispatch=b4.bind(null,et,i),[f.memoizedState,i]},useRef:function(i){var a=yr();return i={current:i},a.memoizedState=i},useState:function(i){i=Zy(i);var a=i.queue,c=AT.bind(null,et,a);return a.dispatch=c,[i.memoizedState,c]},useDebugValue:e0,useDeferredValue:function(i,a){var c=yr();return t0(c,i,a)},useTransition:function(){var i=Zy(!1);return i=wT.bind(null,et,i.queue,!0,!1),yr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,c){var f=et,y=yr();if(xt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),Ot===null)throw Error(r(349));(ft&124)!==0||X_(f,a,c)}y.memoizedState=c;var b={value:c,getSnapshot:a};return y.queue=b,hT(Z_.bind(null,f,b,i),[i]),f.flags|=2048,pc(9,Jf(),Q_.bind(null,f,b,c,a),null),c},useId:function(){var i=yr(),a=Ot.identifierPrefix;if(xt){var c=Fi,f=$i;c=(f&~(1<<32-cn(f)-1)).toString(32)+c,a="«"+a+"R"+c,c=Xf++,0<c&&(a+="H"+c.toString(32)),a+="»"}else c=m4++,a="«"+a+"r"+c.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:r0,useFormState:oT,useActionState:oT,useOptimistic:function(i){var a=yr();a.memoizedState=a.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=s0.bind(null,et,!0,c),c.dispatch=a,[i,a]},useMemoCache:Wy,useCacheRefresh:function(){return yr().memoizedState=x4.bind(null,et)}},NT={readContext:Yn,use:Qf,useCallback:vT,useContext:Yn,useEffect:fT,useImperativeHandle:yT,useInsertionEffect:mT,useLayoutEffect:pT,useMemo:xT,useReducer:Zf,useRef:dT,useState:function(){return Zf(Hi)},useDebugValue:e0,useDeferredValue:function(i,a){var c=fn();return bT(c,kt.memoizedState,i,a)},useTransition:function(){var i=Zf(Hi)[0],a=fn().memoizedState;return[typeof i=="boolean"?i:ed(i),a]},useSyncExternalStore:W_,useId:ET,useHostTransitionStatus:r0,useFormState:lT,useActionState:lT,useOptimistic:function(i,a){var c=fn();return tT(c,kt,i,a)},useMemoCache:Wy,useCacheRefresh:ST},w4={readContext:Yn,use:Qf,useCallback:vT,useContext:Yn,useEffect:fT,useImperativeHandle:yT,useInsertionEffect:mT,useLayoutEffect:pT,useMemo:xT,useReducer:Qy,useRef:dT,useState:function(){return Qy(Hi)},useDebugValue:e0,useDeferredValue:function(i,a){var c=fn();return kt===null?t0(c,i,a):bT(c,kt.memoizedState,i,a)},useTransition:function(){var i=Qy(Hi)[0],a=fn().memoizedState;return[typeof i=="boolean"?i:ed(i),a]},useSyncExternalStore:W_,useId:ET,useHostTransitionStatus:r0,useFormState:uT,useActionState:uT,useOptimistic:function(i,a){var c=fn();return kt!==null?tT(c,kt,i,a):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Wy,useCacheRefresh:ST},gc=null,rd=0;function rm(i){var a=rd;return rd+=1,gc===null&&(gc=[]),$_(gc,i,a)}function sd(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function sm(i,a){throw a.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function jT(i){var a=i._init;return a(i._payload)}function PT(i){function a(Y,K){if(i){var Q=Y.deletions;Q===null?(Y.deletions=[K],Y.flags|=16):Q.push(K)}}function c(Y,K){if(!i)return null;for(;K!==null;)a(Y,K),K=K.sibling;return null}function f(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function y(Y,K){return Y=Bi(Y,K),Y.index=0,Y.sibling=null,Y}function b(Y,K,Q){return Y.index=Q,i?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<K?(Y.flags|=67108866,K):Q):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function A(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function P(Y,K,Q,oe){return K===null||K.tag!==6?(K=Sy(Q,Y.mode,oe),K.return=Y,K):(K=y(K,Q),K.return=Y,K)}function F(Y,K,Q,oe){var Ee=Q.type;return Ee===T?ae(Y,K,Q.props.children,oe,Q.key):K!==null&&(K.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===N&&jT(Ee)===K.type)?(K=y(K,Q.props),sd(K,Q),K.return=Y,K):(K=Bf(Q.type,Q.key,Q.props,null,Y.mode,oe),sd(K,Q),K.return=Y,K)}function ee(Y,K,Q,oe){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=Ay(Q,Y.mode,oe),K.return=Y,K):(K=y(K,Q.children||[]),K.return=Y,K)}function ae(Y,K,Q,oe,Ee){return K===null||K.tag!==7?(K=Xo(Q,Y.mode,oe,Ee),K.return=Y,K):(K=y(K,Q),K.return=Y,K)}function de(Y,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Sy(""+K,Y.mode,Q),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return Q=Bf(K.type,K.key,K.props,null,Y.mode,Q),sd(Q,K),Q.return=Y,Q;case w:return K=Ay(K,Y.mode,Q),K.return=Y,K;case N:var oe=K._init;return K=oe(K._payload),de(Y,K,Q)}if(be(K)||z(K))return K=Xo(K,Y.mode,Q,null),K.return=Y,K;if(typeof K.then=="function")return de(Y,rm(K),Q);if(K.$$typeof===j)return de(Y,qf(Y,K),Q);sm(Y,K)}return null}function te(Y,K,Q,oe){var Ee=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ee!==null?null:P(Y,K,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===Ee?F(Y,K,Q,oe):null;case w:return Q.key===Ee?ee(Y,K,Q,oe):null;case N:return Ee=Q._init,Q=Ee(Q._payload),te(Y,K,Q,oe)}if(be(Q)||z(Q))return Ee!==null?null:ae(Y,K,Q,oe,null);if(typeof Q.then=="function")return te(Y,K,rm(Q),oe);if(Q.$$typeof===j)return te(Y,K,qf(Y,Q),oe);sm(Y,Q)}return null}function ne(Y,K,Q,oe,Ee){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(Q)||null,P(K,Y,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:return Y=Y.get(oe.key===null?Q:oe.key)||null,F(K,Y,oe,Ee);case w:return Y=Y.get(oe.key===null?Q:oe.key)||null,ee(K,Y,oe,Ee);case N:var rt=oe._init;return oe=rt(oe._payload),ne(Y,K,Q,oe,Ee)}if(be(oe)||z(oe))return Y=Y.get(Q)||null,ae(K,Y,oe,Ee,null);if(typeof oe.then=="function")return ne(Y,K,Q,rm(oe),Ee);if(oe.$$typeof===j)return ne(Y,K,Q,qf(K,oe),Ee);sm(K,oe)}return null}function $e(Y,K,Q,oe){for(var Ee=null,rt=null,ke=K,Le=K=0,kn=null;ke!==null&&Le<Q.length;Le++){ke.index>Le?(kn=ke,ke=null):kn=ke.sibling;var gt=te(Y,ke,Q[Le],oe);if(gt===null){ke===null&&(ke=kn);break}i&&ke&&gt.alternate===null&&a(Y,ke),K=b(gt,K,Le),rt===null?Ee=gt:rt.sibling=gt,rt=gt,ke=kn}if(Le===Q.length)return c(Y,ke),xt&&Zo(Y,Le),Ee;if(ke===null){for(;Le<Q.length;Le++)ke=de(Y,Q[Le],oe),ke!==null&&(K=b(ke,K,Le),rt===null?Ee=ke:rt.sibling=ke,rt=ke);return xt&&Zo(Y,Le),Ee}for(ke=f(ke);Le<Q.length;Le++)kn=ne(ke,Y,Le,Q[Le],oe),kn!==null&&(i&&kn.alternate!==null&&ke.delete(kn.key===null?Le:kn.key),K=b(kn,K,Le),rt===null?Ee=kn:rt.sibling=kn,rt=kn);return i&&ke.forEach(function(Qa){return a(Y,Qa)}),xt&&Zo(Y,Le),Ee}function Oe(Y,K,Q,oe){if(Q==null)throw Error(r(151));for(var Ee=null,rt=null,ke=K,Le=K=0,kn=null,gt=Q.next();ke!==null&&!gt.done;Le++,gt=Q.next()){ke.index>Le?(kn=ke,ke=null):kn=ke.sibling;var Qa=te(Y,ke,gt.value,oe);if(Qa===null){ke===null&&(ke=kn);break}i&&ke&&Qa.alternate===null&&a(Y,ke),K=b(Qa,K,Le),rt===null?Ee=Qa:rt.sibling=Qa,rt=Qa,ke=kn}if(gt.done)return c(Y,ke),xt&&Zo(Y,Le),Ee;if(ke===null){for(;!gt.done;Le++,gt=Q.next())gt=de(Y,gt.value,oe),gt!==null&&(K=b(gt,K,Le),rt===null?Ee=gt:rt.sibling=gt,rt=gt);return xt&&Zo(Y,Le),Ee}for(ke=f(ke);!gt.done;Le++,gt=Q.next())gt=ne(ke,Y,Le,gt.value,oe),gt!==null&&(i&&gt.alternate!==null&&ke.delete(gt.key===null?Le:gt.key),K=b(gt,K,Le),rt===null?Ee=gt:rt.sibling=gt,rt=gt);return i&&ke.forEach(function(_V){return a(Y,_V)}),xt&&Zo(Y,Le),Ee}function jt(Y,K,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===T&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:e:{for(var Ee=Q.key;K!==null;){if(K.key===Ee){if(Ee=Q.type,Ee===T){if(K.tag===7){c(Y,K.sibling),oe=y(K,Q.props.children),oe.return=Y,Y=oe;break e}}else if(K.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===N&&jT(Ee)===K.type){c(Y,K.sibling),oe=y(K,Q.props),sd(oe,Q),oe.return=Y,Y=oe;break e}c(Y,K);break}else a(Y,K);K=K.sibling}Q.type===T?(oe=Xo(Q.props.children,Y.mode,oe,Q.key),oe.return=Y,Y=oe):(oe=Bf(Q.type,Q.key,Q.props,null,Y.mode,oe),sd(oe,Q),oe.return=Y,Y=oe)}return A(Y);case w:e:{for(Ee=Q.key;K!==null;){if(K.key===Ee)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){c(Y,K.sibling),oe=y(K,Q.children||[]),oe.return=Y,Y=oe;break e}else{c(Y,K);break}else a(Y,K);K=K.sibling}oe=Ay(Q,Y.mode,oe),oe.return=Y,Y=oe}return A(Y);case N:return Ee=Q._init,Q=Ee(Q._payload),jt(Y,K,Q,oe)}if(be(Q))return $e(Y,K,Q,oe);if(z(Q)){if(Ee=z(Q),typeof Ee!="function")throw Error(r(150));return Q=Ee.call(Q),Oe(Y,K,Q,oe)}if(typeof Q.then=="function")return jt(Y,K,rm(Q),oe);if(Q.$$typeof===j)return jt(Y,K,qf(Y,Q),oe);sm(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(c(Y,K.sibling),oe=y(K,Q),oe.return=Y,Y=oe):(c(Y,K),oe=Sy(Q,Y.mode,oe),oe.return=Y,Y=oe),A(Y)):c(Y,K)}return function(Y,K,Q,oe){try{rd=0;var Ee=jt(Y,K,Q,oe);return gc=null,Ee}catch(ke){if(ke===Yu||ke===Gf)throw ke;var rt=Ir(29,ke,null,Y.mode);return rt.lanes=oe,rt.return=Y,rt}finally{}}}var yc=PT(!0),IT=PT(!1),is=le(null),Js=null;function Oa(i){var a=i.alternate;fe(wn,wn.current&1),fe(is,i),Js===null&&(a===null||hc.current!==null||a.memoizedState!==null)&&(Js=i)}function DT(i){if(i.tag===22){if(fe(wn,wn.current),fe(is,i),Js===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Js=i)}}else Va()}function Va(){fe(wn,wn.current),fe(is,is.current)}function Gi(i){ge(is),Js===i&&(Js=null),ge(wn)}var wn=le(0);function im(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Y0(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function i0(i,a,c,f){a=i.memoizedState,c=c(f,a),c=c==null?a:p({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var a0={enqueueSetState:function(i,a,c){i=i._reactInternals;var f=Vr(),y=Ia(f);y.payload=a,c!=null&&(y.callback=c),a=Da(i,y,f),a!==null&&(Lr(a,i,f),Xu(a,i,f))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var f=Vr(),y=Ia(f);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Da(i,y,f),a!==null&&(Lr(a,i,f),Xu(a,i,f))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Vr(),f=Ia(c);f.tag=2,a!=null&&(f.callback=a),a=Da(i,f,c),a!==null&&(Lr(a,i,c),Xu(a,i,c))}};function MT(i,a,c,f,y,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,b,A):a.prototype&&a.prototype.isPureReactComponent?!Bu(c,f)||!Bu(y,b):!0}function OT(i,a,c,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==i&&a0.enqueueReplaceState(a,a.state,null)}function il(i,a){var c=a;if("ref"in a){c={};for(var f in a)f!=="ref"&&(c[f]=a[f])}if(i=i.defaultProps){c===a&&(c=p({},c));for(var y in i)c[y]===void 0&&(c[y]=i[y])}return c}var am=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function VT(i){am(i)}function LT(i){console.error(i)}function UT(i){am(i)}function om(i,a){try{var c=i.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function BT(i,a,c){try{var f=i.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function o0(i,a,c){return c=Ia(c),c.tag=3,c.payload={element:null},c.callback=function(){om(i,a)},c}function $T(i){return i=Ia(i),i.tag=3,i}function FT(i,a,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;i.payload=function(){return y(b)},i.callback=function(){BT(a,c,f)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){BT(a,c,f),typeof y!="function"&&(za===null?za=new Set([this]):za.add(this));var P=f.stack;this.componentDidCatch(f.value,{componentStack:P!==null?P:""})})}function _4(i,a,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=c.alternate,a!==null&&Hu(a,c,y,!0),c=is.current,c!==null){switch(c.tag){case 13:return Js===null?j0():c.alternate===null&&Xt===0&&(Xt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===Oy?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([f]):a.add(f),I0(i,f,y)),!1;case 22:return c.flags|=65536,f===Oy?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([f]):c.add(f)),I0(i,f,y)),!1}throw Error(r(435,c.tag))}return I0(i,f,y),j0(),!1}if(xt)return a=is.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,f!==ky&&(i=Error(r(422),{cause:f}),qu(ts(i,c)))):(f!==ky&&(a=Error(r(423),{cause:f}),qu(ts(a,c))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,f=ts(f,c),y=o0(i.stateNode,f,y),Uy(i,y),Xt!==4&&(Xt=2)),!1;var b=Error(r(520),{cause:f});if(b=ts(b,c),dd===null?dd=[b]:dd.push(b),Xt!==4&&(Xt=2),a===null)return!0;f=ts(f,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,i=y&-y,c.lanes|=i,i=o0(c.stateNode,f,i),Uy(c,i),!1;case 1:if(a=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(za===null||!za.has(b))))return c.flags|=65536,y&=-y,c.lanes|=y,y=$T(y),FT(y,i,c,f),Uy(c,y),!1}c=c.return}while(c!==null);return!1}var zT=Error(r(461)),Rn=!1;function On(i,a,c,f){a.child=i===null?IT(a,null,c,f):yc(a,i.child,c,f)}function qT(i,a,c,f,y){c=c.render;var b=a.ref;if("ref"in f){var A={};for(var P in f)P!=="ref"&&(A[P]=f[P])}else A=f;return nl(a),f=qy(i,a,c,A,b,y),P=Hy(),i!==null&&!Rn?(Gy(i,a,y),Ki(i,a,y)):(xt&&P&&Ry(a),a.flags|=1,On(i,a,f,y),a.child)}function HT(i,a,c,f,y){if(i===null){var b=c.type;return typeof b=="function"&&!Ey(b)&&b.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=b,GT(i,a,b,f,y)):(i=Bf(c.type,null,f,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!p0(i,y)){var A=b.memoizedProps;if(c=c.compare,c=c!==null?c:Bu,c(A,f)&&i.ref===a.ref)return Ki(i,a,y)}return a.flags|=1,i=Bi(b,f),i.ref=a.ref,i.return=a,a.child=i}function GT(i,a,c,f,y){if(i!==null){var b=i.memoizedProps;if(Bu(b,f)&&i.ref===a.ref)if(Rn=!1,a.pendingProps=f=b,p0(i,y))(i.flags&131072)!==0&&(Rn=!0);else return a.lanes=i.lanes,Ki(i,a,y)}return l0(i,a,c,f,y)}function KT(i,a,c){var f=a.pendingProps,y=f.children,b=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=b!==null?b.baseLanes|c:c,i!==null){for(y=a.child=i.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;a.childLanes=b&~f}else a.childLanes=0,a.child=null;return YT(i,a,f,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hf(a,b!==null?b.cachePool:null),b!==null?G_(a,b):$y(),DT(a);else return a.lanes=a.childLanes=536870912,YT(i,a,b!==null?b.baseLanes|c:c,c)}else b!==null?(Hf(a,b.cachePool),G_(a,b),Va(),a.memoizedState=null):(i!==null&&Hf(a,null),$y(),Va());return On(i,a,y,c),a.child}function YT(i,a,c,f){var y=My();return y=y===null?null:{parent:bn._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},i!==null&&Hf(a,null),$y(),DT(a),i!==null&&Hu(i,a,f,!0),null}function lm(i,a){var c=a.ref;if(c===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(a.flags|=4194816)}}function l0(i,a,c,f,y){return nl(a),c=qy(i,a,c,f,void 0,y),f=Hy(),i!==null&&!Rn?(Gy(i,a,y),Ki(i,a,y)):(xt&&f&&Ry(a),a.flags|=1,On(i,a,c,y),a.child)}function WT(i,a,c,f,y,b){return nl(a),a.updateQueue=null,c=Y_(a,f,c,y),K_(i),f=Hy(),i!==null&&!Rn?(Gy(i,a,b),Ki(i,a,b)):(xt&&f&&Ry(a),a.flags|=1,On(i,a,c,b),a.child)}function XT(i,a,c,f,y){if(nl(a),a.stateNode===null){var b=oc,A=c.contextType;typeof A=="object"&&A!==null&&(b=Yn(A)),b=new c(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=a0,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},Vy(a),A=c.contextType,b.context=typeof A=="object"&&A!==null?Yn(A):oc,b.state=a.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(i0(a,c,A,f),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&a0.enqueueReplaceState(b,b.state,null),Zu(a,f,b,y),Qu(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(i===null){b=a.stateNode;var P=a.memoizedProps,F=il(c,P);b.props=F;var ee=b.context,ae=c.contextType;A=oc,typeof ae=="object"&&ae!==null&&(A=Yn(ae));var de=c.getDerivedStateFromProps;ae=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=a.pendingProps!==P,ae||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||ee!==A)&&OT(a,b,f,A),Pa=!1;var te=a.memoizedState;b.state=te,Zu(a,f,b,y),Qu(),ee=a.memoizedState,P||te!==ee||Pa?(typeof de=="function"&&(i0(a,c,de,f),ee=a.memoizedState),(F=Pa||MT(a,c,F,f,te,ee,A))?(ae||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=ee),b.props=f,b.state=ee,b.context=A,f=F):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,Ly(i,a),A=a.memoizedProps,ae=il(c,A),b.props=ae,de=a.pendingProps,te=b.context,ee=c.contextType,F=oc,typeof ee=="object"&&ee!==null&&(F=Yn(ee)),P=c.getDerivedStateFromProps,(ee=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==de||te!==F)&&OT(a,b,f,F),Pa=!1,te=a.memoizedState,b.state=te,Zu(a,f,b,y),Qu();var ne=a.memoizedState;A!==de||te!==ne||Pa||i!==null&&i.dependencies!==null&&zf(i.dependencies)?(typeof P=="function"&&(i0(a,c,P,f),ne=a.memoizedState),(ae=Pa||MT(a,c,ae,f,te,ne,F)||i!==null&&i.dependencies!==null&&zf(i.dependencies))?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ne,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ne,F)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ne),b.props=f,b.state=ne,b.context=F,f=ae):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(a.flags|=1024),f=!1)}return b=f,lm(i,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&f?(a.child=yc(a,i.child,null,y),a.child=yc(a,null,c,y)):On(i,a,c,y),a.memoizedState=b.state,i=a.child):i=Ki(i,a,y),i}function QT(i,a,c,f){return zu(),a.flags|=256,On(i,a,c,f),a.child}var c0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function u0(i){return{baseLanes:i,cachePool:L_()}}function d0(i,a,c){return i=i!==null?i.childLanes&~c:0,a&&(i|=as),i}function ZT(i,a,c){var f=a.pendingProps,y=!1,b=(a.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(wn.current&2)!==0),A&&(y=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,i===null){if(xt){if(y?Oa(a):Va(),xt){var P=Wt,F;if(F=P){e:{for(F=P,P=Zs;F.nodeType!==8;){if(!P){P=null;break e}if(F=Ss(F.nextSibling),F===null){P=null;break e}}P=F}P!==null?(a.memoizedState={dehydrated:P,treeContext:Qo!==null?{id:$i,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},F=Ir(18,null,null,0),F.stateNode=P,F.return=a,a.child=F,dr=a,Wt=null,F=!0):F=!1}F||el(a)}if(P=a.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Y0(P)?a.lanes=32:a.lanes=536870912,null;Gi(a)}return P=f.children,f=f.fallback,y?(Va(),y=a.mode,P=cm({mode:"hidden",children:P},y),f=Xo(f,y,c,null),P.return=a,f.return=a,P.sibling=f,a.child=P,y=a.child,y.memoizedState=u0(c),y.childLanes=d0(i,A,c),a.memoizedState=c0,f):(Oa(a),h0(a,P))}if(F=i.memoizedState,F!==null&&(P=F.dehydrated,P!==null)){if(b)a.flags&256?(Oa(a),a.flags&=-257,a=f0(i,a,c)):a.memoizedState!==null?(Va(),a.child=i.child,a.flags|=128,a=null):(Va(),y=f.fallback,P=a.mode,f=cm({mode:"visible",children:f.children},P),y=Xo(y,P,c,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,yc(a,i.child,null,c),f=a.child,f.memoizedState=u0(c),f.childLanes=d0(i,A,c),a.memoizedState=c0,a=y);else if(Oa(a),Y0(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var ee=A.dgst;A=ee,f=Error(r(419)),f.stack="",f.digest=A,qu({value:f,source:null,stack:null}),a=f0(i,a,c)}else if(Rn||Hu(i,a,c,!1),A=(c&i.childLanes)!==0,Rn||A){if(A=Ot,A!==null&&(f=c&-c,f=(f&42)!==0?1:Fs(f),f=(f&(A.suspendedLanes|c))!==0?0:f,f!==0&&f!==F.retryLane))throw F.retryLane=f,ac(i,f),Lr(A,i,f),zT;P.data==="$?"||j0(),a=f0(i,a,c)}else P.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=F.treeContext,Wt=Ss(P.nextSibling),dr=a,xt=!0,Jo=null,Zs=!1,i!==null&&(rs[ss++]=$i,rs[ss++]=Fi,rs[ss++]=Qo,$i=i.id,Fi=i.overflow,Qo=a),a=h0(a,f.children),a.flags|=4096);return a}return y?(Va(),y=f.fallback,P=a.mode,F=i.child,ee=F.sibling,f=Bi(F,{mode:"hidden",children:f.children}),f.subtreeFlags=F.subtreeFlags&65011712,ee!==null?y=Bi(ee,y):(y=Xo(y,P,c,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,P=i.child.memoizedState,P===null?P=u0(c):(F=P.cachePool,F!==null?(ee=bn._currentValue,F=F.parent!==ee?{parent:ee,pool:ee}:F):F=L_(),P={baseLanes:P.baseLanes|c,cachePool:F}),y.memoizedState=P,y.childLanes=d0(i,A,c),a.memoizedState=c0,f):(Oa(a),c=i.child,i=c.sibling,c=Bi(c,{mode:"visible",children:f.children}),c.return=a,c.sibling=null,i!==null&&(A=a.deletions,A===null?(a.deletions=[i],a.flags|=16):A.push(i)),a.child=c,a.memoizedState=null,c)}function h0(i,a){return a=cm({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function cm(i,a){return i=Ir(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function f0(i,a,c){return yc(a,i.child,null,c),i=h0(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function JT(i,a,c){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),jy(i.return,a,c)}function m0(i,a,c,f,y){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=c,b.tailMode=y)}function eE(i,a,c){var f=a.pendingProps,y=f.revealOrder,b=f.tail;if(On(i,a,f.children,c),f=wn.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&JT(i,c,a);else if(i.tag===19)JT(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(fe(wn,f),y){case"forwards":for(c=a.child,y=null;c!==null;)i=c.alternate,i!==null&&im(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),m0(a,!1,y,c,b);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&im(i)===null){a.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}m0(a,!0,c,null,b);break;case"together":m0(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ki(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Fa|=a.lanes,(c&a.childLanes)===0)if(i!==null){if(Hu(i,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,c=Bi(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=Bi(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function p0(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&zf(i)))}function T4(i,a,c){switch(a.tag){case 3:Rt(a,a.stateNode.containerInfo),ja(a,bn,i.memoizedState.cache),zu();break;case 27:case 5:Bt(a);break;case 4:Rt(a,a.stateNode.containerInfo);break;case 10:ja(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Oa(a),a.flags|=128,null):(c&a.child.childLanes)!==0?ZT(i,a,c):(Oa(a),i=Ki(i,a,c),i!==null?i.sibling:null);Oa(a);break;case 19:var y=(i.flags&128)!==0;if(f=(c&a.childLanes)!==0,f||(Hu(i,a,c,!1),f=(c&a.childLanes)!==0),y){if(f)return eE(i,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),fe(wn,wn.current),f)break;return null;case 22:case 23:return a.lanes=0,KT(i,a,c);case 24:ja(a,bn,i.memoizedState.cache)}return Ki(i,a,c)}function tE(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps)Rn=!0;else{if(!p0(i,c)&&(a.flags&128)===0)return Rn=!1,T4(i,a,c);Rn=(i.flags&131072)!==0}else Rn=!1,xt&&(a.flags&1048576)!==0&&j_(a,Ff,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var f=a.elementType,y=f._init;if(f=y(f._payload),a.type=f,typeof f=="function")Ey(f)?(i=il(f,i),a.tag=1,a=XT(null,a,f,i,c)):(a.tag=0,a=l0(null,a,f,i,c));else{if(f!=null){if(y=f.$$typeof,y===$){a.tag=11,a=qT(null,a,f,i,c);break e}else if(y===I){a.tag=14,a=HT(null,a,f,i,c);break e}}throw a=ve(f)||f,Error(r(306,a,""))}}return a;case 0:return l0(i,a,a.type,a.pendingProps,c);case 1:return f=a.type,y=il(f,a.pendingProps),XT(i,a,f,y,c);case 3:e:{if(Rt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));f=a.pendingProps;var b=a.memoizedState;y=b.element,Ly(i,a),Zu(a,f,null,c);var A=a.memoizedState;if(f=A.cache,ja(a,bn,f),f!==b.cache&&Py(a,[bn],c,!0),Qu(),f=A.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=QT(i,a,f,c);break e}else if(f!==y){y=ts(Error(r(424)),a),qu(y),a=QT(i,a,f,c);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Wt=Ss(i.firstChild),dr=a,xt=!0,Jo=null,Zs=!0,c=IT(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(zu(),f===y){a=Ki(i,a,c);break e}On(i,a,f,c)}a=a.child}return a;case 26:return lm(i,a),i===null?(c=iS(a.type,null,a.pendingProps,null))?a.memoizedState=c:xt||(c=a.type,i=a.pendingProps,f=Tm(Pe.current).createElement(c),f[ue]=a,f[pe]=i,Ln(f,c,i),ut(f),a.stateNode=f):a.memoizedState=iS(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Bt(a),i===null&&xt&&(f=a.stateNode=nS(a.type,a.pendingProps,Pe.current),dr=a,Zs=!0,y=Wt,Ga(a.type)?(W0=y,Wt=Ss(f.firstChild)):Wt=y),On(i,a,a.pendingProps.children,c),lm(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&xt&&((y=f=Wt)&&(f=Q4(f,a.type,a.pendingProps,Zs),f!==null?(a.stateNode=f,dr=a,Wt=Ss(f.firstChild),Zs=!1,y=!0):y=!1),y||el(a)),Bt(a),y=a.type,b=a.pendingProps,A=i!==null?i.memoizedProps:null,f=b.children,H0(y,b)?f=null:A!==null&&H0(y,A)&&(a.flags|=32),a.memoizedState!==null&&(y=qy(i,a,p4,null,null,c),bd._currentValue=y),lm(i,a),On(i,a,f,c),a.child;case 6:return i===null&&xt&&((i=c=Wt)&&(c=Z4(c,a.pendingProps,Zs),c!==null?(a.stateNode=c,dr=a,Wt=null,i=!0):i=!1),i||el(a)),null;case 13:return ZT(i,a,c);case 4:return Rt(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=yc(a,null,f,c):On(i,a,f,c),a.child;case 11:return qT(i,a,a.type,a.pendingProps,c);case 7:return On(i,a,a.pendingProps,c),a.child;case 8:return On(i,a,a.pendingProps.children,c),a.child;case 12:return On(i,a,a.pendingProps.children,c),a.child;case 10:return f=a.pendingProps,ja(a,a.type,f.value),On(i,a,f.children,c),a.child;case 9:return y=a.type._context,f=a.pendingProps.children,nl(a),y=Yn(y),f=f(y),a.flags|=1,On(i,a,f,c),a.child;case 14:return HT(i,a,a.type,a.pendingProps,c);case 15:return GT(i,a,a.type,a.pendingProps,c);case 19:return eE(i,a,c);case 31:return f=a.pendingProps,c=a.mode,f={mode:f.mode,children:f.children},i===null?(c=cm(f,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=Bi(i.child,f),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return KT(i,a,c);case 24:return nl(a),f=Yn(bn),i===null?(y=My(),y===null&&(y=Ot,b=Iy(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=c),y=b),a.memoizedState={parent:f,cache:y},Vy(a),ja(a,bn,y)):((i.lanes&c)!==0&&(Ly(i,a),Zu(a,null,null,c),Qu()),y=i.memoizedState,b=a.memoizedState,y.parent!==f?(y={parent:f,cache:f},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),ja(a,bn,f)):(f=b.cache,ja(a,bn,f),f!==y.cache&&Py(a,[bn],c,!0))),On(i,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Yi(i){i.flags|=4}function nE(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!uS(a)){if(a=is.current,a!==null&&((ft&4194048)===ft?Js!==null:(ft&62914560)!==ft&&(ft&536870912)===0||a!==Js))throw Wu=Oy,U_;i.flags|=8192}}function um(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Oo():536870912,i.lanes|=a,wc|=a)}function id(i,a){if(!xt)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function zt(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(a)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=f,i.childLanes=c,a}function E4(i,a,c){var f=a.pendingProps;switch(Cy(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(a),null;case 1:return zt(a),null;case 3:return c=a.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),qi(bn),qr(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Fu(a)?Yi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,D_())),zt(a),null;case 26:return c=a.memoizedState,i===null?(Yi(a),c!==null?(zt(a),nE(a,c)):(zt(a),a.flags&=-16777217)):c?c!==i.memoizedState?(Yi(a),zt(a),nE(a,c)):(zt(a),a.flags&=-16777217):(i.memoizedProps!==f&&Yi(a),zt(a),a.flags&=-16777217),null;case 27:Hn(a),c=Pe.current;var y=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==f&&Yi(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return zt(a),null}i=Re.current,Fu(a)?P_(a):(i=nS(y,f,c),a.stateNode=i,Yi(a))}return zt(a),null;case 5:if(Hn(a),c=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&Yi(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return zt(a),null}if(i=Re.current,Fu(a))P_(a);else{switch(y=Tm(Pe.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?y.createElement(c,{is:f.is}):y.createElement(c)}}i[ue]=a,i[pe]=f;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=i;e:switch(Ln(i,c,f),c){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Yi(a)}}return zt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==f&&Yi(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(i=Pe.current,Fu(a)){if(i=a.stateNode,c=a.memoizedProps,f=null,y=dr,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}i[ue]=a,i=!!(i.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||WE(i.nodeValue,c)),i||el(a)}else i=Tm(i).createTextNode(f),i[ue]=a,a.stateNode=i}return zt(a),null;case 13:if(f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Fu(a),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[ue]=a}else zu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;zt(a),y=!1}else y=D_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Gi(a),a):(Gi(a),null)}if(Gi(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=f!==null,i=i!==null&&i.memoizedState!==null,c){f=a.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)}return c!==i&&c&&(a.child.flags|=8192),um(a,a.updateQueue),zt(a),null;case 4:return qr(),i===null&&B0(a.stateNode.containerInfo),zt(a),null;case 10:return qi(a.type),zt(a),null;case 19:if(ge(wn),y=a.memoizedState,y===null)return zt(a),null;if(f=(a.flags&128)!==0,b=y.rendering,b===null)if(f)id(y,!1);else{if(Xt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=im(i),b!==null){for(a.flags|=128,id(y,!1),i=b.updateQueue,a.updateQueue=i,um(a,i),a.subtreeFlags=0,i=c,c=a.child;c!==null;)N_(c,i),c=c.sibling;return fe(wn,wn.current&1|2),a.child}i=i.sibling}y.tail!==null&&ar()>fm&&(a.flags|=128,f=!0,id(y,!1),a.lanes=4194304)}else{if(!f)if(i=im(b),i!==null){if(a.flags|=128,f=!0,i=i.updateQueue,a.updateQueue=i,um(a,i),id(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!xt)return zt(a),null}else 2*ar()-y.renderingStartTime>fm&&c!==536870912&&(a.flags|=128,f=!0,id(y,!1),a.lanes=4194304);y.isBackwards?(b.sibling=a.child,a.child=b):(i=y.last,i!==null?i.sibling=b:a.child=b,y.last=b)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=ar(),a.sibling=null,i=wn.current,fe(wn,f?i&1|2:i&1),a):(zt(a),null);case 22:case 23:return Gi(a),Fy(),f=a.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(c&536870912)!==0&&(a.flags&128)===0&&(zt(a),a.subtreeFlags&6&&(a.flags|=8192)):zt(a),c=a.updateQueue,c!==null&&um(a,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048),i!==null&&ge(rl),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),qi(bn),zt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function S4(i,a){switch(Cy(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return qi(bn),qr(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Hn(a),null;case 13:if(Gi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));zu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ge(wn),null;case 4:return qr(),null;case 10:return qi(a.type),null;case 22:case 23:return Gi(a),Fy(),i!==null&&ge(rl),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return qi(bn),null;case 25:return null;default:return null}}function rE(i,a){switch(Cy(a),a.tag){case 3:qi(bn),qr();break;case 26:case 27:case 5:Hn(a);break;case 4:qr();break;case 13:Gi(a);break;case 19:ge(wn);break;case 10:qi(a.type);break;case 22:case 23:Gi(a),Fy(),i!==null&&ge(rl);break;case 24:qi(bn)}}function ad(i,a){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&i)===i){f=void 0;var b=c.create,A=c.inst;f=b(),A.destroy=f}c=c.next}while(c!==y)}}catch(P){Dt(a,a.return,P)}}function La(i,a,c){try{var f=a.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&i)===i){var A=f.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,y=a;var F=c,ee=P;try{ee()}catch(ae){Dt(y,F,ae)}}}f=f.next}while(f!==b)}}catch(ae){Dt(a,a.return,ae)}}function sE(i){var a=i.updateQueue;if(a!==null){var c=i.stateNode;try{H_(a,c)}catch(f){Dt(i,i.return,f)}}}function iE(i,a,c){c.props=il(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(f){Dt(i,a,f)}}function od(i,a){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof c=="function"?i.refCleanup=c(f):c.current=f}}catch(y){Dt(i,a,y)}}function ei(i,a){var c=i.ref,f=i.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){Dt(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Dt(i,a,y)}else c.current=null}function aE(i){var a=i.type,c=i.memoizedProps,f=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){Dt(i,i.return,y)}}function g0(i,a,c){try{var f=i.stateNode;G4(f,i.type,c,a),f[pe]=a}catch(y){Dt(i,i.return,y)}}function oE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ga(i.type)||i.tag===4}function y0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||oE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ga(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function v0(i,a,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(i),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=_m));else if(f!==4&&(f===27&&Ga(i.type)&&(c=i.stateNode,a=null),i=i.child,i!==null))for(v0(i,a,c),i=i.sibling;i!==null;)v0(i,a,c),i=i.sibling}function dm(i,a,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(f!==4&&(f===27&&Ga(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(dm(i,a,c),i=i.sibling;i!==null;)dm(i,a,c),i=i.sibling}function lE(i){var a=i.stateNode,c=i.memoizedProps;try{for(var f=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Ln(a,f,c),a[ue]=i,a[pe]=c}catch(b){Dt(i,i.return,b)}}var Wi=!1,en=!1,x0=!1,cE=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function A4(i,a){if(i=i.containerInfo,z0=km,i=b_(i),yy(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var A=0,P=-1,F=-1,ee=0,ae=0,de=i,te=null;t:for(;;){for(var ne;de!==c||y!==0&&de.nodeType!==3||(P=A+y),de!==b||f!==0&&de.nodeType!==3||(F=A+f),de.nodeType===3&&(A+=de.nodeValue.length),(ne=de.firstChild)!==null;)te=de,de=ne;for(;;){if(de===i)break t;if(te===c&&++ee===y&&(P=A),te===b&&++ae===f&&(F=A),(ne=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ne}c=P===-1||F===-1?null:{start:P,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(q0={focusedElem:i,selectionRange:c},km=!1,Cn=a;Cn!==null;)if(a=Cn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Cn=i;else for(;Cn!==null;){switch(a=Cn,b=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,c=a,y=b.memoizedProps,b=b.memoizedState,f=c.stateNode;try{var $e=il(c.type,y,c.elementType===c.type);i=f.getSnapshotBeforeUpdate($e,b),f.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){Dt(c,c.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,c=i.nodeType,c===9)K0(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":K0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Cn=i;break}Cn=a.return}}function uE(i,a,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Ua(i,c),f&4&&ad(5,c);break;case 1:if(Ua(i,c),f&4)if(i=c.stateNode,a===null)try{i.componentDidMount()}catch(A){Dt(c,c.return,A)}else{var y=il(c.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Dt(c,c.return,A)}}f&64&&sE(c),f&512&&od(c,c.return);break;case 3:if(Ua(i,c),f&64&&(i=c.updateQueue,i!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{H_(i,a)}catch(A){Dt(c,c.return,A)}}break;case 27:a===null&&f&4&&lE(c);case 26:case 5:Ua(i,c),a===null&&f&4&&aE(c),f&512&&od(c,c.return);break;case 12:Ua(i,c);break;case 13:Ua(i,c),f&4&&fE(i,c),f&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=M4.bind(null,c),J4(i,c))));break;case 22:if(f=c.memoizedState!==null||Wi,!f){a=a!==null&&a.memoizedState!==null||en,y=Wi;var b=en;Wi=f,(en=a)&&!b?Ba(i,c,(c.subtreeFlags&8772)!==0):Ua(i,c),Wi=y,en=b}break;case 30:break;default:Ua(i,c)}}function dE(i){var a=i.alternate;a!==null&&(i.alternate=null,dE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Ae(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $t=null,vr=!1;function Xi(i,a,c){for(c=c.child;c!==null;)hE(i,a,c),c=c.sibling}function hE(i,a,c){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(vt,c)}catch{}switch(c.tag){case 26:en||ei(c,a),Xi(i,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:en||ei(c,a);var f=$t,y=vr;Ga(c.type)&&($t=c.stateNode,vr=!1),Xi(i,a,c),gd(c.stateNode),$t=f,vr=y;break;case 5:en||ei(c,a);case 6:if(f=$t,y=vr,$t=null,Xi(i,a,c),$t=f,vr=y,$t!==null)if(vr)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(c.stateNode)}catch(b){Dt(c,a,b)}else try{$t.removeChild(c.stateNode)}catch(b){Dt(c,a,b)}break;case 18:$t!==null&&(vr?(i=$t,eS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Ed(i)):eS($t,c.stateNode));break;case 4:f=$t,y=vr,$t=c.stateNode.containerInfo,vr=!0,Xi(i,a,c),$t=f,vr=y;break;case 0:case 11:case 14:case 15:en||La(2,c,a),en||La(4,c,a),Xi(i,a,c);break;case 1:en||(ei(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"&&iE(c,a,f)),Xi(i,a,c);break;case 21:Xi(i,a,c);break;case 22:en=(f=en)||c.memoizedState!==null,Xi(i,a,c),en=f;break;default:Xi(i,a,c)}}function fE(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ed(i)}catch(c){Dt(a,a.return,c)}}function R4(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new cE),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new cE),a;default:throw Error(r(435,i.tag))}}function b0(i,a){var c=R4(i);a.forEach(function(f){var y=O4.bind(null,i,f);c.has(f)||(c.add(f),f.then(y,y))})}function Dr(i,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],b=i,A=a,P=A;e:for(;P!==null;){switch(P.tag){case 27:if(Ga(P.type)){$t=P.stateNode,vr=!1;break e}break;case 5:$t=P.stateNode,vr=!1;break e;case 3:case 4:$t=P.stateNode.containerInfo,vr=!0;break e}P=P.return}if($t===null)throw Error(r(160));hE(b,A,y),$t=null,vr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)mE(a,i),a=a.sibling}var Es=null;function mE(i,a){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dr(a,i),Mr(i),f&4&&(La(3,i,i.return),ad(3,i),La(5,i,i.return));break;case 1:Dr(a,i),Mr(i),f&512&&(en||c===null||ei(c,c.return)),f&64&&Wi&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=Es;if(Dr(a,i),Mr(i),f&512&&(en||c===null||ei(c,c.return)),f&4){var b=c!==null?c.memoizedState:null;if(f=i.memoizedState,c===null)if(f===null)if(i.stateNode===null){e:{f=i.type,c=i.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Me]||b[ue]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),Ln(b,f,c),b[ue]=i,ut(b),f=b;break e;case"link":var A=lS("link","href",y).get(f+(c.href||""));if(A){for(var P=0;P<A.length;P++)if(b=A[P],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(P,1);break t}}b=y.createElement(f),Ln(b,f,c),y.head.appendChild(b);break;case"meta":if(A=lS("meta","content",y).get(f+(c.content||""))){for(P=0;P<A.length;P++)if(b=A[P],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(P,1);break t}}b=y.createElement(f),Ln(b,f,c),y.head.appendChild(b);break;default:throw Error(r(468,f))}b[ue]=i,ut(b),f=b}i.stateNode=f}else cS(y,i.type,i.stateNode);else i.stateNode=oS(y,f,i.memoizedProps);else b!==f?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,f===null?cS(y,i.type,i.stateNode):oS(y,f,i.memoizedProps)):f===null&&i.stateNode!==null&&g0(i,i.memoizedProps,c.memoizedProps)}break;case 27:Dr(a,i),Mr(i),f&512&&(en||c===null||ei(c,c.return)),c!==null&&f&4&&g0(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Dr(a,i),Mr(i),f&512&&(en||c===null||ei(c,c.return)),i.flags&32){y=i.stateNode;try{Qr(y,"")}catch(ne){Dt(i,i.return,ne)}}f&4&&i.stateNode!=null&&(y=i.memoizedProps,g0(i,y,c!==null?c.memoizedProps:y)),f&1024&&(x0=!0);break;case 6:if(Dr(a,i),Mr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,c=i.stateNode;try{c.nodeValue=f}catch(ne){Dt(i,i.return,ne)}}break;case 3:if(Am=null,y=Es,Es=Em(a.containerInfo),Dr(a,i),Es=y,Mr(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ed(a.containerInfo)}catch(ne){Dt(i,i.return,ne)}x0&&(x0=!1,pE(i));break;case 4:f=Es,Es=Em(i.stateNode.containerInfo),Dr(a,i),Mr(i),Es=f;break;case 12:Dr(a,i),Mr(i);break;case 13:Dr(a,i),Mr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(A0=ar()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,b0(i,f)));break;case 22:y=i.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,ee=Wi,ae=en;if(Wi=ee||y,en=ae||F,Dr(a,i),en=ae,Wi=ee,Mr(i),f&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(c===null||F||Wi||en||al(i)),c=null,a=i;;){if(a.tag===5||a.tag===26){if(c===null){F=c=a;try{if(b=F.stateNode,y)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=F.stateNode;var de=F.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;P.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Dt(F,F.return,ne)}}}else if(a.tag===6){if(c===null){F=a;try{F.stateNode.nodeValue=y?"":F.memoizedProps}catch(ne){Dt(F,F.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=i.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,b0(i,c))));break;case 19:Dr(a,i),Mr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,b0(i,f)));break;case 30:break;case 21:break;default:Dr(a,i),Mr(i)}}function Mr(i){var a=i.flags;if(a&2){try{for(var c,f=i.return;f!==null;){if(oE(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,b=y0(i);dm(i,b,y);break;case 5:var A=c.stateNode;c.flags&32&&(Qr(A,""),c.flags&=-33);var P=y0(i);dm(i,P,A);break;case 3:case 4:var F=c.stateNode.containerInfo,ee=y0(i);v0(i,ee,F);break;default:throw Error(r(161))}}catch(ae){Dt(i,i.return,ae)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function pE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;pE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ua(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)uE(i,a.alternate,a),a=a.sibling}function al(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:La(4,a,a.return),al(a);break;case 1:ei(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&iE(a,a.return,c),al(a);break;case 27:gd(a.stateNode);case 26:case 5:ei(a,a.return),al(a);break;case 22:a.memoizedState===null&&al(a);break;case 30:al(a);break;default:al(a)}i=i.sibling}}function Ba(i,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,y=i,b=a,A=b.flags;switch(b.tag){case 0:case 11:case 15:Ba(y,b,c),ad(4,b);break;case 1:if(Ba(y,b,c),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ee){Dt(f,f.return,ee)}if(f=b,y=f.updateQueue,y!==null){var P=f.stateNode;try{var F=y.shared.hiddenCallbacks;if(F!==null)for(y.shared.hiddenCallbacks=null,y=0;y<F.length;y++)q_(F[y],P)}catch(ee){Dt(f,f.return,ee)}}c&&A&64&&sE(b),od(b,b.return);break;case 27:lE(b);case 26:case 5:Ba(y,b,c),c&&f===null&&A&4&&aE(b),od(b,b.return);break;case 12:Ba(y,b,c);break;case 13:Ba(y,b,c),c&&A&4&&fE(y,b);break;case 22:b.memoizedState===null&&Ba(y,b,c),od(b,b.return);break;case 30:break;default:Ba(y,b,c)}a=a.sibling}}function w0(i,a){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Gu(c))}function _0(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Gu(i))}function ti(i,a,c,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)gE(i,a,c,f),a=a.sibling}function gE(i,a,c,f){var y=a.flags;switch(a.tag){case 0:case 11:case 15:ti(i,a,c,f),y&2048&&ad(9,a);break;case 1:ti(i,a,c,f);break;case 3:ti(i,a,c,f),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Gu(i)));break;case 12:if(y&2048){ti(i,a,c,f),i=a.stateNode;try{var b=a.memoizedProps,A=b.id,P=b.onPostCommit;typeof P=="function"&&P(A,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){Dt(a,a.return,F)}}else ti(i,a,c,f);break;case 13:ti(i,a,c,f);break;case 23:break;case 22:b=a.stateNode,A=a.alternate,a.memoizedState!==null?b._visibility&2?ti(i,a,c,f):ld(i,a):b._visibility&2?ti(i,a,c,f):(b._visibility|=2,vc(i,a,c,f,(a.subtreeFlags&10256)!==0)),y&2048&&w0(A,a);break;case 24:ti(i,a,c,f),y&2048&&_0(a.alternate,a);break;default:ti(i,a,c,f)}}function vc(i,a,c,f,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=i,A=a,P=c,F=f,ee=A.flags;switch(A.tag){case 0:case 11:case 15:vc(b,A,P,F,y),ad(8,A);break;case 23:break;case 22:var ae=A.stateNode;A.memoizedState!==null?ae._visibility&2?vc(b,A,P,F,y):ld(b,A):(ae._visibility|=2,vc(b,A,P,F,y)),y&&ee&2048&&w0(A.alternate,A);break;case 24:vc(b,A,P,F,y),y&&ee&2048&&_0(A.alternate,A);break;default:vc(b,A,P,F,y)}a=a.sibling}}function ld(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=i,f=a,y=f.flags;switch(f.tag){case 22:ld(c,f),y&2048&&w0(f.alternate,f);break;case 24:ld(c,f),y&2048&&_0(f.alternate,f);break;default:ld(c,f)}a=a.sibling}}var cd=8192;function xc(i){if(i.subtreeFlags&cd)for(i=i.child;i!==null;)yE(i),i=i.sibling}function yE(i){switch(i.tag){case 26:xc(i),i.flags&cd&&i.memoizedState!==null&&hV(Es,i.memoizedState,i.memoizedProps);break;case 5:xc(i);break;case 3:case 4:var a=Es;Es=Em(i.stateNode.containerInfo),xc(i),Es=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=cd,cd=16777216,xc(i),cd=a):xc(i));break;default:xc(i)}}function vE(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ud(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];Cn=f,bE(f,i)}vE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xE(i),i=i.sibling}function xE(i){switch(i.tag){case 0:case 11:case 15:ud(i),i.flags&2048&&La(9,i,i.return);break;case 3:ud(i);break;case 12:ud(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,hm(i)):ud(i);break;default:ud(i)}}function hm(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];Cn=f,bE(f,i)}vE(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:La(8,a,a.return),hm(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,hm(a));break;default:hm(a)}i=i.sibling}}function bE(i,a){for(;Cn!==null;){var c=Cn;switch(c.tag){case 0:case 11:case 15:La(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Gu(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Cn=f;else e:for(c=i;Cn!==null;){f=Cn;var y=f.sibling,b=f.return;if(dE(f),f===c){Cn=null;break e}if(y!==null){y.return=b,Cn=y;break e}Cn=b}}}var C4={getCacheForType:function(i){var a=Yn(bn),c=a.data.get(i);return c===void 0&&(c=i(),a.data.set(i,c)),c}},k4=typeof WeakMap=="function"?WeakMap:Map,Et=0,Ot=null,it=null,ft=0,St=0,Or=null,$a=!1,bc=!1,T0=!1,Qi=0,Xt=0,Fa=0,ol=0,E0=0,as=0,wc=0,dd=null,xr=null,S0=!1,A0=0,fm=1/0,mm=null,za=null,Vn=0,qa=null,_c=null,Tc=0,R0=0,C0=null,wE=null,hd=0,k0=null;function Vr(){if((Et&2)!==0&&ft!==0)return ft&-ft;if(J.T!==null){var i=uc;return i!==0?i:O0()}return G()}function _E(){as===0&&(as=(ft&536870912)===0||xt?ji():536870912);var i=is.current;return i!==null&&(i.flags|=32),as}function Lr(i,a,c){(i===Ot&&(St===2||St===9)||i.cancelPendingCommit!==null)&&(Ec(i,0),Ha(i,ft,as,!1)),ws(i,c),((Et&2)===0||i!==Ot)&&(i===Ot&&((Et&2)===0&&(ol|=c),Xt===4&&Ha(i,ft,as,!1)),ni(i))}function TE(i,a,c){if((Et&6)!==0)throw Error(r(327));var f=!c&&(a&124)===0&&(a&i.expiredLanes)===0||Kr(i,a),y=f?P4(i,a):P0(i,a,!0),b=f;do{if(y===0){bc&&!f&&Ha(i,a,0,!1);break}else{if(c=i.current.alternate,b&&!N4(c)){y=P0(i,a,!1),b=!1;continue}if(y===2){if(b=a,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var P=i;y=dd;var F=P.current.memoizedState.isDehydrated;if(F&&(Ec(P,A).flags|=256),A=P0(P,A,!1),A!==2){if(T0&&!F){P.errorRecoveryDisabledLanes|=b,ol|=b,y=4;break e}b=xr,xr=y,b!==null&&(xr===null?xr=b:xr.push.apply(xr,b))}y=A}if(b=!1,y!==2)continue}}if(y===1){Ec(i,0),Ha(i,a,0,!0);break}e:{switch(f=i,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ha(f,a,as,!$a);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=A0+300-ar(),10<y)){if(Ha(f,a,as,!$a),Ni(f,0,!0)!==0)break e;f.timeoutHandle=ZE(EE.bind(null,f,c,xr,mm,S0,a,as,ol,wc,$a,b,2,-0,0),y);break e}EE(f,c,xr,mm,S0,a,as,ol,wc,$a,b,0,-0,0)}}break}while(!0);ni(i)}function EE(i,a,c,f,y,b,A,P,F,ee,ae,de,te,ne){if(i.timeoutHandle=-1,de=a.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(xd={stylesheets:null,count:0,unsuspend:dV},yE(a),de=fV(),de!==null)){i.cancelPendingCommit=de(jE.bind(null,i,a,b,c,f,y,A,P,F,ae,1,te,ne)),Ha(i,b,A,!ee);return}jE(i,a,b,c,f,y,A,P,F)}function N4(i){for(var a=i;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],b=y.getSnapshot;y=y.value;try{if(!Pr(b(),y))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ha(i,a,c,f){a&=~E0,a&=~ol,i.suspendedLanes|=a,i.pingedLanes&=~a,f&&(i.warmLanes|=a),f=i.expirationTimes;for(var y=a;0<y;){var b=31-cn(y),A=1<<b;f[b]=-1,y&=~A}c!==0&&or(i,c,a)}function pm(){return(Et&6)===0?(fd(0),!1):!0}function N0(){if(it!==null){if(St===0)var i=it.return;else i=it,zi=tl=null,Ky(i),gc=null,rd=0,i=it;for(;i!==null;)rE(i.alternate,i),i=i.return;it=null}}function Ec(i,a){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,Y4(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),N0(),Ot=i,it=c=Bi(i.current,null),ft=a,St=0,Or=null,$a=!1,bc=Kr(i,a),T0=!1,wc=as=E0=ol=Fa=Xt=0,xr=dd=null,S0=!1,(a&8)!==0&&(a|=a&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=a;0<f;){var y=31-cn(f),b=1<<y;a|=i[y],f&=~b}return Qi=a,Vf(),c}function SE(i,a){et=null,J.H=nm,a===Yu||a===Gf?(a=F_(),St=3):a===U_?(a=F_(),St=4):St=a===zT?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Or=a,it===null&&(Xt=1,om(i,ts(a,i.current)))}function AE(){var i=J.H;return J.H=nm,i===null?nm:i}function RE(){var i=J.A;return J.A=C4,i}function j0(){Xt=4,$a||(ft&4194048)!==ft&&is.current!==null||(bc=!0),(Fa&134217727)===0&&(ol&134217727)===0||Ot===null||Ha(Ot,ft,as,!1)}function P0(i,a,c){var f=Et;Et|=2;var y=AE(),b=RE();(Ot!==i||ft!==a)&&(mm=null,Ec(i,a)),a=!1;var A=Xt;e:do try{if(St!==0&&it!==null){var P=it,F=Or;switch(St){case 8:N0(),A=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(a=!0);var ee=St;if(St=0,Or=null,Sc(i,P,F,ee),c&&bc){A=0;break e}break;default:ee=St,St=0,Or=null,Sc(i,P,F,ee)}}j4(),A=Xt;break}catch(ae){SE(i,ae)}while(!0);return a&&i.shellSuspendCounter++,zi=tl=null,Et=f,J.H=y,J.A=b,it===null&&(Ot=null,ft=0,Vf()),A}function j4(){for(;it!==null;)CE(it)}function P4(i,a){var c=Et;Et|=2;var f=AE(),y=RE();Ot!==i||ft!==a?(mm=null,fm=ar()+500,Ec(i,a)):bc=Kr(i,a);e:do try{if(St!==0&&it!==null){a=it;var b=Or;t:switch(St){case 1:St=0,Or=null,Sc(i,a,b,1);break;case 2:case 9:if(B_(b)){St=0,Or=null,kE(a);break}a=function(){St!==2&&St!==9||Ot!==i||(St=7),ni(i)},b.then(a,a);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:B_(b)?(St=0,Or=null,kE(a)):(St=0,Or=null,Sc(i,a,b,7));break;case 5:var A=null;switch(it.tag){case 26:A=it.memoizedState;case 5:case 27:var P=it;if(!A||uS(A)){St=0,Or=null;var F=P.sibling;if(F!==null)it=F;else{var ee=P.return;ee!==null?(it=ee,gm(ee)):it=null}break t}}St=0,Or=null,Sc(i,a,b,5);break;case 6:St=0,Or=null,Sc(i,a,b,6);break;case 8:N0(),Xt=6;break e;default:throw Error(r(462))}}I4();break}catch(ae){SE(i,ae)}while(!0);return zi=tl=null,J.H=f,J.A=y,Et=c,it!==null?0:(Ot=null,ft=0,Vf(),Xt)}function I4(){for(;it!==null&&!Do();)CE(it)}function CE(i){var a=tE(i.alternate,i,Qi);i.memoizedProps=i.pendingProps,a===null?gm(i):it=a}function kE(i){var a=i,c=a.alternate;switch(a.tag){case 15:case 0:a=WT(c,a,a.pendingProps,a.type,void 0,ft);break;case 11:a=WT(c,a,a.pendingProps,a.type.render,a.ref,ft);break;case 5:Ky(a);default:rE(c,a),a=it=N_(a,Qi),a=tE(c,a,Qi)}i.memoizedProps=i.pendingProps,a===null?gm(i):it=a}function Sc(i,a,c,f){zi=tl=null,Ky(a),gc=null,rd=0;var y=a.return;try{if(_4(i,y,a,c,ft)){Xt=1,om(i,ts(c,i.current)),it=null;return}}catch(b){if(y!==null)throw it=y,b;Xt=1,om(i,ts(c,i.current)),it=null;return}a.flags&32768?(xt||f===1?i=!0:bc||(ft&536870912)!==0?i=!1:($a=i=!0,(f===2||f===9||f===3||f===6)&&(f=is.current,f!==null&&f.tag===13&&(f.flags|=16384))),NE(a,i)):gm(a)}function gm(i){var a=i;do{if((a.flags&32768)!==0){NE(a,$a);return}i=a.return;var c=E4(a.alternate,a,Qi);if(c!==null){it=c;return}if(a=a.sibling,a!==null){it=a;return}it=a=i}while(a!==null);Xt===0&&(Xt=5)}function NE(i,a){do{var c=S4(i.alternate,i);if(c!==null){c.flags&=32767,it=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(i=i.sibling,i!==null)){it=i;return}it=i=c}while(i!==null);Xt=6,it=null}function jE(i,a,c,f,y,b,A,P,F){i.cancelPendingCommit=null;do ym();while(Vn!==0);if((Et&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=_y,Aa(i,c,b,A,P,F),i===Ot&&(it=Ot=null,ft=0),_c=a,qa=i,Tc=c,R0=b,C0=y,wE=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,V4(ki,function(){return OE(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=J.T,J.T=null,y=se.p,se.p=2,A=Et,Et|=4;try{A4(i,a,c)}finally{Et=A,se.p=y,J.T=f}}Vn=1,PE(),IE(),DE()}}function PE(){if(Vn===1){Vn=0;var i=qa,a=_c,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=J.T,J.T=null;var f=se.p;se.p=2;var y=Et;Et|=4;try{mE(a,i);var b=q0,A=b_(i.containerInfo),P=b.focusedElem,F=b.selectionRange;if(A!==P&&P&&P.ownerDocument&&x_(P.ownerDocument.documentElement,P)){if(F!==null&&yy(P)){var ee=F.start,ae=F.end;if(ae===void 0&&(ae=ee),"selectionStart"in P)P.selectionStart=ee,P.selectionEnd=Math.min(ae,P.value.length);else{var de=P.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var ne=te.getSelection(),$e=P.textContent.length,Oe=Math.min(F.start,$e),jt=F.end===void 0?Oe:Math.min(F.end,$e);!ne.extend&&Oe>jt&&(A=jt,jt=Oe,Oe=A);var Y=v_(P,Oe),K=v_(P,jt);if(Y&&K&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==K.node||ne.focusOffset!==K.offset)){var Q=de.createRange();Q.setStart(Y.node,Y.offset),ne.removeAllRanges(),Oe>jt?(ne.addRange(Q),ne.extend(K.node,K.offset)):(Q.setEnd(K.node,K.offset),ne.addRange(Q))}}}}for(de=[],ne=P;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<de.length;P++){var oe=de[P];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}km=!!z0,q0=z0=null}finally{Et=y,se.p=f,J.T=c}}i.current=a,Vn=2}}function IE(){if(Vn===2){Vn=0;var i=qa,a=_c,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=J.T,J.T=null;var f=se.p;se.p=2;var y=Et;Et|=4;try{uE(i,a.alternate,a)}finally{Et=y,se.p=f,J.T=c}}Vn=3}}function DE(){if(Vn===4||Vn===3){Vn=0,Hl();var i=qa,a=_c,c=Tc,f=wE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Vn=5:(Vn=0,_c=qa=null,ME(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(za=null),Ra(c),a=a.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(vt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=J.T,y=se.p,se.p=2,J.T=null;try{for(var b=i.onRecoverableError,A=0;A<f.length;A++){var P=f[A];b(P.value,{componentStack:P.stack})}}finally{J.T=a,se.p=y}}(Tc&3)!==0&&ym(),ni(i),y=i.pendingLanes,(c&4194090)!==0&&(y&42)!==0?i===k0?hd++:(hd=0,k0=i):hd=0,fd(0)}}function ME(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Gu(a)))}function ym(i){return PE(),IE(),DE(),OE()}function OE(){if(Vn!==5)return!1;var i=qa,a=R0;R0=0;var c=Ra(Tc),f=J.T,y=se.p;try{se.p=32>c?32:c,J.T=null,c=C0,C0=null;var b=qa,A=Tc;if(Vn=0,_c=qa=null,Tc=0,(Et&6)!==0)throw Error(r(331));var P=Et;if(Et|=4,xE(b.current),gE(b,b.current,A,c),Et=P,fd(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(vt,b)}catch{}return!0}finally{se.p=y,J.T=f,ME(i,a)}}function VE(i,a,c){a=ts(c,a),a=o0(i.stateNode,a,2),i=Da(i,a,2),i!==null&&(ws(i,2),ni(i))}function Dt(i,a,c){if(i.tag===3)VE(i,i,c);else for(;a!==null;){if(a.tag===3){VE(a,i,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(za===null||!za.has(f))){i=ts(c,i),c=$T(2),f=Da(a,c,2),f!==null&&(FT(c,f,a,i),ws(f,2),ni(f));break}}a=a.return}}function I0(i,a,c){var f=i.pingCache;if(f===null){f=i.pingCache=new k4;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(T0=!0,y.add(c),i=D4.bind(null,i,a,c),a.then(i,i))}function D4(i,a,c){var f=i.pingCache;f!==null&&f.delete(a),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Ot===i&&(ft&c)===c&&(Xt===4||Xt===3&&(ft&62914560)===ft&&300>ar()-A0?(Et&2)===0&&Ec(i,0):E0|=c,wc===ft&&(wc=0)),ni(i)}function LE(i,a){a===0&&(a=Oo()),i=ac(i,a),i!==null&&(ws(i,a),ni(i))}function M4(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),LE(i,c)}function O4(i,a){var c=0;switch(i.tag){case 13:var f=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),LE(i,c)}function V4(i,a){return Ci(i,a)}var vm=null,Ac=null,D0=!1,xm=!1,M0=!1,ll=0;function ni(i){i!==Ac&&i.next===null&&(Ac===null?vm=Ac=i:Ac=Ac.next=i),xm=!0,D0||(D0=!0,U4())}function fd(i,a){if(!M0&&xm){M0=!0;do for(var c=!1,f=vm;f!==null;){if(i!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var A=f.suspendedLanes,P=f.pingedLanes;b=(1<<31-cn(42|i)+1)-1,b&=y&~(A&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,FE(f,b))}else b=ft,b=Ni(f,f===Ot?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Kr(f,b)||(c=!0,FE(f,b));f=f.next}while(c);M0=!1}}function L4(){UE()}function UE(){xm=D0=!1;var i=0;ll!==0&&(K4()&&(i=ll),ll=0);for(var a=ar(),c=null,f=vm;f!==null;){var y=f.next,b=BE(f,a);b===0?(f.next=null,c===null?vm=y:c.next=y,y===null&&(Ac=c)):(c=f,(i!==0||(b&3)!==0)&&(xm=!0)),f=y}fd(i)}function BE(i,a){for(var c=i.suspendedLanes,f=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-cn(b),P=1<<A,F=y[A];F===-1?((P&c)===0||(P&f)!==0)&&(y[A]=Sa(P,a)):F<=a&&(i.expiredLanes|=P),b&=~P}if(a=Ot,c=ft,c=Ni(i,i===a?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,c===0||i===a&&(St===2||St===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&ir(f),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Kr(i,c)){if(a=c&-c,a===i.callbackPriority)return a;switch(f!==null&&ir(f),Ra(c)){case 2:case 8:c=_a;break;case 32:c=ki;break;case 268435456:c=Hr;break;default:c=ki}return f=$E.bind(null,i),c=Ci(c,f),i.callbackPriority=a,i.callbackNode=c,a}return f!==null&&f!==null&&ir(f),i.callbackPriority=2,i.callbackNode=null,2}function $E(i,a){if(Vn!==0&&Vn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(ym()&&i.callbackNode!==c)return null;var f=ft;return f=Ni(i,i===Ot?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(TE(i,f,a),BE(i,ar()),i.callbackNode!=null&&i.callbackNode===c?$E.bind(null,i):null)}function FE(i,a){if(ym())return null;TE(i,a,!0)}function U4(){W4(function(){(Et&6)!==0?Ci(Mo,L4):UE()})}function O0(){return ll===0&&(ll=ji()),ll}function zE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Yl(""+i)}function qE(i,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,i.id&&c.setAttribute("form",i.id),a.parentNode.insertBefore(c,a),i=new FormData(i),c.parentNode.removeChild(c),i}function B4(i,a,c,f,y){if(a==="submit"&&c&&c.stateNode===y){var b=zE((y[pe]||null).action),A=f.submitter;A&&(a=(a=A[pe]||null)?zE(a.formAction):A.getAttribute("formAction"),a!==null&&(b=a,A=null));var P=new Wl("action","action",null,f,y);i.push({event:P,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ll!==0){var F=A?qE(y,A):new FormData(y);n0(c,{pending:!0,data:F,method:y.method,action:b},null,F)}}else typeof b=="function"&&(P.preventDefault(),F=A?qE(y,A):new FormData(y),n0(c,{pending:!0,data:F,method:y.method,action:b},b,F))},currentTarget:y}]})}}for(var V0=0;V0<wy.length;V0++){var L0=wy[V0],$4=L0.toLowerCase(),F4=L0[0].toUpperCase()+L0.slice(1);Ts($4,"on"+F4)}Ts(T_,"onAnimationEnd"),Ts(E_,"onAnimationIteration"),Ts(S_,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(i4,"onTransitionRun"),Ts(a4,"onTransitionStart"),Ts(o4,"onTransitionCancel"),Ts(A_,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(md));function HE(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],y=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var A=f.length-1;0<=A;A--){var P=f[A],F=P.instance,ee=P.currentTarget;if(P=P.listener,F!==b&&y.isPropagationStopped())break e;b=P,y.currentTarget=ee;try{b(y)}catch(ae){am(ae)}y.currentTarget=null,b=F}else for(A=0;A<f.length;A++){if(P=f[A],F=P.instance,ee=P.currentTarget,P=P.listener,F!==b&&y.isPropagationStopped())break e;b=P,y.currentTarget=ee;try{b(y)}catch(ae){am(ae)}y.currentTarget=null,b=F}}}}function at(i,a){var c=a[De];c===void 0&&(c=a[De]=new Set);var f=i+"__bubble";c.has(f)||(GE(a,i,2,!1),c.add(f))}function U0(i,a,c){var f=0;a&&(f|=4),GE(c,i,f,a)}var bm="_reactListening"+Math.random().toString(36).slice(2);function B0(i){if(!i[bm]){i[bm]=!0,nt.forEach(function(c){c!=="selectionchange"&&(z4.has(c)||U0(c,!1,i),U0(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[bm]||(a[bm]=!0,U0("selectionchange",!1,a))}}function GE(i,a,c,f){switch(gS(a)){case 2:var y=gV;break;case 8:y=yV;break;default:y=ev}c=y.bind(null,a,c,i),y=void 0,!Jr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?i.addEventListener(a,c,{capture:!0,passive:y}):i.addEventListener(a,c,!0):y!==void 0?i.addEventListener(a,c,{passive:y}):i.addEventListener(a,c,!1)}function $0(i,a,c,f,y){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var P=f.stateNode.containerInfo;if(P===y)break;if(A===4)for(A=f.return;A!==null;){var F=A.tag;if((F===3||F===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;P!==null;){if(A=Ve(P),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){f=b=A;continue e}P=P.parentNode}}f=f.return}_f(function(){var ee=b,ae=Zr(c),de=[];e:{var te=R_.get(i);if(te!==void 0){var ne=Wl,$e=i;switch(i){case"keypress":if(Ks(c)===0)break e;case"keydown":case"keyup":ne=tc;break;case"focusin":$e="focus",ne=Zl;break;case"focusout":$e="blur",ne=Zl;break;case"beforeblur":case"afterblur":ne=Zl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Nf;break;case T_:case E_:case S_:ne=Jl;break;case A_:ne=Pf;break;case"scroll":case"scrollend":ne=Tf;break;case"wheel":ne=nc;break;case"copy":case"cut":case"paste":ne=ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Lu;break;case"toggle":case"beforetoggle":ne=Df}var Oe=(a&4)!==0,jt=!Oe&&(i==="scroll"||i==="scrollend"),Y=Oe?te!==null?te+"Capture":null:te;Oe=[];for(var K=ee,Q;K!==null;){var oe=K;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||Y===null||(oe=$o(K,Y),oe!=null&&Oe.push(pd(K,oe,Q))),jt)break;K=K.return}0<Oe.length&&(te=new ne(te,$e,null,c,ae),de.push({event:te,listeners:Oe}))}}if((a&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",te&&c!==Di&&($e=c.relatedTarget||c.fromElement)&&(Ve($e)||$e[we]))break e;if((ne||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,ne?($e=c.relatedTarget||c.toElement,ne=ee,$e=$e?Ve($e):null,$e!==null&&(jt=o($e),Oe=$e.tag,$e!==jt||Oe!==5&&Oe!==27&&Oe!==6)&&($e=null)):(ne=null,$e=ee),ne!==$e)){if(Oe=es,oe="onMouseLeave",Y="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=Lu,oe="onPointerLeave",Y="onPointerEnter",K="pointer"),jt=ne==null?te:wt(ne),Q=$e==null?te:wt($e),te=new Oe(oe,K+"leave",ne,c,ae),te.target=jt,te.relatedTarget=Q,oe=null,Ve(ae)===ee&&(Oe=new Oe(Y,K+"enter",$e,c,ae),Oe.target=Q,Oe.relatedTarget=jt,oe=Oe),jt=oe,ne&&$e)t:{for(Oe=ne,Y=$e,K=0,Q=Oe;Q;Q=Rc(Q))K++;for(Q=0,oe=Y;oe;oe=Rc(oe))Q++;for(;0<K-Q;)Oe=Rc(Oe),K--;for(;0<Q-K;)Y=Rc(Y),Q--;for(;K--;){if(Oe===Y||Y!==null&&Oe===Y.alternate)break t;Oe=Rc(Oe),Y=Rc(Y)}Oe=null}else Oe=null;ne!==null&&KE(de,te,ne,Oe,!1),$e!==null&&jt!==null&&KE(de,jt,$e,Oe,!0)}}e:{if(te=ee?wt(ee):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ee=h_;else if(xn(te))if(f_)Ee=n4;else{Ee=e4;var rt=JO}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&ju(ee.elementType)&&(Ee=h_):Ee=t4;if(Ee&&(Ee=Ee(i,ee))){Ui(de,Ee,c,ae);break e}rt&&rt(i,te,ee),i==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&ka(te,"number",te.value)}switch(rt=ee?wt(ee):window,i){case"focusin":(xn(rt)||rt.contentEditable==="true")&&(rc=rt,vy=ee,$u=null);break;case"focusout":$u=vy=rc=null;break;case"mousedown":xy=!0;break;case"contextmenu":case"mouseup":case"dragend":xy=!1,w_(de,c,ae);break;case"selectionchange":if(s4)break;case"keydown":case"keyup":w_(de,c,ae)}var ke;if(Xs)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else dt?re(i,c)&&(Le="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(E&&c.locale!=="ko"&&(dt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&dt&&(ke=Iu()):(Gs=ae,Na="value"in Gs?Gs.value:Gs.textContent,dt=!0)),rt=wm(ee,Le),0<rt.length&&(Le=new Ou(Le,i,null,c,ae),de.push({event:Le,listeners:rt}),ke?Le.data=ke:(ke=ye(c),ke!==null&&(Le.data=ke)))),(ke=_?vn(i,c):ht(i,c))&&(Le=wm(ee,"onBeforeInput"),0<Le.length&&(rt=new Ou("onBeforeInput","beforeinput",null,c,ae),de.push({event:rt,listeners:Le}),rt.data=ke)),B4(de,i,ee,c,ae)}HE(de,a)})}function pd(i,a,c){return{instance:i,listener:a,currentTarget:c}}function wm(i,a){for(var c=a+"Capture",f=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=$o(i,c),y!=null&&f.unshift(pd(i,y,b)),y=$o(i,a),y!=null&&f.push(pd(i,y,b))),i.tag===3)return f;i=i.return}return[]}function Rc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function KE(i,a,c,f,y){for(var b=a._reactName,A=[];c!==null&&c!==f;){var P=c,F=P.alternate,ee=P.stateNode;if(P=P.tag,F!==null&&F===f)break;P!==5&&P!==26&&P!==27||ee===null||(F=ee,y?(ee=$o(c,b),ee!=null&&A.unshift(pd(c,ee,F))):y||(ee=$o(c,b),ee!=null&&A.push(pd(c,ee,F)))),c=c.return}A.length!==0&&i.push({event:a,listeners:A})}var q4=/\r\n?/g,H4=/\u0000|\uFFFD/g;function YE(i){return(typeof i=="string"?i:""+i).replace(q4,`
`).replace(H4,"")}function WE(i,a){return a=YE(a),YE(i)===a}function _m(){}function Nt(i,a,c,f,y,b){switch(c){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Qr(i,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Qr(i,""+f);break;case"className":cr(i,"class",f);break;case"tabIndex":cr(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(i,c,f);break;case"style":Nu(i,f,b);break;case"data":if(a!=="object"){cr(i,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||c!=="href")){i.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Yl(""+f),i.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(a!=="input"&&Nt(i,a,"name",y.name,y,null),Nt(i,a,"formEncType",y.formEncType,y,null),Nt(i,a,"formMethod",y.formMethod,y,null),Nt(i,a,"formTarget",y.formTarget,y,null)):(Nt(i,a,"encType",y.encType,y,null),Nt(i,a,"method",y.method,y,null),Nt(i,a,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Yl(""+f),i.setAttribute(c,f);break;case"onClick":f!=null&&(i.onclick=_m);break;case"onScroll":f!=null&&at("scroll",i);break;case"onScrollEnd":f!=null&&at("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}c=Yl(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""+f):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":f===!0?i.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,f):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(c,f):i.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(c):i.setAttribute(c,f);break;case"popover":at("beforetoggle",i),at("toggle",i),Kn(i,"popover",f);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Kn(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=dy.get(c)||c,Kn(i,c,f))}}function F0(i,a,c,f,y,b){switch(c){case"style":Nu(i,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof f=="string"?Qr(i,f):(typeof f=="number"||typeof f=="bigint")&&Qr(i,""+f);break;case"onScroll":f!=null&&at("scroll",i);break;case"onScrollEnd":f!=null&&at("scrollend",i);break;case"onClick":f!=null&&(i.onclick=_m);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),a=c.slice(2,y?c.length-7:void 0),b=i[pe]||null,b=b!=null?b[c]:null,typeof b=="function"&&i.removeEventListener(a,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(a,f,y);break e}c in i?i[c]=f:f===!0?i.setAttribute(c,""):Kn(i,c,f)}}}function Ln(i,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",i),at("load",i);var f=!1,y=!1,b;for(b in c)if(c.hasOwnProperty(b)){var A=c[b];if(A!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Nt(i,a,b,A,c,null)}}y&&Nt(i,a,"srcSet",c.srcSet,c,null),f&&Nt(i,a,"src",c.src,c,null);return;case"input":at("invalid",i);var P=b=A=y=null,F=null,ee=null;for(f in c)if(c.hasOwnProperty(f)){var ae=c[f];if(ae!=null)switch(f){case"name":y=ae;break;case"type":A=ae;break;case"checked":F=ae;break;case"defaultChecked":ee=ae;break;case"value":b=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,a));break;default:Nt(i,a,f,ae,c,null)}}Lo(i,b,P,F,ee,A,y,!1),Kl(i);return;case"select":at("invalid",i),f=A=b=null;for(y in c)if(c.hasOwnProperty(y)&&(P=c[y],P!=null))switch(y){case"value":b=P;break;case"defaultValue":A=P;break;case"multiple":f=P;default:Nt(i,a,y,P,c,null)}a=b,c=A,i.multiple=!!f,a!=null?Ii(i,!!f,a,!1):c!=null&&Ii(i,!!f,c,!0);return;case"textarea":at("invalid",i),b=y=f=null;for(A in c)if(c.hasOwnProperty(A)&&(P=c[A],P!=null))switch(A){case"value":f=P;break;case"defaultValue":y=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Nt(i,a,A,P,c,null)}Uo(i,f,y,b),Kl(i);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(f=c[F],f!=null))switch(F){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Nt(i,a,F,f,c,null)}return;case"dialog":at("beforetoggle",i),at("toggle",i),at("cancel",i),at("close",i);break;case"iframe":case"object":at("load",i);break;case"video":case"audio":for(f=0;f<md.length;f++)at(md[f],i);break;case"image":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"embed":case"source":case"link":at("error",i),at("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(f=c[ee],f!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Nt(i,a,ee,f,c,null)}return;default:if(ju(a)){for(ae in c)c.hasOwnProperty(ae)&&(f=c[ae],f!==void 0&&F0(i,a,ae,f,c,void 0));return}}for(P in c)c.hasOwnProperty(P)&&(f=c[P],f!=null&&Nt(i,a,P,f,c,null))}function G4(i,a,c,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,A=null,P=null,F=null,ee=null,ae=null;for(ne in c){var de=c[ne];if(c.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=de;default:f.hasOwnProperty(ne)||Nt(i,a,ne,null,f,de)}}for(var te in f){var ne=f[te];if(de=c[te],f.hasOwnProperty(te)&&(ne!=null||de!=null))switch(te){case"type":b=ne;break;case"name":y=ne;break;case"checked":ee=ne;break;case"defaultChecked":ae=ne;break;case"value":A=ne;break;case"defaultValue":P=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==de&&Nt(i,a,te,ne,f,de)}}jr(i,A,P,F,ee,ae,b,y);return;case"select":ne=A=P=te=null;for(b in c)if(F=c[b],c.hasOwnProperty(b)&&F!=null)switch(b){case"value":break;case"multiple":ne=F;default:f.hasOwnProperty(b)||Nt(i,a,b,null,f,F)}for(y in f)if(b=f[y],F=c[y],f.hasOwnProperty(y)&&(b!=null||F!=null))switch(y){case"value":te=b;break;case"defaultValue":P=b;break;case"multiple":A=b;default:b!==F&&Nt(i,a,y,b,f,F)}a=P,c=A,f=ne,te!=null?Ii(i,!!c,te,!1):!!f!=!!c&&(a!=null?Ii(i,!!c,a,!0):Ii(i,!!c,c?[]:"",!1));return;case"textarea":ne=te=null;for(P in c)if(y=c[P],c.hasOwnProperty(P)&&y!=null&&!f.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Nt(i,a,P,null,f,y)}for(A in f)if(y=f[A],b=c[A],f.hasOwnProperty(A)&&(y!=null||b!=null))switch(A){case"value":te=y;break;case"defaultValue":ne=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&Nt(i,a,A,y,f,b)}Ct(i,te,ne);return;case"option":for(var $e in c)if(te=c[$e],c.hasOwnProperty($e)&&te!=null&&!f.hasOwnProperty($e))switch($e){case"selected":i.selected=!1;break;default:Nt(i,a,$e,null,f,te)}for(F in f)if(te=f[F],ne=c[F],f.hasOwnProperty(F)&&te!==ne&&(te!=null||ne!=null))switch(F){case"selected":i.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Nt(i,a,F,te,f,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in c)te=c[Oe],c.hasOwnProperty(Oe)&&te!=null&&!f.hasOwnProperty(Oe)&&Nt(i,a,Oe,null,f,te);for(ee in f)if(te=f[ee],ne=c[ee],f.hasOwnProperty(ee)&&te!==ne&&(te!=null||ne!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:Nt(i,a,ee,te,f,ne)}return;default:if(ju(a)){for(var jt in c)te=c[jt],c.hasOwnProperty(jt)&&te!==void 0&&!f.hasOwnProperty(jt)&&F0(i,a,jt,void 0,f,te);for(ae in f)te=f[ae],ne=c[ae],!f.hasOwnProperty(ae)||te===ne||te===void 0&&ne===void 0||F0(i,a,ae,te,f,ne);return}}for(var Y in c)te=c[Y],c.hasOwnProperty(Y)&&te!=null&&!f.hasOwnProperty(Y)&&Nt(i,a,Y,null,f,te);for(de in f)te=f[de],ne=c[de],!f.hasOwnProperty(de)||te===ne||te==null&&ne==null||Nt(i,a,de,te,f,ne)}var z0=null,q0=null;function Tm(i){return i.nodeType===9?i:i.ownerDocument}function XE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QE(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function H0(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var G0=null;function K4(){var i=window.event;return i&&i.type==="popstate"?i===G0?!1:(G0=i,!0):(G0=null,!1)}var ZE=typeof setTimeout=="function"?setTimeout:void 0,Y4=typeof clearTimeout=="function"?clearTimeout:void 0,JE=typeof Promise=="function"?Promise:void 0,W4=typeof queueMicrotask=="function"?queueMicrotask:typeof JE<"u"?function(i){return JE.resolve(null).then(i).catch(X4)}:ZE;function X4(i){setTimeout(function(){throw i})}function Ga(i){return i==="head"}function eS(i,a){var c=a,f=0,y=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<f&&8>f){c=f;var A=i.ownerDocument;if(c&1&&gd(A.documentElement),c&2&&gd(A.body),c&4)for(c=A.head,gd(c),A=c.firstChild;A;){var P=A.nextSibling,F=A.nodeName;A[Me]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=P}}if(y===0){i.removeChild(b),Ed(a);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:f=c.charCodeAt(0)-48;else f=0;c=b}while(c);Ed(a)}function K0(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":K0(c),Ae(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function Q4(i,a,c,f){for(;i.nodeType===1;){var y=c;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Me])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ss(i.nextSibling),i===null)break}return null}function Z4(i,a,c){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Ss(i.nextSibling),i===null))return null;return i}function Y0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function J4(i,a){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")a();else{var f=function(){a(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Ss(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var W0=null;function tS(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}function nS(i,a,c){switch(a=Tm(c),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function gd(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ae(i)}var os=new Map,rS=new Set;function Em(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Zi=se.d;se.d={f:eV,r:tV,D:nV,C:rV,L:sV,m:iV,X:oV,S:aV,M:lV};function eV(){var i=Zi.f(),a=pm();return i||a}function tV(i){var a=st(i);a!==null&&a.tag===5&&a.type==="form"?TT(a):Zi.r(i)}var Cc=typeof document>"u"?null:document;function sS(i,a,c){var f=Cc;if(f&&typeof a=="string"&&a){var y=dn(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),rS.has(y)||(rS.add(y),i={rel:i,crossOrigin:c,href:a},f.querySelector(y)===null&&(a=f.createElement("link"),Ln(a,"link",i),ut(a),f.head.appendChild(a)))}}function nV(i){Zi.D(i),sS("dns-prefetch",i,null)}function rV(i,a){Zi.C(i,a),sS("preconnect",i,a)}function sV(i,a,c){Zi.L(i,a,c);var f=Cc;if(f&&i&&a){var y='link[rel="preload"][as="'+dn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+dn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+dn(c.imageSizes)+'"]')):y+='[href="'+dn(i)+'"]';var b=y;switch(a){case"style":b=kc(i);break;case"script":b=Nc(i)}os.has(b)||(i=p({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:i,as:a},c),os.set(b,i),f.querySelector(y)!==null||a==="style"&&f.querySelector(yd(b))||a==="script"&&f.querySelector(vd(b))||(a=f.createElement("link"),Ln(a,"link",i),ut(a),f.head.appendChild(a)))}}function iV(i,a){Zi.m(i,a);var c=Cc;if(c&&i){var f=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+dn(f)+'"][href="'+dn(i)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Nc(i)}if(!os.has(b)&&(i=p({rel:"modulepreload",href:i},a),os.set(b,i),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(vd(b)))return}f=c.createElement("link"),Ln(f,"link",i),ut(f),c.head.appendChild(f)}}}function aV(i,a,c){Zi.S(i,a,c);var f=Cc;if(f&&i){var y=pt(f).hoistableStyles,b=kc(i);a=a||"default";var A=y.get(b);if(!A){var P={loading:0,preload:null};if(A=f.querySelector(yd(b)))P.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},c),(c=os.get(b))&&X0(i,c);var F=A=f.createElement("link");ut(F),Ln(F,"link",i),F._p=new Promise(function(ee,ae){F.onload=ee,F.onerror=ae}),F.addEventListener("load",function(){P.loading|=1}),F.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Sm(A,a,f)}A={type:"stylesheet",instance:A,count:1,state:P},y.set(b,A)}}}function oV(i,a){Zi.X(i,a);var c=Cc;if(c&&i){var f=pt(c).hoistableScripts,y=Nc(i),b=f.get(y);b||(b=c.querySelector(vd(y)),b||(i=p({src:i,async:!0},a),(a=os.get(y))&&Q0(i,a),b=c.createElement("script"),ut(b),Ln(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function lV(i,a){Zi.M(i,a);var c=Cc;if(c&&i){var f=pt(c).hoistableScripts,y=Nc(i),b=f.get(y);b||(b=c.querySelector(vd(y)),b||(i=p({src:i,async:!0,type:"module"},a),(a=os.get(y))&&Q0(i,a),b=c.createElement("script"),ut(b),Ln(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function iS(i,a,c,f){var y=(y=Pe.current)?Em(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=kc(c.href),c=pt(y).hoistableStyles,f=c.get(a),f||(f={type:"style",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=kc(c.href);var b=pt(y).hoistableStyles,A=b.get(i);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=y.querySelector(yd(i)))&&!b._p&&(A.instance=b,A.state.loading=5),os.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},os.set(i,c),b||cV(y,i,c,A.state))),a&&f===null)throw Error(r(528,""));return A}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Nc(c),c=pt(y).hoistableScripts,f=c.get(a),f||(f={type:"script",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function kc(i){return'href="'+dn(i)+'"'}function yd(i){return'link[rel="stylesheet"]['+i+"]"}function aS(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function cV(i,a,c,f){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=i.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Ln(a,"link",c),ut(a),i.head.appendChild(a))}function Nc(i){return'[src="'+dn(i)+'"]'}function vd(i){return"script[async]"+i}function oS(i,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var f=i.querySelector('style[data-href~="'+dn(c.href)+'"]');if(f)return a.instance=f,ut(f),f;var y=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),ut(f),Ln(f,"style",y),Sm(f,c.precedence,i),a.instance=f;case"stylesheet":y=kc(c.href);var b=i.querySelector(yd(y));if(b)return a.state.loading|=4,a.instance=b,ut(b),b;f=aS(c),(y=os.get(y))&&X0(f,y),b=(i.ownerDocument||i).createElement("link"),ut(b);var A=b;return A._p=new Promise(function(P,F){A.onload=P,A.onerror=F}),Ln(b,"link",f),a.state.loading|=4,Sm(b,c.precedence,i),a.instance=b;case"script":return b=Nc(c.src),(y=i.querySelector(vd(b)))?(a.instance=y,ut(y),y):(f=c,(y=os.get(b))&&(f=p({},c),Q0(f,y)),i=i.ownerDocument||i,y=i.createElement("script"),ut(y),Ln(y,"link",f),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Sm(f,c.precedence,i));return a.instance}function Sm(i,a,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,A=0;A<f.length;A++){var P=f[A];if(P.dataset.precedence===a)b=P;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(i,a.firstChild))}function X0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Q0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Am=null;function lS(i,a,c){if(Am===null){var f=new Map,y=Am=new Map;y.set(c,f)}else y=Am,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(i))return f;for(f.set(i,null),c=c.getElementsByTagName(i),y=0;y<c.length;y++){var b=c[y];if(!(b[Me]||b[ue]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(a)||"";A=i+A;var P=f.get(A);P?P.push(b):f.set(A,[b])}}return f}function cS(i,a,c){i=i.ownerDocument||i,i.head.insertBefore(c,a==="title"?i.querySelector("head > title"):null)}function uV(i,a,c){if(c===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function uS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var xd=null;function dV(){}function hV(i,a,c){if(xd===null)throw Error(r(475));var f=xd;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=kc(c.href),b=i.querySelector(yd(y));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Rm.bind(f),i.then(f,f)),a.state.loading|=4,a.instance=b,ut(b);return}b=i.ownerDocument||i,c=aS(c),(y=os.get(y))&&X0(c,y),b=b.createElement("link"),ut(b);var A=b;A._p=new Promise(function(P,F){A.onload=P,A.onerror=F}),Ln(b,"link",c),a.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=Rm.bind(f),i.addEventListener("load",a),i.addEventListener("error",a))}}function fV(){if(xd===null)throw Error(r(475));var i=xd;return i.stylesheets&&i.count===0&&Z0(i,i.stylesheets),0<i.count?function(a){var c=setTimeout(function(){if(i.stylesheets&&Z0(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(c)}}:null}function Rm(){if(this.count--,this.count===0){if(this.stylesheets)Z0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cm=null;function Z0(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cm=new Map,a.forEach(mV,i),Cm=null,Rm.call(i))}function mV(i,a){if(!(a.state.loading&4)){var c=Cm.get(i);if(c)var f=c.get(null);else{c=new Map,Cm.set(i,c);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var A=y[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),f=A)}f&&c.set(null,f)}y=a.instance,A=y.getAttribute("data-precedence"),b=c.get(A)||f,b===f&&c.set(null,y),c.set(A,y),this.count++,f=Rm.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var bd={$$typeof:j,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function pV(i,a,c,f,y,b,A,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function dS(i,a,c,f,y,b,A,P,F,ee,ae,de){return i=new pV(i,a,c,A,P,F,ee,de),a=1,b===!0&&(a|=24),b=Ir(3,null,null,a),i.current=b,b.stateNode=i,a=Iy(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:c,cache:a},Vy(b),i}function hS(i){return i?(i=oc,i):oc}function fS(i,a,c,f,y,b){y=hS(y),f.context===null?f.context=y:f.pendingContext=y,f=Ia(a),f.payload={element:c},b=b===void 0?null:b,b!==null&&(f.callback=b),c=Da(i,f,a),c!==null&&(Lr(c,i,a),Xu(c,i,a))}function mS(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function J0(i,a){mS(i,a),(i=i.alternate)&&mS(i,a)}function pS(i){if(i.tag===13){var a=ac(i,67108864);a!==null&&Lr(a,i,67108864),J0(i,67108864)}}var km=!0;function gV(i,a,c,f){var y=J.T;J.T=null;var b=se.p;try{se.p=2,ev(i,a,c,f)}finally{se.p=b,J.T=y}}function yV(i,a,c,f){var y=J.T;J.T=null;var b=se.p;try{se.p=8,ev(i,a,c,f)}finally{se.p=b,J.T=y}}function ev(i,a,c,f){if(km){var y=tv(f);if(y===null)$0(i,a,f,Nm,c),yS(i,f);else if(xV(y,i,a,c,f))f.stopPropagation();else if(yS(i,f),a&4&&-1<vV.indexOf(i)){for(;y!==null;){var b=st(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Cr(b.pendingLanes);if(A!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var F=1<<31-cn(A);P.entanglements[1]|=F,A&=~F}ni(b),(Et&6)===0&&(fm=ar()+500,fd(0))}}break;case 13:P=ac(b,2),P!==null&&Lr(P,b,2),pm(),J0(b,2)}if(b=tv(f),b===null&&$0(i,a,f,Nm,c),b===y)break;y=b}y!==null&&f.stopPropagation()}else $0(i,a,f,null,c)}}function tv(i){return i=Zr(i),nv(i)}var Nm=null;function nv(i){if(Nm=null,i=Ve(i),i!==null){var a=o(i);if(a===null)i=null;else{var c=a.tag;if(c===13){if(i=l(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Nm=i,null}function gS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ru()){case Mo:return 2;case _a:return 8;case ki:case bs:return 32;case Hr:return 268435456;default:return 32}default:return 32}}var rv=!1,Ka=null,Ya=null,Wa=null,wd=new Map,_d=new Map,Xa=[],vV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yS(i,a){switch(i){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":wd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(a.pointerId)}}function Td(i,a,c,f,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},a!==null&&(a=st(a),a!==null&&pS(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function xV(i,a,c,f,y){switch(a){case"focusin":return Ka=Td(Ka,i,a,c,f,y),!0;case"dragenter":return Ya=Td(Ya,i,a,c,f,y),!0;case"mouseover":return Wa=Td(Wa,i,a,c,f,y),!0;case"pointerover":var b=y.pointerId;return wd.set(b,Td(wd.get(b)||null,i,a,c,f,y)),!0;case"gotpointercapture":return b=y.pointerId,_d.set(b,Td(_d.get(b)||null,i,a,c,f,y)),!0}return!1}function vS(i){var a=Ve(i.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){i.blockedOn=a,W(i.priority,function(){if(c.tag===13){var f=Vr();f=Fs(f);var y=ac(c,f);y!==null&&Lr(y,c,f),J0(c,f)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function jm(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=tv(i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);Di=f,c.target.dispatchEvent(f),Di=null}else return a=st(c),a!==null&&pS(a),i.blockedOn=c,!1;a.shift()}return!0}function xS(i,a,c){jm(i)&&c.delete(a)}function bV(){rv=!1,Ka!==null&&jm(Ka)&&(Ka=null),Ya!==null&&jm(Ya)&&(Ya=null),Wa!==null&&jm(Wa)&&(Wa=null),wd.forEach(xS),_d.forEach(xS)}function Pm(i,a){i.blockedOn===a&&(i.blockedOn=null,rv||(rv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bV)))}var Im=null;function bS(i){Im!==i&&(Im=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Im===i&&(Im=null);for(var a=0;a<i.length;a+=3){var c=i[a],f=i[a+1],y=i[a+2];if(typeof f!="function"){if(nv(f||c)===null)continue;break}var b=st(c);b!==null&&(i.splice(a,3),a-=3,n0(b,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function Ed(i){function a(F){return Pm(F,i)}Ka!==null&&Pm(Ka,i),Ya!==null&&Pm(Ya,i),Wa!==null&&Pm(Wa,i),wd.forEach(a),_d.forEach(a);for(var c=0;c<Xa.length;c++){var f=Xa[c];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Xa.length&&(c=Xa[0],c.blockedOn===null);)vS(c),c.blockedOn===null&&Xa.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],b=c[f+1],A=y[pe]||null;if(typeof b=="function")A||bS(c);else if(A){var P=null;if(b&&b.hasAttribute("formAction")){if(y=b,A=b[pe]||null)P=A.formAction;else if(nv(y)!==null)continue}else P=A.action;typeof P=="function"?c[f+1]=P:(c.splice(f,3),f-=3),bS(c)}}}function sv(i){this._internalRoot=i}Dm.prototype.render=sv.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var c=a.current,f=Vr();fS(c,f,i,a,null,null)},Dm.prototype.unmount=sv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;fS(i.current,2,null,i,null,null),pm(),a[we]=null}};function Dm(i){this._internalRoot=i}Dm.prototype.unstable_scheduleHydration=function(i){if(i){var a=G();i={blockedOn:null,target:i,priority:a};for(var c=0;c<Xa.length&&a!==0&&a<Xa[c].priority;c++);Xa.splice(c,0,i),c===0&&vS(i)}};var wS=e.version;if(wS!=="19.1.0")throw Error(r(527,wS,"19.1.0"));se.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var wV={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mm.isDisabled&&Mm.supportsFiber)try{vt=Mm.inject(wV),Je=Mm}catch{}}return Ad.createRoot=function(i,a){if(!s(i))throw Error(r(299));var c=!1,f="",y=VT,b=LT,A=UT,P=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(P=a.unstable_transitionCallbacks)),a=dS(i,1,!1,null,null,c,f,y,b,A,P,null),i[we]=a.current,B0(i),new sv(a)},Ad.hydrateRoot=function(i,a,c){if(!s(i))throw Error(r(299));var f=!1,y="",b=VT,A=LT,P=UT,F=null,ee=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(F=c.unstable_transitionCallbacks),c.formState!==void 0&&(ee=c.formState)),a=dS(i,1,!0,a,c??null,f,y,b,A,P,F,ee),a.context=hS(null),c=a.current,f=Vr(),f=Fs(f),y=Ia(f),y.callback=null,Da(c,y,f),c=f,a.current.lanes=c,ws(a,c),ni(a),i[we]=a.current,B0(i),new Dm(a)},Ad.version="19.1.0",Ad}var jS;function jV(){if(jS)return ov.exports;jS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ov.exports=NV(),ov.exports}var PV=jV(),Rd={},PS;function IV(){if(PS)return Rd;PS=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.parse=l,Rd.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,w){const T=new o,S=x.length;if(S<2)return T;const R=(w==null?void 0:w.decode)||p;let C=0;do{const O=x.indexOf("=",C);if(O===-1)break;const j=x.indexOf(";",C),$=j===-1?S:j;if(O>$){C=x.lastIndexOf(";",O-1)+1;continue}const D=u(x,C,O),V=d(x,O,D),I=x.slice(D,V);if(T[I]===void 0){let N=u(x,O+1,$),M=d(x,$,N);const B=R(x.slice(N,M));T[I]=B}C=$+1}while(C<S);return T}function u(x,w,T){do{const S=x.charCodeAt(w);if(S!==32&&S!==9)return w}while(++w<T);return T}function d(x,w,T){for(;w>T;){const S=x.charCodeAt(--w);if(S!==32&&S!==9)return w+1}return T}function h(x,w,T){const S=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const R=S(w);if(!e.test(R))throw new TypeError(`argument val is invalid: ${w}`);let C=x+"="+R;if(!T)return C;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);C+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);C+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);C+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);C+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(C+="; HttpOnly"),T.secure&&(C+="; Secure"),T.partitioned&&(C+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return C}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return s.call(x)==="[object Date]"}return Rd}IV();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Uk=t=>{throw TypeError(t)},DV=(t,e,n)=>e.has(t)||Uk("Cannot "+n),dv=(t,e,n)=>(DV(t,e,"read from private field"),n?n.call(t):e.get(t)),MV=(t,e,n)=>e.has(t)?Uk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),IS="popstate";function OV(t={}){function e(r,s){let{pathname:o,search:l,hash:u}=r.location;return uh("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:po(s)}return LV(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VV(){return Math.random().toString(36).substring(2,10)}function DS(t,e){return{usr:t.state,key:t.key,idx:e}}function uh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:n,key:e&&e.key||r||VV()}}function po({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function LV(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function v(){u="POP";let R=p(),C=R==null?null:R-h;h=R,d&&d({action:u,location:S.location,delta:C})}function x(R,C){u="PUSH";let O=uh(S.location,R,C);h=p()+1;let j=DS(O,h),$=S.createHref(O);try{l.pushState(j,"",$)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign($)}o&&d&&d({action:u,location:S.location,delta:1})}function w(R,C){u="REPLACE";let O=uh(S.location,R,C);h=p();let j=DS(O,h),$=S.createHref(O);l.replaceState(j,"",$),o&&d&&d({action:u,location:S.location,delta:0})}function T(R){return Bk(R)}let S={get action(){return u},get location(){return t(s,l)},listen(R){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(IS,v),d=R,()=>{s.removeEventListener(IS,v),d=null}},createHref(R){return e(s,R)},createURL:T,encodeLocation(R){let C=T(R);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:w,go(R){return l.go(R)}};return S}function Bk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:po(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Od,MS=class{constructor(t){if(MV(this,Od,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(dv(this,Od).has(t))return dv(this,Od).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){dv(this,Od).set(t,e)}};Od=new WeakMap;var UV=new Set(["lazy","caseSensitive","path","id","index","children"]);function BV(t){return UV.has(t)}var $V=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function FV(t){return $V.has(t)}function zV(t){return t.index===!0}function Ep(t,e,n=[],r={}){return t.map((s,o)=>{let l=[...n,String(o)],u=typeof s.id=="string"?s.id:l.join("-");if(Qe(s.index!==!0||!s.children,"Cannot specify children on an index route"),Qe(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),zV(s)){let d={...s,...e(s),id:u};return r[u]=d,d}else{let d={...s,...e(s),id:u,children:void 0};return r[u]=d,s.children&&(d.children=Ep(s.children,e,l,r)),d}})}function ro(t,e,n="/"){return Jm(t,e,n,!1)}function Jm(t,e,n,r){let s=typeof e=="string"?Co(e):e,o=gs(s.pathname||"/",n);if(o==null)return null;let l=$k(t);HV(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=nL(o);u=eL(l[d],h,r)}return u}function qV(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function $k(t,e=[],n=[],r=""){let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Qe(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=ii([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(Qe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),$k(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:ZV(h,o.index),routesMeta:p})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let d of Fk(o.path))s(o,l,d)}),e}function Fk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=Fk(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function HV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var GV=/^:[\w-]+$/,KV=3,YV=2,WV=1,XV=10,QV=-2,OS=t=>t==="*";function ZV(t,e){let n=t.split("/"),r=n.length;return n.some(OS)&&(r+=QV),e&&(r+=YV),n.filter(s=>!OS(s)).reduce((s,o)=>s+(GV.test(o)?KV:o===""?WV:XV),r)}function JV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function eL(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",v=Sp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),x=d.route;if(!v&&h&&n&&!r[r.length-1].route.index&&(v=Sp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:ii([o,v.pathname]),pathnameBase:iL(ii([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=ii([o,v.pathnameBase]))}return l}function Sp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:v},x)=>{if(p==="*"){let T=u[x]||"";l=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const w=u[x];return v&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function tL(t,e=!1,n=!0){sn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function nL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rL(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Co(t):t;return{pathname:n?n.startsWith("/")?n:sL(n,e):e,search:aL(r),hash:oL(s)}}function sL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hg(t){let e=zk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function fg(t,e,n,r=!1){let s;typeof t=="string"?s=Co(t):(s={...t},Qe(!s.pathname||!s.pathname.includes("?"),hv("?","pathname","search",s)),Qe(!s.pathname||!s.pathname.includes("#"),hv("#","pathname","hash",s)),Qe(!s.search||!s.search.includes("#"),hv("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;s.pathname=x.join("/")}u=v>=0?e[v]:"/"}let d=rL(s,u),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var ii=t=>t.join("/").replace(/\/\/+/g,"/"),iL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Ap=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function dh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var qk=["POST","PUT","PATCH","DELETE"],lL=new Set(qk),cL=["GET",...qk],uL=new Set(cL),dL=new Set([301,302,303,307,308]),hL=new Set([307,308]),fv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Cd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mL=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Hk="remix-router-transitions",Gk=Symbol("ResetLoaderData");function pL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Qe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],s=t.mapRouteProperties||mL,o={},l=Ep(t.routes,s,void 0,o),u,d=t.basename||"/",h=t.dataStrategy||bL,p={unstable_middleware:!1,...t.future},v=null,x=new Set,w=null,T=null,S=null,R=t.hydrationData!=null,C=ro(l,t.history.location,d),O=!1,j=null,$;if(C==null&&!t.patchRoutesOnNavigation){let G=hs(404,{pathname:t.history.location.pathname}),{matches:W,route:Z}=YS(l);$=!0,C=W,j={[Z.id]:G}}else if(C&&!t.hydrationData&&or(C,l,t.history.location.pathname).active&&(C=null),C)if(C.some(G=>G.route.lazy))$=!1;else if(!C.some(G=>G.route.loader))$=!0;else{let G=t.hydrationData?t.hydrationData.loaderData:null,W=t.hydrationData?t.hydrationData.errors:null;if(W){let Z=C.findIndex(ue=>W[ue.route.id]!==void 0);$=C.slice(0,Z+1).every(ue=>!rx(ue.route,G,W))}else $=C.every(Z=>!rx(Z.route,G,W))}else{$=!1,C=[];let G=or(null,l,t.history.location.pathname);G.active&&G.matches&&(O=!0,C=G.matches)}let D,V={historyAction:t.history.action,location:t.history.location,matches:C,initialized:$,navigation:fv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},I="POP",N=!1,M,B=!1,q=new Map,z=null,U=!1,ve=!1,be=new Set,J=new Map,se=0,me=-1,je=new Map,H=new Set,le=new Map,ge=new Map,fe=new Set,Re=new Map,Ye,Pe=null;function ln(){if(v=t.history.listen(({action:G,location:W,delta:Z})=>{if(Ye){Ye(),Ye=void 0;return}sn(Re.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=Sa({currentLocation:V.location,nextLocation:W,historyAction:G});if(ue&&Z!=null){let pe=new Promise(we=>{Ye=we});t.history.go(Z*-1),Kr(ue,{state:"blocked",location:W,proceed(){Kr(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),pe.then(()=>t.history.go(Z))},reset(){let we=new Map(V.blockers);we.set(ue,Cd),Bt({blockers:we})}});return}return ir(G,W)}),n){jL(e,q);let G=()=>PL(e,q);e.addEventListener("pagehide",G),z=()=>e.removeEventListener("pagehide",G)}return V.initialized||ir("POP",V.location,{initialHydration:!0}),D}function Rt(){v&&v(),z&&z(),x.clear(),M&&M.abort(),V.fetchers.forEach((G,W)=>cn(W)),V.blockers.forEach((G,W)=>Ni(W))}function qr(G){return x.add(G),()=>x.delete(G)}function Bt(G,W={}){V={...V,...G};let Z=[],ue=[];V.fetchers.forEach((pe,we)=>{pe.state==="idle"&&(fe.has(we)?Z.push(we):ue.push(we))}),fe.forEach(pe=>{!V.fetchers.has(pe)&&!J.has(pe)&&Z.push(pe)}),[...x].forEach(pe=>pe(V,{deletedFetchers:Z,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),Z.forEach(pe=>cn(pe)),ue.forEach(pe=>V.fetchers.delete(pe))}function Hn(G,W,{flushSync:Z}={}){var Ce,Me;let ue=V.actionData!=null&&V.navigation.formMethod!=null&&Br(V.navigation.formMethod)&&V.navigation.state==="loading"&&((Ce=G.state)==null?void 0:Ce._isRedirect)!==!0,pe;W.actionData?Object.keys(W.actionData).length>0?pe=W.actionData:pe=null:ue?pe=V.actionData:pe=null;let we=W.loaderData?GS(V.loaderData,W.loaderData,W.matches||[],W.errors):V.loaderData,De=V.blockers;De.size>0&&(De=new Map(De),De.forEach((Ae,Ve)=>De.set(Ve,Cd)));let Te=N===!0||V.navigation.formMethod!=null&&Br(V.navigation.formMethod)&&((Me=G.state)==null?void 0:Me._isRedirect)!==!0;u&&(l=u,u=void 0),U||I==="POP"||(I==="PUSH"?t.history.push(G,G.state):I==="REPLACE"&&t.history.replace(G,G.state));let Se;if(I==="POP"){let Ae=q.get(V.location.pathname);Ae&&Ae.has(G.pathname)?Se={currentLocation:V.location,nextLocation:G}:q.has(G.pathname)&&(Se={currentLocation:G,nextLocation:V.location})}else if(B){let Ae=q.get(V.location.pathname);Ae?Ae.add(G.pathname):(Ae=new Set([G.pathname]),q.set(V.location.pathname,Ae)),Se={currentLocation:V.location,nextLocation:G}}Bt({...W,actionData:pe,loaderData:we,historyAction:I,location:G,initialized:!0,navigation:fv,revalidation:"idle",restoreScrollPosition:Aa(G,W.matches||V.matches),preventScrollReset:Te,blockers:De},{viewTransitionOpts:Se,flushSync:Z===!0}),I="POP",N=!1,B=!1,U=!1,ve=!1,Pe==null||Pe.resolve(),Pe=null}async function Vs(G,W){if(typeof G=="number"){t.history.go(G);return}let Z=nx(V.location,V.matches,d,G,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:ue,submission:pe,error:we}=VS(!1,Z,W),De=V.location,Te=uh(V.location,ue,W&&W.state);Te={...Te,...t.history.encodeLocation(Te)};let Se=W&&W.replace!=null?W.replace:void 0,Ce="PUSH";Se===!0?Ce="REPLACE":Se===!1||pe!=null&&Br(pe.formMethod)&&pe.formAction===V.location.pathname+V.location.search&&(Ce="REPLACE");let Me=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Ae=(W&&W.flushSync)===!0,Ve=Sa({currentLocation:De,nextLocation:Te,historyAction:Ce});if(Ve){Kr(Ve,{state:"blocked",location:Te,proceed(){Kr(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),Vs(G,W)},reset(){let st=new Map(V.blockers);st.set(Ve,Cd),Bt({blockers:st})}});return}await ir(Ce,Te,{submission:pe,pendingError:we,preventScrollReset:Me,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:Ae})}function Ci(){Pe||(Pe=IL()),Ea(),Bt({revalidation:"loading"});let G=Pe.promise;return V.navigation.state==="submitting"?G:V.navigation.state==="idle"?(ir(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),G):(ir(I||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:B===!0}),G)}async function ir(G,W,Z){M&&M.abort(),M=null,I=G,U=(Z&&Z.startUninterruptedRevalidation)===!0,ws(V.location,V.matches),N=(Z&&Z.preventScrollReset)===!0,B=(Z&&Z.enableViewTransition)===!0;let ue=u||l,pe=Z&&Z.overrideNavigation,we=Z!=null&&Z.initialHydration&&V.matches&&V.matches.length>0&&!O?V.matches:ro(ue,W,d),De=(Z&&Z.flushSync)===!0;if(we&&V.initialized&&!ve&&AL(V.location,W)&&!(Z&&Z.submission&&Br(Z.submission.formMethod))){Hn(W,{matches:we},{flushSync:De});return}let Te=or(we,ue,W.pathname);if(Te.active&&Te.matches&&(we=Te.matches),!we){let{error:pt,notFoundMatches:ut,route:nt}=ji(W.pathname);Hn(W,{matches:ut,loaderData:{},errors:{[nt.id]:pt}},{flushSync:De});return}M=new AbortController;let Se=Pc(t.history,W,M.signal,Z&&Z.submission),Ce=new MS(t.unstable_getContext?await t.unstable_getContext():void 0),Me;if(Z&&Z.pendingError)Me=[pl(we).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&Br(Z.submission.formMethod)){let pt=await Do(Se,W,Z.submission,we,Ce,Te.active,Z&&Z.initialHydration===!0,{replace:Z.replace,flushSync:De});if(pt.shortCircuited)return;if(pt.pendingActionResult){let[ut,nt]=pt.pendingActionResult;if(Ur(nt)&&dh(nt.error)&&nt.error.status===404){M=null,Hn(W,{matches:pt.matches,loaderData:{},errors:{[ut]:nt.error}});return}}we=pt.matches||we,Me=pt.pendingActionResult,pe=mv(W,Z.submission),De=!1,Te.active=!1,Se=Pc(t.history,Se.url,Se.signal)}let{shortCircuited:Ae,matches:Ve,loaderData:st,errors:wt}=await Hl(Se,W,we,Ce,Te.active,pe,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,De,Me);Ae||(M=null,Hn(W,{matches:Ve||we,...KS(Me),loaderData:st,errors:wt}))}async function Do(G,W,Z,ue,pe,we,De,Te={}){Ea();let Se=kL(W,Z);if(Bt({navigation:Se},{flushSync:Te.flushSync===!0}),we){let Ae=await $s(ue,W.pathname,G.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let Ve=pl(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[Ve,{type:"error",error:Ae.error}]}}else if(Ae.matches)ue=Ae.matches;else{let{notFoundMatches:Ve,error:st,route:wt}=ji(W.pathname);return{matches:Ve,pendingActionResult:[wt.id,{type:"error",error:st}]}}}let Ce,Me=Vd(ue,W);if(!Me.route.action&&!Me.route.lazy)Ce={type:"error",error:hs(405,{method:G.method,pathname:W.pathname,routeId:Me.route.id})};else{let Ae=Yc(s,o,G,ue,Me,De?[]:r,pe),Ve=await Hr(G,Ae,pe,null);if(Ce=Ve[Me.route.id],!Ce){for(let st of ue)if(Ve[st.route.id]){Ce=Ve[st.route.id];break}}if(G.signal.aborted)return{shortCircuited:!0}}if(gl(Ce)){let Ae;return Te&&Te.replace!=null?Ae=Te.replace:Ae=zS(Ce.response.headers.get("Location"),new URL(G.url),d)===V.location.pathname+V.location.search,await bs(G,Ce,!0,{submission:Z,replace:Ae}),{shortCircuited:!0}}if(Ur(Ce)){let Ae=pl(ue,Me.route.id);return(Te&&Te.replace)!==!0&&(I="PUSH"),{matches:ue,pendingActionResult:[Ae.route.id,Ce,Me.route.id]}}return{matches:ue,pendingActionResult:[Me.route.id,Ce]}}async function Hl(G,W,Z,ue,pe,we,De,Te,Se,Ce,Me,Ae){let Ve=we||mv(W,De),st=De||Te||XS(Ve),wt=!U&&!Ce;if(pe){if(wt){let un=ar(Ae);Bt({navigation:Ve,...un!==void 0?{actionData:un}:{}},{flushSync:Me})}let qe=await $s(Z,W.pathname,G.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let un=pl(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[un]:qe.error}}}else if(qe.matches)Z=qe.matches;else{let{error:un,notFoundMatches:Nr,route:gr}=ji(W.pathname);return{matches:Nr,loaderData:{},errors:{[gr.id]:un}}}}let pt=u||l,{dsMatches:ut,revalidatingFetchers:nt}=LS(G,ue,s,o,t.history,V,Z,st,W,Ce?[]:r,Ce===!0,ve,be,fe,le,H,pt,d,t.patchRoutesOnNavigation!=null,Ae);if(me=++se,!t.dataStrategy&&!ut.some(qe=>qe.shouldLoad)&&nt.length===0){let qe=Us();return Hn(W,{matches:Z,loaderData:{},errors:Ae&&Ur(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...KS(Ae),...qe?{fetchers:new Map(V.fetchers)}:{}},{flushSync:Me}),{shortCircuited:!0}}if(wt){let qe={};if(!pe){qe.navigation=Ve;let un=ar(Ae);un!==void 0&&(qe.actionData=un)}nt.length>0&&(qe.fetchers=Ru(nt)),Bt(qe,{flushSync:Me})}nt.forEach(qe=>{Gr(qe.key),qe.controller&&J.set(qe.key,qe.controller)});let Wr=()=>nt.forEach(qe=>Gr(qe.key));M&&M.signal.addEventListener("abort",Wr);let{loaderResults:yn,fetcherResults:lr}=await Ta(ut,nt,G,ue);if(G.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Wr),nt.forEach(qe=>J.delete(qe.key));let In=Om(yn);if(In)return await bs(G,In.result,!0,{replace:Se}),{shortCircuited:!0};if(In=Om(lr),In)return H.add(In.key),await bs(G,In.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:zs,errors:kr}=HS(V,Z,yn,Ae,nt,lr);Ce&&V.errors&&(kr={...V.errors,...kr});let Ca=Us(),Kn=Bs(me),cr=Ca||Kn||nt.length>0;return{matches:Z,loaderData:zs,errors:kr,...cr?{fetchers:new Map(V.fetchers)}:{}}}function ar(G){if(G&&!Ur(G[1]))return{[G[0]]:G[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function Ru(G){return G.forEach(W=>{let Z=V.fetchers.get(W.key),ue=kd(void 0,Z?Z.data:void 0);V.fetchers.set(W.key,ue)}),new Map(V.fetchers)}async function Mo(G,W,Z,ue){Gr(G);let pe=(ue&&ue.flushSync)===!0,we=u||l,De=nx(V.location,V.matches,d,Z,W,ue==null?void 0:ue.relative),Te=ro(we,De,d),Se=or(Te,we,De);if(Se.active&&Se.matches&&(Te=Se.matches),!Te){Je(G,W,hs(404,{pathname:De}),{flushSync:pe});return}let{path:Ce,submission:Me,error:Ae}=VS(!0,De,ue);if(Ae){Je(G,W,Ae,{flushSync:pe});return}let Ve=Vd(Te,Ce),st=new MS(t.unstable_getContext?await t.unstable_getContext():void 0),wt=(ue&&ue.preventScrollReset)===!0;if(Me&&Br(Me.formMethod)){await _a(G,W,Ce,Ve,Te,st,Se.active,pe,wt,Me);return}le.set(G,{routeId:W,path:Ce}),await ki(G,W,Ce,Ve,Te,st,Se.active,pe,wt,Me)}async function _a(G,W,Z,ue,pe,we,De,Te,Se,Ce){Ea(),le.delete(G);function Me(It){if(!It.route.action&&!It.route.lazy){let Xr=hs(405,{method:Ce.formMethod,pathname:Z,routeId:W});return Je(G,W,Xr,{flushSync:Te}),!0}return!1}if(!De&&Me(ue))return;let Ae=V.fetchers.get(G);vt(G,NL(Ce,Ae),{flushSync:Te});let Ve=new AbortController,st=Pc(t.history,Z,Ve.signal,Ce);if(De){let It=await $s(pe,Z,st.signal,G);if(It.type==="aborted")return;if(It.type==="error"){Je(G,W,It.error,{flushSync:Te});return}else if(It.matches){if(pe=It.matches,ue=Vd(pe,Z),Me(ue))return}else{Je(G,W,hs(404,{pathname:Z}),{flushSync:Te});return}}J.set(G,Ve);let wt=se,pt=Yc(s,o,st,pe,ue,r,we),nt=(await Hr(st,pt,we,G))[ue.route.id];if(st.signal.aborted){J.get(G)===Ve&&J.delete(G);return}if(fe.has(G)){if(gl(nt)||Ur(nt)){vt(G,eo(void 0));return}}else{if(gl(nt))if(J.delete(G),me>wt){vt(G,eo(void 0));return}else return H.add(G),vt(G,kd(Ce)),bs(st,nt,!1,{fetcherSubmission:Ce,preventScrollReset:Se});if(Ur(nt)){Je(G,W,nt.error);return}}let Wr=V.navigation.location||V.location,yn=Pc(t.history,Wr,Ve.signal),lr=u||l,In=V.navigation.state!=="idle"?ro(lr,V.navigation.location,d):V.matches;Qe(In,"Didn't find any matches after fetcher action");let zs=++se;je.set(G,zs);let kr=kd(Ce,nt.data);V.fetchers.set(G,kr);let{dsMatches:Ca,revalidatingFetchers:Kn}=LS(yn,we,s,o,t.history,V,In,Ce,Wr,r,!1,ve,be,fe,le,H,lr,d,t.patchRoutesOnNavigation!=null,[ue.route.id,nt]);Kn.filter(It=>It.key!==G).forEach(It=>{let Xr=It.key,Pi=V.fetchers.get(Xr),Dn=kd(void 0,Pi?Pi.data:void 0);V.fetchers.set(Xr,Dn),Gr(Xr),It.controller&&J.set(Xr,It.controller)}),Bt({fetchers:new Map(V.fetchers)});let cr=()=>Kn.forEach(It=>Gr(It.key));Ve.signal.addEventListener("abort",cr);let{loaderResults:qe,fetcherResults:un}=await Ta(Ca,Kn,yn,we);if(Ve.signal.aborted)return;if(Ve.signal.removeEventListener("abort",cr),je.delete(G),J.delete(G),Kn.forEach(It=>J.delete(It.key)),V.fetchers.has(G)){let It=eo(nt.data);V.fetchers.set(G,It)}let Nr=Om(qe);if(Nr)return bs(yn,Nr.result,!1,{preventScrollReset:Se});if(Nr=Om(un),Nr)return H.add(Nr.key),bs(yn,Nr.result,!1,{preventScrollReset:Se});let{loaderData:gr,errors:qs}=HS(V,In,qe,void 0,Kn,un);Bs(zs),V.navigation.state==="loading"&&zs>me?(Qe(I,"Expected pending action"),M&&M.abort(),Hn(V.navigation.location,{matches:In,loaderData:gr,errors:qs,fetchers:new Map(V.fetchers)})):(Bt({errors:qs,loaderData:GS(V.loaderData,gr,In,qs),fetchers:new Map(V.fetchers)}),ve=!1)}async function ki(G,W,Z,ue,pe,we,De,Te,Se,Ce){let Me=V.fetchers.get(G);vt(G,kd(Ce,Me?Me.data:void 0),{flushSync:Te});let Ae=new AbortController,Ve=Pc(t.history,Z,Ae.signal);if(De){let nt=await $s(pe,Z,Ve.signal,G);if(nt.type==="aborted")return;if(nt.type==="error"){Je(G,W,nt.error,{flushSync:Te});return}else if(nt.matches)pe=nt.matches,ue=Vd(pe,Z);else{Je(G,W,hs(404,{pathname:Z}),{flushSync:Te});return}}J.set(G,Ae);let st=se,wt=Yc(s,o,Ve,pe,ue,r,we),ut=(await Hr(Ve,wt,we,G))[ue.route.id];if(J.get(G)===Ae&&J.delete(G),!Ve.signal.aborted){if(fe.has(G)){vt(G,eo(void 0));return}if(gl(ut))if(me>st){vt(G,eo(void 0));return}else{H.add(G),await bs(Ve,ut,!1,{preventScrollReset:Se});return}if(Ur(ut)){Je(G,W,ut.error);return}vt(G,eo(ut.data))}}async function bs(G,W,Z,{submission:ue,fetcherSubmission:pe,preventScrollReset:we,replace:De}={}){W.response.headers.has("X-Remix-Revalidate")&&(ve=!0);let Te=W.response.headers.get("Location");Qe(Te,"Expected a Location header on the redirect Response"),Te=zS(Te,new URL(G.url),d);let Se=uh(V.location,Te,{_isRedirect:!0});if(n){let wt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))wt=!0;else if(jb.test(Te)){const pt=Bk(Te,!0);wt=pt.origin!==e.location.origin||gs(pt.pathname,d)==null}if(wt){De?e.location.replace(Te):e.location.assign(Te);return}}M=null;let Ce=De===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Me,formAction:Ae,formEncType:Ve}=V.navigation;!ue&&!pe&&Me&&Ae&&Ve&&(ue=XS(V.navigation));let st=ue||pe;if(hL.has(W.response.status)&&st&&Br(st.formMethod))await ir(Ce,Se,{submission:{...st,formAction:Te},preventScrollReset:we||N,enableViewTransition:Z?B:void 0});else{let wt=mv(Se,ue);await ir(Ce,Se,{overrideNavigation:wt,fetcherSubmission:pe,preventScrollReset:we||N,enableViewTransition:Z?B:void 0})}}async function Hr(G,W,Z,ue){let pe,we={};try{pe=await wL(h,G,W,ue,Z,!1)}catch(De){return W.filter(Te=>Te.shouldLoad).forEach(Te=>{we[Te.route.id]={type:"error",error:De}}),we}if(G.signal.aborted)return we;for(let[De,Te]of Object.entries(pe))if(RL(Te)){let Se=Te.result;we[De]={type:"redirect",response:EL(Se,G,De,W,d)}}else we[De]=await TL(Te);return we}async function Ta(G,W,Z,ue){let pe=Hr(Z,G,ue,null),we=Promise.all(W.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let Me=(await Hr(Se.request,Se.matches,ue,Se.key))[Se.match.route.id];return{[Se.key]:Me}}else return Promise.resolve({[Se.key]:{type:"error",error:hs(404,{pathname:Se.path})}})})),De=await pe,Te=(await we).reduce((Se,Ce)=>Object.assign(Se,Ce),{});return{loaderResults:De,fetcherResults:Te}}function Ea(){ve=!0,le.forEach((G,W)=>{J.has(W)&&be.add(W),Gr(W)})}function vt(G,W,Z={}){V.fetchers.set(G,W),Bt({fetchers:new Map(V.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Je(G,W,Z,ue={}){let pe=pl(V.matches,W);cn(G),Bt({errors:{[pe.route.id]:Z},fetchers:new Map(V.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function Gn(G){return ge.set(G,(ge.get(G)||0)+1),fe.has(G)&&fe.delete(G),V.fetchers.get(G)||fL}function cn(G){let W=V.fetchers.get(G);J.has(G)&&!(W&&W.state==="loading"&&je.has(G))&&Gr(G),le.delete(G),je.delete(G),H.delete(G),fe.delete(G),be.delete(G),V.fetchers.delete(G)}function Gl(G){let W=(ge.get(G)||0)-1;W<=0?(ge.delete(G),fe.add(G)):ge.set(G,W),Bt({fetchers:new Map(V.fetchers)})}function Gr(G){let W=J.get(G);W&&(W.abort(),J.delete(G))}function Ls(G){for(let W of G){let Z=Gn(W),ue=eo(Z.data);V.fetchers.set(W,ue)}}function Us(){let G=[],W=!1;for(let Z of H){let ue=V.fetchers.get(Z);Qe(ue,`Expected fetcher: ${Z}`),ue.state==="loading"&&(H.delete(Z),G.push(Z),W=!0)}return Ls(G),W}function Bs(G){let W=[];for(let[Z,ue]of je)if(ue<G){let pe=V.fetchers.get(Z);Qe(pe,`Expected fetcher: ${Z}`),pe.state==="loading"&&(Gr(Z),je.delete(Z),W.push(Z))}return Ls(W),W.length>0}function Cr(G,W){let Z=V.blockers.get(G)||Cd;return Re.get(G)!==W&&Re.set(G,W),Z}function Ni(G){V.blockers.delete(G),Re.delete(G)}function Kr(G,W){let Z=V.blockers.get(G)||Cd;Qe(Z.state==="unblocked"&&W.state==="blocked"||Z.state==="blocked"&&W.state==="blocked"||Z.state==="blocked"&&W.state==="proceeding"||Z.state==="blocked"&&W.state==="unblocked"||Z.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${W.state}`);let ue=new Map(V.blockers);ue.set(G,W),Bt({blockers:ue})}function Sa({currentLocation:G,nextLocation:W,historyAction:Z}){if(Re.size===0)return;Re.size>1&&sn(!1,"A router only supports one blocker at a time");let ue=Array.from(Re.entries()),[pe,we]=ue[ue.length-1],De=V.blockers.get(pe);if(!(De&&De.state==="proceeding")&&we({currentLocation:G,nextLocation:W,historyAction:Z}))return pe}function ji(G){let W=hs(404,{pathname:G}),Z=u||l,{matches:ue,route:pe}=YS(Z);return{notFoundMatches:ue,route:pe,error:W}}function Oo(G,W,Z){if(w=G,S=W,T=Z||null,!R&&V.navigation===fv){R=!0;let ue=Aa(V.location,V.matches);ue!=null&&Bt({restoreScrollPosition:ue})}return()=>{w=null,S=null,T=null}}function Yr(G,W){return T&&T(G,W.map(ue=>qV(ue,V.loaderData)))||G.key}function ws(G,W){if(w&&S){let Z=Yr(G,W);w[Z]=S()}}function Aa(G,W){if(w){let Z=Yr(G,W),ue=w[Z];if(typeof ue=="number")return ue}return null}function or(G,W,Z){if(t.patchRoutesOnNavigation)if(G){if(Object.keys(G[0].params).length>0)return{active:!0,matches:Jm(W,Z,d,!0)}}else return{active:!0,matches:Jm(W,Z,d,!0)||[]};return{active:!1,matches:null}}async function $s(G,W,Z,ue){if(!t.patchRoutesOnNavigation)return{type:"success",matches:G};let pe=G;for(;;){let we=u==null,De=u||l,Te=o;try{await t.patchRoutesOnNavigation({signal:Z,path:W,matches:pe,fetcherKey:ue,patch:(Me,Ae)=>{Z.aborted||US(Me,Ae,De,Te,s)}})}catch(Me){return{type:"error",error:Me,partialMatches:pe}}finally{we&&!Z.aborted&&(l=[...l])}if(Z.aborted)return{type:"aborted"};let Se=ro(De,W,d);if(Se)return{type:"success",matches:Se};let Ce=Jm(De,W,d,!0);if(!Ce||pe.length===Ce.length&&pe.every((Me,Ae)=>Me.route.id===Ce[Ae].route.id))return{type:"success",matches:null};pe=Ce}}function Fs(G){o={},u=Ep(G,s,void 0,o)}function Ra(G,W){let Z=u==null;US(G,W,u||l,o,s),Z&&(l=[...l],Bt({}))}return D={get basename(){return d},get future(){return p},get state(){return V},get routes(){return l},get window(){return e},initialize:ln,subscribe:qr,enableScrollRestoration:Oo,navigate:Vs,fetch:Mo,revalidate:Ci,createHref:G=>t.history.createHref(G),encodeLocation:G=>t.history.encodeLocation(G),getFetcher:Gn,deleteFetcher:Gl,dispose:Rt,getBlocker:Cr,deleteBlocker:Ni,patchRoutes:Ra,_internalFetchControllers:J,_internalSetRoutes:Fs},D}function gL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function nx(t,e,n,r,s,o){let l,u;if(s){l=[];for(let h of e)if(l.push(h),h.route.id===s){u=h;break}}else l=e,u=e[e.length-1];let d=fg(r||".",hg(l),gs(t.pathname,n)||t.pathname,o==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&u){let h=Pb(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(d.search),v=p.getAll("index");p.delete("index"),v.filter(w=>w).forEach(w=>p.append("index",w));let x=p.toString();d.search=x?`?${x}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:ii([n,d.pathname])),po(d)}function VS(t,e,n){if(!n||!gL(n))return{path:e};if(n.formMethod&&!CL(n.formMethod))return{path:e,error:hs(405,{method:n.formMethod})};let r=()=>({path:e,error:hs(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=Zk(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Br(o))return r();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[w,T])=>`${x}${w}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!Br(o))return r();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let u,d;if(n.formData)u=ix(n.formData),d=n.formData;else if(n.body instanceof FormData)u=ix(n.body),d=n.body;else if(n.body instanceof URLSearchParams)u=n.body,d=qS(u);else if(n.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(n.body),d=qS(u)}catch{return r()}let h={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Br(h.formMethod))return{path:e,submission:h};let p=Co(e);return t&&p.search&&Pb(p.search)&&u.append("index",""),p.search=`?${u}`,{path:po(p),submission:h}}function LS(t,e,n,r,s,o,l,u,d,h,p,v,x,w,T,S,R,C,O,j){var U;let $=j?Ur(j[1])?j[1].error:j[1].data:void 0,D=s.createURL(o.location),V=s.createURL(d),I;if(p&&o.errors){let ve=Object.keys(o.errors)[0];I=l.findIndex(be=>be.route.id===ve)}else if(j&&Ur(j[1])){let ve=j[0];I=l.findIndex(be=>be.route.id===ve)-1}let N=j?j[1].statusCode:void 0,M=N&&N>=400,B={currentUrl:D,currentParams:((U=o.matches[0])==null?void 0:U.params)||{},nextUrl:V,nextParams:l[0].params,...u,actionResult:$,actionStatus:N},q=l.map((ve,be)=>{let{route:J}=ve,se=null;if(I!=null&&be>I?se=!1:J.lazy?se=!0:J.loader==null?se=!1:p?se=rx(J,o.loaderData,o.errors):yL(o.loaderData,o.matches[be],ve)&&(se=!0),se!==null)return sx(n,r,t,ve,h,e,se);let me=M?!1:v||D.pathname+D.search===V.pathname+V.search||D.search!==V.search||vL(o.matches[be],ve),je={...B,defaultShouldRevalidate:me},H=Rp(ve,je);return sx(n,r,t,ve,h,e,H,je)}),z=[];return T.forEach((ve,be)=>{if(p||!l.some(fe=>fe.route.id===ve.routeId)||w.has(be))return;let J=o.fetchers.get(be),se=J&&J.state!=="idle"&&J.data===void 0,me=ro(R,ve.path,C);if(!me){if(O&&se)return;z.push({key:be,routeId:ve.routeId,path:ve.path,matches:null,match:null,request:null,controller:null});return}if(S.has(be))return;let je=Vd(me,ve.path),H=new AbortController,le=Pc(s,ve.path,H.signal),ge=null;if(x.has(be))x.delete(be),ge=Yc(n,r,le,me,je,h,e);else if(se)v&&(ge=Yc(n,r,le,me,je,h,e));else{let fe={...B,defaultShouldRevalidate:M?!1:v};Rp(je,fe)&&(ge=Yc(n,r,le,me,je,h,e,fe))}ge&&z.push({key:be,routeId:ve.routeId,path:ve.path,matches:ge,match:je,request:le,controller:H})}),{dsMatches:q,revalidatingFetchers:z}}function rx(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function yL(t,e,n){let r=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return r||s}function vL(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Rp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function US(t,e,n,r,s){let o;if(t){let d=r[t];Qe(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let l=e.filter(d=>!o.some(h=>Kk(d,h))),u=Ep(l,s,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...u)}function Kk(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var s;return(s=e.children)==null?void 0:s.some(o=>Kk(n,o))}):!1}var BS=new WeakMap,Yk=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let s=n[e.id];if(Qe(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[t];if(!o)return;let l=BS.get(s);l||(l={},BS.set(s,l));let u=l[t];if(u)return u;let d=(async()=>{let h=BV(t),v=s[t]!==void 0&&t!=="hasErrorBoundary";if(h)sn(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(v)sn(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let x=await o();x!=null&&(Object.assign(s,{[t]:x}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(x=>x===void 0)&&(s.lazy=void 0))})();return l[t]=d,d},$S=new WeakMap;function xL(t,e,n,r,s){let o=n[t.id];if(Qe(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=$S.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let v=(async()=>{Qe(typeof t.lazy=="function","No lazy route function found");let x=await t.lazy(),w={};for(let T in x){let S=x[T];if(S===void 0)continue;let R=FV(T),O=o[T]!==void 0&&T!=="hasErrorBoundary";R?sn(!R,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):O?sn(!O,`Route "${o.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):w[T]=S}Object.assign(o,w),Object.assign(o,{...r(o),lazy:void 0})})();return $S.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let l=Object.keys(t.lazy),u=[],d;for(let p of l){if(s&&s.includes(p))continue;let v=Yk({key:p,route:t,manifest:n,mapRouteProperties:r});v&&(u.push(v),p===e&&(d=v))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h==null||h.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:d}}async function FS(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{n[e[o].route.id]=s}),n}async function bL(t){return t.matches.some(e=>e.route.unstable_middleware)?Wk(t,!1,()=>FS(t),(e,n)=>({[n]:{type:"error",result:e}})):FS(t)}async function Wk(t,e,n,r){let{matches:s,request:o,params:l,context:u}=t,d={handlerResult:void 0};try{let h=s.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(x=>[v.route.id,x]):[]),p=await Xk({request:o,params:l,context:u},h,e,d,n);return e?p:d.handlerResult}catch(h){if(!d.middlewareError)throw h;let p=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,p):p}}async function Xk(t,e,n,r,s,o=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let u=e[o];if(!u)return r.handlerResult=await s(),r.handlerResult;let[d,h]=u,p=!1,v,x=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await Xk(t,e,n,r,s,o+1)};try{let w=await h({request:t.request,params:t.params,context:t.context},x);return p?w===void 0?v:w:x()}catch(w){throw r.middlewareError?r.middlewareError.error!==w&&(r.middlewareError={routeId:d,error:w}):r.middlewareError={routeId:d,error:w},w}}function Qk(t,e,n,r,s){let o=Yk({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=xL(r.route,Br(n.method)?"action":"loader",e,t,s);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function sx(t,e,n,r,s,o,l,u=null){let d=!1,h=Qk(t,e,n,r,s);return{...r,_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(p){return d=!0,u?typeof p=="boolean"?Rp(r,{...u,defaultShouldRevalidate:p}):Rp(r,u):l},resolve(p){return d||l||p&&n.method==="GET"&&(r.route.lazy||r.route.loader)?_L({request:n,match:r,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Yc(t,e,n,r,s,o,l,u=null){return r.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:Qk(t,e,n,d,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:sx(t,e,n,d,o,l,!0,u))}async function wL(t,e,n,r,s,o){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&await Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware}));let l={request:e,params:n[0].params,context:s,matches:n},d=await t({...l,fetcherKey:r,unstable_runClientMiddleware:h=>{let p=l;return Wk(p,!1,()=>h({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,x)=>({[x]:{type:"error",result:v}}))}});try{await Promise.all(n.flatMap(h=>{var p,v;return[(p=h._lazyPromises)==null?void 0:p.handler,(v=h._lazyPromises)==null?void 0:v.route]}))}catch{}return d}async function _L({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:s,scopedContext:o}){let l,u,d=Br(t.method),h=d?"action":"loader",p=v=>{let x,w=new Promise((R,C)=>x=C);u=()=>x(),t.signal.addEventListener("abort",u);let T=R=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):v({request:t,params:e.params,context:o},...R!==void 0?[R]:[]),S=(async()=>{try{return{type:"data",result:await(s?s(C=>T(C)):T())}}catch(R){return{type:"error",result:R}}})();return Promise.race([S,w])};try{let v=d?e.route.action:e.route.loader;if(n||r)if(v){let x,[w]=await Promise.all([p(v).catch(T=>{x=T}),n,r]);if(x!==void 0)throw x;l=w}else{await n;let x=d?e.route.action:e.route.loader;if(x)[l]=await Promise.all([p(x),r]);else if(h==="action"){let w=new URL(t.url),T=w.pathname+w.search;throw hs(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(v)l=await p(v);else{let x=new URL(t.url),w=x.pathname+x.search;throw hs(404,{pathname:w})}}catch(v){return{type:"error",result:v}}finally{u&&t.signal.removeEventListener("abort",u)}return l}async function TL(t){var r,s,o,l,u,d;let{result:e,type:n}=t;if(Jk(e)){let h;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new Ap(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}return n==="error"?WS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Ap(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:dh(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:dh(e)?e.status:void 0}:WS(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function EL(t,e,n,r,s){let o=t.headers.get("Location");if(Qe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!jb.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=nx(new URL(e.url),l,s,o),t.headers.set("Location",o)}return t}function zS(t,e,n){if(jb.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=gs(s.pathname,n)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return t}function Pc(t,e,n,r){let s=t.createURL(Zk(e)).toString(),o={signal:n};if(r&&Br(r.formMethod)){let{formMethod:l,formEncType:u}=r;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=ix(r.formData):o.body=r.formData}return new Request(s,o)}function ix(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function qS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function SL(t,e,n,r=!1,s=!1){let o={},l=null,u,d=!1,h={},p=n&&Ur(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let x=v.route.id,w=e[x];if(Qe(!gl(w),"Cannot handle redirect results in processLoaderData"),Ur(w)){let T=w.error;if(p!==void 0&&(T=p,p=void 0),l=l||{},s)l[x]=T;else{let S=pl(t,x);l[S.route.id]==null&&(l[S.route.id]=T)}r||(o[x]=Gk),d||(d=!0,u=dh(w.error)?w.error.status:500),w.headers&&(h[x]=w.headers)}else o[x]=w.data,w.statusCode&&w.statusCode!==200&&!d&&(u=w.statusCode),w.headers&&(h[x]=w.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:h}}function HS(t,e,n,r,s,o){let{loaderData:l,errors:u}=SL(e,n,r);return s.filter(d=>!d.matches||d.matches.some(h=>h.shouldLoad)).forEach(d=>{let{key:h,match:p,controller:v}=d,x=o[h];if(Qe(x,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Ur(x)){let w=pl(t.matches,p==null?void 0:p.route.id);u&&u[w.route.id]||(u={...u,[w.route.id]:x.error}),t.fetchers.delete(h)}else if(gl(x))Qe(!1,"Unhandled fetcher revalidation redirect");else{let w=eo(x.data);t.fetchers.set(h,w)}}),{loaderData:l,errors:u}}function GS(t,e,n,r){let s=Object.entries(e).filter(([,o])=>o!==Gk).reduce((o,[l,u])=>(o[l]=u,o),{});for(let o of n){let l=o.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&o.route.loader&&(s[l]=t[l]),r&&r.hasOwnProperty(l))break}return s}function KS(t){return t?Ur(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function pl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function YS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hs(t,{pathname:e,routeId:n,method:r,type:s,message:o}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",u=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new Ap(t||500,l,new Error(u),!0)}function Om(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(gl(s))return{key:r,result:s}}}function Zk(t){let e=typeof t=="string"?Co(t):t;return po({...e,hash:""})}function AL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function RL(t){return Jk(t.result)&&dL.has(t.result.status)}function Ur(t){return t.type==="error"}function gl(t){return(t&&t.type)==="redirect"}function WS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Jk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function CL(t){return uL.has(t.toUpperCase())}function Br(t){return lL.has(t.toUpperCase())}function Pb(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Vd(t,e){let n=typeof e=="string"?Co(e).search:e.search;if(t[t.length-1].route.index&&Pb(n||""))return t[t.length-1];let r=zk(t);return r[r.length-1]}function XS(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:o,json:l}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function mv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function kL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function kd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function NL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function eo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function jL(t,e){try{let n=t.sessionStorage.getItem(Hk);if(n){let r=JSON.parse(n);for(let[s,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function PL(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(Hk,JSON.stringify(n))}catch(r){sn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function IL(){let t,e,n=new Promise((r,s)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{s(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Ml=k.createContext(null);Ml.displayName="DataRouter";var Fh=k.createContext(null);Fh.displayName="DataRouterState";var Ib=k.createContext({isTransitioning:!1});Ib.displayName="ViewTransition";var eN=k.createContext(new Map);eN.displayName="Fetchers";var DL=k.createContext(null);DL.displayName="Await";var Ms=k.createContext(null);Ms.displayName="Navigation";var mg=k.createContext(null);mg.displayName="Location";var ys=k.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var Db=k.createContext(null);Db.displayName="RouteError";function ML(t,{relative:e}={}){Qe(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Ms),{hash:s,pathname:o,search:l}=qh(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:ii([n,o])),r.createHref({pathname:u,search:l,hash:s})}function uu(){return k.useContext(mg)!=null}function ma(){return Qe(uu(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(mg).location}var tN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nN(t){k.useContext(Ms).static||k.useLayoutEffect(t)}function qn(){let{isDataRoute:t}=k.useContext(ys);return t?XL():OL()}function OL(){Qe(uu(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Ml),{basename:e,navigator:n}=k.useContext(Ms),{matches:r}=k.useContext(ys),{pathname:s}=ma(),o=JSON.stringify(hg(r)),l=k.useRef(!1);return nN(()=>{l.current=!0}),k.useCallback((d,h={})=>{if(sn(l.current,tN),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=fg(d,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ii([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,s,t])}var VL=k.createContext(null);function LL(t){let e=k.useContext(ys).outlet;return e&&k.createElement(VL.Provider,{value:t},e)}function zh(){let{matches:t}=k.useContext(ys),e=t[t.length-1];return e?e.params:{}}function qh(t,{relative:e}={}){let{matches:n}=k.useContext(ys),{pathname:r}=ma(),s=JSON.stringify(hg(n));return k.useMemo(()=>fg(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function UL(t,e,n,r){Qe(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(Ms),{matches:o}=k.useContext(ys),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let C=p&&p.path||"";rN(d,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=ma(),x;x=v;let w=x.pathname||"/",T=w;if(h!=="/"){let C=h.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=ro(t,{pathname:T});return sn(p||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),sn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),qL(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:ii([h,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:ii([h,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r)}function BL(){let t=WL(),e=dh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,l)}var $L=k.createElement(BL,null),FL=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(ys.Provider,{value:this.props.routeContext},k.createElement(Db.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zL({routeContext:t,match:e,children:n}){let r=k.useContext(Ml);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ys.Provider,{value:t},n)}function qL(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Qe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:v}=n,x=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,p)=>{let v,x=!1,w=null,T=null;n&&(v=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||$L,l&&(u<0&&p===0?(rN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,T=null):u===p&&(x=!0,T=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,p+1)),R=()=>{let C;return v?C=w:x?C=T:h.route.Component?C=k.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,k.createElement(zL,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?k.createElement(FL,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):R()},null)}function Mb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HL(t){let e=k.useContext(Ml);return Qe(e,Mb(t)),e}function GL(t){let e=k.useContext(Fh);return Qe(e,Mb(t)),e}function KL(t){let e=k.useContext(ys);return Qe(e,Mb(t)),e}function Ob(t){let e=KL(t),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function YL(){return Ob("useRouteId")}function WL(){var r;let t=k.useContext(Db),e=GL("useRouteError"),n=Ob("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function XL(){let{router:t}=HL("useNavigate"),e=Ob("useNavigate"),n=k.useRef(!1);return nN(()=>{n.current=!0}),k.useCallback(async(s,o={})=>{sn(n.current,tN),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var QS={};function rN(t,e,n){!e&&!QS[t]&&(QS[t]=!0,sn(!1,n))}var ZS={};function JS(t,e){!t&&!ZS[e]&&(ZS[e]=!0,console.warn(e))}function QL(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&sn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:k.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&sn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&sn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var ZL=["HydrateFallback","hydrateFallbackElement"],JL=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function e3({router:t,flushSync:e}){let[n,r]=k.useState(t.state),[s,o]=k.useState(),[l,u]=k.useState({isTransitioning:!1}),[d,h]=k.useState(),[p,v]=k.useState(),[x,w]=k.useState(),T=k.useRef(new Map),S=k.useCallback((j,{deletedFetchers:$,flushSync:D,viewTransitionOpts:V})=>{j.fetchers.forEach((N,M)=>{N.data!==void 0&&T.current.set(M,N.data)}),$.forEach(N=>T.current.delete(N)),JS(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(JS(V==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!I){e&&D?e(()=>r(j)):k.startTransition(()=>r(j));return}if(e&&D){e(()=>{p&&(d&&d.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let N=t.window.document.startViewTransition(()=>{e(()=>r(j))});N.finished.finally(()=>{e(()=>{h(void 0),v(void 0),o(void 0),u({isTransitioning:!1})})}),e(()=>v(N));return}p?(d&&d.resolve(),p.skipTransition(),w({state:j,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(o(j),u({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[t.window,e,p,d]);k.useLayoutEffect(()=>t.subscribe(S),[t,S]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new JL)},[l]),k.useEffect(()=>{if(d&&s&&t.window){let j=s,$=d.promise,D=t.window.document.startViewTransition(async()=>{k.startTransition(()=>r(j)),await $});D.finished.finally(()=>{h(void 0),v(void 0),o(void 0),u({isTransitioning:!1})}),v(D)}},[s,d,t.window]),k.useEffect(()=>{d&&s&&n.location.key===s.location.key&&d.resolve()},[d,p,n.location,s]),k.useEffect(()=>{!l.isTransitioning&&x&&(o(x.state),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),w(void 0))},[l.isTransitioning,x]);let R=k.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:j=>t.navigate(j),push:(j,$,D)=>t.navigate(j,{state:$,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(j,$,D)=>t.navigate(j,{replace:!0,state:$,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[t]),C=t.basename||"/",O=k.useMemo(()=>({router:t,navigator:R,static:!1,basename:C}),[t,R,C]);return k.createElement(k.Fragment,null,k.createElement(Ml.Provider,{value:O},k.createElement(Fh.Provider,{value:n},k.createElement(eN.Provider,{value:T.current},k.createElement(Ib.Provider,{value:l},k.createElement(r3,{basename:C,location:n.location,navigationType:n.historyAction,navigator:R},k.createElement(t3,{routes:t.routes,future:t.future,state:n})))))),null)}var t3=k.memo(n3);function n3({routes:t,future:e,state:n}){return UL(t,void 0,n,e)}function Gd({to:t,replace:e,state:n,relative:r}){Qe(uu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(Ms);sn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=k.useContext(ys),{pathname:l}=ma(),u=qn(),d=fg(t,hg(o),l,r==="path"),h=JSON.stringify(d);return k.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function Vb(t){return LL(t.context)}function ot(t){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r3({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){Qe(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=Co(n));let{pathname:d="/",search:h="",hash:p="",state:v=null,key:x="default"}=n,w=k.useMemo(()=>{let T=gs(d,l);return T==null?null:{location:{pathname:T,search:h,hash:p,state:v,key:x},navigationType:r}},[l,d,h,p,v,x,r]);return sn(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(Ms.Provider,{value:u},k.createElement(mg.Provider,{children:e,value:w}))}function ax(t,e=[]){let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let o=[...e,s];if(r.type===k.Fragment){n.push.apply(n,ax(r.props.children,o));return}Qe(r.type===ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=ax(r.props.children,o)),n.push(l)}),n}var s3=ax,ep="get",tp="application/x-www-form-urlencoded";function pg(t){return t!=null&&typeof t.tagName=="string"}function i3(t){return pg(t)&&t.tagName.toLowerCase()==="button"}function a3(t){return pg(t)&&t.tagName.toLowerCase()==="form"}function o3(t){return pg(t)&&t.tagName.toLowerCase()==="input"}function l3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c3(t,e){return t.button===0&&(!e||e==="_self")&&!l3(t)}var Vm=null;function u3(){if(Vm===null)try{new FormData(document.createElement("form"),0),Vm=!1}catch{Vm=!0}return Vm}var d3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pv(t){return t!=null&&!d3.has(t)?(sn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tp}"`),null):t}function h3(t,e){let n,r,s,o,l;if(a3(t)){let u=t.getAttribute("action");r=u?gs(u,e):null,n=t.getAttribute("method")||ep,s=pv(t.getAttribute("enctype"))||tp,o=new FormData(t)}else if(i3(t)||o3(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?gs(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||ep,s=pv(t.getAttribute("formenctype"))||pv(u.getAttribute("enctype"))||tp,o=new FormData(u,t),!u3()){let{name:h,type:p,value:v}=t;if(p==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,v)}}else{if(pg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ep,r=null,s=tp,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}function Lb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function f3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function p3(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await f3(o,n);return l.links?l.links():[]}return[]}));return x3(r.flat(1).filter(m3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function eA(t,e,n,r,s,o){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>{var p;return n[h].pathname!==d.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):o==="data"?e.filter((d,h)=>{var v;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function g3(t,e,{includeHydrateFallback:n}={}){return y3(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function y3(t){return[...new Set(t)]}function v3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function x3(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(v3(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var b3=new Set([100,101,204,205]);function w3(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&gs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function sN(){let t=k.useContext(Ml);return Lb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _3(){let t=k.useContext(Fh);return Lb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ub=k.createContext(void 0);Ub.displayName="FrameworkContext";function iN(){let t=k.useContext(Ub);return Lb(t,"You must render this element inside a <HydratedRouter> element"),t}function T3(t,e){let n=k.useContext(Ub),[r,s]=k.useState(!1),[o,l]=k.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:v}=e,x=k.useRef(null);k.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=C=>{C.forEach(O=>{l(O.isIntersecting)})},R=new IntersectionObserver(S,{threshold:.5});return x.current&&R.observe(x.current),()=>{R.disconnect()}}},[t]),k.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let w=()=>{s(!0)},T=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:Nd(u,w),onBlur:Nd(d,T),onMouseEnter:Nd(h,w),onMouseLeave:Nd(p,T),onTouchStart:Nd(v,w)}]:[!1,x,{}]}function Nd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function E3({page:t,...e}){let{router:n}=sN(),r=k.useMemo(()=>ro(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(A3,{page:t,matches:r,...e}):null}function S3(t){let{manifest:e,routeModules:n}=iN(),[r,s]=k.useState([]);return k.useEffect(()=>{let o=!1;return p3(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),r}function A3({page:t,matches:e,...n}){let r=ma(),{manifest:s,routeModules:o}=iN(),{basename:l}=sN(),{loaderData:u,matches:d}=_3(),h=k.useMemo(()=>eA(t,e,d,s,r,"data"),[t,e,d,s,r]),p=k.useMemo(()=>eA(t,e,d,s,r,"assets"),[t,e,d,s,r]),v=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,S=!1;if(e.forEach(C=>{var j;let O=s.routes[C.route.id];!O||!O.hasLoader||(!h.some($=>$.route.id===C.route.id)&&C.route.id in u&&((j=o[C.route.id])!=null&&j.shouldRevalidate)||O.hasClientLoader?S=!0:T.add(C.route.id))}),T.size===0)return[];let R=w3(t,l);return S&&T.size>0&&R.searchParams.set("_routes",e.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[R.pathname+R.search]},[l,u,r,s,h,e,t,o]),x=k.useMemo(()=>g3(p,s),[p,s]),w=S3(p);return k.createElement(k.Fragment,null,v.map(T=>k.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),x.map(T=>k.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),w.map(({key:T,link:S})=>k.createElement("link",{key:T,...S})))}function R3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aN&&(window.__reactRouterVersion="7.6.1")}catch{}function C3(t,e){return pL({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:OV({window:e==null?void 0:e.window}),hydrationData:k3(),routes:t,mapRouteProperties:QL,hydrationRouteProperties:ZL,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function k3(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:N3(t.errors)}),t}function N3(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Ap(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let l=new o(s.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(s.message);o.stack="",n[r]=o}}else n[r]=s;return n}var oN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:v,...x},w){let{basename:T}=k.useContext(Ms),S=typeof h=="string"&&oN.test(h),R,C=!1;if(typeof h=="string"&&S&&(R=h,aN))try{let M=new URL(window.location.href),B=h.startsWith("//")?new URL(M.protocol+h):new URL(h),q=gs(B.pathname,T);B.origin===M.origin&&q!=null?h=q+B.search+B.hash:C=!0}catch{sn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=ML(h,{relative:s}),[j,$,D]=T3(r,x),V=I3(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:v});function I(M){e&&e(M),M.defaultPrevented||V(M)}let N=k.createElement("a",{...x,...D,href:R||O,onClick:C||o?e:I,ref:R3(w,$),target:d,"data-discover":!S&&n==="render"?"true":void 0});return j&&!S?k.createElement(k.Fragment,null,N,k.createElement(E3,{page:O})):N});Pt.displayName="Link";var Ol=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:u,children:d,...h},p){let v=qh(l,{relative:h.relative}),x=ma(),w=k.useContext(Fh),{navigator:T,basename:S}=k.useContext(Ms),R=w!=null&&L3(v)&&u===!0,C=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,O=x.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(O=O.toLowerCase(),j=j?j.toLowerCase():null,C=C.toLowerCase()),j&&S&&(j=gs(j,S)||j);const $=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let D=O===C||!s&&O.startsWith(C)&&O.charAt($)==="/",V=j!=null&&(j===C||!s&&j.startsWith(C)&&j.charAt(C.length)==="/"),I={isActive:D,isPending:V,isTransitioning:R},N=D?e:void 0,M;typeof r=="function"?M=r(I):M=[r,D?"active":null,V?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(I):o;return k.createElement(Pt,{...h,"aria-current":N,className:M,ref:p,style:B,to:l,viewTransition:u},typeof d=="function"?d(I):d)});Ol.displayName="NavLink";var j3=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:l=ep,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:v,...x},w)=>{let T=O3(),S=V3(u,{relative:h}),R=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&oN.test(u),O=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let $=j.nativeEvent.submitter,D=($==null?void 0:$.getAttribute("formmethod"))||l;T($||j.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:s,state:o,relative:h,preventScrollReset:p,viewTransition:v})};return k.createElement("form",{ref:w,method:R,action:S,onSubmit:r?d:O,...x,"data-discover":!C&&t==="render"?"true":void 0})});j3.displayName="Form";function P3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lN(t){let e=k.useContext(Ml);return Qe(e,P3(t)),e}function I3(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=qn(),d=ma(),h=qh(t,{relative:o});return k.useCallback(p=>{if(c3(p,e)){p.preventDefault();let v=n!==void 0?n:po(d)===po(h);u(t,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,h,n,r,e,t,s,o,l])}var D3=0,M3=()=>`__${String(++D3)}__`;function O3(){let{router:t}=lN("useSubmit"),{basename:e}=k.useContext(Ms),n=YL();return k.useCallback(async(r,s={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=h3(r,e);if(s.navigate===!1){let p=s.fetcherKey||M3();await t.fetch(p,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function V3(t,{relative:e}={}){let{basename:n}=k.useContext(Ms),r=k.useContext(ys);Qe(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...qh(t||".",{relative:e})},l=ma();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ii([n,o.pathname])),po(o)}function L3(t,e={}){let n=k.useContext(Ib);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lN("useViewTransitionState"),s=qh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=gs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=gs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sp(s.pathname,l)!=null||Sp(s.pathname,o)!=null}[...b3];var U3=Lk();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B3(t){return k.createElement(e3,{flushSync:U3.flushSync,...t})}const $3=()=>{};var tA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},F3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],u=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},uN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,u=l?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,p=o>>2,v=(o&3)<<4|u>>4;let x=(u&15)<<2|h>>6,w=h&63;d||(w=64,l||(x=64)),r.push(n[p],n[v],n[x],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||h==null||v==null)throw new z3;const x=o<<2|u>>4;if(r.push(x),h!==64){const w=u<<4&240|h>>2;if(r.push(w),v!==64){const T=h<<6&192|v;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q3=function(t){const e=cN(t);return uN.encodeByteArray(e,!0)},Cp=function(t){return q3(t).replace(/\./g,"")},dN=function(t){try{return uN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=()=>H3().__FIREBASE_DEFAULTS__,K3=()=>{if(typeof process>"u"||typeof tA>"u")return;const t=tA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dN(t[1]);return e&&JSON.parse(e)},gg=()=>{try{return $3()||G3()||K3()||Y3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hN=t=>{var e,n;return(n=(e=gg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fN=t=>{const e=hN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mN=()=>{var t;return(t=gg())===null||t===void 0?void 0:t.config},pN=t=>{var e;return(e=gg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){return t.endsWith(".cloudworkstations.dev")}async function Bb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cp(JSON.stringify(n)),Cp(JSON.stringify(l)),""].join(".")}const Kd={};function X3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kd))Kd[e]?t.emulator.push(e):t.prod.push(e);return t}function Q3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nA=!1;function $b(t,e){if(typeof window>"u"||typeof document>"u"||!du(window.location.host)||Kd[t]===e||Kd[t]||nA)return;Kd[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=X3().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{nA=!0,l()},x}function p(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=Q3(r),w=n("text"),T=document.getElementById(w)||document.createElement("span"),S=n("learnmore"),R=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),O=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const j=x.element;u(j),p(R,S);const $=h();d(O,C),j.append(O,T,R,$),document.body.appendChild(j)}o?(T.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sr())}function J3(){var t;const e=(t=gg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r5(){const t=sr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s5(){return!J3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i5(){try{return typeof indexedDB=="object"}catch{return!1}}function a5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="FirebaseError";class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o5,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hh.prototype.create)}}class Hh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?l5(o,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Si(s,u,r)}}function l5(t,e){return t.replace(c5,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const c5=/\{\$([^}]+)}/g;function u5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(rA(o)&&rA(l)){if(!Cl(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function rA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ld(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Ud(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function d5(t,e){const n=new h5(t,e);return n.subscribe.bind(n)}class h5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f5(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=gv),s.error===void 0&&(s.error=gv),s.complete===void 0&&(s.complete=gv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){return t&&t._delegate?t._delegate:t}class go{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new W3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g5(e))try{this.getOrInitializeService({instanceIdentifier:dl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=dl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dl){return this.instances.has(e)}getOptions(e=dl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dl){return this.component?this.component.multipleInstances?e:dl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p5(t){return t===dl?void 0:t}function g5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new m5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const v5={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},x5=lt.INFO,b5={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},w5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=b5[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fb{constructor(e){this.name=e,this._logLevel=x5,this._logHandler=w5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const _5=(t,e)=>e.some(n=>t instanceof n);let sA,iA;function T5(){return sA||(sA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E5(){return iA||(iA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yN=new WeakMap,ox=new WeakMap,vN=new WeakMap,yv=new WeakMap,zb=new WeakMap;function S5(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(uo(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&yN.set(n,t)}).catch(()=>{}),zb.set(e,t),e}function A5(t){if(ox.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});ox.set(t,e)}let lx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ox.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R5(t){lx=t(lx)}function C5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vv(this),e,...n);return vN.set(r,e.sort?e.sort():[e]),uo(r)}:E5().includes(t)?function(...e){return t.apply(vv(this),e),uo(yN.get(this))}:function(...e){return uo(t.apply(vv(this),e))}}function k5(t){return typeof t=="function"?C5(t):(t instanceof IDBTransaction&&A5(t),_5(t,T5())?new Proxy(t,lx):t)}function uo(t){if(t instanceof IDBRequest)return S5(t);if(yv.has(t))return yv.get(t);const e=k5(t);return e!==t&&(yv.set(t,e),zb.set(e,t)),e}const vv=t=>zb.get(t);function N5(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),u=uo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(uo(l.result),d.oldVersion,d.newVersion,uo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const j5=["get","getKey","getAll","getAllKeys","count"],P5=["put","add","delete","clear"],xv=new Map;function aA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xv.get(e))return xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=P5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||j5.includes(n)))return;const o=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),s&&d.done]))[0]};return xv.set(e,o),o}R5(t=>({...t,get:(e,n,r)=>aA(e,n)||t.get(e,n,r),has:(e,n)=>!!aA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function D5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cx="@firebase/app",oA="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Fb("@firebase/app"),M5="@firebase/app-compat",O5="@firebase/analytics-compat",V5="@firebase/analytics",L5="@firebase/app-check-compat",U5="@firebase/app-check",B5="@firebase/auth",$5="@firebase/auth-compat",F5="@firebase/database",z5="@firebase/data-connect",q5="@firebase/database-compat",H5="@firebase/functions",G5="@firebase/functions-compat",K5="@firebase/installations",Y5="@firebase/installations-compat",W5="@firebase/messaging",X5="@firebase/messaging-compat",Q5="@firebase/performance",Z5="@firebase/performance-compat",J5="@firebase/remote-config",e6="@firebase/remote-config-compat",t6="@firebase/storage",n6="@firebase/storage-compat",r6="@firebase/firestore",s6="@firebase/ai",i6="@firebase/firestore-compat",a6="firebase",o6="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="[DEFAULT]",l6={[cx]:"fire-core",[M5]:"fire-core-compat",[V5]:"fire-analytics",[O5]:"fire-analytics-compat",[U5]:"fire-app-check",[L5]:"fire-app-check-compat",[B5]:"fire-auth",[$5]:"fire-auth-compat",[F5]:"fire-rtdb",[z5]:"fire-data-connect",[q5]:"fire-rtdb-compat",[H5]:"fire-fn",[G5]:"fire-fn-compat",[K5]:"fire-iid",[Y5]:"fire-iid-compat",[W5]:"fire-fcm",[X5]:"fire-fcm-compat",[Q5]:"fire-perf",[Z5]:"fire-perf-compat",[J5]:"fire-rc",[e6]:"fire-rc-compat",[t6]:"fire-gcs",[n6]:"fire-gcs-compat",[r6]:"fire-fst",[i6]:"fire-fst-compat",[s6]:"fire-vertex","fire-js":"fire-js",[a6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=new Map,c6=new Map,dx=new Map;function lA(t,e){try{t.container.addComponent(e)}catch(n){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kl(t){const e=t.name;if(dx.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;dx.set(e,t);for(const n of kp.values())lA(n,t);for(const n of c6.values())lA(n,t);return!0}function yg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new Hh("app","Firebase",u6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=o6;function xN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ux,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ho.create("bad-app-name",{appName:String(s)});if(n||(n=mN()),!n)throw ho.create("no-options");const o=kp.get(s);if(o){if(Cl(n,o.options)&&Cl(r,o.config))return o;throw ho.create("duplicate-app",{appName:s})}const l=new y5(s);for(const d of dx.values())l.addComponent(d);const u=new d6(n,r,l);return kp.set(s,u),u}function qb(t=ux){const e=kp.get(t);if(!e&&t===ux&&mN())return xN();if(!e)throw ho.create("no-app",{appName:t});return e}function ai(t,e,n){var r;let s=(r=l6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(u.join(" "));return}kl(new go(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="firebase-heartbeat-database",f6=1,hh="firebase-heartbeat-store";let bv=null;function bN(){return bv||(bv=N5(h6,f6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ho.create("idb-open",{originalErrorMessage:t.message})})),bv}async function m6(t){try{const n=(await bN()).transaction(hh),r=await n.objectStore(hh).get(wN(t));return await n.done,r}catch(e){if(e instanceof Si)ra.warn(e.message);else{const n=ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ra.warn(n.message)}}}async function cA(t,e){try{const r=(await bN()).transaction(hh,"readwrite");await r.objectStore(hh).put(e,wN(t)),await r.done}catch(n){if(n instanceof Si)ra.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ra.warn(r.message)}}}function wN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=1024,g6=30;class y6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>g6){const l=b6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ra.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uA(),{heartbeatsToSend:r,unsentEntries:s}=v6(this._heartbeatsCache.heartbeats),o=Cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ra.warn(n),""}}}function uA(){return new Date().toISOString().substring(0,10)}function v6(t,e=p6){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),dA(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),dA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class x6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i5()?a5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return cA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return cA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function dA(t){return Cp(JSON.stringify({version:2,heartbeats:t})).length}function b6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){kl(new go("platform-logger",e=>new I5(e),"PRIVATE")),kl(new go("heartbeat",e=>new y6(e),"PRIVATE")),ai(cx,oA,t),ai(cx,oA,"esm2017"),ai("fire-js","")}w6("");var _6="firebase",T6="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(_6,T6,"app");function Hb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _N(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E6=_N,TN=new Hh("auth","Firebase",_N());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new Fb("@firebase/auth");function S6(t,...e){Np.logLevel<=lt.WARN&&Np.warn(`Auth (${Vl}): ${t}`,...e)}function np(t,...e){Np.logLevel<=lt.ERROR&&Np.error(`Auth (${Vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t,...e){throw Gb(t,...e)}function oi(t,...e){return Gb(t,...e)}function EN(t,e,n){const r=Object.assign(Object.assign({},E6()),{[e]:n});return new Hh("auth","Firebase",r).create(e,{appName:t.name})}function li(t){return EN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TN.create(t,...e)}function Ue(t,e,...n){if(!t)throw Gb(e,...n)}function Ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw np(e),new Error(e)}function sa(t,e){t||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function A6(){return hA()==="http:"||hA()==="https:"}function hA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A6()||t5()||"connection"in navigator)?navigator.onLine:!0}function C6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.shortDelay=e,this.longDelay=n,sa(n>e,"Short delay should be less than long delay!"),this.isMobile=Z3()||n5()}get(){return R6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t,e){sa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j6=new Kh(3e4,6e4);function pa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ga(t,e,n,r,s={}){return AN(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Gh(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},o);return e5()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&du(t.emulatorConfig.host)&&(h.credentials="include"),SN.fetch()(await RN(t,t.config.apiHost,n,u),h)})}async function AN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},k6),e);try{const s=new I6(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Lm(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lm(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Lm(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Lm(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw EN(t,p,h);js(t,p)}}catch(s){if(s instanceof Si)throw s;js(t,"network-request-failed",{message:String(s)})}}async function Yh(t,e,n,r,s={}){const o=await ga(t,e,n,r,s);return"mfaPendingCredential"in o&&js(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function RN(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?Kb(t.config,s):`${t.config.apiScheme}://${s}`;return N6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function P6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class I6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),j6.get())})}}function Lm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=oi(t,e,r);return s.customData._tokenResponse=n,s}function fA(t){return t!==void 0&&t.enterprise!==void 0}class D6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M6(t,e){return ga(t,"GET","/v2/recaptchaConfig",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e){return ga(t,"POST","/v1/accounts:delete",e)}async function jp(t,e){return ga(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V6(t,e=!1){const n=jn(t),r=await n.getIdToken(e),s=Yb(r);Ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Yd(wv(s.auth_time)),issuedAtTime:Yd(wv(s.iat)),expirationTime:Yd(wv(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function wv(t){return Number(t)*1e3}function Yb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return np("JWT malformed, contained fewer than 3 sections"),null;try{const s=dN(n);return s?JSON.parse(s):(np("Failed to decode base64 JWT payload"),null)}catch(s){return np("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function mA(t){const e=Yb(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Si&&L6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yd(this.lastLoginAt),this.creationTime=Yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await fh(t,jp(n,{idToken:r}));Ue(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CN(o.providerUserInfo):[],u=$6(t.providerData,l),d=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),p=d?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new fx(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function B6(t){const e=jn(t);await Pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function CN(t){return t.map(e=>{var{providerId:n}=e,r=Hb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(t,e){const n=await AN(t,{},async()=>{const r=Gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await RN(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",SN.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function z6(t,e){return ga(t,"POST","/v2/accounts:revokeToken",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=mA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await F6(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new Wc;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ue(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wc,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Hb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fx(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fh(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return V6(this,e)}reload(){return B6(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await fh(this,O6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,l,u,d,h,p;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(s=n.email)!==null&&s!==void 0?s:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(l=n.photoURL)!==null&&l!==void 0?l:void 0,S=(u=n.tenantId)!==null&&u!==void 0?u:void 0,R=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,C=(h=n.createdAt)!==null&&h!==void 0?h:void 0,O=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:j,emailVerified:$,isAnonymous:D,providerData:V,stsTokenManager:I}=n;Ue(j&&I,e,"internal-error");const N=Wc.fromJSON(this.name,I);Ue(typeof j=="string",e,"internal-error"),Za(v,e.name),Za(x,e.name),Ue(typeof $=="boolean",e,"internal-error"),Ue(typeof D=="boolean",e,"internal-error"),Za(w,e.name),Za(T,e.name),Za(S,e.name),Za(R,e.name),Za(C,e.name),Za(O,e.name);const M=new Cs({uid:j,auth:e,email:x,emailVerified:$,displayName:v,isAnonymous:D,photoURL:T,phoneNumber:w,tenantId:S,stsTokenManager:N,createdAt:C,lastLoginAt:O});return V&&Array.isArray(V)&&(M.providerData=V.map(B=>Object.assign({},B))),R&&(M._redirectEventId=R),M}static async _fromIdTokenResponse(e,n,r=!1){const s=new Wc;s.updateFromServerResponse(n);const o=new Cs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Pp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ue(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?CN(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new Wc;u.updateFromIdToken(r);const d=new Cs({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new fx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new Map;function ea(t){sa(t instanceof Function,"Expected a class definition");let e=pA.get(t);return e?(sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kN.type="NONE";const gA=kN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t,e,n){return`firebase:${t}:${e}:${n}`}class Xc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=rp(this.userKey,s.apiKey,o),this.fullPersistenceKey=rp("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jp(this.auth,{idToken:e}).catch(()=>{});return n?Cs._fromGetAccountInfoResponse(this.auth,n,e):null}return Cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xc(ea(gA),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||ea(gA);const l=rp(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(l);if(p){let v;if(typeof p=="string"){const x=await jp(e,{idToken:p}).catch(()=>{});if(!x)break;v=await Cs._fromGetAccountInfoResponse(e,x,p)}else v=Cs._fromJSON(e,p);h!==o&&(u=v),o=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Xc(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Xc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MN(e))return"Blackberry";if(ON(e))return"Webos";if(jN(e))return"Safari";if((e.includes("chrome/")||PN(e))&&!e.includes("edge/"))return"Chrome";if(DN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NN(t=sr()){return/firefox\//i.test(t)}function jN(t=sr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PN(t=sr()){return/crios\//i.test(t)}function IN(t=sr()){return/iemobile/i.test(t)}function DN(t=sr()){return/android/i.test(t)}function MN(t=sr()){return/blackberry/i.test(t)}function ON(t=sr()){return/webos/i.test(t)}function Wb(t=sr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q6(t=sr()){var e;return Wb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function H6(){return r5()&&document.documentMode===10}function VN(t=sr()){return Wb(t)||DN(t)||ON(t)||MN(t)||/windows phone/i.test(t)||IN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e=[]){let n;switch(t){case"Browser":n=yA(sr());break;case"Worker":n=`${yA(sr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e={}){return ga(t,"GET","/v2/passwordPolicy",pa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=6;class W6{constructor(e){var n,r,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:Y6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vA(this),this.idTokenSubscription=new vA(this),this.beforeStateQueue=new G6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ea(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Xc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jp(this,{idToken:e}),r=await Cs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(li(this));const n=e?jn(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K6(this),n=new W6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await z6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ea(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Xc.create(this,[ea(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&S6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ya(t){return jn(t)}class vA{constructor(e){this.auth=e,this.observer=null,this.addObserver=d5(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q6(t){vg=t}function UN(t){return vg.loadJS(t)}function Z6(){return vg.recaptchaEnterpriseScript}function J6(){return vg.gapiScript}function eU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tU{constructor(){this.enterprise=new nU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rU="recaptcha-enterprise",BN="NO_RECAPTCHA";class sU{constructor(e){this.type=rU,this.auth=ya(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{M6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new D6(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function s(o,l,u){const d=window.grecaptcha;fA(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(BN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tU().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&fA(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Z6();d.length!==0&&(d+=u),UN(d).then(()=>{s(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function xA(t,e,n,r=!1,s=!1){const o=new sU(t);let l;if(s)l=BN;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ip(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await xA(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await xA(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t,e){const n=yg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Cl(o,e??{}))return s;js(s,"already-initialized")}return n.initialize({options:e})}function aU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ea);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oU(t,e,n){const r=ya(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=$N(e),{host:l,port:u}=lU(e),d=u===null?"":`:${u}`,h={url:`${o}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Cl(h,r.config.emulator)&&Cl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,du(l)?(Bb(`${o}//${l}${d}`),$b("Auth",!0)):cU()}function $N(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lU(t){const e=$N(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:bA(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:bA(l)}}}function bA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function uU(t,e){return ga(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU(t,e){return Yh(t,"POST","/v1/accounts:signInWithPassword",pa(t,e))}async function hU(t,e){return ga(t,"POST","/v1/accounts:sendOobCode",pa(t,e))}async function fU(t,e){return hU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(t,e){return Yh(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}async function pU(t,e){return Yh(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Xb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new mh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,n,"signInWithPassword",dU);case"emailLink":return mU(e,{email:this._email,oobCode:this._password});default:js(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,r,"signUpPassword",uU);case"emailLink":return pU(e,{idToken:n,email:this._email,oobCode:this._password});default:js(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t,e){return Yh(t,"POST","/v1/accounts:signInWithIdp",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="http://localhost";class Nl extends Xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):js("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Hb(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Nl(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Qc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qc(e,n)}buildRequest(){const e={requestUri:gU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vU(t){const e=Ld(Ud(t)).link,n=e?Ld(Ud(e)).deep_link_id:null,r=Ld(Ud(t)).deep_link_id;return(r?Ld(Ud(r)).link:null)||r||n||e||t}class Qb{constructor(e){var n,r,s,o,l,u;const d=Ld(Ud(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(r=d.oobCode)!==null&&r!==void 0?r:null,v=yU((s=d.mode)!==null&&s!==void 0?s:null);Ue(h&&p&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=p,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=vU(e);try{return new Qb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.providerId=hu.PROVIDER_ID}static credential(e,n){return mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Qb.parseLink(n);return Ue(r,"argument-error"),mh._fromEmailAndCode(e,r.code,r.tenantId)}}hu.PROVIDER_ID="password";hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends FN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Wh{constructor(){super("facebook.com")}static credential(e){return Nl._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Nl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return io.credential(n,r)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Wh{constructor(){super("github.com")}static credential(e){return Nl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Wh{constructor(){super("twitter.com")}static credential(e,n){return Nl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e){return Yh(t,"POST","/v1/accounts:signUp",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Cs._fromIdTokenResponse(e,r,s),l=wA(r);return new ia({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=wA(r);return new ia({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function wA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t){var e;if(wr(t.app))return Promise.reject(li(t));const n=ya(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ia({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await zN(n,{returnSecureToken:!0}),s=await ia._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends Si{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Dp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Dp(e,n,r,s)}}function qN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dp._fromErrorAndOperation(t,o,e,r):o})}async function bU(t,e,n=!1){const r=await fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ia._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(t,e,n=!1){const{auth:r}=t;if(wr(r.app))return Promise.reject(li(r));const s="reauthenticate";try{const o=await fh(t,qN(r,s,e,t),n);Ue(o.idToken,r,"internal-error");const l=Yb(o.idToken);Ue(l,r,"internal-error");const{sub:u}=l;return Ue(t.uid===u,r,"user-mismatch"),ia._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&js(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e,n=!1){if(wr(t.app))return Promise.reject(li(t));const r="signIn",s=await qN(t,r,e),o=await ia._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function _U(t,e){return HN(ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t){const e=ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TU(t,e,n){const r=ya(t);await Ip(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",fU)}async function EU(t,e,n){if(wr(t.app))return Promise.reject(li(t));const r=ya(t),l=await Ip(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zN).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&GN(t),d}),u=await ia._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function SU(t,e,n){return wr(t.app)?Promise.reject(li(t)):_U(jn(t),hu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GN(t),r})}function AU(t,e,n,r){return jn(t).onIdTokenChanged(e,n,r)}function RU(t,e,n){return jn(t).beforeAuthStateChanged(e,n)}function CU(t,e,n,r){return jn(t).onAuthStateChanged(e,n,r)}const Mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mp,"1"),this.storage.removeItem(Mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=1e3,NU=10;class YN extends KN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);H6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,NU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YN.type="LOCAL";const jU=YN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN extends KN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WN.type="SESSION";const XN=WN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new xg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async h=>h(n.origin,o)),d=await PU(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const h=Zb("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const x=v;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(x.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function DU(t){ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function MU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VU(){return QN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="firebaseLocalStorageDb",LU=1,Op="firebaseLocalStorage",JN="fbase_key";class Xh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bg(t,e){return t.transaction([Op],e?"readwrite":"readonly").objectStore(Op)}function UU(){const t=indexedDB.deleteDatabase(ZN);return new Xh(t).toPromise()}function mx(){const t=indexedDB.open(ZN,LU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Op,{keyPath:JN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Op)?e(r):(r.close(),await UU(),e(await mx()))})})}async function _A(t,e,n){const r=bg(t,!0).put({[JN]:e,value:n});return new Xh(r).toPromise()}async function BU(t,e){const n=bg(t,!1).get(e),r=await new Xh(n).toPromise();return r===void 0?null:r.value}function TA(t,e){const n=bg(t,!0).delete(e);return new Xh(n).toPromise()}const $U=800,FU=3;class ej{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xg._getInstance(VU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MU(),!this.activeServiceWorker)return;this.sender=new IU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mx();return await _A(e,Mp,"1"),await TA(e,Mp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_A(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=bg(s,!1).getAll();return new Xh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$U)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ej.type="LOCAL";const zU=ej;new Kh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t,e){return e?ea(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends Xb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HU(t){return HN(t.auth,new Jb(t),t.bypassAuthState)}function GU(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),wU(n,new Jb(t),t.bypassAuthState)}async function KU(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),bU(n,new Jb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HU;case"linkViaPopup":case"linkViaRedirect":return KU;case"reauthViaPopup":case"reauthViaRedirect":return GU;default:js(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new Kh(2e3,1e4);class Vc extends tj{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Vc.currentPopupAction&&Vc.currentPopupAction.cancel(),Vc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=Zb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YU.get())};e()}}Vc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="pendingRedirect",sp=new Map;class XU extends tj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sp.get(this.auth._key());if(!e){try{const r=await QU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sp.set(this.auth._key(),e)}return this.bypassAuthState||sp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QU(t,e){const n=eB(e),r=JU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function ZU(t,e){sp.set(t._key(),e)}function JU(t){return ea(t._redirectPersistence)}function eB(t){return rp(WU,t.config.apiKey,t.name)}async function tB(t,e,n=!1){if(wr(t.app))return Promise.reject(li(t));const r=ya(t),s=qU(r,e),l=await new XU(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=10*60*1e3;class rB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nj(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nB&&this.cachedEventUids.clear(),this.cachedEventUids.has(EA(e))}saveEventToCache(e){this.cachedEventUids.add(EA(e)),this.lastProcessedEventTime=Date.now()}}function EA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iB(t,e={}){return ga(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oB=/^https?/;async function lB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iB(t);for(const n of e)try{if(cB(n))return}catch{}js(t,"unauthorized-domain")}function cB(t){const e=hx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!oB.test(n))return!1;if(aB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=new Kh(3e4,6e4);function SA(){const t=ci().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dB(t){return new Promise((e,n)=>{var r,s,o;function l(){SA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SA(),n(oi(t,"network-request-failed"))},timeout:uB.get()})}if(!((s=(r=ci().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ci().gapi)===null||o===void 0)&&o.load)l();else{const u=eU("iframefcb");return ci()[u]=()=>{gapi.load?l():n(oi(t,"network-request-failed"))},UN(`${J6()}?onload=${u}`).catch(d=>n(d))}}).catch(e=>{throw ip=null,e})}let ip=null;function hB(t){return ip=ip||dB(t),ip}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=new Kh(5e3,15e3),mB="__/auth/iframe",pB="emulator/auth/iframe",gB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vB(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kb(e,pB):`https://${t.config.authDomain}/${mB}`,r={apiKey:e.apiKey,appName:t.name,v:Vl},s=yB.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Gh(r).slice(1)}`}async function xB(t){const e=await hB(t),n=ci().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:vB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gB,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=oi(t,"network-request-failed"),u=ci().setTimeout(()=>{o(l)},fB.get());function d(){ci().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wB=500,_B=600,TB="_blank",EB="http://localhost";class AA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SB(t,e,n,r=wB,s=_B){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},bB),{width:r.toString(),height:s.toString(),top:o,left:l}),h=sr().toLowerCase();n&&(u=PN(h)?TB:n),NN(h)&&(e=e||EB,d.scrollbars="yes");const p=Object.entries(d).reduce((x,[w,T])=>`${x}${w}=${T},`,"");if(q6(h)&&u!=="_self")return AB(e||"",u),new AA(null);const v=window.open(e||"",u,p);Ue(v,t,"popup-blocked");try{v.focus()}catch{}return new AA(v)}function AB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB="__/auth/handler",CB="emulator/auth/handler",kB=encodeURIComponent("fac");async function RA(t,e,n,r,s,o){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vl,eventId:s};if(e instanceof FN){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",u5(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(e instanceof Wh){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${kB}=${encodeURIComponent(d)}`:"";return`${NB(t)}?${Gh(u).slice(1)}${h}`}function NB({config:t}){return t.emulator?Kb(t,CB):`https://${t.authDomain}/${RB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="webStorageSupport";class jB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XN,this._completeRedirectFn=tB,this._overrideRedirectResult=ZU}async _openPopup(e,n,r,s){var o;sa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await RA(e,n,r,hx(),s);return SB(e,l,Zb())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await RA(e,n,r,hx(),s);return DU(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(sa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xB(e),r=new rB(e);return n.register("authEvent",s=>(Ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_v,{type:_v},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[_v];l!==void 0&&n(!!l),js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VN()||jN()||Wb()}}const PB=jB;var CA="@firebase/auth",kA="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MB(t){kl(new go("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ue(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LN(t)},h=new X6(r,s,o,d);return aU(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kl(new go("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(r=>new IB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(CA,kA,DB(t)),ai(CA,kA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=5*60,VB=pN("authIdTokenMaxAge")||OB;let NA=null;const LB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VB)return;const s=n==null?void 0:n.token;NA!==s&&(NA=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function e1(t=qb()){const e=yg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iU(t,{popupRedirectResolver:PB,persistence:[zU,jU,XN]}),r=pN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=LB(o.toString());RU(n,l,()=>l(n.currentUser)),AU(n,u=>l(u))}}const s=hN("auth");return s&&oU(n,`http://${s}`),n}function UB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Q6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=oi("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",UB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MB("Browser");var jA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,rj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,N){function M(){}M.prototype=N.prototype,I.D=N.prototype,I.prototype=new M,I.prototype.constructor=I,I.C=function(B,q,z){for(var U=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)U[ve-2]=arguments[ve];return N.prototype[q].apply(B,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,N,M){M||(M=0);var B=Array(16);if(typeof N=="string")for(var q=0;16>q;++q)B[q]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(q=0;16>q;++q)B[q]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=I.g[0],M=I.g[1],q=I.g[2];var z=I.g[3],U=N+(z^M&(q^z))+B[0]+3614090360&4294967295;N=M+(U<<7&4294967295|U>>>25),U=z+(q^N&(M^q))+B[1]+3905402710&4294967295,z=N+(U<<12&4294967295|U>>>20),U=q+(M^z&(N^M))+B[2]+606105819&4294967295,q=z+(U<<17&4294967295|U>>>15),U=M+(N^q&(z^N))+B[3]+3250441966&4294967295,M=q+(U<<22&4294967295|U>>>10),U=N+(z^M&(q^z))+B[4]+4118548399&4294967295,N=M+(U<<7&4294967295|U>>>25),U=z+(q^N&(M^q))+B[5]+1200080426&4294967295,z=N+(U<<12&4294967295|U>>>20),U=q+(M^z&(N^M))+B[6]+2821735955&4294967295,q=z+(U<<17&4294967295|U>>>15),U=M+(N^q&(z^N))+B[7]+4249261313&4294967295,M=q+(U<<22&4294967295|U>>>10),U=N+(z^M&(q^z))+B[8]+1770035416&4294967295,N=M+(U<<7&4294967295|U>>>25),U=z+(q^N&(M^q))+B[9]+2336552879&4294967295,z=N+(U<<12&4294967295|U>>>20),U=q+(M^z&(N^M))+B[10]+4294925233&4294967295,q=z+(U<<17&4294967295|U>>>15),U=M+(N^q&(z^N))+B[11]+2304563134&4294967295,M=q+(U<<22&4294967295|U>>>10),U=N+(z^M&(q^z))+B[12]+1804603682&4294967295,N=M+(U<<7&4294967295|U>>>25),U=z+(q^N&(M^q))+B[13]+4254626195&4294967295,z=N+(U<<12&4294967295|U>>>20),U=q+(M^z&(N^M))+B[14]+2792965006&4294967295,q=z+(U<<17&4294967295|U>>>15),U=M+(N^q&(z^N))+B[15]+1236535329&4294967295,M=q+(U<<22&4294967295|U>>>10),U=N+(q^z&(M^q))+B[1]+4129170786&4294967295,N=M+(U<<5&4294967295|U>>>27),U=z+(M^q&(N^M))+B[6]+3225465664&4294967295,z=N+(U<<9&4294967295|U>>>23),U=q+(N^M&(z^N))+B[11]+643717713&4294967295,q=z+(U<<14&4294967295|U>>>18),U=M+(z^N&(q^z))+B[0]+3921069994&4294967295,M=q+(U<<20&4294967295|U>>>12),U=N+(q^z&(M^q))+B[5]+3593408605&4294967295,N=M+(U<<5&4294967295|U>>>27),U=z+(M^q&(N^M))+B[10]+38016083&4294967295,z=N+(U<<9&4294967295|U>>>23),U=q+(N^M&(z^N))+B[15]+3634488961&4294967295,q=z+(U<<14&4294967295|U>>>18),U=M+(z^N&(q^z))+B[4]+3889429448&4294967295,M=q+(U<<20&4294967295|U>>>12),U=N+(q^z&(M^q))+B[9]+568446438&4294967295,N=M+(U<<5&4294967295|U>>>27),U=z+(M^q&(N^M))+B[14]+3275163606&4294967295,z=N+(U<<9&4294967295|U>>>23),U=q+(N^M&(z^N))+B[3]+4107603335&4294967295,q=z+(U<<14&4294967295|U>>>18),U=M+(z^N&(q^z))+B[8]+1163531501&4294967295,M=q+(U<<20&4294967295|U>>>12),U=N+(q^z&(M^q))+B[13]+2850285829&4294967295,N=M+(U<<5&4294967295|U>>>27),U=z+(M^q&(N^M))+B[2]+4243563512&4294967295,z=N+(U<<9&4294967295|U>>>23),U=q+(N^M&(z^N))+B[7]+1735328473&4294967295,q=z+(U<<14&4294967295|U>>>18),U=M+(z^N&(q^z))+B[12]+2368359562&4294967295,M=q+(U<<20&4294967295|U>>>12),U=N+(M^q^z)+B[5]+4294588738&4294967295,N=M+(U<<4&4294967295|U>>>28),U=z+(N^M^q)+B[8]+2272392833&4294967295,z=N+(U<<11&4294967295|U>>>21),U=q+(z^N^M)+B[11]+1839030562&4294967295,q=z+(U<<16&4294967295|U>>>16),U=M+(q^z^N)+B[14]+4259657740&4294967295,M=q+(U<<23&4294967295|U>>>9),U=N+(M^q^z)+B[1]+2763975236&4294967295,N=M+(U<<4&4294967295|U>>>28),U=z+(N^M^q)+B[4]+1272893353&4294967295,z=N+(U<<11&4294967295|U>>>21),U=q+(z^N^M)+B[7]+4139469664&4294967295,q=z+(U<<16&4294967295|U>>>16),U=M+(q^z^N)+B[10]+3200236656&4294967295,M=q+(U<<23&4294967295|U>>>9),U=N+(M^q^z)+B[13]+681279174&4294967295,N=M+(U<<4&4294967295|U>>>28),U=z+(N^M^q)+B[0]+3936430074&4294967295,z=N+(U<<11&4294967295|U>>>21),U=q+(z^N^M)+B[3]+3572445317&4294967295,q=z+(U<<16&4294967295|U>>>16),U=M+(q^z^N)+B[6]+76029189&4294967295,M=q+(U<<23&4294967295|U>>>9),U=N+(M^q^z)+B[9]+3654602809&4294967295,N=M+(U<<4&4294967295|U>>>28),U=z+(N^M^q)+B[12]+3873151461&4294967295,z=N+(U<<11&4294967295|U>>>21),U=q+(z^N^M)+B[15]+530742520&4294967295,q=z+(U<<16&4294967295|U>>>16),U=M+(q^z^N)+B[2]+3299628645&4294967295,M=q+(U<<23&4294967295|U>>>9),U=N+(q^(M|~z))+B[0]+4096336452&4294967295,N=M+(U<<6&4294967295|U>>>26),U=z+(M^(N|~q))+B[7]+1126891415&4294967295,z=N+(U<<10&4294967295|U>>>22),U=q+(N^(z|~M))+B[14]+2878612391&4294967295,q=z+(U<<15&4294967295|U>>>17),U=M+(z^(q|~N))+B[5]+4237533241&4294967295,M=q+(U<<21&4294967295|U>>>11),U=N+(q^(M|~z))+B[12]+1700485571&4294967295,N=M+(U<<6&4294967295|U>>>26),U=z+(M^(N|~q))+B[3]+2399980690&4294967295,z=N+(U<<10&4294967295|U>>>22),U=q+(N^(z|~M))+B[10]+4293915773&4294967295,q=z+(U<<15&4294967295|U>>>17),U=M+(z^(q|~N))+B[1]+2240044497&4294967295,M=q+(U<<21&4294967295|U>>>11),U=N+(q^(M|~z))+B[8]+1873313359&4294967295,N=M+(U<<6&4294967295|U>>>26),U=z+(M^(N|~q))+B[15]+4264355552&4294967295,z=N+(U<<10&4294967295|U>>>22),U=q+(N^(z|~M))+B[6]+2734768916&4294967295,q=z+(U<<15&4294967295|U>>>17),U=M+(z^(q|~N))+B[13]+1309151649&4294967295,M=q+(U<<21&4294967295|U>>>11),U=N+(q^(M|~z))+B[4]+4149444226&4294967295,N=M+(U<<6&4294967295|U>>>26),U=z+(M^(N|~q))+B[11]+3174756917&4294967295,z=N+(U<<10&4294967295|U>>>22),U=q+(N^(z|~M))+B[2]+718787259&4294967295,q=z+(U<<15&4294967295|U>>>17),U=M+(z^(q|~N))+B[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(q+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+q&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.u=function(I,N){N===void 0&&(N=I.length);for(var M=N-this.blockSize,B=this.B,q=this.h,z=0;z<N;){if(q==0)for(;z<=M;)s(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<N;)if(B[q++]=I.charCodeAt(z++),q==this.blockSize){s(this,B),q=0;break}}else for(;z<N;)if(B[q++]=I[z++],q==this.blockSize){s(this,B),q=0;break}}this.h=q,this.o+=N},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;var M=8*this.o;for(N=I.length-8;N<I.length;++N)I[N]=M&255,M/=256;for(this.u(I),I=Array(16),N=M=0;4>N;++N)for(var B=0;32>B;B+=8)I[M++]=this.g[N]>>>B&255;return I};function o(I,N){var M=u;return Object.prototype.hasOwnProperty.call(M,I)?M[I]:M[I]=N(I)}function l(I,N){this.h=N;for(var M=[],B=!0,q=I.length-1;0<=q;q--){var z=I[q]|0;B&&z==N||(M[q]=z,B=!1)}this.g=M}var u={};function d(I){return-128<=I&&128>I?o(I,function(N){return new l([N|0],0>N?-1:0)}):new l([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return v;if(0>I)return R(h(-I));for(var N=[],M=1,B=0;I>=M;B++)N[B]=I/M|0,M*=4294967296;return new l(N,0)}function p(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return R(p(I.substring(1),N));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(N,8)),B=v,q=0;q<I.length;q+=8){var z=Math.min(8,I.length-q),U=parseInt(I.substring(q,q+z),N);8>z?(z=h(Math.pow(N,z)),B=B.j(z).add(h(U))):(B=B.j(M),B=B.add(h(U)))}return B}var v=d(0),x=d(1),w=d(16777216);t=l.prototype,t.m=function(){if(S(this))return-R(this).m();for(var I=0,N=1,M=0;M<this.g.length;M++){var B=this.i(M);I+=(0<=B?B:4294967296+B)*N,N*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(S(this))return"-"+R(this).toString(I);for(var N=h(Math.pow(I,6)),M=this,B="";;){var q=$(M,N).g;M=C(M,q.j(N));var z=((0<M.g.length?M.g[0]:M.h)>>>0).toString(I);if(M=q,T(M))return z+B;for(;6>z.length;)z="0"+z;B=z+B}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function S(I){return I.h==-1}t.l=function(I){return I=C(this,I),S(I)?-1:T(I)?0:1};function R(I){for(var N=I.g.length,M=[],B=0;B<N;B++)M[B]=~I.g[B];return new l(M,~I.h).add(x)}t.abs=function(){return S(this)?R(this):this},t.add=function(I){for(var N=Math.max(this.g.length,I.g.length),M=[],B=0,q=0;q<=N;q++){var z=B+(this.i(q)&65535)+(I.i(q)&65535),U=(z>>>16)+(this.i(q)>>>16)+(I.i(q)>>>16);B=U>>>16,z&=65535,U&=65535,M[q]=U<<16|z}return new l(M,M[M.length-1]&-2147483648?-1:0)};function C(I,N){return I.add(R(N))}t.j=function(I){if(T(this)||T(I))return v;if(S(this))return S(I)?R(this).j(R(I)):R(R(this).j(I));if(S(I))return R(this.j(R(I)));if(0>this.l(w)&&0>I.l(w))return h(this.m()*I.m());for(var N=this.g.length+I.g.length,M=[],B=0;B<2*N;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(var q=0;q<I.g.length;q++){var z=this.i(B)>>>16,U=this.i(B)&65535,ve=I.i(q)>>>16,be=I.i(q)&65535;M[2*B+2*q]+=U*be,O(M,2*B+2*q),M[2*B+2*q+1]+=z*be,O(M,2*B+2*q+1),M[2*B+2*q+1]+=U*ve,O(M,2*B+2*q+1),M[2*B+2*q+2]+=z*ve,O(M,2*B+2*q+2)}for(B=0;B<N;B++)M[B]=M[2*B+1]<<16|M[2*B];for(B=N;B<2*N;B++)M[B]=0;return new l(M,0)};function O(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function j(I,N){this.g=I,this.h=N}function $(I,N){if(T(N))throw Error("division by zero");if(T(I))return new j(v,v);if(S(I))return N=$(R(I),N),new j(R(N.g),R(N.h));if(S(N))return N=$(I,R(N)),new j(R(N.g),N.h);if(30<I.g.length){if(S(I)||S(N))throw Error("slowDivide_ only works with positive integers.");for(var M=x,B=N;0>=B.l(I);)M=D(M),B=D(B);var q=V(M,1),z=V(B,1);for(B=V(B,2),M=V(M,2);!T(B);){var U=z.add(B);0>=U.l(I)&&(q=q.add(M),z=U),B=V(B,1),M=V(M,1)}return N=C(I,q.j(N)),new j(q,N)}for(q=v;0<=I.l(N);){for(M=Math.max(1,Math.floor(I.m()/N.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),z=h(M),U=z.j(N);S(U)||0<U.l(I);)M-=B,z=h(M),U=z.j(N);T(z)&&(z=x),q=q.add(z),I=C(I,U)}return new j(q,I)}t.A=function(I){return $(this,I).h},t.and=function(I){for(var N=Math.max(this.g.length,I.g.length),M=[],B=0;B<N;B++)M[B]=this.i(B)&I.i(B);return new l(M,this.h&I.h)},t.or=function(I){for(var N=Math.max(this.g.length,I.g.length),M=[],B=0;B<N;B++)M[B]=this.i(B)|I.i(B);return new l(M,this.h|I.h)},t.xor=function(I){for(var N=Math.max(this.g.length,I.g.length),M=[],B=0;B<N;B++)M[B]=this.i(B)^I.i(B);return new l(M,this.h^I.h)};function D(I){for(var N=I.g.length+1,M=[],B=0;B<N;B++)M[B]=I.i(B)<<1|I.i(B-1)>>>31;return new l(M,I.h)}function V(I,N){var M=N>>5;N%=32;for(var B=I.g.length-M,q=[],z=0;z<B;z++)q[z]=0<N?I.i(z+M)>>>N|I.i(z+M+1)<<32-N:I.i(z+M);return new l(q,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rj=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,fo=l}).apply(typeof jA<"u"?jA:typeof self<"u"?self:typeof window<"u"?window:{});var Um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sj,Bd,ij,ap,px,aj,oj,lj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,_,E){return g==Array.prototype||g==Object.prototype||(g[_]=E.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Um=="object"&&Um];for(var _=0;_<g.length;++_){var E=g[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(g,_){if(_)e:{var E=r;g=g.split(".");for(var L=0;L<g.length-1;L++){var X=g[L];if(!(X in E))break e;E=E[X]}g=g[g.length-1],L=E[g],_=_(L),_!=L&&_!=null&&e(E,g,{configurable:!0,writable:!0,value:_})}}function o(g,_){g instanceof String&&(g+="");var E=0,L=!1,X={next:function(){if(!L&&E<g.length){var re=E++;return{value:_(re,g[re]),done:!1}}return L=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(g){return g||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(g){var _=typeof g;return _=_!="object"?_:g?Array.isArray(g)?"array":_:"null",_=="array"||_=="object"&&typeof g.length=="number"}function h(g){var _=typeof g;return _=="object"&&g!=null||_=="function"}function p(g,_,E){return g.call.apply(g.bind,arguments)}function v(g,_,E){if(!g)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,L),g.apply(_,X)}}return function(){return g.apply(_,arguments)}}function x(g,_,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,x.apply(null,arguments)}function w(g,_){var E=Array.prototype.slice.call(arguments,1);return function(){var L=E.slice();return L.push.apply(L,arguments),g.apply(this,L)}}function T(g,_){function E(){}E.prototype=_.prototype,g.aa=_.prototype,g.prototype=new E,g.prototype.constructor=g,g.Qb=function(L,X,re){for(var ye=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ye[dt-2]=arguments[dt];return _.prototype[X].apply(L,ye)}}function S(g){const _=g.length;if(0<_){const E=Array(_);for(let L=0;L<_;L++)E[L]=g[L];return E}return[]}function R(g,_){for(let E=1;E<arguments.length;E++){const L=arguments[E];if(d(L)){const X=g.length||0,re=L.length||0;g.length=X+re;for(let ye=0;ye<re;ye++)g[X+ye]=L[ye]}else g.push(L)}}class C{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function O(g){return/^[\s\xa0]*$/.test(g)}function j(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function $(g){return $[" "](g),g}$[" "]=function(){};var D=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function V(g,_,E){for(const L in g)_.call(E,g[L],L,g)}function I(g,_){for(const E in g)_.call(void 0,g[E],E,g)}function N(g){const _={};for(const E in g)_[E]=g[E];return _}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(g,_){let E,L;for(let X=1;X<arguments.length;X++){L=arguments[X];for(E in L)g[E]=L[E];for(let re=0;re<M.length;re++)E=M[re],Object.prototype.hasOwnProperty.call(L,E)&&(g[E]=L[E])}}function q(g){var _=1;g=g.split(":");const E=[];for(;0<_&&g.length;)E.push(g.shift()),_--;return g.length&&E.push(g.join(":")),E}function z(g){u.setTimeout(()=>{throw g},0)}function U(){var g=je;let _=null;return g.g&&(_=g.g,g.g=g.g.next,g.g||(g.h=null),_.next=null),_}class ve{constructor(){this.h=this.g=null}add(_,E){const L=be.get();L.set(_,E),this.h?this.h.next=L:this.g=L,this.h=L}}var be=new C(()=>new J,g=>g.reset());class J{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,me=!1,je=new ve,H=()=>{const g=u.Promise.resolve(void 0);se=()=>{g.then(le)}};var le=()=>{for(var g;g=U();){try{g.h.call(g.g)}catch(E){z(E)}var _=be;_.j(g),100>_.h&&(_.h++,g.next=_.g,_.g=g)}me=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(g,_){this.type=g,this.g=this.target=_,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,_=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return g}();function Ye(g,_){if(fe.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var E=this.type=g.type,L=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=_,_=g.relatedTarget){if(D){e:{try{$(_.nodeName);var X=!0;break e}catch{}X=!1}X||(_=null)}}else E=="mouseover"?_=g.fromElement:E=="mouseout"&&(_=g.toElement);this.relatedTarget=_,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Pe[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ye.aa.h.call(this)}}T(Ye,fe);var Pe={2:"touch",3:"pen",4:"mouse"};Ye.prototype.h=function(){Ye.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ln="closure_listenable_"+(1e6*Math.random()|0),Rt=0;function qr(g,_,E,L,X){this.listener=g,this.proxy=null,this.src=_,this.type=E,this.capture=!!L,this.ha=X,this.key=++Rt,this.da=this.fa=!1}function Bt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Hn(g){this.src=g,this.g={},this.h=0}Hn.prototype.add=function(g,_,E,L,X){var re=g.toString();g=this.g[re],g||(g=this.g[re]=[],this.h++);var ye=Ci(g,_,L,X);return-1<ye?(_=g[ye],E||(_.fa=!1)):(_=new qr(_,this.src,re,!!L,X),_.fa=E,g.push(_)),_};function Vs(g,_){var E=_.type;if(E in g.g){var L=g.g[E],X=Array.prototype.indexOf.call(L,_,void 0),re;(re=0<=X)&&Array.prototype.splice.call(L,X,1),re&&(Bt(_),g.g[E].length==0&&(delete g.g[E],g.h--))}}function Ci(g,_,E,L){for(var X=0;X<g.length;++X){var re=g[X];if(!re.da&&re.listener==_&&re.capture==!!E&&re.ha==L)return X}return-1}var ir="closure_lm_"+(1e6*Math.random()|0),Do={};function Hl(g,_,E,L,X){if(Array.isArray(_)){for(var re=0;re<_.length;re++)Hl(g,_[re],E,L,X);return null}return E=Ea(E),g&&g[ln]?g.K(_,E,h(L)?!!L.capture:!1,X):ar(g,_,E,!1,L,X)}function ar(g,_,E,L,X,re){if(!_)throw Error("Invalid event type");var ye=h(X)?!!X.capture:!!X,dt=Hr(g);if(dt||(g[ir]=dt=new Hn(g)),E=dt.add(_,E,L,ye,re),E.proxy)return E;if(L=Ru(),E.proxy=L,L.src=g,L.listener=E,g.addEventListener)Re||(X=ye),X===void 0&&(X=!1),g.addEventListener(_.toString(),L,X);else if(g.attachEvent)g.attachEvent(ki(_.toString()),L);else if(g.addListener&&g.removeListener)g.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ru(){function g(E){return _.call(g.src,g.listener,E)}const _=bs;return g}function Mo(g,_,E,L,X){if(Array.isArray(_))for(var re=0;re<_.length;re++)Mo(g,_[re],E,L,X);else L=h(L)?!!L.capture:!!L,E=Ea(E),g&&g[ln]?(g=g.i,_=String(_).toString(),_ in g.g&&(re=g.g[_],E=Ci(re,E,L,X),-1<E&&(Bt(re[E]),Array.prototype.splice.call(re,E,1),re.length==0&&(delete g.g[_],g.h--)))):g&&(g=Hr(g))&&(_=g.g[_.toString()],g=-1,_&&(g=Ci(_,E,L,X)),(E=-1<g?_[g]:null)&&_a(E))}function _a(g){if(typeof g!="number"&&g&&!g.da){var _=g.src;if(_&&_[ln])Vs(_.i,g);else{var E=g.type,L=g.proxy;_.removeEventListener?_.removeEventListener(E,L,g.capture):_.detachEvent?_.detachEvent(ki(E),L):_.addListener&&_.removeListener&&_.removeListener(L),(E=Hr(_))?(Vs(E,g),E.h==0&&(E.src=null,_[ir]=null)):Bt(g)}}}function ki(g){return g in Do?Do[g]:Do[g]="on"+g}function bs(g,_){if(g.da)g=!0;else{_=new Ye(_,this);var E=g.listener,L=g.ha||g.src;g.fa&&_a(g),g=E.call(L,_)}return g}function Hr(g){return g=g[ir],g instanceof Hn?g:null}var Ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ea(g){return typeof g=="function"?g:(g[Ta]||(g[Ta]=function(_){return g.handleEvent(_)}),g[Ta])}function vt(){ge.call(this),this.i=new Hn(this),this.M=this,this.F=null}T(vt,ge),vt.prototype[ln]=!0,vt.prototype.removeEventListener=function(g,_,E,L){Mo(this,g,_,E,L)};function Je(g,_){var E,L=g.F;if(L)for(E=[];L;L=L.F)E.push(L);if(g=g.M,L=_.type||_,typeof _=="string")_=new fe(_,g);else if(_ instanceof fe)_.target=_.target||g;else{var X=_;_=new fe(L,g),B(_,X)}if(X=!0,E)for(var re=E.length-1;0<=re;re--){var ye=_.g=E[re];X=Gn(ye,L,!0,_)&&X}if(ye=_.g=g,X=Gn(ye,L,!0,_)&&X,X=Gn(ye,L,!1,_)&&X,E)for(re=0;re<E.length;re++)ye=_.g=E[re],X=Gn(ye,L,!1,_)&&X}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var g=this.i,_;for(_ in g.g){for(var E=g.g[_],L=0;L<E.length;L++)Bt(E[L]);delete g.g[_],g.h--}}this.F=null},vt.prototype.K=function(g,_,E,L){return this.i.add(String(g),_,!1,E,L)},vt.prototype.L=function(g,_,E,L){return this.i.add(String(g),_,!0,E,L)};function Gn(g,_,E,L){if(_=g.i.g[String(_)],!_)return!0;_=_.concat();for(var X=!0,re=0;re<_.length;++re){var ye=_[re];if(ye&&!ye.da&&ye.capture==E){var dt=ye.listener,vn=ye.ha||ye.src;ye.fa&&Vs(g.i,ye),X=dt.call(vn,L)!==!1&&X}}return X&&!L.defaultPrevented}function cn(g,_,E){if(typeof g=="function")E&&(g=x(g,E));else if(g&&typeof g.handleEvent=="function")g=x(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(g,_||0)}function Gl(g){g.g=cn(()=>{g.g=null,g.i&&(g.i=!1,Gl(g))},g.l);const _=g.h;g.h=null,g.m.apply(null,_)}class Gr extends ge{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(g){ge.call(this),this.h=g,this.g={}}T(Ls,ge);var Us=[];function Bs(g){V(g.g,function(_,E){this.g.hasOwnProperty(E)&&_a(_)},g),g.g={}}Ls.prototype.N=function(){Ls.aa.N.call(this),Bs(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=u.JSON.stringify,Ni=u.JSON.parse,Kr=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Sa(){}Sa.prototype.h=null;function ji(g){return g.h||(g.h=g.i())}function Oo(){}var Yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ws(){fe.call(this,"d")}T(ws,fe);function Aa(){fe.call(this,"c")}T(Aa,fe);var or={},$s=null;function Fs(){return $s=$s||new vt}or.La="serverreachability";function Ra(g){fe.call(this,or.La,g)}T(Ra,fe);function G(g){const _=Fs();Je(_,new Ra(_))}or.STAT_EVENT="statevent";function W(g,_){fe.call(this,or.STAT_EVENT,g),this.stat=_}T(W,fe);function Z(g){const _=Fs();Je(_,new W(_,g))}or.Ma="timingevent";function ue(g,_){fe.call(this,or.Ma,g),this.size=_}T(ue,fe);function pe(g,_){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},_)}function we(){this.g=!0}we.prototype.xa=function(){this.g=!1};function De(g,_,E,L,X,re){g.info(function(){if(g.g)if(re)for(var ye="",dt=re.split("&"),vn=0;vn<dt.length;vn++){var ht=dt[vn].split("=");if(1<ht.length){var An=ht[0];ht=ht[1];var xn=An.split("_");ye=2<=xn.length&&xn[1]=="type"?ye+(An+"="+ht+"&"):ye+(An+"=redacted&")}}else ye=null;else ye=re;return"XMLHTTP REQ ("+L+") [attempt "+X+"]: "+_+`
`+E+`
`+ye})}function Te(g,_,E,L,X,re,ye){g.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+X+"]: "+_+`
`+E+`
`+re+" "+ye})}function Se(g,_,E,L){g.info(function(){return"XMLHTTP TEXT ("+_+"): "+Me(g,E)+(L?" "+L:"")})}function Ce(g,_){g.info(function(){return"TIMEOUT: "+_})}we.prototype.info=function(){};function Me(g,_){if(!g.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(g=0;g<E.length;g++)if(Array.isArray(E[g])){var L=E[g];if(!(2>L.length)){var X=L[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ye=1;ye<X.length;ye++)X[ye]=""}}}}return Cr(E)}catch{return _}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},st;function wt(){}T(wt,Sa),wt.prototype.g=function(){return new XMLHttpRequest},wt.prototype.i=function(){return{}},st=new wt;function pt(g,_,E,L){this.j=g,this.i=_,this.l=E,this.R=L||1,this.U=new Ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}var nt={},Wr={};function yn(g,_,E){g.L=1,g.v=Uo(jr(_)),g.m=E,g.P=!0,lr(g,null)}function lr(g,_){g.F=Date.now(),kr(g),g.A=jr(g.v);var E=g.A,L=g.R;Array.isArray(L)||(L=[String(L)]),Pu(E.i,"t",L),g.C=0,E=g.j.J,g.h=new ut,g.g=Pf(g.j,E?_:null,!g.m),0<g.O&&(g.M=new Gr(x(g.Y,g,g.g),g.O)),_=g.U,E=g.g,L=g.ca;var X="readystatechange";Array.isArray(X)||(X&&(Us[0]=X.toString()),X=Us);for(var re=0;re<X.length;re++){var ye=Hl(E,X[re],L||_.handleEvent,!1,_.h||_);if(!ye)break;_.g[ye.key]=ye}_=g.H?N(g.H):{},g.m?(g.u||(g.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,_)):(g.u="GET",g.g.ea(g.A,g.u,null,_)),G(),De(g.i,g.u,g.A,g.l,g.R,g.m)}pt.prototype.ca=function(g){g=g.target;const _=this.M;_&&es(g)==3?_.j():this.Y(g)},pt.prototype.Y=function(g){try{if(g==this.g)e:{const xn=es(this.g);var _=this.g.Ba();const Ui=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||Ef(this.g)))){this.J||xn!=4||_==7||(_==8||0>=Ui?G(3):G(2)),Kn(this);var E=this.g.Z();this.X=E;t:if(In(this)){var L=Ef(this.g);g="";var X=L.length,re=es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),cr(this);var ye="";break t}this.h.i=new u.TextDecoder}for(_=0;_<X;_++)this.h.h=!0,g+=this.h.i.decode(L[_],{stream:!(re&&_==X-1)});L.length=0,this.h.g+=g,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=E==200,Te(this.i,this.u,this.A,this.l,this.R,xn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,vn=this.g;if((dt=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(dt)){var ht=dt;break t}}ht=null}if(E=ht)Se(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,un(this,E);else{this.o=!1,this.s=3,Z(12),qe(this),cr(this);break e}}if(this.P){E=!0;let Mn;for(;!this.J&&this.C<ye.length;)if(Mn=zs(this,ye),Mn==Wr){xn==4&&(this.s=4,Z(14),E=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==nt){this.s=4,Z(15),Se(this.i,this.l,ye,"[Invalid Chunk]"),E=!1;break}else Se(this.i,this.l,Mn,null),un(this,Mn);if(In(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||ye.length!=0||this.h.h||(this.s=1,Z(16),E=!1),this.o=this.o&&E,!E)Se(this.i,this.l,ye,"[Invalid Chunked Response]"),qe(this),cr(this);else if(0<ye.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Ko(An),An.M=!0,Z(11))}}else Se(this.i,this.l,ye,null),un(this,ye);xn==4&&qe(this),this.o&&!this.J&&(xn==4?kf(this.j,this):(this.o=!1,kr(this)))}else fy(this.g),E==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),qe(this),cr(this)}}}catch{}finally{}};function In(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function zs(g,_){var E=g.C,L=_.indexOf(`
`,E);return L==-1?Wr:(E=Number(_.substring(E,L)),isNaN(E)?nt:(L+=1,L+E>_.length?Wr:(_=_.slice(L,L+E),g.C=L+E,_)))}pt.prototype.cancel=function(){this.J=!0,qe(this)};function kr(g){g.S=Date.now()+g.I,Ca(g,g.I)}function Ca(g,_){if(g.B!=null)throw Error("WatchDog timer not null");g.B=pe(x(g.ba,g),_)}function Kn(g){g.B&&(u.clearTimeout(g.B),g.B=null)}pt.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ce(this.i,this.A),this.L!=2&&(G(),Z(17)),qe(this),this.s=2,cr(this)):Ca(this,this.S-g)};function cr(g){g.j.G==0||g.J||kf(g.j,g)}function qe(g){Kn(g);var _=g.M;_&&typeof _.ma=="function"&&_.ma(),g.M=null,Bs(g.U),g.g&&(_=g.g,g.g=null,_.abort(),_.ma())}function un(g,_){try{var E=g.j;if(E.G!=0&&(E.g==g||Xr(E.h,g))){if(!g.K&&Xr(E.h,g)&&E.G==3){try{var L=E.Da.g.parse(_)}catch{L=null}if(Array.isArray(L)&&L.length==3){var X=L;if(X[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<g.F)tc(E),Jl(E);else break e;Vu(E),Z(18)}}else E.za=X[1],0<E.za-E.T&&37500>X[2]&&E.F&&E.v==0&&!E.C&&(E.C=pe(x(E.Za,E),6e3));if(1>=It(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Li(E,11)}else if((g.K||E.g==g)&&tc(E),!O(_))for(X=E.Da.g.parse(_),_=0;_<X.length;_++){let ht=X[_];if(E.T=ht[0],ht=ht[1],E.G==2)if(ht[0]=="c"){E.K=ht[1],E.ia=ht[2];const An=ht[3];An!=null&&(E.la=An,E.j.info("VER="+E.la));const xn=ht[4];xn!=null&&(E.Aa=xn,E.j.info("SVER="+E.Aa));const Ui=ht[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(L=1.5*Ui,E.L=L,E.j.info("backChannelRequestTimeoutMs_="+L)),L=E;const Mn=g.g;if(Mn){const Qs=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var re=L.h;re.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Pi(re,re.h),re.h=null))}if(L.D){const Uu=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Uu&&(L.ya=Uu,Ct(L.I,L.D,Uu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-g.F,E.j.info("Handshake RTT: "+E.R+"ms")),L=E;var ye=g;if(L.qa=jf(L,L.J?L.ia:null,L.W),ye.K){Dn(L.h,ye);var dt=ye,vn=L.L;vn&&(dt.I=vn),dt.B&&(Kn(dt),kr(dt)),L.g=ye}else Rf(L);0<E.i.length&&ec(E)}else ht[0]!="stop"&&ht[0]!="close"||Li(E,7);else E.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Li(E,7):Mu(E):ht[0]!="noop"&&E.l&&E.l.ta(ht),E.v=0)}}G(4)}catch{}}var Nr=class{constructor(g,_){this.g=g,this.map=_}};function gr(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function It(g){return g.h?1:g.g?g.g.size:0}function Xr(g,_){return g.h?g.h==_:g.g?g.g.has(_):!1}function Pi(g,_){g.g?g.g.add(_):g.h=_}function Dn(g,_){g.h&&g.h==_?g.h=null:g.g&&g.g.has(_)&&g.g.delete(_)}gr.prototype.cancel=function(){if(this.i=Cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Cu(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let _=g.i;for(const E of g.g.values())_=_.concat(E.D);return _}return S(g.i)}function cy(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var _=[],E=g.length,L=0;L<E;L++)_.push(g[L]);return _}_=[],E=0;for(L in g)_[E++]=g[L];return _}function Kl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var _=[];g=g.length;for(var E=0;E<g;E++)_.push(E);return _}_=[],E=0;for(const L in g)_[E++]=L;return _}}}function ku(g,_){if(g.forEach&&typeof g.forEach=="function")g.forEach(_,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,_,void 0);else for(var E=Kl(g),L=cy(g),X=L.length,re=0;re<X;re++)_.call(void 0,L[re],E&&E[re],g)}var Vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uy(g,_){if(g){g=g.split("&");for(var E=0;E<g.length;E++){var L=g[E].indexOf("="),X=null;if(0<=L){var re=g[E].substring(0,L);X=g[E].substring(L+1)}else re=g[E];_(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function dn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof dn){this.h=g.h,Lo(this,g.j),this.o=g.o,this.g=g.g,ka(this,g.s),this.l=g.l;var _=g.i,E=new Di;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Ii(this,E),this.m=g.m}else g&&(_=String(g).match(Vo))?(this.h=!1,Lo(this,_[1]||"",!0),this.o=Qr(_[2]||""),this.g=Qr(_[3]||"",!0),ka(this,_[4]),this.l=Qr(_[5]||"",!0),Ii(this,_[6]||"",!0),this.m=Qr(_[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}dn.prototype.toString=function(){var g=[],_=this.j;_&&g.push(Bo(_,Nu,!0),":");var E=this.g;return(E||_=="file")&&(g.push("//"),(_=this.o)&&g.push(Bo(_,Nu,!0),"@"),g.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&g.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&g.push("/"),g.push(Bo(E,E.charAt(0)=="/"?dy:ju,!0))),(E=this.i.toString())&&g.push("?",E),(E=this.m)&&g.push("#",Bo(E,Yl)),g.join("")};function jr(g){return new dn(g)}function Lo(g,_,E){g.j=E?Qr(_,!0):_,g.j&&(g.j=g.j.replace(/:$/,""))}function ka(g,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);g.s=_}else g.s=null}function Ii(g,_,E){_ instanceof Di?(g.i=_,_f(g.i,g.h)):(E||(_=Bo(_,hy)),g.i=new Di(_,g.h))}function Ct(g,_,E){g.i.set(_,E)}function Uo(g){return Ct(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Qr(g,_){return g?_?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Bo(g,_,E){return typeof g=="string"?(g=encodeURI(g).replace(_,wf),E&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function wf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Nu=/[#\/\?@]/g,ju=/[#\?:]/g,dy=/[#\?]/g,hy=/[#\?@]/g,Yl=/#/g;function Di(g,_){this.h=this.g=null,this.i=g||null,this.j=!!_}function Zr(g){g.g||(g.g=new Map,g.h=0,g.i&&uy(g.i,function(_,E){g.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Di.prototype,t.add=function(g,_){Zr(this),this.i=null,g=Hs(this,g);var E=this.g.get(g);return E||this.g.set(g,E=[]),E.push(_),this.h+=1,this};function Mi(g,_){Zr(g),_=Hs(g,_),g.g.has(_)&&(g.i=null,g.h-=g.g.get(_).length,g.g.delete(_))}function Oi(g,_){return Zr(g),_=Hs(g,_),g.g.has(_)}t.forEach=function(g,_){Zr(this),this.g.forEach(function(E,L){E.forEach(function(X){g.call(_,X,L,this)},this)},this)},t.na=function(){Zr(this);const g=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let L=0;L<_.length;L++){const X=g[L];for(let re=0;re<X.length;re++)E.push(_[L])}return E},t.V=function(g){Zr(this);let _=[];if(typeof g=="string")Oi(this,g)&&(_=_.concat(this.g.get(Hs(this,g))));else{g=Array.from(this.g.values());for(let E=0;E<g.length;E++)_=_.concat(g[E])}return _},t.set=function(g,_){return Zr(this),this.i=null,g=Hs(this,g),Oi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[_]),this.h+=1,this},t.get=function(g,_){return g?(g=this.V(g),0<g.length?String(g[0]):_):_};function Pu(g,_,E){Mi(g,_),0<E.length&&(g.i=null,g.g.set(Hs(g,_),S(E)),g.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var L=_[E];const re=encodeURIComponent(String(L)),ye=this.V(L);for(L=0;L<ye.length;L++){var X=re;ye[L]!==""&&(X+="="+encodeURIComponent(String(ye[L]))),g.push(X)}}return this.i=g.join("&")};function Hs(g,_){return _=String(_),g.j&&(_=_.toLowerCase()),_}function _f(g,_){_&&!g.j&&(Zr(g),g.i=null,g.g.forEach(function(E,L){var X=L.toLowerCase();L!=X&&(Mi(this,L),Pu(this,X,E))},g)),g.j=_}function $o(g,_){const E=new we;if(u.Image){const L=new Image;L.onload=w(Jr,E,"TestLoadImage: loaded",!0,_,L),L.onerror=w(Jr,E,"TestLoadImage: error",!1,_,L),L.onabort=w(Jr,E,"TestLoadImage: abort",!1,_,L),L.ontimeout=w(Jr,E,"TestLoadImage: timeout",!1,_,L),u.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=g}else _(!1)}function _s(g,_){const E=new we,L=new AbortController,X=setTimeout(()=>{L.abort(),Jr(E,"TestPingServer: timeout",!1,_)},1e4);fetch(g,{signal:L.signal}).then(re=>{clearTimeout(X),re.ok?Jr(E,"TestPingServer: ok",!0,_):Jr(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),Jr(E,"TestPingServer: error",!1,_)})}function Jr(g,_,E,L,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),L(E)}catch{}}function Fo(){this.g=new Kr}function Gs(g,_,E){const L=E||"";try{ku(g,function(X,re){let ye=X;h(X)&&(ye=Cr(X)),_.push(L+re+"="+encodeURIComponent(ye))})}catch(X){throw _.push(L+"type="+encodeURIComponent("_badmap")),X}}function Na(g){this.l=g.Ub||null,this.j=g.eb||!1}T(Na,Sa),Na.prototype.g=function(){return new Vi(this.l,this.j)},Na.prototype.i=function(g){return function(){return g}}({});function Vi(g,_){vt.call(this),this.D=g,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Vi,vt),t=Vi.prototype,t.open=function(g,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=_,this.readyState=1,Ys(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(_.body=g),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Iu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Iu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var _=g.value?g.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!g.done}))&&(this.response=this.responseText+=_)}g.done?Ks(this):Ys(this),this.readyState==3&&Iu(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Ks(this))},t.Qa=function(g){this.g&&(this.response=g,Ks(this))},t.ga=function(){this.g&&Ks(this)};function Ks(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ys(g)}t.setRequestHeader=function(g,_){this.u.append(g,_)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,g.push(E[0]+": "+E[1]),E=_.next();return g.join(`\r
`)};function Ys(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Du(g){let _="";return V(g,function(E,L){_+=L,_+=":",_+=E,_+=`\r
`}),_}function Sn(g,_,E){e:{for(L in E){var L=!1;break e}L=!0}L||(E=Du(E),typeof g=="string"?E!=null&&encodeURIComponent(String(E)):Ct(g,_,E))}function _t(g){vt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(_t,vt);var Wl=/^https?$/i,zo=["POST","PUT"];t=_t.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,_,E,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);_=_?_.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():st.g(),this.v=this.o?ji(this.o):ji(st),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(g),!0),this.B=!1}catch(re){Tf(this,re);return}if(g=E||"",E=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var X in L)E.set(X,L[X]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const re of L.keys())E.set(re,L.get(re));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(E.keys()).find(re=>re.toLowerCase()=="content-type"),X=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(zo,_,void 0))||L||X||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of E)this.g.setRequestHeader(re,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qo(this),this.u=!0,this.g.send(g),this.u=!1}catch(re){Tf(this,re)}};function Tf(g,_){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=_,g.m=5,Xl(g),Ws(g)}function Xl(g){g.A||(g.A=!0,Je(g,"complete"),Je(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Je(this,"complete"),Je(this,"abort"),Ws(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ws(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ql(this):this.bb())},t.bb=function(){Ql(this)};function Ql(g){if(g.h&&typeof l<"u"&&(!g.v[1]||es(g)!=4||g.Z()!=2)){if(g.u&&es(g)==4)cn(g.Ea,0,g);else if(Je(g,"readystatechange"),es(g)==4){g.h=!1;try{const ye=g.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var L;if(L=ye===0){var X=String(g.D).match(Vo)[1]||null;!X&&u.self&&u.self.location&&(X=u.self.location.protocol.slice(0,-1)),L=!Wl.test(X?X.toLowerCase():"")}E=L}if(E)Je(g,"complete"),Je(g,"success");else{g.m=6;try{var re=2<es(g)?g.g.statusText:""}catch{re=""}g.l=re+" ["+g.Z()+"]",Xl(g)}}finally{Ws(g)}}}}function Ws(g,_){if(g.g){qo(g);const E=g.g,L=g.v[0]?()=>{}:null;g.g=null,g.v=null,_||Je(g,"ready");try{E.onreadystatechange=L}catch{}}}function qo(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function es(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var _=this.g.responseText;return g&&_.indexOf(g)==0&&(_=_.substring(g.length)),Ni(_)}};function Ef(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function fy(g){const _={};g=(g.g&&2<=es(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<g.length;L++){if(O(g[L]))continue;var E=q(g[L]);const X=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const re=_[X]||[];_[X]=re,re.push(E)}I(_,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(g,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[g]||_}function Zl(g){this.Aa=0,this.i=[],this.j=new we,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ho("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ho("baseRetryDelayMs",5e3,g),this.cb=Ho("retryDelaySeedMs",1e4,g),this.Wa=Ho("forwardChannelMaxRetries",2,g),this.wa=Ho("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new gr(g&&g.concurrentRequestLimit),this.Da=new Fo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zl.prototype,t.la=8,t.G=1,t.connect=function(g,_,E,L){Z(0),this.W=g,this.H=_||{},E&&L!==void 0&&(this.H.OSID=E,this.H.OAID=L),this.F=this.X,this.I=jf(this,null,this.W),ec(this)};function Mu(g){if(Sf(g),g.G==3){var _=g.U++,E=jr(g.I);if(Ct(E,"SID",g.K),Ct(E,"RID",_),Ct(E,"TYPE","terminate"),Go(g,E),_=new pt(g,g.j,_),_.L=2,_.v=Uo(jr(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.v,E=!0),E||(_.g=Pf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),kr(_)}Nf(g)}function Jl(g){g.g&&(Ko(g),g.g.cancel(),g.g=null)}function Sf(g){Jl(g),g.u&&(u.clearTimeout(g.u),g.u=null),tc(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function ec(g){if(!qs(g.h)&&!g.s){g.s=!0;var _=g.Ga;se||H(),me||(se(),me=!0),je.add(_,g),g.B=0}}function my(g,_){return It(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=_.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=pe(x(g.Ga,g,_),Lu(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const X=new pt(this,this.j,g);let re=this.o;if(this.S&&(re?(re=N(re),B(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var L=this.i[E];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(_+=L,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Af(this,X,_),E=jr(this.I),Ct(E,"RID",g),Ct(E,"CVER",22),this.D&&Ct(E,"X-HTTP-Session-Id",this.D),Go(this,E),re&&(this.O?_="headers="+encodeURIComponent(String(Du(re)))+"&"+_:this.m&&Sn(E,this.m,re)),Pi(this.h,X),this.Ua&&Ct(E,"TYPE","init"),this.P?(Ct(E,"$req",_),Ct(E,"SID","null"),X.T=!0,yn(X,E,null)):yn(X,E,_),this.G=2}}else this.G==3&&(g?Ou(this,g):this.i.length==0||qs(this.h)||Ou(this))};function Ou(g,_){var E;_?E=_.l:E=g.U++;const L=jr(g.I);Ct(L,"SID",g.K),Ct(L,"RID",E),Ct(L,"AID",g.T),Go(g,L),g.m&&g.o&&Sn(L,g.m,g.o),E=new pt(g,g.j,E,g.B+1),g.m===null&&(E.H=g.o),_&&(g.i=_.D.concat(g.i)),_=Af(g,E,1e3),E.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Pi(g.h,E),yn(E,L,_)}function Go(g,_){g.H&&V(g.H,function(E,L){Ct(_,L,E)}),g.l&&ku({},function(E,L){Ct(_,L,E)})}function Af(g,_,E){E=Math.min(g.i.length,E);var L=g.l?x(g.l.Na,g.l,g):null;e:{var X=g.i;let re=-1;for(;;){const ye=["count="+E];re==-1?0<E?(re=X[0].g,ye.push("ofs="+re)):re=0:ye.push("ofs="+re);let dt=!0;for(let vn=0;vn<E;vn++){let ht=X[vn].g;const An=X[vn].map;if(ht-=re,0>ht)re=Math.max(0,X[vn].g-100),dt=!1;else try{Gs(An,ye,"req"+ht+"_")}catch{L&&L(An)}}if(dt){L=ye.join("&");break e}}}return g=g.i.splice(0,E),_.D=g,L}function Rf(g){if(!g.g&&!g.u){g.Y=1;var _=g.Fa;se||H(),me||(se(),me=!0),je.add(_,g),g.v=0}}function Vu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=pe(x(g.Fa,g),Lu(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Cf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=pe(x(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),Jl(this),Cf(this))};function Ko(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Cf(g){g.g=new pt(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var _=jr(g.qa);Ct(_,"RID","rpc"),Ct(_,"SID",g.K),Ct(_,"AID",g.T),Ct(_,"CI",g.F?"0":"1"),!g.F&&g.ja&&Ct(_,"TO",g.ja),Ct(_,"TYPE","xmlhttp"),Go(g,_),g.m&&g.o&&Sn(_,g.m,g.o),g.L&&(g.g.I=g.L);var E=g.g;g=g.ia,E.L=1,E.v=Uo(jr(_)),E.m=null,E.P=!0,lr(E,g)}t.Za=function(){this.C!=null&&(this.C=null,Jl(this),Vu(this),Z(19))};function tc(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function kf(g,_){var E=null;if(g.g==_){tc(g),Ko(g),g.g=null;var L=2}else if(Xr(g.h,_))E=_.D,Dn(g.h,_),L=1;else return;if(g.G!=0){if(_.o)if(L==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var X=g.B;L=Fs(),Je(L,new ue(L,E)),ec(g)}else Rf(g);else if(X=_.s,X==3||X==0&&0<_.X||!(L==1&&my(g,_)||L==2&&Vu(g)))switch(E&&0<E.length&&(_=g.h,_.i=_.i.concat(E)),X){case 1:Li(g,5);break;case 4:Li(g,10);break;case 3:Li(g,6);break;default:Li(g,2)}}}function Lu(g,_){let E=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(E*=2),E*_}function Li(g,_){if(g.j.info("Error code "+_),_==2){var E=x(g.fb,g),L=g.Xa;const X=!L;L=new dn(L||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Lo(L,"https"),Uo(L),X?$o(L.toString(),E):_s(L.toString(),E)}else Z(2);g.G=0,g.l&&g.l.sa(_),Nf(g),Sf(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function Nf(g){if(g.G=0,g.ka=[],g.l){const _=Cu(g.h);(_.length!=0||g.i.length!=0)&&(R(g.ka,_),R(g.ka,g.i),g.h.i.length=0,S(g.i),g.i.length=0),g.l.ra()}}function jf(g,_,E){var L=E instanceof dn?jr(E):new dn(E);if(L.g!="")_&&(L.g=_+"."+L.g),ka(L,L.s);else{var X=u.location;L=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;var re=new dn(null);L&&Lo(re,L),_&&(re.g=_),X&&ka(re,X),E&&(re.l=E),L=re}return E=g.D,_=g.ya,E&&_&&Ct(L,E,_),Ct(L,"VER",g.la),Go(g,L),L}function Pf(g,_,E){if(_&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=g.Ca&&!g.pa?new _t(new Na({eb:E})):new _t(g.pa),_.Ha(g.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function If(){}t=If.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nc(){}nc.prototype.g=function(g,_){return new ur(g,_)};function ur(g,_){vt.call(this),this.g=new Zl(_),this.l=g,this.h=_&&_.messageUrlParams||null,g=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(g?g["X-WebChannel-Content-Type"]=_.messageContentType:g={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(g?g["X-WebChannel-Client-Profile"]=_.va:g={"X-WebChannel-Client-Profile":_.va}),this.g.S=g,(g=_&&_.Sb)&&!O(g)&&(this.g.m=g),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.D=_,g=this.h,g!==null&&_ in g&&(g=this.h,_ in g&&delete g[_])),this.j=new Xs(this)}T(ur,vt),ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ur.prototype.close=function(){Mu(this.g)},ur.prototype.o=function(g){var _=this.g;if(typeof g=="string"){var E={};E.__data__=g,g=E}else this.u&&(E={},E.__data__=Cr(g),g=E);_.i.push(new Nr(_.Ya++,g)),_.G==3&&ec(_)},ur.prototype.N=function(){this.g.l=null,delete this.j,Mu(this.g),delete this.g,ur.aa.N.call(this)};function Df(g){ws.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var _=g.__sm__;if(_){e:{for(const E in _){g=E;break e}g=void 0}(this.i=g)&&(g=this.i,_=_!==null&&g in _?_[g]:void 0),this.data=_}else this.data=g}T(Df,ws);function Mf(){Aa.call(this),this.status=1}T(Mf,Aa);function Xs(g){this.g=g}T(Xs,If),Xs.prototype.ua=function(){Je(this.g,"a")},Xs.prototype.ta=function(g){Je(this.g,new Df(g))},Xs.prototype.sa=function(g){Je(this.g,new Mf)},Xs.prototype.ra=function(){Je(this.g,"b")},nc.prototype.createWebChannel=nc.prototype.g,ur.prototype.send=ur.prototype.o,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,lj=function(){return new nc},oj=function(){return Fs()},aj=or,px={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,ap=Ae,Ve.COMPLETE="complete",ij=Ve,Oo.EventType=Yr,Yr.OPEN="a",Yr.CLOSE="b",Yr.ERROR="c",Yr.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Bd=Oo,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,sj=_t}).apply(typeof Um<"u"?Um:typeof self<"u"?self:typeof window<"u"?window:{});const PA="@firebase/firestore",IA="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new Fb("@firebase/firestore");function Ic(){return jl.logLevel}function _e(t,...e){if(jl.logLevel<=lt.DEBUG){const n=e.map(t1);jl.debug(`Firestore (${fu}): ${t}`,...n)}}function aa(t,...e){if(jl.logLevel<=lt.ERROR){const n=e.map(t1);jl.error(`Firestore (${fu}): ${t}`,...n)}}function Jc(t,...e){if(jl.logLevel<=lt.WARN){const n=e.map(t1);jl.warn(`Firestore (${fu}): ${t}`,...n)}}function t1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,cj(t,r,n)}function cj(t,e,n){let r=`FIRESTORE (${fu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw aa(r),new Error(r)}function Tt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||cj(e,s,r)}function Ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jn.UNAUTHENTICATED))}shutdown(){}}class $B{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FB{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new na;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new na,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},u=d=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new na)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string",31837,{l:r}),new uj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class zB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Tt(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new DA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=GB(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function gx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return tt(r,s);{const o=dj(),l=KB(o.encode(MA(t,n)),o.encode(MA(e,n)));return l!==0?l:tt(r,s)}}n+=r>65535?2:1}return tt(t.length,e.length)}function MA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function KB(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return tt(t[n],e[n]);return tt(t.length,e.length)}function eu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=-62135596800,VA=1e6;class Tn{static now(){return Tn.fromMillis(Date.now())}static fromDate(e){return Tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*VA);return new Tn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OA)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VA}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-OA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Tn(0,0))}static max(){return new Ge(new Tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="__name__";class si{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=si.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return tt(e.length,n.length)}static compareSegments(e,n){const r=si.isNumericId(e),s=si.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?si.extractNumericId(e).compare(si.extractNumericId(n)):gx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class Vt extends si{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Vt(n)}static emptyPath(){return new Vt([])}}const YB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends si{construct(e,n,r){return new Fn(e,n,r)}static isValidIdentifier(e){return YB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LA}static keyField(){return new Fn([LA])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new xe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new xe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new xe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(o(),s++)}if(o(),l)throw new xe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Vt.fromString(e))}static fromName(e){return new Ie(Vt.fromString(e).popFirst(5))}static empty(){return new Ie(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=-1;function WB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ge.fromTimestamp(r===1e9?new Tn(n+1,0):new Tn(n,r));return new yo(s,Ie.empty(),e)}function XB(t){return new yo(t.readTime,t.key,ph)}class yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yo(Ge.min(),Ie.empty(),ph)}static max(){return new yo(Ge.max(),Ie.empty(),ph)}}function QB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==ZB)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,r)=>{n(e)})}static reject(e){return new he((n,r)=>{r(e)})}static waitFor(e){return new he((n,r)=>{let s=0,o=0,l=!1;e.forEach(u=>{++s,u.next(()=>{++o,l&&o===s&&n()},d=>r(d))}),l=!0,o===s&&n()})}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next(s=>s?he.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new he((r,s)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const h=d;n(e[h]).next(p=>{l[h]=p,++u,u===o&&r(l)},p=>s(p))}})}static doWhile(e,n){return new he((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function e9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}wg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=-1;function _g(t){return t==null}function Vp(t){return t===0&&1/t==-1/0}function t9(t){return typeof t=="number"&&Number.isInteger(t)&&!Vp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="";function n9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UA(e)),e=r9(t.get(n),e);return UA(e)}function r9(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case fj:n+="";break;default:n+=o}}return n}function UA(t){return t+fj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bm(this.root,e,this.comparator,!0)}}class Bm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??$n.RED,this.left=s??$n.EMPTY,this.right=o??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new $n(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return $n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new $n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $A(this.data.getIterator())}getIteratorFrom(e){return new $A(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class $A{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new $r([])}unionWith(e){let n=new En(Fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pj("Invalid base64 string: "+o):o}}(e);return new zn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const s9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(Tt(!!t,39018),typeof t=="string"){let e=0;const n=s9.exec(t);if(Tt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rn(t.seconds),nanos:rn(t.nanos)}}function rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?zn.fromBase64String(t):zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="server_timestamp",yj="__type__",vj="__previous_value__",xj="__local_write_time__";function r1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yj])===null||n===void 0?void 0:n.stringValue)===gj}function Tg(t){const e=t.mapValue.fields[vj];return r1(e)?Tg(e):e}function gh(t){const e=vo(t.mapValue.fields[xj].timestampValue);return new Tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n,r,s,o,l,u,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=p}}const Lp="(default)";class yh{constructor(e,n){this.projectId=e,this.database=n||Lp}static empty(){return new yh("","")}get isDefaultDatabase(){return this.database===Lp}isEqual(e){return e instanceof yh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="__type__",a9="__max__",$m={mapValue:{}},wj="__vector__",Up="value";function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?r1(t)?4:l9(t)?9007199254740991:o9(t)?10:11:Be(28295,{value:t})}function bi(t,e){if(t===e)return!0;const n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gh(t).isEqual(gh(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=vo(s.timestampValue),u=vo(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return xo(s.bytesValue).isEqual(xo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return rn(s.geoPointValue.latitude)===rn(o.geoPointValue.latitude)&&rn(s.geoPointValue.longitude)===rn(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return rn(s.integerValue)===rn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=rn(s.doubleValue),u=rn(o.doubleValue);return l===u?Vp(l)===Vp(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return eu(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(BA(l)!==BA(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!bi(l[d],u[d])))return!1;return!0}(t,e);default:return Be(52216,{left:t})}}function vh(t,e){return(t.values||[]).find(n=>bi(n,e))!==void 0}function tu(t,e){if(t===e)return 0;const n=bo(t),r=bo(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return function(o,l){const u=rn(o.integerValue||o.doubleValue),d=rn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(t,e);case 3:return FA(t.timestampValue,e.timestampValue);case 4:return FA(gh(t),gh(e));case 5:return gx(t.stringValue,e.stringValue);case 6:return function(o,l){const u=xo(o),d=xo(l);return u.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=tt(u[h],d[h]);if(p!==0)return p}return tt(u.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const u=tt(rn(o.latitude),rn(l.latitude));return u!==0?u:tt(rn(o.longitude),rn(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zA(t.arrayValue,e.arrayValue);case 10:return function(o,l){var u,d,h,p;const v=o.fields||{},x=l.fields||{},w=(u=v[Up])===null||u===void 0?void 0:u.arrayValue,T=(d=x[Up])===null||d===void 0?void 0:d.arrayValue,S=tt(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:zA(w,T)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===$m.mapValue&&l===$m.mapValue)return 0;if(o===$m.mapValue)return 1;if(l===$m.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let v=0;v<d.length&&v<p.length;++v){const x=gx(d[v],p[v]);if(x!==0)return x;const w=tu(u[d[v]],h[p[v]]);if(w!==0)return w}return tt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Be(23264,{Pe:n})}}function FA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=vo(t),r=vo(e),s=tt(n.seconds,r.seconds);return s!==0?s:tt(n.nanos,r.nanos)}function zA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=tu(n[s],r[s]);if(o)return o}return tt(n.length,r.length)}function nu(t){return yx(t)}function yx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=yx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${yx(n.fields[l])}`;return s+"}"}(t.mapValue):Be(61005,{value:t})}function op(t){switch(bo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tg(t);return e?16+op(e):16;case 5:return 2*t.stringValue.length;case 6:return xo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+op(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ko(r.fields,(o,l)=>{s+=o.length+op(l)}),s}(t.mapValue);default:throw Be(13486,{value:t})}}function qA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vx(t){return!!t&&"integerValue"in t}function s1(t){return!!t&&"arrayValue"in t}function HA(t){return!!t&&"nullValue"in t}function GA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lp(t){return!!t&&"mapValue"in t}function o9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[bj])===null||n===void 0?void 0:n.stringValue)===wj}function Wd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function l9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===a9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wd(n)}setAll(e){let n=Fn.emptyPath(),r={},s=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=Wd(l):s.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());lp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];lp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ko(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new _r(Wd(this.value))}}function _j(t){const e=[];return ko(t.fields,(n,r)=>{const s=new Fn([n]);if(lp(r)){const o=_j(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new $r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r,s,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new er(e,0,Ge.min(),Ge.min(),Ge.min(),_r.empty(),0)}static newFoundDocument(e,n,r,s){return new er(e,1,n,Ge.min(),r,s,0)}static newNoDocument(e,n){return new er(e,2,n,Ge.min(),Ge.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new er(e,3,n,Ge.min(),Ge.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n){this.position=e,this.inclusive=n}}function KA(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=tu(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function c9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{}class pn extends Tj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d9(e,n,r):n==="array-contains"?new m9(e,r):n==="in"?new p9(e,r):n==="not-in"?new g9(e,r):n==="array-contains-any"?new y9(e,r):new pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new h9(e,r):new f9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tu(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(tu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends Tj{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ps(e,n)}matches(e){return Ej(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ej(t){return t.op==="and"}function Sj(t){return u9(t)&&Ej(t)}function u9(t){for(const e of t.filters)if(e instanceof Ps)return!1;return!0}function xx(t){if(t instanceof pn)return t.field.canonicalString()+t.op.toString()+nu(t.value);if(Sj(t))return t.filters.map(e=>xx(e)).join(",");{const e=t.filters.map(n=>xx(n)).join(",");return`${t.op}(${e})`}}function Aj(t,e){return t instanceof pn?function(r,s){return s instanceof pn&&r.op===s.op&&r.field.isEqual(s.field)&&bi(r.value,s.value)}(t,e):t instanceof Ps?function(r,s){return s instanceof Ps&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,l,u)=>o&&Aj(l,s.filters[u]),!0):!1}(t,e):void Be(19439)}function Rj(t){return t instanceof pn?function(n){return`${n.field.canonicalString()} ${n.op} ${nu(n.value)}`}(t):t instanceof Ps?function(n){return n.op.toString()+" {"+n.getFilters().map(Rj).join(" ,")+"}"}(t):"Filter"}class d9 extends pn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class h9 extends pn{constructor(e,n){super(e,"in",n),this.keys=Cj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f9 extends pn{constructor(e,n){super(e,"not-in",n),this.keys=Cj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Cj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class m9 extends pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s1(n)&&vh(n.arrayValue,this.value)}}class p9 extends pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vh(this.value.arrayValue,n)}}class g9 extends pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vh(this.value.arrayValue,n)}}class y9 extends pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n=null,r=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function WA(t,e=null,n=[],r=[],s=null,o=null,l=null){return new v9(t,e,n,r,s,o,l)}function i1(t){const e=Ke(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),_g(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nu(r)).join(",")),e.Ie=n}return e.Ie}function a1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Aj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YA(t.startAt,e.startAt)&&YA(t.endAt,e.endAt)}function bx(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n=null,r=[],s=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function x9(t,e,n,r,s,o,l,u){return new Ll(t,e,n,r,s,o,l,u)}function o1(t){return new Ll(t)}function XA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kj(t){return t.collectionGroup!==null}function Xd(t){const e=Ke(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new En(Fn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new xh(o,r))}),n.has(Fn.keyField().canonicalString())||e.Ee.push(new xh(Fn.keyField(),r))}return e.Ee}function ui(t){const e=Ke(t);return e.de||(e.de=b9(e,Xd(t))),e.de}function b9(t,e){if(t.limitType==="F")return WA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new xh(s.field,o)});const n=t.endAt?new Bp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bp(t.startAt.position,t.startAt.inclusive):null;return WA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wx(t,e){const n=t.filters.concat([e]);return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $p(t,e,n){return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eg(t,e){return a1(ui(t),ui(e))&&t.limitType===e.limitType}function Nj(t){return`${i1(ui(t))}|lt:${t.limitType}`}function Dc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Rj(s)).join(", ")}]`),_g(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>nu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>nu(s)).join(",")),`Target(${r})`}(ui(t))}; limitType=${t.limitType})`}function Sg(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Xd(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,u,d){const h=KA(l,u,d);return l.inclusive?h<=0:h<0}(r.startAt,Xd(r),s)||r.endAt&&!function(l,u,d){const h=KA(l,u,d);return l.inclusive?h>=0:h>0}(r.endAt,Xd(r),s))}(t,e)}function w9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jj(t){return(e,n)=>{let r=!1;for(const s of Xd(t)){const o=_9(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function _9(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(o,l,u){const d=l.data.field(o),h=u.data.field(o);return d!==null&&h!==null?tu(d,h):Be(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return mj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=new Yt(Ie.comparator);function oa(){return T9}const Pj=new Yt(Ie.comparator);function $d(...t){let e=Pj;for(const n of t)e=e.insert(n.key,n);return e}function Ij(t){let e=Pj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yl(){return Qd()}function Dj(){return Qd()}function Qd(){return new Ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const E9=new Yt(Ie.comparator),S9=new En(Ie.comparator);function ct(...t){let e=S9;for(const n of t)e=e.add(n);return e}const A9=new En(tt);function R9(){return A9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vp(e)?"-0":e}}function Mj(t){return{integerValue:""+t}}function C9(t,e){return t9(e)?Mj(e):l1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this._=void 0}}function k9(t,e,n){return t instanceof bh?function(s,o){const l={fields:{[yj]:{stringValue:gj},[xj]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&r1(o)&&(o=Tg(o)),o&&(l.fields[vj]=o),{mapValue:l}}(n,e):t instanceof wh?Vj(t,e):t instanceof _h?Lj(t,e):function(s,o){const l=Oj(s,o),u=QA(l)+QA(s.Re);return vx(l)&&vx(s.Re)?Mj(u):l1(s.serializer,u)}(t,e)}function N9(t,e,n){return t instanceof wh?Vj(t,e):t instanceof _h?Lj(t,e):n}function Oj(t,e){return t instanceof Fp?function(r){return vx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class bh extends Ag{}class wh extends Ag{constructor(e){super(),this.elements=e}}function Vj(t,e){const n=Uj(e);for(const r of t.elements)n.some(s=>bi(s,r))||n.push(r);return{arrayValue:{values:n}}}class _h extends Ag{constructor(e){super(),this.elements=e}}function Lj(t,e){let n=Uj(e);for(const r of t.elements)n=n.filter(s=>!bi(s,r));return{arrayValue:{values:n}}}class Fp extends Ag{constructor(e,n){super(),this.serializer=e,this.Re=n}}function QA(t){return rn(t.integerValue||t.doubleValue)}function Uj(t){return s1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.field=e,this.transform=n}}function P9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof wh&&s instanceof wh||r instanceof _h&&s instanceof _h?eu(r.elements,s.elements,bi):r instanceof Fp&&s instanceof Fp?bi(r.Re,s.Re):r instanceof bh&&s instanceof bh}(t.transform,e.transform)}class I9{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rg{}function Bj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fj(t.key,di.none()):new Qh(t.key,t.data,di.none());{const n=t.data,r=_r.empty();let s=new En(Fn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new No(t.key,r,new $r(s.toArray()),di.none())}}function D9(t,e,n){t instanceof Qh?function(s,o,l){const u=s.value.clone(),d=JA(s.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof No?function(s,o,l){if(!cp(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=JA(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll($j(s)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Zd(t,e,n,r){return t instanceof Qh?function(o,l,u,d){if(!cp(o.precondition,l))return u;const h=o.value.clone(),p=eR(o.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof No?function(o,l,u,d){if(!cp(o.precondition,l))return u;const h=eR(o.fieldTransforms,d,l),p=l.data;return p.setAll($j(o)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(o,l,u){return cp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function M9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=Oj(r.transform,s||null);o!=null&&(n===null&&(n=_r.empty()),n.set(r.field,o))}return n||null}function ZA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&eu(r,s,(o,l)=>P9(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qh extends Rg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class No extends Rg{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $j(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function JA(t,e,n){const r=new Map;Tt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,u=e.data.field(o.field);r.set(o.field,N9(l,u,n[s]))}return r}function eR(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,k9(o,l,e))}return r}class Fj extends Rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O9 extends Rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&D9(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Dj();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(s.key)?null:u;const d=Bj(l,u);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ct())}isEqual(e){return this.batchId===e.batchId&&eu(this.mutations,e.mutations,(n,r)=>ZA(n,r))&&eu(this.baseMutations,e.baseMutations,(n,r)=>ZA(n,r))}}class c1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Tt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return E9}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new c1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,mt;function B9(t){switch(t){case ce.OK:return Be(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function zj(t){if(t===void 0)return aa("GRPC error has no .code"),ce.UNKNOWN;switch(t){case mn.OK:return ce.OK;case mn.CANCELLED:return ce.CANCELLED;case mn.UNKNOWN:return ce.UNKNOWN;case mn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case mn.INTERNAL:return ce.INTERNAL;case mn.UNAVAILABLE:return ce.UNAVAILABLE;case mn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case mn.NOT_FOUND:return ce.NOT_FOUND;case mn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case mn.ABORTED:return ce.ABORTED;case mn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case mn.DATA_LOSS:return ce.DATA_LOSS;default:return Be(39323,{code:t})}}(mt=mn||(mn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=new fo([4294967295,4294967295],0);function tR(t){const e=dj().encode(t),n=new rj;return n.update(e),new Uint8Array(n.digest())}function nR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fo([n,r],0),new fo([s,o],0)]}class u1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fd(`Invalid padding: ${n}`);if(r<0)throw new Fd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=fo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(fo.fromNumber(r)));return s.compare($9)===1&&(s=new fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=tR(e),[r,s]=nR(n);for(let o=0;o<this.hashCount;o++){const l=this.we(r,s,o);if(!this.Se(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new u1(o,s,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const n=tR(e),[r,s]=nR(n);for(let o=0;o<this.hashCount;o++){const l=this.we(r,s,o);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cg(Ge.min(),s,new Yt(tt),oa(),ct())}}class Zh{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zh(r,n,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class qj{constructor(e,n){this.targetId=e,this.Ce=n}}class Hj{constructor(e,n,r=zn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class rR{constructor(){this.Fe=0,this.Me=sR(),this.xe=zn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ct(),n=ct(),r=ct();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Be(38017,{changeType:o})}}),new Zh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=sR()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Tt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class F9{constructor(e){this.ze=e,this.je=new Map,this.He=oa(),this.Je=Fm(),this.Ye=Fm(),this.Ze=new Yt(tt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const o=s.target;if(bx(o))if(r===0){const l=new Ie(o.path);this.tt(n,l,er.newNoDocument(l,Ge.min()))}else Tt(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const u=this.ct(e),d=u?this.lt(u,e,l):1;if(d!==0){this.st(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,u;try{l=xo(r).toUint8Array()}catch(d){if(d instanceof pj)return Jc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new u1(l,s,o)}catch(d){return Jc(d instanceof Fd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.pe===0?null:u}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.tt(n,o,null),s++)}),s}It(e){const n=new Map;this.je.forEach((o,l)=>{const u=this._t(l);if(u){if(o.current&&bx(u.target)){const d=new Ie(u.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,er.newNoDocument(d,e))}o.Le&&(n.set(l,o.qe()),o.Qe())}});let r=ct();this.Ye.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const h=this._t(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const s=new Cg(e,n,this.Ze,this.He,r);return this.He=oa(),this.Je=Fm(),this.Ye=Fm(),this.Ze=new Yt(tt),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new rR,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new En(tt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new En(tt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new rR),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Fm(){return new Yt(Ie.comparator)}function sR(){return new Yt(Ie.comparator)}const z9={asc:"ASCENDING",desc:"DESCENDING"},q9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H9={and:"AND",or:"OR"};class G9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _x(t,e){return t.useProto3Json||_g(e)?e:{value:e}}function zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function K9(t,e){return zp(t,e.toTimestamp())}function hi(t){return Tt(!!t,49232),Ge.fromTimestamp(function(n){const r=vo(n);return new Tn(r.seconds,r.nanos)}(t))}function d1(t,e){return Tx(t,e).canonicalString()}function Tx(t,e){const n=function(s){return new Vt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Kj(t){const e=Vt.fromString(t);return Tt(Zj(e),10190,{key:e.toString()}),e}function Ex(t,e){return d1(t.databaseId,e.path)}function Tv(t,e){const n=Kj(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(Wj(n))}function Yj(t,e){return d1(t.databaseId,e)}function Y9(t){const e=Kj(t);return e.length===4?Vt.emptyPath():Wj(e)}function Sx(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Wj(t){return Tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function iR(t,e,n){return{name:Ex(t,e),fields:n.value.mapValue.fields}}function W9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,p){return h.useProto3Json?(Tt(p===void 0||typeof p=="string",58123),zn.fromBase64String(p||"")):(Tt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),zn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const p=h.code===void 0?ce.UNKNOWN:zj(h.code);return new xe(p,h.message||"")}(l);n=new Hj(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Tv(t,r.document.name),o=hi(r.document.updateTime),l=r.document.createTime?hi(r.document.createTime):Ge.min(),u=new _r({mapValue:{fields:r.document.fields}}),d=er.newFoundDocument(s,o,l,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new up(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Tv(t,r.document),o=r.readTime?hi(r.readTime):Ge.min(),l=er.newNoDocument(s,o),u=r.removedTargetIds||[];n=new up([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Tv(t,r.document),o=r.removedTargetIds||[];n=new up([],o,s,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new U9(s,o),u=r.targetId;n=new qj(u,l)}}return n}function X9(t,e){let n;if(e instanceof Qh)n={update:iR(t,e.key,e.value)};else if(e instanceof Fj)n={delete:Ex(t,e.key)};else if(e instanceof No)n={update:iR(t,e.key,e.data),updateMask:i$(e.fieldMask)};else{if(!(e instanceof O9))return Be(16599,{ft:e.type});n={verify:Ex(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof bh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof wh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof _h)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Fp)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Be(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:K9(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Be(27497)}(t,e.precondition)),n}function Q9(t,e){return t&&t.length>0?(Tt(e!==void 0,14353),t.map(n=>function(s,o){let l=s.updateTime?hi(s.updateTime):hi(o);return l.isEqual(Ge.min())&&(l=hi(o)),new I9(l,s.transformResults||[])}(n,e))):[]}function Z9(t,e){return{documents:[Yj(t,e.path)]}}function J9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Yj(t,s);const o=function(h){if(h.length!==0)return Qj(Ps.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(p=>function(x){return{field:Mc(x.field),direction:n$(x.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=_x(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:s}}function e$(t){let e=Y9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Tt(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(v){const x=Xj(v);return x instanceof Ps&&Sj(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(x=>function(T){return new xh(Oc(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(x))}(n.orderBy));let u=null;n.limit&&(u=function(v){let x;return x=typeof v=="object"?v.value:v,_g(x)?null:x}(n.limit));let d=null;n.startAt&&(d=function(v){const x=!!v.before,w=v.values||[];return new Bp(w,x)}(n.startAt));let h=null;return n.endAt&&(h=function(v){const x=!v.before,w=v.values||[];return new Bp(w,x)}(n.endAt)),x9(e,s,l,o,u,"F",d,h)}function t$(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Xj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Oc(n.unaryFilter.field);return pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Oc(n.unaryFilter.field);return pn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Oc(n.unaryFilter.field);return pn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Oc(n.unaryFilter.field);return pn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(t):t.fieldFilter!==void 0?function(n){return pn.create(Oc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ps.create(n.compositeFilter.filters.map(r=>Xj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(n.compositeFilter.op))}(t):Be(30097,{filter:t})}function n$(t){return z9[t]}function r$(t){return q9[t]}function s$(t){return H9[t]}function Mc(t){return{fieldPath:t.canonicalString()}}function Oc(t){return Fn.fromServerFormat(t.fieldPath)}function Qj(t){return t instanceof pn?function(n){if(n.op==="=="){if(GA(n.value))return{unaryFilter:{field:Mc(n.field),op:"IS_NAN"}};if(HA(n.value))return{unaryFilter:{field:Mc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GA(n.value))return{unaryFilter:{field:Mc(n.field),op:"IS_NOT_NAN"}};if(HA(n.value))return{unaryFilter:{field:Mc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mc(n.field),op:r$(n.op),value:n.value}}}(t):t instanceof Ps?function(n){const r=n.getFilters().map(s=>Qj(s));return r.length===1?r[0]:{compositeFilter:{op:s$(n.op),filters:r}}}(t):Be(54877,{filter:t})}function i$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Zj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,s,o=Ge.min(),l=Ge.min(),u=zn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.wt=e}}function o$(t){const e=e$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(){this.Cn=new c$}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(yo.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class c${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new En(Vt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new En(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jj=41943040;class br{static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(Jj,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ru(0)}static lr(){return new ru(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="LruGarbageCollector",u$=1048576;function lR([t,e],[n,r]){const s=tt(t,n);return s===0?tt(e,r):s}class d${constructor(e){this.Er=e,this.buffer=new En(lR),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_e(oR,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pu(n)?_e(oR,"Ignoring IndexedDB error during garbage collection: ",n):await mu(n)}await this.mr(3e5)})}}class f${constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return he.resolve(wg.le);const r=new d$(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(aR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aR):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,o,l,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,n))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),Ic()<=lt.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function m$(t,e){return new f$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(){this.changes=new Ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Zd(r.mutation,s,$r.empty(),Tn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ct()){const s=yl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let l=$d();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=yl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ct()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,s){let o=oa();const l=Qd(),u=function(){return Qd()}();return n.forEach((d,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof No)?o=o.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Zd(p.mutation,h,p.mutation.getFieldMask(),Tn.now())):l.set(h.key,$r.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,p)=>l.set(h,p)),n.forEach((h,p)=>{var v;return u.set(h,new g$(p,(v=l.get(h))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Qd();let s=new Yt((l,u)=>l-u),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let p=r.get(d)||$r.empty();p=u.applyToLocalView(h,p),r.set(d,p);const v=(s.get(u.batchId)||ct()).add(d);s=s.insert(u.batchId,v)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,v=Dj();p.forEach(x=>{if(!o.has(x)){const w=Bj(n.get(x),r.get(x));w!==null&&v.set(x,w),o=o.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,v))}return he.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):he.resolve(yl());let u=ph,d=o;return l.next(h=>he.forEach(h,(p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(p)?he.resolve():this.remoteDocumentCache.getEntry(e,p).next(x=>{d=d.insert(p,x)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,ct())).next(p=>({batchId:u,changes:Ij(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let s=$d();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=$d();return this.indexManager.getCollectionParents(e,o).next(u=>he.forEach(u,d=>{const h=function(v,x){return new Ll(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(p=>{p.forEach((v,x)=>{l=l.insert(v,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(l=>{o.forEach((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,er.newInvalidDocument(p)))});let u=$d();return l.forEach((d,h)=>{const p=o.get(d);p!==void 0&&Zd(p.mutation,h,$r.empty(),Tn.now()),Sg(n,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return he.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:hi(s.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:o$(s.bundledQuery),readTime:hi(s.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(){this.overlays=new Yt(Ie.comparator),this.Qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yl();return he.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.bt(e,n,o)}),he.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const s=yl(),o=n.length+1,l=new Ie(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return he.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Yt((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=o.get(h.largestBatchId);p===null&&(p=yl(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=yl(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=s)););return he.resolve(u)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new L9(n,r));let o=this.Qr.get(n);o===void 0&&(o=ct(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.$r=new En(Nn.Ur),this.Kr=new En(Nn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Nn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Nn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ie(new Vt([])),r=new Nn(n,e),s=new Nn(n,e+1),o=[];return this.Kr.forEachInRange([r,s],l=>{this.zr(l),o.push(l.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ie(new Vt([])),r=new Nn(n,e),s=new Nn(n,e+1);let o=ct();return this.Kr.forEachInRange([r,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Nn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ie.comparator(e.key,n.key)||tt(e.Zr,n.Zr)}static Wr(e,n){return tt(e.Zr,n.Zr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new En(Nn.Ur)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new V9(o,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Xr=this.Xr.add(new Nn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,n){return he.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),o=s<0?0:s;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?n1:this.nr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nn(n,0),s=new Nn(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],l=>{const u=this.ei(l.Zr);o.push(u)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new En(tt);return n.forEach(s=>{const o=new Nn(s,0),l=new Nn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,l],u=>{r=r.add(u.Zr)})}),he.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ie.isDocumentKey(o)||(o=o.child(""));const l=new Nn(new Ie(o),0);let u=new En(tt);return this.Xr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(u=u.add(d.Zr)),!0)},l),he.resolve(this.ni(u))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Tt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return he.forEach(n.mutations,s=>{const o=new Nn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Nn(n,0),s=this.Xr.firstAfterOrEqual(r);return he.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e){this.ii=e,this.docs=function(){return new Yt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():er.newInvalidDocument(n))}getEntries(e,n){let r=oa();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():er.newInvalidDocument(s))}),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=oa();const l=n.path,u=new Ie(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||QB(XB(p),r)<=0||(s.has(p.key)||Sg(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Be(9500)}si(e,n){return he.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new T$(this)}getSize(e){return he.resolve(this.size)}}class T$ extends p${constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),he.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e){this.persistence=e,this.oi=new Ul(n=>i1(n),a1),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this._i=0,this.ai=new h1,this.targetCount=0,this.ui=ru.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),he.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new ru(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Tr(n),he.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.oi.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),he.waitFor(o).next(()=>s)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n){this.ci={},this.overlays={},this.li=new wg(0),this.hi=!1,this.hi=!0,this.Pi=new b$,this.referenceDelegate=e(this),this.Ti=new E$(this),this.indexManager=new l$,this.remoteDocumentCache=function(s){return new _$(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new a$(n),this.Ei=new v$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new w$(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const s=new S$(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,n){return he.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class S$ extends JB{constructor(e){super(),this.currentSequenceNumber=e}}class f1{constructor(e){this.persistence=e,this.Vi=new h1,this.mi=null}static fi(e){return new f1(e)}get gi(){if(this.mi)return this.mi;throw Be(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.gi,r=>{const s=Ie.fromPath(r);return this.pi(e,s).next(o=>{o||n.removeEntry(s,Ge.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return he.or([()=>he.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class qp{constructor(e,n){this.persistence=e,this.yi=new Ul(r=>n9(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=m$(this,n)}static fi(e,n){return new qp(e,n)}di(){}Ai(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return he.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?he.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,l=>this.Dr(e,l,n).next(u=>{u||(r++,o.removeEntry(l,Ge.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),he.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=op(e.data.value)),n}Dr(e,n,r){return he.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return he.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=ct(),s=ct();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new m1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return s5()?8:e9(sr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ws(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Ss(e,n,s,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new A$;return this.bs(e,n,l).next(u=>{if(o.result=u,this.fs)return this.Ds(e,n,l,u.size)})}).next(()=>o.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Ic()<=lt.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Dc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),he.resolve()):(Ic()<=lt.DEBUG&&_e("QueryEngine","Query:",Dc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Ic()<=lt.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Dc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):he.resolve())}ws(e,n){if(XA(n))return he.resolve(null);let r=ui(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$p(n,null,"F"),r=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=ct(...o);return this.ys.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.vs(n,u);return this.Cs(n,h,l,d.readTime)?this.ws(e,$p(n,null,"F")):this.Fs(e,h,n,d)}))})))}Ss(e,n,r,s){return XA(n)||s.isEqual(Ge.min())?he.resolve(null):this.ys.getDocuments(e,r).next(o=>{const l=this.vs(n,o);return this.Cs(n,l,r,s)?he.resolve(null):(Ic()<=lt.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Dc(n)),this.Fs(e,l,n,WB(s,ph)).next(u=>u))})}vs(e,n){let r=new En(jj(e));return n.forEach((s,o)=>{Sg(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}bs(e,n,r){return Ic()<=lt.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Dc(n)),this.ys.getDocumentsMatchingQuery(e,n,yo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="LocalStore",C$=3e8;class k${constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Yt(tt),this.Os=new Ul(o=>i1(o),a1),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y$(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function N$(t,e,n,r){return new k$(t,e,n,r)}async function tP(t,e){const n=Ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let d=ct();for(const h of s){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of o){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next(h=>({ks:h,removedBatchIds:l,addedBatchIds:u}))})})}function j$(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(u,d,h,p){const v=h.batch,x=v.keys();let w=he.resolve();return x.forEach(T=>{w=w.next(()=>p.getEntry(d,T)).next(S=>{const R=h.docVersions.get(T);Tt(R!==null,48541),S.version.compareTo(R)<0&&(v.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(d,v))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=ct();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function nP(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function P$(t,e){const n=Ke(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const u=[];e.targetChanges.forEach((p,v)=>{const x=s.get(v);if(!x)return;u.push(n.Ti.removeMatchingKeys(o,p.removedDocuments,v).next(()=>n.Ti.addMatchingKeys(o,p.addedDocuments,v)));let w=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(zn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),s=s.insert(v,w),function(S,R,C){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=C$?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(x,w,p)&&u.push(n.Ti.updateTargetData(o,w))});let d=oa(),h=ct();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),u.push(I$(o,l,e.documentUpdates).next(p=>{d=p.qs,h=p.Qs})),!r.isEqual(Ge.min())){const p=n.Ti.getLastRemoteSnapshotVersion(o).next(v=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(p)}return he.waitFor(u).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(n.xs=s,o))}function I$(t,e,n){let r=ct(),s=ct();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=oa();return n.forEach((u,d)=>{const h=o.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Ge.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):_e(p1,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{qs:l,Qs:s}})}function D$(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=n1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M$(t,e){const n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(o=>o?(s=o,he.resolve(s)):n.Ti.allocateTargetId(r).next(l=>(s=new co(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Ax(t,e,n){const r=Ke(t),s=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!pu(l))throw l;_e(p1,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function cR(t,e,n){const r=Ke(t);let s=Ge.min(),o=ct();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,p){const v=Ke(d),x=v.Os.get(p);return x!==void 0?he.resolve(v.xs.get(x)):v.Ti.getTargetData(h,p)}(r,l,ui(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,n?s:Ge.min(),n?o:ct())).next(u=>(O$(r,w9(e),u),{documents:u,$s:o})))}function O$(t,e,n){let r=t.Ns.get(e)||Ge.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class uR{constructor(){this.activeTargetIds=R9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V${constructor(){this.xo=new uR,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new uR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="ConnectivityMonitor";class hR{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_e(dR,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_e(dR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm=null;function Rx(){return zm===null?zm=function(){return 268435456+Math.round(2147483648*Math.random())}():zm++,"0x"+zm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="RestConnection",U$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B${get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Lp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,o){const l=Rx(),u=this.jo(e,n.toUriEncodedString());_e(Ev,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,s,o);const{host:h}=new URL(u),p=du(h);return this.Jo(e,u,d,r,p).then(v=>(_e(Ev,`Received RPC '${e}' ${l}: `,v),v),v=>{throw Jc(Ev,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v})}Yo(e,n,r,s,o,l){return this.zo(e,n,r,s,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,n){const r=U$[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="WebChannelConnection";class F$ extends B${constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const l=Rx();return new Promise((u,d)=>{const h=new sj;h.setWithCredentials(!0),h.listenOnce(ij.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ap.NO_ERROR:const v=h.getResponseJson();_e(Xn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case ap.TIMEOUT:_e(Xn,`RPC '${e}' ${l} timed out`),d(new xe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case ap.HTTP_ERROR:const x=h.getStatus();if(_e(Xn,`RPC '${e}' ${l} failed with status:`,x,"response text:",h.getResponseText()),x>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const S=function(C){const O=C.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(O)>=0?O:ce.UNKNOWN}(T.status);d(new xe(S,T.message))}else d(new xe(ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new xe(ce.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{_e(Xn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(s);_e(Xn,`RPC '${e}' ${l} sending request:`,s),h.send(n,"POST",p,r,15)})}T_(e,n,r){const s=Rx(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=lj(),u=oj(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=o.join("");_e(Xn,`Creating RPC '${e}' stream ${s}: ${p}`,d);const v=l.createWebChannel(p,d);let x=!1,w=!1;const T=new $$({Zo:R=>{w?_e(Xn,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(x||(_e(Xn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),x=!0),_e(Xn,`RPC '${e}' stream ${s} sending:`,R),v.send(R))},Xo:()=>v.close()}),S=(R,C,O)=>{R.listen(C,j=>{try{O(j)}catch($){setTimeout(()=>{throw $},0)}})};return S(v,Bd.EventType.OPEN,()=>{w||(_e(Xn,`RPC '${e}' stream ${s} transport opened.`),T.__())}),S(v,Bd.EventType.CLOSE,()=>{w||(w=!0,_e(Xn,`RPC '${e}' stream ${s} transport closed`),T.u_())}),S(v,Bd.EventType.ERROR,R=>{w||(w=!0,Jc(Xn,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),T.u_(new xe(ce.UNAVAILABLE,"The operation could not be completed")))}),S(v,Bd.EventType.MESSAGE,R=>{var C;if(!w){const O=R.data[0];Tt(!!O,16349);const j=O,$=(j==null?void 0:j.error)||((C=j[0])===null||C===void 0?void 0:C.error);if($){_e(Xn,`RPC '${e}' stream ${s} received error:`,$);const D=$.status;let V=function(M){const B=mn[M];if(B!==void 0)return zj(B)}(D),I=$.message;V===void 0&&(V=ce.INTERNAL,I="Unknown error status: "+D+" with message "+$.message),w=!0,T.u_(new xe(V,I)),v.close()}else _e(Xn,`RPC '${e}' stream ${s} received:`,O),T.c_(O)}}),S(u,aj.STAT_EVENT,R=>{R.stat===px.PROXY?_e(Xn,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===px.NOPROXY&&_e(Xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}}function Sv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t){return new G9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="PersistentStream";class sP{constructor(e,n,r,s,o,l,u,d){this.xi=e,this.y_=r,this.w_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new rP(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new xe(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return _e(fR,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(_e(fR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z$ extends sP{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=W9(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ge.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ge.min():l.readTime?hi(l.readTime):Ge.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=Sx(this.serializer),n.addTarget=function(o,l){let u;const d=l.target;if(u=bx(d)?{documents:Z9(o,d)}:{query:J9(o,d).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Gj(o,l.resumeToken);const h=_x(o,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ge.min())>0){u.readTime=zp(o,l.snapshotVersion.toTimestamp());const h=_x(o,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=t$(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=Sx(this.serializer),n.removeTarget=e,this.L_(n)}}class q$ extends sP{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=Q9(e.writeResults,e.commitTime),r=hi(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=Sx(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>X9(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${}class G$ extends H${constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.zo(e,Tx(n,r),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ce.UNKNOWN,o.toString())})}Yo(e,n,r,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(e,Tx(n,r),s,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(ce.UNKNOWN,l.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class K${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(aa(n),this.oa=!1):_e("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="RemoteStore";class Y${constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(l=>{r.enqueueAndForget(async()=>{Bl(this)&&(_e(Pl,"Restarting streams for network reachability change."),await async function(d){const h=Ke(d);h.Ta.add(4),await Jh(h),h.da.set("Unknown"),h.Ta.delete(4),await Ng(h)}(this))})}),this.da=new K$(r,s)}}async function Ng(t){if(Bl(t))for(const e of t.Ia)await e(!0)}async function Jh(t){for(const e of t.Ia)await e(!1)}function iP(t,e){const n=Ke(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),x1(n)?v1(n):gu(n).M_()&&y1(n,e))}function g1(t,e){const n=Ke(t),r=gu(n);n.Pa.delete(e),r.M_()&&aP(n,e),n.Pa.size===0&&(r.M_()?r.N_():Bl(n)&&n.da.set("Unknown"))}function y1(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gu(t).H_(e)}function aP(t,e){t.Aa.Ke(e),gu(t).J_(e)}function v1(t){t.Aa=new F9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),gu(t).start(),t.da._a()}function x1(t){return Bl(t)&&!gu(t).F_()&&t.Pa.size>0}function Bl(t){return Ke(t).Ta.size===0}function oP(t){t.Aa=void 0}async function W$(t){t.da.set("Online")}async function X$(t){t.Pa.forEach((e,n)=>{y1(t,e)})}async function Q$(t,e){oP(t),x1(t)?(t.da.ca(e),v1(t)):t.da.set("Unknown")}async function Z$(t,e,n){if(t.da.set("Online"),e instanceof Hj&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Pa.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Pa.delete(u),s.Aa.removeTarget(u))}(t,e)}catch(r){_e(Pl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hp(t,r)}else if(e instanceof up?t.Aa.Xe(e):e instanceof qj?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Ge.min()))try{const r=await nP(t.localStore);n.compareTo(r)>=0&&await function(o,l){const u=o.Aa.It(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=o.Pa.get(h);p&&o.Pa.set(h,p.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const p=o.Pa.get(d);if(!p)return;o.Pa.set(d,p.withResumeToken(zn.EMPTY_BYTE_STRING,p.snapshotVersion)),aP(o,d);const v=new co(p.target,d,h,p.sequenceNumber);y1(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){_e(Pl,"Failed to raise snapshot:",r),await Hp(t,r)}}async function Hp(t,e,n){if(!pu(e))throw e;t.Ta.add(1),await Jh(t),t.da.set("Offline"),n||(n=()=>nP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(Pl,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Ng(t)})}function lP(t,e){return e().catch(n=>Hp(t,n,e))}async function jg(t){const e=Ke(t),n=wo(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:n1;for(;J$(e);)try{const s=await D$(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,eF(e,s)}catch(s){await Hp(e,s)}cP(e)&&uP(e)}function J$(t){return Bl(t)&&t.ha.length<10}function eF(t,e){t.ha.push(e);const n=wo(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function cP(t){return Bl(t)&&!wo(t).F_()&&t.ha.length>0}function uP(t){wo(t).start()}async function tF(t){wo(t).ta()}async function nF(t){const e=wo(t);for(const n of t.ha)e.Z_(n.mutations)}async function rF(t,e,n){const r=t.ha.shift(),s=c1.from(r,e,n);await lP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await jg(t)}async function sF(t,e){e&&wo(t).Y_&&await async function(r,s){if(function(l){return B9(l)&&l!==ce.ABORTED}(s.code)){const o=r.ha.shift();wo(r).O_(),await lP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await jg(r)}}(t,e),cP(t)&&uP(t)}async function mR(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),_e(Pl,"RemoteStore received new credentials");const r=Bl(n);n.Ta.add(3),await Jh(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Ng(n)}async function iF(t,e){const n=Ke(t);e?(n.Ta.delete(2),await Ng(n)):e||(n.Ta.add(2),await Jh(n),n.da.set("Unknown"))}function gu(t){return t.Ra||(t.Ra=function(n,r,s){const o=Ke(n);return o.ra(),new z$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:W$.bind(null,t),n_:X$.bind(null,t),i_:Q$.bind(null,t),j_:Z$.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),x1(t)?v1(t):t.da.set("Unknown")):(await t.Ra.stop(),oP(t))})),t.Ra}function wo(t){return t.Va||(t.Va=function(n,r,s){const o=Ke(n);return o.ra(),new q$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:tF.bind(null,t),i_:sF.bind(null,t),X_:nF.bind(null,t),ea:rF.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await jg(t)):(await t.Va.stop(),t.ha.length>0&&(_e(Pl,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,u=new b1(e,n,l,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w1(t,e){if(aa("AsyncQueue",`${e}: ${t}`),pu(t))return new xe(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{static emptySet(e){return new Zc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=$d(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.ma=new Yt(Ie.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Be(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class su{constructor(e,n,r,s,o,l,u,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new su(e,n,Zc.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class oF{constructor(){this.queries=gR(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=Ke(n),o=s.queries;s.queries=gR(),o.forEach((l,u)=>{for(const d of u.ya)d.onError(r)})})(this,new xe(ce.ABORTED,"Firestore shutting down"))}}function gR(){return new Ul(t=>Nj(t),Eg)}async function dP(t,e){const n=Ke(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.wa()&&e.Sa()&&(r=2):(o=new aF,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await n.onListen(s,!0);break;case 1:o.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=w1(l,`Initialization of query '${Dc(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,o),o.ya.push(e),e.Da(n.onlineState),o.pa&&e.va(o.pa)&&_1(n)}async function hP(t,e){const n=Ke(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const l=o.ya.indexOf(e);l>=0&&(o.ya.splice(l,1),o.ya.length===0?s=e.Sa()?0:1:!o.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lF(t,e){const n=Ke(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const u of l.ya)u.va(s)&&(r=!0);l.pa=s}}r&&_1(n)}function cF(t,e,n){const r=Ke(t),s=r.queries.get(e);if(s)for(const o of s.ya)o.onError(n);r.queries.delete(e)}function _1(t){t.ba.forEach(e=>{e.next()})}var Cx,yR;(yR=Cx||(Cx={})).Ca="default",yR.Cache="cache";class fP{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new su(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Cx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.key=e}}class pP{constructor(e){this.key=e}}class uF{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ct(),this.mutatedKeys=ct(),this.Ha=jj(e),this.Ja=new Zc(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new pR,s=n?n.Ja:this.Ja;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,v)=>{const x=s.get(p),w=Sg(this.query,v)?v:null,T=!!x&&this.mutatedKeys.has(x.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;x&&w?x.data.isEqual(w.data)?T!==S&&(r.track({type:3,doc:w}),R=!0):this.eu(x,w)||(r.track({type:2,doc:w}),R=!0,(d&&this.Ha(w,d)>0||h&&this.Ha(w,h)<0)&&(u=!0)):!x&&w?(r.track({type:0,doc:w}),R=!0):x&&!w&&(r.track({type:1,doc:x}),R=!0,(d||h)&&(u=!0)),R&&(w?(l=l.add(w),o=S?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ja:l,Xa:r,Cs:u,mutatedKeys:o}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const l=e.Xa.ga();l.sort((p,v)=>function(w,T){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:R})}};return S(w)-S(T)}(p.type,v.type)||this.Ha(p.doc,v.doc)),this.tu(r),s=s!=null&&s;const u=n&&!s?this.nu():[],d=this.ja.size===0&&this.current&&!s?1:0,h=d!==this.za;return this.za=d,l.length!==0||h?{snapshot:new su(this.query,e.Ja,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:u}:{ru:u}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new pR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ct(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new pP(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new mP(r))}),n}su(e){this.Ga=e.$s,this.ja=ct();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return su.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const T1="SyncEngine";class dF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hF{constructor(e){this.key=e,this._u=!1}}class fF{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.au={},this.uu=new Ul(u=>Nj(u),Eg),this.cu=new Map,this.lu=new Set,this.hu=new Yt(Ie.comparator),this.Pu=new Map,this.Tu=new h1,this.Iu={},this.Eu=new Map,this.du=ru.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function mF(t,e,n=!0){const r=wP(t);let s;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ou()):s=await gP(r,e,n,!0),s}async function pF(t,e){const n=wP(t);await gP(n,e,!0,!1)}async function gP(t,e,n,r){const s=await M$(t.localStore,ui(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await gF(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&iP(t.remoteStore,s),u}async function gF(t,e,n,r,s){t.Ru=(v,x,w)=>async function(S,R,C,O){let j=R.view.Za(C);j.Cs&&(j=await cR(S.localStore,R.query,!1).then(({documents:I})=>R.view.Za(I,j)));const $=O&&O.targetChanges.get(R.targetId),D=O&&O.targetMismatches.get(R.targetId)!=null,V=R.view.applyChanges(j,S.isPrimaryClient,$,D);return xR(S,R.targetId,V.ru),V.snapshot}(t,v,x,w);const o=await cR(t.localStore,e,!0),l=new uF(e,o.$s),u=l.Za(o.documents),d=Zh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=l.applyChanges(u,t.isPrimaryClient,d);xR(t,n,h.ru);const p=new dF(e,n,l);return t.uu.set(e,p),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),h.snapshot}async function yF(t,e,n){const r=Ke(t),s=r.uu.get(e),o=r.cu.get(s.targetId);if(o.length>1)return r.cu.set(s.targetId,o.filter(l=>!Eg(l,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ax(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&g1(r.remoteStore,s.targetId),kx(r,s.targetId)}).catch(mu)):(kx(r,s.targetId),await Ax(r.localStore,s.targetId,!0))}async function vF(t,e){const n=Ke(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),g1(n.remoteStore,r.targetId))}async function xF(t,e,n){const r=AF(t);try{const s=await function(l,u){const d=Ke(l),h=Tn.now(),p=u.reduce((w,T)=>w.add(T.key),ct());let v,x;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=oa(),S=ct();return d.Bs.getEntries(w,p).next(R=>{T=R,T.forEach((C,O)=>{O.isValidDocument()||(S=S.add(C))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,T)).next(R=>{v=R;const C=[];for(const O of u){const j=M9(O,v.get(O.key).overlayedDocument);j!=null&&C.push(new No(O.key,j,_j(j.value.mapValue),di.exists(!0)))}return d.mutationQueue.addMutationBatch(w,h,C,u)}).next(R=>{x=R;const C=R.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(w,R.batchId,C)})}).then(()=>({batchId:x.batchId,changes:Ij(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,u,d){let h=l.Iu[l.currentUser.toKey()];h||(h=new Yt(tt)),h=h.insert(u,d),l.Iu[l.currentUser.toKey()]=h}(r,s.batchId,n),await ef(r,s.changes),await jg(r.remoteStore)}catch(s){const o=w1(s,"Failed to persist write");n.reject(o)}}async function yP(t,e){const n=Ke(t);try{const r=await P$(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.Pu.get(o);l&&(Tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l._u=!0:s.modifiedDocuments.size>0?Tt(l._u,14607):s.removedDocuments.size>0&&(Tt(l._u,42227),l._u=!1))}),await ef(n,r,e)}catch(r){await mu(r)}}function vR(t,e,n){const r=Ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((o,l)=>{const u=l.view.Da(e);u.snapshot&&s.push(u.snapshot)}),function(l,u){const d=Ke(l);d.onlineState=u;let h=!1;d.queries.forEach((p,v)=>{for(const x of v.ya)x.Da(u)&&(h=!0)}),h&&_1(d)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bF(t,e,n){const r=Ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),o=s&&s.key;if(o){let l=new Yt(Ie.comparator);l=l.insert(o,er.newNoDocument(o,Ge.min()));const u=ct().add(o),d=new Cg(Ge.min(),new Map,new Yt(tt),l,u);await yP(r,d),r.hu=r.hu.remove(o),r.Pu.delete(e),E1(r)}else await Ax(r.localStore,e,!1).then(()=>kx(r,e,n)).catch(mu)}async function wF(t,e){const n=Ke(t),r=e.batch.batchId;try{const s=await j$(n.localStore,e);xP(n,r,null),vP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ef(n,s)}catch(s){await mu(s)}}async function _F(t,e,n){const r=Ke(t);try{const s=await function(l,u){const d=Ke(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next(v=>(Tt(v!==null,37113),p=v.keys(),d.mutationQueue.removeMutationBatch(h,v))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(r.localStore,e);xP(r,e,n),vP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ef(r,s)}catch(s){await mu(s)}}function vP(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function xP(t,e,n){const r=Ke(t);let s=r.Iu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function kx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||bP(t,r)})}function bP(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(g1(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),E1(t))}function xR(t,e,n){for(const r of n)r instanceof mP?(t.Tu.addReference(r.key,e),TF(t,r)):r instanceof pP?(_e(T1,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||bP(t,r.key)):Be(19791,{mu:r})}function TF(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(_e(T1,"New document in limbo: "+n),t.lu.add(r),E1(t))}function E1(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new Ie(Vt.fromString(e)),r=t.du.next();t.Pu.set(r,new hF(n)),t.hu=t.hu.insert(n,r),iP(t.remoteStore,new co(ui(o1(n.path)),r,"TargetPurposeLimboResolution",wg.le))}}async function ef(t,e,n){const r=Ke(t),s=[],o=[],l=[];r.uu.isEmpty()||(r.uu.forEach((u,d)=>{l.push(r.Ru(d,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const v=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(h){s.push(h);const v=m1.Rs(d.targetId,h);o.push(v)}}))}),await Promise.all(l),r.au.j_(s),await async function(d,h){const p=Ke(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>he.forEach(h,x=>he.forEach(x.ds,w=>p.persistence.referenceDelegate.addReference(v,x.targetId,w)).next(()=>he.forEach(x.As,w=>p.persistence.referenceDelegate.removeReference(v,x.targetId,w)))))}catch(v){if(!pu(v))throw v;_e(p1,"Failed to update sequence numbers: "+v)}for(const v of h){const x=v.targetId;if(!v.fromCache){const w=p.xs.get(x),T=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(T);p.xs=p.xs.insert(x,S)}}}(r.localStore,o))}async function EF(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){_e(T1,"User change. New user:",e.toKey());const r=await tP(n.localStore,e);n.currentUser=e,function(o,l){o.Eu.forEach(u=>{u.forEach(d=>{d.reject(new xe(ce.CANCELLED,l))})}),o.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ef(n,r.ks)}}function SF(t,e){const n=Ke(t),r=n.Pu.get(e);if(r&&r._u)return ct().add(r.key);{let s=ct();const o=n.cu.get(e);if(!o)return s;for(const l of o){const u=n.uu.get(l);s=s.unionWith(u.view.Ya)}return s}}function wP(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bF.bind(null,e),e.au.j_=lF.bind(null,e.eventManager),e.au.Vu=cF.bind(null,e.eventManager),e}function AF(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_F.bind(null,e),e}class Gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kg(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return N$(this.persistence,new R$,e.initialUser,this.serializer)}yu(e){return new eP(f1.fi,this.serializer)}pu(e){return new V$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gp.provider={build:()=>new Gp};class RF extends Gp{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Tt(this.persistence.referenceDelegate instanceof qp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new h$(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new eP(r=>qp.fi(r,n),this.serializer)}}class Nx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EF.bind(null,this.syncEngine),await iF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oF}()}createDatastore(e){const n=kg(e.databaseInfo.databaseId),r=function(o){return new F$(o)}(e.databaseInfo);return function(o,l,u,d){return new G$(o,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,l,u){return new Y$(r,s,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>vR(this.syncEngine,n,0),function(){return hR.C()?new hR:new L$}())}createSyncEngine(e,n){return function(s,o,l,u,d,h,p){const v=new fF(s,o,l,u,d,h);return p&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ke(s);_e(Pl,"RemoteStore shutting down."),o.Ta.add(5),await Jh(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Nx.provider={build:()=>new Nx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):aa("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="FirestoreClient";class CF{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Jn.UNAUTHENTICATED,this.clientId=hj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{_e(_o,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(_e(_o,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=w1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Av(t,e){t.asyncQueue.verifyOperationInProgress(),_e(_o,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await tP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kF(t);_e(_o,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>mR(e.remoteStore,s)),t._onlineComponents=e}async function kF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(_o,"Using user provided OfflineComponentProvider");try{await Av(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ce.FAILED_PRECONDITION||s.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Jc("Error using user provided cache. Falling back to memory cache: "+n),await Av(t,new Gp)}}else _e(_o,"Using default OfflineComponentProvider"),await Av(t,new RF(void 0));return t._offlineComponents}async function TP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(_o,"Using user provided OnlineComponentProvider"),await bR(t,t._uninitializedComponentsProvider._online)):(_e(_o,"Using default OnlineComponentProvider"),await bR(t,new Nx))),t._onlineComponents}function NF(t){return TP(t).then(e=>e.syncEngine)}async function EP(t){const e=await TP(t),n=e.eventManager;return n.onListen=mF.bind(null,e.syncEngine),n.onUnlisten=yF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vF.bind(null,e.syncEngine),n}function jF(t,e,n={}){const r=new na;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,h){const p=new _P({next:x=>{p.Cu(),l.enqueueAndForget(()=>hP(o,v));const w=x.docs.has(u);!w&&x.fromCache?h.reject(new xe(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&d&&d.source==="server"?h.reject(new xe(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),v=new fP(o1(u.path),p,{includeMetadataChanges:!0,La:!0});return dP(o,v)}(await EP(t),t.asyncQueue,e,n,r)),r.promise}function PF(t,e,n={}){const r=new na;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,h){const p=new _P({next:x=>{p.Cu(),l.enqueueAndForget(()=>hP(o,v)),x.fromCache&&d.source==="server"?h.reject(new xe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),v=new fP(u,p,{includeMetadataChanges:!0,La:!0});return dP(o,v)}(await EP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e,n){if(!n)throw new xe(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IF(t,e,n,r){if(e===!0&&r===!0)throw new xe(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _R(t){if(!Ie.isDocumentKey(t))throw new xe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TR(t){if(Ie.isDocumentKey(t))throw new xe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pg(t);throw new xe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function DF(t,e){if(e<=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="firestore.googleapis.com",ER=!0;class SR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AP,this.ssl=ER}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ER;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u$)throw new xe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BB;switch(r.type){case"firstParty":return new qB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wR.get(n);r&&(_e("ComponentProvider","Removing Datastore"),wR.delete(n),r.terminate())}(this),Promise.resolve()}}function MF(t,e,n,r={}){var s;t=wi(t,tf);const o=du(e),l=t._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&(Bb(`https://${d}`),$b("Firestore",!0)),l.host!==AP&&l.host!==d&&Jc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!Cl(h,u)&&(t._setSettings(h),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=Jn.MOCK_USER;else{p=gN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new xe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Jn(x)}t._authCredentials=new $B(new uj(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class pr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class mo extends va{constructor(e,n,r){super(e,n,o1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new Ie(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function ta(t,e,...n){if(t=jn(t),S1("collection","path",e),t instanceof tf){const r=Vt.fromString(e,...n);return TR(r),new mo(t,null,r)}{if(!(t instanceof pr||t instanceof mo))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return TR(r),new mo(t.firestore,null,r)}}function RP(t,e){if(t=wi(t,tf),S1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new va(t,null,function(r){return new Ll(Vt.emptyPath(),r)}(e))}function zr(t,e,...n){if(t=jn(t),arguments.length===1&&(e=hj.newId()),S1("doc","path",e),t instanceof tf){const r=Vt.fromString(e,...n);return _R(r),new pr(t,null,new Ie(r))}{if(!(t instanceof pr||t instanceof mo))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return _R(r),new pr(t.firestore,t instanceof mo?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="AsyncQueue";class RR{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new rP(this,"async_queue_retry"),this.ec=()=>{const r=Sv();r&&_e(AR,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Sv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new na;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!pu(e))throw e;_e(AR,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,aa("INTERNAL UNHANDLED ERROR: ",CR(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=b1.createAndSchedule(this,e,n,r,o=>this.oc(o));return this.Hu.push(s),s}nc(){this.Ju&&Be(47125,{_c:CR(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function CR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class nf extends tf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new RR,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RR(e),this._firestoreClient=void 0,await e}}}function OF(t,e){const n=typeof t=="object"?t:qb(),r=typeof t=="string"?t:Lp,s=yg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=fN("firestore");o&&MF(s,...o)}return s}function A1(t){if(t._terminated)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VF(t),t._firestoreClient}function VF(t){var e,n,r;const s=t._freezeSettings(),o=function(u,d,h,p){return new i9(u,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,SP(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new CF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iu(zn.fromBase64String(e))}catch(n){throw new xe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new iu(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=/^__.*__$/;class UF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new No(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qh(e,this.data,n,this.fieldTransforms)}}class CP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new No(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{hc:t})}}class k1{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new k1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Kp(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(kP(this.hc)&&LF.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class BF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kg(e)}gc(e,n,r,s=!1){return new k1({hc:e,methodName:n,fc:r,path:Fn.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N1(t){const e=t._freezeSettings(),n=kg(t._databaseId);return new BF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $F(t,e,n,r,s,o={}){const l=t.gc(o.merge||o.mergeFields?2:0,e,n,s);P1("Data must be an object, but it was:",l,r);const u=NP(r,l);let d,h;if(o.merge)d=new $r(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const v of o.mergeFields){const x=jx(e,v,n);if(!l.contains(x))throw new xe(ce.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);PP(p,x)||p.push(x)}d=new $r(p),h=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,h=l.fieldTransforms;return new UF(new _r(u),d,h)}class Mg extends Dg{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mg}}class j1 extends Dg{_toFieldTransform(e){return new j9(e.path,new bh)}isEqual(e){return e instanceof j1}}function FF(t,e,n,r){const s=t.gc(1,e,n);P1("Data must be an object, but it was:",s,r);const o=[],l=_r.empty();ko(r,(d,h)=>{const p=I1(e,d,n);h=jn(h);const v=s.Ac(p);if(h instanceof Mg)o.push(p);else{const x=rf(h,v);x!=null&&(o.push(p),l.set(p,x))}});const u=new $r(o);return new CP(l,u,s.fieldTransforms)}function zF(t,e,n,r,s,o){const l=t.gc(1,e,n),u=[jx(e,r,n)],d=[s];if(o.length%2!=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)u.push(jx(e,o[x])),d.push(o[x+1]);const h=[],p=_r.empty();for(let x=u.length-1;x>=0;--x)if(!PP(h,u[x])){const w=u[x];let T=d[x];T=jn(T);const S=l.Ac(w);if(T instanceof Mg)h.push(w);else{const R=rf(T,S);R!=null&&(h.push(w),p.set(w,R))}}const v=new $r(h);return new CP(p,v,l.fieldTransforms)}function qF(t,e,n,r=!1){return rf(n,t.gc(r?4:3,e))}function rf(t,e){if(jP(t=jn(t)))return P1("Unsupported field value:",e,t),NP(t,e);if(t instanceof Dg)return function(r,s){if(!kP(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const o=[];let l=0;for(const u of r){let d=rf(u,s.Rc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Tn.fromDate(r);return{timestampValue:zp(s.serializer,o)}}if(r instanceof Tn){const o=new Tn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zp(s.serializer,o)}}if(r instanceof R1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof iu)return{bytesValue:Gj(s.serializer,r._byteString)};if(r instanceof pr){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.Vc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:d1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof C1)return function(l,u){return{mapValue:{fields:{[bj]:{stringValue:wj},[Up]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Vc("VectorValues must only contain numeric values.");return l1(u.serializer,h)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${Pg(r)}`)}(t,e)}function NP(t,e){const n={};return mj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,(r,s)=>{const o=rf(s,e.Ic(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function jP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tn||t instanceof R1||t instanceof iu||t instanceof pr||t instanceof Dg||t instanceof C1)}function P1(t,e,n){if(!jP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Pg(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function jx(t,e,n){if((e=jn(e))instanceof Ig)return e._internalPath;if(typeof e=="string")return I1(t,e);throw Kp("Field path arguments must be of type string or ",t,!1,void 0,n)}const HF=new RegExp("[~\\*/\\[\\]]");function I1(t,e,n){if(e.search(HF)>=0)throw Kp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ig(...e.split("."))._internalPath}catch{throw Kp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kp(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new xe(ce.INVALID_ARGUMENT,u+t+d)}function PP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Og("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GF extends IP{data(){return super.data()}}function Og(t,e){return typeof e=="string"?I1(t,e):e instanceof Ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D1{}class M1 extends D1{}function fi(t,e,...n){let r=[];e instanceof D1&&r.push(e),r=r.concat(n),function(o){const l=o.filter(d=>d instanceof O1).length,u=o.filter(d=>d instanceof Vg).length;if(l>1||l>0&&u>0)throw new xe(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Vg extends M1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vg(e,n,r)}_apply(e){const n=this._parse(e);return DP(e._query,n),new va(e.firestore,e.converter,wx(e._query,n))}_parse(e){const n=N1(e.firestore);return function(o,l,u,d,h,p,v){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){NR(v,p);const T=[];for(const S of v)T.push(kR(d,o,S));x={arrayValue:{values:T}}}else x=kR(d,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||NR(v,p),x=qF(u,l,v,p==="in"||p==="not-in");return pn.create(h,p,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _i(t,e,n){const r=e,s=Og("where",t);return Vg._create(s,r,n)}class O1 extends D1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new O1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ps.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const u=o.getFlattenedFilters();for(const d of u)DP(l,d),l=wx(l,d)}(e._query,n),new va(e.firestore,e.converter,wx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class V1 extends M1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new V1(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xh(o,l)}(e._query,this._field,this._direction);return new va(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new Ll(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Yp(t,e="asc"){const n=e,r=Og("orderBy",t);return V1._create(r,n)}class L1 extends M1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new L1(e,n,r)}_apply(e){return new va(e.firestore,e.converter,$p(e._query,this._limit,this._limitType))}}function Th(t){return DF("limit",t),L1._create("limit",t,"F")}function kR(t,e,n){if(typeof(n=jn(n))=="string"){if(n==="")throw new xe(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kj(e)&&n.indexOf("/")!==-1)throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vt.fromString(n));if(!Ie.isDocumentKey(r))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qA(t,new Ie(r))}if(n instanceof pr)return qA(t,n._key);throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pg(n)}.`)}function NR(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DP(t,e){const n=function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new xe(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YF{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ko(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Up].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>rn(l.doubleValue));return new C1(o)}convertGeoPoint(e){return new R1(rn(e.latitude),rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gh(e));default:return null}}convertTimestamp(e){const n=vo(e);return new Tn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);Tt(Zj(r),9688,{name:e});const s=new yh(r.get(1),r.get(3)),o=new Ie(r.popFirst(5));return s.isEqual(n)||aa(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MP extends IP{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Og("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dp extends MP{data(e={}){return super.data(e)}}class XF{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new zd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dp(this._firestore,this._userDataWriter,r.key,r,new zd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const d=new dp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new zd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new dp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new zd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:QF(u.type),doc:d,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function QF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t){t=wi(t,pr);const e=wi(t.firestore,nf);return jF(A1(e),t._key).then(n=>JF(e,t,n))}class OP extends YF{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,n)}}function ks(t){t=wi(t,va);const e=wi(t.firestore,nf),n=A1(e),r=new OP(e);return KF(t._query),PF(n,t._query).then(s=>new XF(e,r,t,s))}function VP(t,e,n){t=wi(t,pr);const r=wi(t.firestore,nf),s=WF(t.converter,e);return LP(r,[$F(N1(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,di.none())])}function ZF(t,e,n,...r){t=wi(t,pr);const s=wi(t.firestore,nf),o=N1(s);let l;return l=typeof(e=jn(e))=="string"||e instanceof Ig?zF(o,"updateDoc",t._key,e,n,r):FF(o,"updateDoc",t._key,e),LP(s,[l.toMutation(t._key,di.exists(!0))])}function LP(t,e){return function(r,s){const o=new na;return r.asyncQueue.enqueueAndForget(async()=>xF(await NF(r),s,o)),o.promise}(A1(t),e)}function JF(t,e,n){const r=n.docs.get(e._key),s=new OP(t);return new MP(t,s,e._key,r,new zd(n.hasPendingWrites,n.fromCache),e.converter)}function UP(){return new j1("serverTimestamp")}(function(e,n=!0){(function(s){fu=s})(Vl),kl(new go("firestore",(r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new nf(new FB(r.getProvider("auth-internal")),new HB(l,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new xe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yh(h.options.projectId,p)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ai(PA,IA,e),ai(PA,IA,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="firebasestorage.googleapis.com",ez="storageBucket",tz=2*60*1e3,nz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Si{constructor(e,n,r=0){super(Rv(e),`Firebase Storage: ${n} (${Rv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ei;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ei||(Ei={}));function Rv(t){return"storage/"+t}function rz(){const t="An unknown error occurred, please check the error payload for server response.";return new Ai(Ei.UNKNOWN,t)}function sz(){return new Ai(Ei.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iz(){return new Ai(Ei.CANCELED,"User canceled the upload/download.")}function az(t){return new Ai(Ei.INVALID_URL,"Invalid URL '"+t+"'.")}function oz(t){return new Ai(Ei.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jR(t){return new Ai(Ei.INVALID_ARGUMENT,t)}function $P(){return new Ai(Ei.APP_DELETED,"The Firebase app was deleted.")}function lz(t){return new Ai(Ei.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ns.makeFromUrl(e,n)}catch{return new Ns(e,"")}if(r.path==="")return r;throw oz(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function h($){$.path_=decodeURIComponent($.path)}const p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${p}/b/${s}/o${x}`,"i"),T={bucket:1,path:3},S=n===BP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",C=new RegExp(`^https?://${S}/${s}/${R}`,"i"),j=[{regex:u,indices:d,postModify:o},{regex:w,indices:T,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let $=0;$<j.length;$++){const D=j[$],V=D.regex.exec(e);if(V){const I=V[D.indices.bucket];let N=V[D.indices.path];N||(N=""),r=new Ns(I,N),D.postModify(r);break}}if(r==null)throw az(e);return r}}class cz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(t,e,n){let r=1,s=null,o=null,l=!1,u=0;function d(){return u===2}let h=!1;function p(...R){h||(h=!0,e.apply(null,R))}function v(R){s=setTimeout(()=>{s=null,t(w,d())},R)}function x(){o&&clearTimeout(o)}function w(R,...C){if(h){x();return}if(R){x(),p.call(null,R,...C);return}if(d()||l){x(),p.call(null,R,...C);return}r<64&&(r*=2);let j;u===1?(u=2,j=0):j=(r+Math.random())*1e3,v(j)}let T=!1;function S(R){T||(T=!0,x(),!h&&(s!==null?(R||(u=2),clearTimeout(s),v(0)):R||(u=1)))}return v(0),o=setTimeout(()=>{l=!0,S(!0)},n),S}function dz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t){return t!==void 0}function PR(t,e,n,r){if(r<e)throw jR(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jR(`Invalid value for '${t}'. Expected ${n} or less.`)}function fz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Wp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wp||(Wp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,n,r,s,o,l,u,d,h,p,v,x=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,S)=>{this.resolve_=T,this.reject_=S,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new qm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===Wp.NO_ERROR,d=o.getStatus();if(!u||mz(d,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===Wp.ABORT;r(!1,new qm(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new qm(h,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());hz(d)?o(d):o()}catch(d){l(d)}else if(u!==null){const d=rz();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(s.canceled){const d=this.appDelete_?$P():iz();l(d)}else{const d=sz();l(d)}};this.canceled_?n(!1,new qm(!1,null,!0)):this.backoffId_=uz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function gz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function xz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bz(t,e,n,r,s,o,l=!0,u=!1){const d=fz(t.urlParams),h=t.url+d,p=Object.assign({},t.headers);return vz(p,e),gz(p,n),yz(p,o),xz(p,r),new pz(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _z(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this._service=e,n instanceof Ns?this._location=n:this._location=Ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xp(e,n)}get root(){const e=new Ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _z(this._location.path)}get storage(){return this._service}get parent(){const e=wz(this._location.path);if(e===null)return null;const n=new Ns(this._location.bucket,e);return new Xp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lz(e)}}function IR(t,e){const n=e==null?void 0:e[ez];return n==null?null:Ns.makeFromBucketSpec(n,t)}function Tz(t,e,n,r={}){t.host=`${e}:${n}`;const s=du(e);s&&(Bb(`https://${t.host}`),$b("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:gN(o,t.app.options.projectId))}class Ez{constructor(e,n,r,s,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=BP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tz,this._maxUploadRetryTime=nz,this._requests=new Set,s!=null?this._bucket=Ns.makeFromBucketSpec(s,this._host):this._bucket=IR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ns.makeFromBucketSpec(this._url,e):this._bucket=IR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){PR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){PR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xp(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new cz($P());{const l=bz(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const DR="@firebase/storage",MR="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="storage";function Sz(t=qb(),e){t=jn(t);const r=yg(t,FP).getImmediate({identifier:e}),s=fN("storage");return s&&Az(r,...s),r}function Az(t,e,n,r={}){Tz(t,e,n,r)}function Rz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ez(n,r,s,e,Vl)}function Cz(){kl(new go(FP,Rz,"PUBLIC").setMultipleInstances(!0)),ai(DR,MR,""),ai(DR,MR,"esm2017")}Cz();const kz={apiKey:"AIzaSyAmgqOqkUUuKfvDXR2u5UEEoaVMbdCRQEI",authDomain:"ppr-fubk.firebaseapp.com",projectId:"ppr-fubk",storageBucket:"ppr-fubk.firebasestorage.app",messagingSenderId:"1044435934792",appId:"1:1044435934792:web:b0e7bc85d3bf06160e027d"},U1=xN(kz),Is=e1(U1),Ft=OF(U1);Sz(U1);const zP=k.createContext(),Nz=({children:t})=>{const[e,n]=k.useState(null),[r,s]=k.useState(null),[o,l]=k.useState(!0);return k.useEffect(()=>{const u=CU(Is,async d=>{if(!d){n(null),s(null),l(!1);return}try{const h=zr(Ft,"Student",d.uid),p=zr(Ft,"Lecturer",d.uid),v=await Ti(h),x=await Ti(p);let w;v.exists()?w="student":x.exists()&&(x.data().staffType==="non-academic"?w="staff":w="lecturer"),n(d),s(w)}catch(h){console.error("Error fetching user role:",h)}l(!1)});return()=>u()},[]),m.jsx(zP.Provider,{value:{currentUser:e,role:r,loading:o},children:t})};function Ut(){const t=k.useContext(zP);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const OR=({children:t,allowedRoles:e})=>{const{currentUser:n,role:r,loading:s}=Ut();return s?m.jsx("div",{className:"flex justify-center items-center h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):n===null?m.jsx(Gd,{to:"/login",replace:!0}):e.includes(r)?t:m.jsx(Gd,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),VR=t=>{const e=Pz(t);return e.charAt(0).toUpperCase()+e.slice(1)},qP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Iz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...u},d)=>k.createElement("svg",{ref:d,...Dz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:qP("lucide",s),...!o&&!Iz(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,p])=>k.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(t,e)=>{const n=k.forwardRef(({className:r,...s},o)=>k.createElement(Mz,{ref:o,iconNode:e,className:qP(`lucide-${jz(VR(t))}`,`lucide-${t}`,r),...s}));return n.displayName=VR(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Vz=Ne("activity",Oz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],HP=Ne("arrow-left",Lz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Bz=Ne("arrow-right",Uz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Fz=Ne("arrow-up-down",$z);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],B1=Ne("badge-check",zz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],Hz=Ne("ban",qz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M12 21V7",key:"gj6g52"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3",key:"8arnkb"}]],GP=Ne("book-open-check",Gz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Rr=Ne("book-open",Kz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],LR=Ne("briefcase",Yz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],$1=Ne("calendar-clock",Wz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],$l=Ne("calendar-days",Xz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Eh=Ne("calendar",Qz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fl=Ne("circle-check-big",Zz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],KP=Ne("circle-check",Jz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],YP=Ne("circle-plus",e7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xa=Ne("circle-x",t7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],r7=Ne("clipboard-list",n7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ri=Ne("clock",s7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],UR=Ne("cloud-upload",i7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Lg=Ne("download",a7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vs=Ne("eye",o7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"37hlfg"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}],["path",{d:"M9.5 17.5 8 16.25V14",key:"1o80t2"}]],Ug=Ne("file-clock",l7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["rect",{width:"8",height:"6",x:"8",y:"12",rx:"1",key:"3yr8at"}],["path",{d:"M10 12v-2a2 2 0 1 1 4 0v2",key:"j4i8d"}]],u7=Ne("file-lock",c7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],F1=Ne("file-question",d7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Mt=Ne("file-text",h7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],m7=Ne("folder",f7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],g7=Ne("funnel",p7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],z1=Ne("globe",y7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],WP=Ne("graduation-cap",v7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],XP=Ne("history",x7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],QP=Ne("hourglass",b7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],sf=Ne("house",w7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],T7=Ne("id-card",_7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],S7=Ne("info",E7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],R7=Ne("key-round",A7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z",key:"165ttr"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814",key:"1ubxi2"}]],k7=Ne("key-square",C7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],j7=Ne("key",N7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Px=Ne("layers",P7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],D7=Ne("lightbulb",I7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ba=Ne("lock",M7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],q1=Ne("log-in",O7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Bg=Ne("log-out",V7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],U7=Ne("mail",L7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],$7=Ne("menu",B7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],z7=Ne("pen-line",F7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]],H7=Ne("pencil-line",q7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],K7=Ne("pencil",G7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ZP=Ne("save",Y7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],zl=Ne("school",W7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],af=Ne("search",X7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],JP=Ne("shield-check",Q7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],J7=Ne("triangle-alert",Z7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],t8=Ne("upload",e8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],H1=Ne("user-round",n8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],To=Ne("user",r8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],G1=Ne("users",s8);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],K1=Ne("x",i8);function eI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=eI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yt(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=eI(t))&&(r&&(r+=" "),r+=e);return r}const yu=({children:t,className:e,...n})=>m.jsx("div",{className:yt(" p-6 shadow-md backdrop-blur-md","border-b border-[var(--color-border)] dark:border-[var(--color-dark-border)] ",e),...n,children:t}),Y1=k.createContext({});function W1(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const X1=typeof window<"u",tI=X1?k.useLayoutEffect:k.useEffect,$g=k.createContext(null);function Q1(t,e){t.indexOf(e)===-1&&t.push(e)}function Z1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const la=(t,e,n)=>n>e?e:n<t?t:n;let J1=()=>{};const ca={},nI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function rI(t){return typeof t=="object"&&t!==null}const sI=t=>/^0[^.\s]+$/u.test(t);function ew(t){let e;return()=>(e===void 0&&(e=t()),e)}const ms=t=>t,a8=(t,e)=>n=>e(t(n)),of=(...t)=>t.reduce(a8),Sh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};let tw=class{constructor(){this.subscriptions=[]}add(e){return Q1(this.subscriptions,e),()=>Z1(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const mi=t=>t*1e3,pi=t=>t/1e3;function iI(t,e){return e?t*(1e3/e):0}const aI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,o8=1e-7,l8=12;function c8(t,e,n,r,s){let o,l,u=0;do l=e+(n-e)/2,o=aI(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>o8&&++u<l8);return l}function lf(t,e,n,r){if(t===e&&n===r)return ms;const s=o=>c8(o,0,1,t,n);return o=>o===0||o===1?o:aI(s(o),e,r)}const oI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lI=t=>e=>1-t(1-e),cI=lf(.33,1.53,.69,.99),nw=lI(cI),uI=oI(nw),dI=t=>(t*=2)<1?.5*nw(t):.5*(2-Math.pow(2,-10*(t-1))),rw=t=>1-Math.sin(Math.acos(t)),hI=lI(rw),fI=oI(rw),u8=lf(.42,0,1,1),d8=lf(0,0,.58,1),mI=lf(.42,0,.58,1),h8=t=>Array.isArray(t)&&typeof t[0]!="number",pI=t=>Array.isArray(t)&&typeof t[0]=="number",f8={linear:ms,easeIn:u8,easeInOut:mI,easeOut:d8,circIn:rw,circInOut:fI,circOut:hI,backIn:nw,backInOut:uI,backOut:cI,anticipate:dI},m8=t=>typeof t=="string",BR=t=>{if(pI(t)){J1(t.length===4);const[e,n,r,s]=t;return lf(e,n,r,s)}else if(m8(t))return f8[t];return t},Hm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],$R={value:null};function p8(t,e){let n=new Set,r=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function h(v){l.has(v)&&(p.schedule(v),t()),d++,v(u)}const p={schedule:(v,x=!1,w=!1)=>{const S=w&&s?n:r;return x&&l.add(v),S.has(v)||S.add(v),v},cancel:v=>{r.delete(v),l.delete(v)},process:v=>{if(u=v,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),e&&$R.value&&$R.value.frameloop[e].push(d),d=0,n.clear(),s=!1,o&&(o=!1,p.process(v))}};return p}const g8=40;function gI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Hm.reduce((j,$)=>(j[$]=p8(o,e?$:void 0),j),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:p,update:v,preRender:x,render:w,postRender:T}=l,S=()=>{const j=ca.useManualTiming?s.timestamp:performance.now();n=!1,ca.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,g8),1)),s.timestamp=j,s.isProcessing=!0,u.process(s),d.process(s),h.process(s),p.process(s),v.process(s),x.process(s),w.process(s),T.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},R=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:Hm.reduce((j,$)=>{const D=l[$];return j[$]=(V,I=!1,N=!1)=>(n||R(),D.schedule(V,I,N)),j},{}),cancel:j=>{for(let $=0;$<Hm.length;$++)l[Hm[$]].cancel(j)},state:s,steps:l}}const{schedule:Gt,cancel:Eo,state:Un,steps:Cv}=gI(typeof requestAnimationFrame<"u"?requestAnimationFrame:ms,!0);let hp;function y8(){hp=void 0}const Tr={now:()=>(hp===void 0&&Tr.set(Un.isProcessing||ca.useManualTiming?Un.timestamp:performance.now()),hp),set:t=>{hp=t,queueMicrotask(y8)}},yI=t=>e=>typeof e=="string"&&e.startsWith(t),sw=yI("--"),v8=yI("var(--"),iw=t=>v8(t)?x8.test(t.split("/*")[0].trim()):!1,x8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ah={...vu,transform:t=>la(0,1,t)},Gm={...vu,default:1},Jd=t=>Math.round(t*1e5)/1e5,aw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function b8(t){return t==null}const w8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ow=(t,e)=>n=>!!(typeof n=="string"&&w8.test(n)&&n.startsWith(t)||e&&!b8(n)&&Object.prototype.hasOwnProperty.call(n,e)),vI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,u]=r.match(aw);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},_8=t=>la(0,255,t),kv={...vu,transform:t=>Math.round(_8(t))},vl={test:ow("rgb","red"),parse:vI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+kv.transform(t)+", "+kv.transform(e)+", "+kv.transform(n)+", "+Jd(Ah.transform(r))+")"};function T8(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ix={test:ow("#"),parse:T8,transform:vl.transform},cf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),to=cf("deg"),gi=cf("%"),Fe=cf("px"),E8=cf("vh"),S8=cf("vw"),FR={...gi,parse:t=>gi.parse(t)/100,transform:t=>gi.transform(t*100)},Lc={test:ow("hsl","hue"),parse:vI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+gi.transform(Jd(e))+", "+gi.transform(Jd(n))+", "+Jd(Ah.transform(r))+")"},Qn={test:t=>vl.test(t)||Ix.test(t)||Lc.test(t),parse:t=>vl.test(t)?vl.parse(t):Lc.test(t)?Lc.parse(t):Ix.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vl.transform(t):Lc.transform(t)},A8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function R8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(aw))==null?void 0:e.length)||0)+(((n=t.match(A8))==null?void 0:n.length)||0)>0}const xI="number",bI="color",C8="var",k8="var(",zR="${}",N8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(N8,d=>(Qn.test(d)?(r.color.push(o),s.push(bI),n.push(Qn.parse(d))):d.startsWith(k8)?(r.var.push(o),s.push(C8),n.push(d)):(r.number.push(o),s.push(xI),n.push(parseFloat(d))),++o,zR)).split(zR);return{values:n,split:u,indexes:r,types:s}}function wI(t){return Rh(t).values}function _I(t){const{split:e,types:n}=Rh(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const u=n[l];u===xI?o+=Jd(s[l]):u===bI?o+=Qn.transform(s[l]):o+=s[l]}return o}}const j8=t=>typeof t=="number"?0:t;function P8(t){const e=wI(t);return _I(t)(e.map(j8))}const So={test:R8,parse:wI,createTransformer:_I,getAnimatableNone:P8};function Nv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function I8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;s=Nv(d,u,t+1/3),o=Nv(d,u,t),l=Nv(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Qp(t,e){return n=>n>0?e:t}const qt=(t,e,n)=>t+(e-t)*n,jv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},D8=[Ix,vl,Lc],M8=t=>D8.find(e=>e.test(t));function qR(t){const e=M8(t);if(!e)return!1;let n=e.parse(t);return e===Lc&&(n=I8(n)),n}const HR=(t,e)=>{const n=qR(t),r=qR(e);if(!n||!r)return Qp(t,e);const s={...n};return o=>(s.red=jv(n.red,r.red,o),s.green=jv(n.green,r.green,o),s.blue=jv(n.blue,r.blue,o),s.alpha=qt(n.alpha,r.alpha,o),vl.transform(s))},Dx=new Set(["none","hidden"]);function O8(t,e){return Dx.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function V8(t,e){return n=>qt(t,e,n)}function lw(t){return typeof t=="number"?V8:typeof t=="string"?iw(t)?Qp:Qn.test(t)?HR:B8:Array.isArray(t)?TI:typeof t=="object"?Qn.test(t)?HR:L8:Qp}function TI(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>lw(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function L8(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=lw(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function U8(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],u=t.values[l]??0;n[s]=u,r[o]++}return n}const B8=(t,e)=>{const n=So.createTransformer(e),r=Rh(t),s=Rh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Dx.has(t)&&!s.values.length||Dx.has(e)&&!r.values.length?O8(t,e):of(TI(U8(r,s),s.values),n):Qp(t,e)};function EI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qt(t,e,n):lw(t)(t,e)}const $8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Gt.update(e,n),stop:()=>Eo(e),now:()=>Un.isProcessing?Un.timestamp:Tr.now()}},SI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=t(o/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Zp=2e4;function cw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Zp;)e+=n,r=t.next(e);return e>=Zp?1/0:e}function F8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(cw(r),Zp);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:pi(s)}}const z8=5;function AI(t,e,n){const r=Math.max(e-z8,0);return iI(n-t(r),e-r)}const Qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},GR=.001;function q8({duration:t=Qt.duration,bounce:e=Qt.bounce,velocity:n=Qt.velocity,mass:r=Qt.mass}){let s,o,l=1-e;l=la(Qt.minDamping,Qt.maxDamping,l),t=la(Qt.minDuration,Qt.maxDuration,pi(t)),l<1?(s=h=>{const p=h*l,v=p*t,x=p-n,w=Mx(h,l),T=Math.exp(-v);return GR-x/w*T},o=h=>{const v=h*l*t,x=v*n+n,w=Math.pow(l,2)*Math.pow(h,2)*t,T=Math.exp(-v),S=Mx(Math.pow(h,2),l);return(-s(h)+GR>0?-1:1)*((x-w)*T)/S}):(s=h=>{const p=Math.exp(-h*t),v=(h-n)*t+1;return-.001+p*v},o=h=>{const p=Math.exp(-h*t),v=(n-h)*(t*t);return p*v});const u=5/t,d=G8(s,o,u);if(t=mi(t),isNaN(d))return{stiffness:Qt.stiffness,damping:Qt.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const H8=12;function G8(t,e,n){let r=n;for(let s=1;s<H8;s++)r=r-t(r)/e(r);return r}function Mx(t,e){return t*Math.sqrt(1-e*e)}const K8=["duration","bounce"],Y8=["stiffness","damping","mass"];function KR(t,e){return e.some(n=>t[n]!==void 0)}function W8(t){let e={velocity:Qt.velocity,stiffness:Qt.stiffness,damping:Qt.damping,mass:Qt.mass,isResolvedFromDuration:!1,...t};if(!KR(t,Y8)&&KR(t,K8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*la(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Qt.mass,stiffness:s,damping:o}}else{const n=q8(t);e={...e,...n,mass:Qt.mass},e.isResolvedFromDuration=!0}return e}function Jp(t=Qt.visualDuration,e=Qt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:h,mass:p,duration:v,velocity:x,isResolvedFromDuration:w}=W8({...n,velocity:-pi(n.velocity||0)}),T=x||0,S=h/(2*Math.sqrt(d*p)),R=l-o,C=pi(Math.sqrt(d/p)),O=Math.abs(R)<5;r||(r=O?Qt.restSpeed.granular:Qt.restSpeed.default),s||(s=O?Qt.restDelta.granular:Qt.restDelta.default);let j;if(S<1){const D=Mx(C,S);j=V=>{const I=Math.exp(-S*C*V);return l-I*((T+S*C*R)/D*Math.sin(D*V)+R*Math.cos(D*V))}}else if(S===1)j=D=>l-Math.exp(-C*D)*(R+(T+C*R)*D);else{const D=C*Math.sqrt(S*S-1);j=V=>{const I=Math.exp(-S*C*V),N=Math.min(D*V,300);return l-I*((T+S*C*R)*Math.sinh(N)+D*R*Math.cosh(N))/D}}const $={calculatedDuration:w&&v||null,next:D=>{const V=j(D);if(w)u.done=D>=v;else{let I=D===0?T:0;S<1&&(I=D===0?mi(T):AI(j,D,V));const N=Math.abs(I)<=r,M=Math.abs(l-V)<=s;u.done=N&&M}return u.value=u.done?l:V,u},toString:()=>{const D=Math.min(cw($),Zp),V=SI(I=>$.next(D*I).value,D,30);return D+"ms "+V},toTransition:()=>{}};return $}Jp.applyToOptions=t=>{const e=F8(t,100,Jp);return t.ease=e.ease,t.duration=mi(e.duration),t.type="keyframes",t};function Ox({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:h=.5,restSpeed:p}){const v=t[0],x={done:!1,value:v},w=N=>u!==void 0&&N<u||d!==void 0&&N>d,T=N=>u===void 0?d:d===void 0||Math.abs(u-N)<Math.abs(d-N)?u:d;let S=n*e;const R=v+S,C=l===void 0?R:l(R);C!==R&&(S=C-v);const O=N=>-S*Math.exp(-N/r),j=N=>C+O(N),$=N=>{const M=O(N),B=j(N);x.done=Math.abs(M)<=h,x.value=x.done?C:B};let D,V;const I=N=>{w(x.value)&&(D=N,V=Jp({keyframes:[x.value,T(x.value)],velocity:AI(j,N,x.value),damping:s,stiffness:o,restDelta:h,restSpeed:p}))};return I(0),{calculatedDuration:null,next:N=>{let M=!1;return!V&&D===void 0&&(M=!0,$(N),I(N)),D!==void 0&&N>=D?V.next(N-D):(!M&&$(N),x)}}}function X8(t,e,n){const r=[],s=n||ca.mix||EI,o=t.length-1;for(let l=0;l<o;l++){let u=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||ms:e;u=of(d,u)}r.push(u)}return r}function Q8(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(J1(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=X8(e,r,s),d=u.length,h=p=>{if(l&&p<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(p<t[v+1]);v++);const x=Sh(t[v],t[v+1],p);return u[v](x)};return n?p=>h(la(t[0],t[o-1],p)):h}function Z8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Sh(0,e,r);t.push(qt(n,1,s))}}function J8(t){const e=[0];return Z8(e,t.length-1),e}function eq(t,e){return t.map(n=>n*e)}function tq(t,e){return t.map(()=>e||mI).splice(0,t.length-1)}function eh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=h8(r)?r.map(BR):BR(r),o={done:!1,value:e[0]},l=eq(n&&n.length===e.length?n:J8(e),t),u=Q8(l,e,{ease:Array.isArray(s)?s:tq(e,s)});return{calculatedDuration:t,next:d=>(o.value=u(d),o.done=d>=t,o)}}const nq=t=>t!==null;function uw(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(nq),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const rq={decay:Ox,inertia:Ox,tween:eh,keyframes:eh,spring:Jp};function RI(t){typeof t.type=="string"&&(t.type=rq[t.type])}let dw=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}};const sq=t=>t/100;let hw=class extends dw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Tr.now()&&this.tick(Tr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;RI(e);const{type:n=eh,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const d=n||eh;d!==eh&&typeof u[0]!="number"&&(this.mixKeyframes=of(sq,EI(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=cw(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:v,repeatType:x,repeatDelay:w,type:T,onUpdate:S,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,$=r;if(v){const N=Math.min(this.currentTime,s)/u;let M=Math.floor(N),B=N%1;!B&&N>=1&&(B=1),B===1&&M--,M=Math.min(M,v+1),!!(M%2)&&(x==="reverse"?(B=1-B,w&&(B-=w/u)):x==="mirror"&&($=l)),j=la(0,1,B)*u}const D=O?{done:!1,value:p[0]}:$.next(j);o&&(D.value=o(D.value));let{done:V}=D;!O&&d!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return I&&T!==Ox&&(D.value=uw(p,this.options,R,this.speed)),S&&S(D.value),I&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return pi(this.calculatedDuration)}get time(){return pi(this.currentTime)}set time(e){var n;e=mi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pi(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=$8,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(o=(s=this.options).onPlay)==null||o.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}};function iq(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xl=t=>t*180/Math.PI,Vx=t=>{const e=xl(Math.atan2(t[1],t[0]));return Lx(e)},aq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Vx,rotateZ:Vx,skewX:t=>xl(Math.atan(t[1])),skewY:t=>xl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Lx=t=>(t=t%360,t<0&&(t+=360),t),YR=Vx,WR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),XR=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),oq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WR,scaleY:XR,scale:t=>(WR(t)+XR(t))/2,rotateX:t=>Lx(xl(Math.atan2(t[6],t[5]))),rotateY:t=>Lx(xl(Math.atan2(-t[2],t[0]))),rotateZ:YR,rotate:YR,skewX:t=>xl(Math.atan(t[4])),skewY:t=>xl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ux(t){return t.includes("scale")?1:0}function Bx(t,e){if(!t||t==="none")return Ux(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=oq,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=aq,s=u}if(!s)return Ux(e);const o=r[e],l=s[1].split(",").map(cq);return typeof o=="function"?o(l):l[o]}const lq=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Bx(n,e)};function cq(t){return parseFloat(t.trim())}const xu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bu=new Set(xu),QR=t=>t===vu||t===Fe,uq=new Set(["x","y","z"]),dq=xu.filter(t=>!uq.has(t));function hq(t){const e=[];return dq.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Tl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Bx(e,"x"),y:(t,{transform:e})=>Bx(e,"y")};Tl.translateX=Tl.x;Tl.translateY=Tl.y;const El=new Set;let $x=!1,Fx=!1,zx=!1;function CI(){if(Fx){const t=Array.from(El).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=hq(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{var u;(u=r.getValue(o))==null||u.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fx=!1,$x=!1,El.forEach(t=>t.complete(zx)),El.clear()}function kI(){El.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fx=!0)})}function fq(){zx=!0,kI(),CI(),zx=!1}let fw=class{constructor(e,n,r,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(El.add(this),$x||($x=!0,Gt.read(kI),Gt.resolveKeyframes(CI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}iq(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),El.delete(this)}cancel(){this.state==="scheduled"&&(El.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};const mq=t=>t.startsWith("--");function pq(t,e,n){mq(e)?t.style.setProperty(e,n):t.style[e]=n}const gq=ew(()=>window.ScrollTimeline!==void 0),yq={};function vq(t,e){const n=ew(t);return()=>yq[e]??n()}const NI=vq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ZR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qd([0,.65,.55,1]),circOut:qd([.55,0,1,.45]),backIn:qd([.31,.01,.66,-.59]),backOut:qd([.33,1.53,.69,.99])};function jI(t,e){if(t)return typeof t=="function"?NI()?SI(t,e):"ease-out":pI(t)?qd(t):Array.isArray(t)?t.map(n=>jI(n,e)||ZR.easeOut):ZR[t]}function xq(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},h=void 0){const p={[e]:n};d&&(p.offset=d);const v=jI(u,s);Array.isArray(v)&&(p.easing=v);const x={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),t.animate(p,x)}function PI(t){return typeof t=="function"&&"applyToOptions"in t}function bq({type:t,...e}){return PI(t)&&NI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}let wq=class extends dw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,J1(typeof e.type!="string");const h=bq(e);this.animation=xq(n,r,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=uw(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):pq(n,r,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return pi(Number(e))}get time(){return pi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&gq()?(this.animation.timeline=e,ms):n(this)}};const II={anticipate:dI,backInOut:uI,circInOut:fI};function _q(t){return t in II}function Tq(t){typeof t.ease=="string"&&_q(t.ease)&&(t.ease=II[t.ease])}const JR=10;let Eq=class extends wq{constructor(e){Tq(e),RI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new hw({...l,autoplay:!1}),d=mi(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-JR).value,u.sample(d).value,JR),u.stop()}};const e2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(So.test(t)||t==="0")&&!t.startsWith("url("));function Sq(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Aq(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=e2(s,e),u=e2(o,e);return!l||!u?!1:Sq(t)||(n==="spring"||PI(n))&&r}function mw(t){return rI(t)&&"offsetHeight"in t}const Rq=new Set(["opacity","clipPath","filter","transform"]),Cq=ew(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kq(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:l}=t;if(!mw((h=e==null?void 0:e.owner)==null?void 0:h.current))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return Cq()&&n&&Rq.has(n)&&(n!=="transform"||!d)&&!u&&!r&&s!=="mirror"&&o!==0&&l!=="inertia"}const Nq=40;let jq=class extends dw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:h,element:p,...v}){var T;super(),this.stop=()=>{var S,R;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=Tr.now();const x={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:p,...v},w=(p==null?void 0:p.KeyframeResolver)||fw;this.keyframeResolver=new w(u,(S,R,C)=>this.onKeyframesResolved(S,R,x,!C),d,h,p),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:h,onUpdate:p}=r;this.resolvedAt=Tr.now(),Aq(e,o,l,u)||((ca.instantAnimations||!d)&&(p==null||p(uw(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Nq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},w=!h&&kq(x)?new Eq({...x,element:x.motionValue.owner.current}):new hw(x);w.finished.then(()=>this.notifyFinished()).catch(ms),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),fq()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}};const Pq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Iq(t){const e=Pq.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function DI(t,e,n=1){const[r,s]=Iq(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return nI(l)?parseFloat(l):l}return iw(s)?DI(s,e,n+1):s}function pw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const MI=new Set(["width","height","top","left","right","bottom",...xu]),Dq={test:t=>t==="auto",parse:t=>t},OI=t=>e=>e.test(t),VI=[vu,Fe,gi,to,S8,E8,Dq],t2=t=>VI.find(OI(t));function Mq(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sI(t):!0}const Oq=new Set(["brightness","contrast","saturate","opacity"]);function Vq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(aw)||[];if(!r)return t;const s=n.replace(r,"");let o=Oq.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const Lq=/\b([a-z-]*)\(.*?\)/gu,qx={...So,getAnimatableNone:t=>{const e=t.match(Lq);return e?e.map(Vq).join(" "):t}},n2={...vu,transform:Math.round},Uq={rotate:to,rotateX:to,rotateY:to,rotateZ:to,scale:Gm,scaleX:Gm,scaleY:Gm,scaleZ:Gm,skew:to,skewX:to,skewY:to,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Ah,originX:FR,originY:FR,originZ:Fe},gw={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...Uq,zIndex:n2,fillOpacity:Ah,strokeOpacity:Ah,numOctaves:n2},Bq={...gw,color:Qn,backgroundColor:Qn,outlineColor:Qn,fill:Qn,stroke:Qn,borderColor:Qn,borderTopColor:Qn,borderRightColor:Qn,borderBottomColor:Qn,borderLeftColor:Qn,filter:qx,WebkitFilter:qx},LI=t=>Bq[t];function UI(t,e){let n=LI(t);return n!==qx&&(n=So),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $q=new Set(["auto","none","0"]);function Fq(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!$q.has(o)&&Rh(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=UI(n,s)}let zq=class extends fw{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),iw(h))){const p=DI(h,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!MI.has(r)||e.length!==2)return;const[s,o]=e,l=t2(s),u=t2(o);if(l!==u)if(QR(l)&&QR(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Tl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Mq(e[s]))&&r.push(s);r.length&&Fq(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Tl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}};function qq(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const BI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,r2=30,Hq=t=>!isNaN(parseFloat(t));let Gq=class{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var l,u;const o=Tr.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Hq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new tw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>r2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,r2);return iI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function au(t,e){return new Gq(t,e)}const{schedule:yw}=gI(queueMicrotask,!1),As={x:!1,y:!1};function $I(){return As.x||As.y}function Kq(t){return t==="x"||t==="y"?As[t]?null:(As[t]=!0,()=>{As[t]=!1}):As.x||As.y?null:(As.x=As.y=!0,()=>{As.x=As.y=!1})}function FI(t,e){const n=qq(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function s2(t){return!(t.pointerType==="touch"||$I())}function Yq(t,e,n={}){const[r,s,o]=FI(t,n),l=u=>{if(!s2(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const p=v=>{s2(v)&&(h(v),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const zI=(t,e)=>e?t===e?!0:zI(t,e.parentElement):!1,vw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Wq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Xq(t){return Wq.has(t.tagName)||t.tabIndex!==-1}const fp=new WeakSet;function i2(t){return e=>{e.key==="Enter"&&t(e)}}function Pv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Qq=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=i2(()=>{if(fp.has(n))return;Pv(n,"down");const s=i2(()=>{Pv(n,"up")}),o=()=>Pv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function a2(t){return vw(t)&&!$I()}function Zq(t,e,n={}){const[r,s,o]=FI(t,n),l=u=>{const d=u.currentTarget;if(!a2(u))return;fp.add(d);const h=e(d,u),p=(w,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),fp.has(d)&&fp.delete(d),a2(w)&&typeof h=="function"&&h(w,{success:T})},v=w=>{p(w,d===window||d===document||n.useGlobalTarget||zI(d,w.target))},x=w=>{p(w,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),mw(u)&&(u.addEventListener("focus",h=>Qq(h,s)),!Xq(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function qI(t){return rI(t)&&"ownerSVGElement"in t}function Jq(t){return qI(t)&&t.tagName==="svg"}const nr=t=>!!(t&&t.getVelocity),eH=[...VI,Qn,So],tH=t=>eH.find(OI(t)),xw=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class nH extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=mw(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rH({children:t,isPresent:e,anchorX:n}){const r=k.useId(),s=k.useRef(null),o=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=k.useContext(xw);return k.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:p,right:v}=o.current;if(e||!s.current||!u||!d)return;const x=n==="left"?`left: ${p}`:`right: ${v}`;s.current.dataset.motionPopId=r;const w=document.createElement("style");return l&&(w.nonce=l),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(w)&&document.head.removeChild(w)}},[e]),m.jsx(nH,{isPresent:e,childRef:s,sizeRef:o,children:k.cloneElement(t,{ref:s})})}const sH=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:l,anchorX:u})=>{const d=W1(iH),h=k.useId();let p=!0,v=k.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:n,custom:s,onExitComplete:x=>{d.set(x,!0);for(const w of d.values())if(!w)return;r&&r()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[n,d,r]);return o&&p&&(v={...v}),k.useMemo(()=>{d.forEach((x,w)=>d.set(w,!1))},[n]),k.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),l==="popLayout"&&(t=m.jsx(rH,{isPresent:n,anchorX:u,children:t})),m.jsx($g.Provider,{value:v,children:t})};function iH(){return new Map}function HI(t=!0){const e=k.useContext($g);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=k.useId();k.useEffect(()=>{if(t)return s(o)},[t]);const l=k.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const Km=t=>t.key||"";function o2(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const aH=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:u="left"})=>{const[d,h]=HI(l),p=k.useMemo(()=>o2(t),[t]),v=l&&!d?[]:p.map(Km),x=k.useRef(!0),w=k.useRef(p),T=W1(()=>new Map),[S,R]=k.useState(p),[C,O]=k.useState(p);tI(()=>{x.current=!1,w.current=p;for(let D=0;D<C.length;D++){const V=Km(C[D]);v.includes(V)?T.delete(V):T.get(V)!==!0&&T.set(V,!1)}},[C,v.length,v.join("-")]);const j=[];if(p!==S){let D=[...p];for(let V=0;V<C.length;V++){const I=C[V],N=Km(I);v.includes(N)||(D.splice(V,0,I),j.push(I))}return o==="wait"&&j.length&&(D=j),O(o2(D)),R(p),null}const{forceRender:$}=k.useContext(Y1);return m.jsx(m.Fragment,{children:C.map(D=>{const V=Km(D),I=l&&!d?!1:p===C||v.includes(V),N=()=>{if(T.has(V))T.set(V,!0);else return;let M=!0;T.forEach(B=>{B||(M=!1)}),M&&($==null||$(),O(w.current),l&&(h==null||h()),r&&r())};return m.jsx(sH,{isPresent:I,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,onExitComplete:I?void 0:N,anchorX:u,children:D},V)})})},GI=k.createContext({strict:!1}),l2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ou={};for(const t in l2)ou[t]={isEnabled:e=>l2[t].some(n=>!!e[n])};function oH(t){for(const e in t)ou[e]={...ou[e],...t[e]}}const lH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lH.has(t)}let KI=t=>!eg(t);function cH(t){t&&(KI=e=>e.startsWith("on")?!eg(e):t(e))}try{cH(require("@emotion/is-prop-valid").default)}catch{}function uH(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(KI(s)||n===!0&&eg(s)||!e&&!eg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function dH(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Fg=k.createContext({});function zg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ch(t){return typeof t=="string"||Array.isArray(t)}const bw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ww=["initial",...bw];function qg(t){return zg(t.animate)||ww.some(e=>Ch(t[e]))}function YI(t){return!!(qg(t)||t.variants)}function hH(t,e){if(qg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ch(n)?n:void 0,animate:Ch(r)?r:void 0}}return t.inherit!==!1?e:{}}function fH(t){const{initial:e,animate:n}=hH(t,k.useContext(Fg));return k.useMemo(()=>({initial:e,animate:n}),[c2(e),c2(n)])}function c2(t){return Array.isArray(t)?t.join(" "):t}const mH=Symbol.for("motionComponentSymbol");function Uc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pH(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Uc(n)&&(n.current=r))},[e])}const _w=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gH="framerAppearId",WI="data-"+_w(gH),XI=k.createContext({});function yH(t,e,n,r,s){var S,R;const{visualElement:o}=k.useContext(Fg),l=k.useContext(GI),u=k.useContext($g),d=k.useContext(xw).reducedMotion,h=k.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,v=k.useContext(XI);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&vH(h.current,n,s,v);const x=k.useRef(!1);k.useInsertionEffect(()=>{p&&x.current&&p.update(n,u)});const w=n[WI],T=k.useRef(!!w&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,w))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,w)));return tI(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),yw.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,w)}),T.current=!1))}),p}function vH(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QI(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&Uc(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:h})}function QI(t){if(t)return t.options.allowProjection!==!1?t.projection:QI(t.parent)}function xH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&oH(t);function o(u,d){let h;const p={...k.useContext(xw),...u,layoutId:bH(u)},{isStatic:v}=p,x=fH(u),w=r(u,v);if(!v&&X1){wH();const T=_H(p);h=T.MeasureLayout,x.visualElement=yH(s,w,p,e,T.ProjectionNode)}return m.jsxs(Fg.Provider,{value:x,children:[h&&x.visualElement?m.jsx(h,{visualElement:x.visualElement,...p}):null,n(s,u,pH(w,x.visualElement,d),w,v,x.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=k.forwardRef(o);return l[mH]=s,l}function bH({layoutId:t}){const e=k.useContext(Y1).id;return e&&t!==void 0?e+"-"+t:t}function wH(t,e){k.useContext(GI).strict}function _H(t){const{drag:e,layout:n}=ou;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const kh={};function TH(t){for(const e in t)kh[e]=t[e],sw(e)&&(kh[e].isCSSVariable=!0)}function ZI(t,{layout:e,layoutId:n}){return bu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!kh[t]||t==="opacity")}const EH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SH=xu.length;function AH(t,e,n){let r="",s=!0;for(let o=0;o<SH;o++){const l=xu[o],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const h=BI(u,gw[l]);if(!d){s=!1;const p=EH[l]||l;r+=`${p}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Tw(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,u=!1;for(const d in e){const h=e[d];if(bu.has(d)){l=!0;continue}else if(sw(d)){s[d]=h;continue}else{const p=BI(h,gw[d]);d.startsWith("origin")?(u=!0,o[d]=p):r[d]=p}}if(e.transform||(l||n?r.transform=AH(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=o;r.transformOrigin=`${d} ${h} ${p}`}}const Ew=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JI(t,e,n){for(const r in e)!nr(e[r])&&!ZI(r,n)&&(t[r]=e[r])}function RH({transformTemplate:t},e){return k.useMemo(()=>{const n=Ew();return Tw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function CH(t,e){const n=t.style||{},r={};return JI(r,n,t),Object.assign(r,RH(t,e)),r}function kH(t,e){const n={},r=CH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const NH={offset:"stroke-dashoffset",array:"stroke-dasharray"},jH={offset:"strokeDashoffset",array:"strokeDasharray"};function PH(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?NH:jH;t[o.offset]=Fe.transform(-r);const l=Fe.transform(e),u=Fe.transform(n);t[o.array]=`${l} ${u}`}function eD(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,h,p){if(Tw(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&PH(v,s,o,l,!1)}const tD=()=>({...Ew(),attrs:{}}),nD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function IH(t,e,n,r){const s=k.useMemo(()=>{const o=tD();return eD(o,e,nD(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};JI(o,t.style,t),s.style={...o,...s.style}}return s}const DH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sw(t){return typeof t!="string"||t.includes("-")?!1:!!(DH.indexOf(t)>-1||/[A-Z]/u.test(t))}function MH(t=!1){return(n,r,s,{latestValues:o},l)=>{const d=(Sw(n)?IH:kH)(r,o,l,n),h=uH(r,typeof n=="string",t),p=n!==k.Fragment?{...h,...d,ref:s}:{},{children:v}=r,x=k.useMemo(()=>nr(v)?v.get():v,[v]);return k.createElement(n,{...p,children:x})}}function u2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Aw(t,e,n,r){if(typeof e=="function"){const[s,o]=u2(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=u2(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function mp(t){return nr(t)?t.get():t}function OH({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:VH(n,r,s,t),renderState:e()}}const rD=t=>(e,n)=>{const r=k.useContext(Fg),s=k.useContext($g),o=()=>OH(t,e,r,s);return n?o():W1(o)};function VH(t,e,n,r){const s={},o=r(t,{});for(const x in o)s[x]=mp(o[x]);let{initial:l,animate:u}=t;const d=qg(t),h=YI(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const v=p?u:l;if(v&&typeof v!="boolean"&&!zg(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const T=Aw(t,x[w]);if(T){const{transitionEnd:S,transition:R,...C}=T;for(const O in C){let j=C[O];if(Array.isArray(j)){const $=p?j.length-1:0;j=j[$]}j!==null&&(s[O]=j)}for(const O in S)s[O]=S[O]}}}return s}function Rw(t,e,n){var o;const{style:r}=t,s={};for(const l in r)(nr(r[l])||e.style&&nr(e.style[l])||ZI(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(s[l]=r[l]);return s}const LH={useVisualState:rD({scrapeMotionValuesFromProps:Rw,createRenderState:Ew})};function sD(t,e,n){const r=Rw(t,e,n);for(const s in t)if(nr(t[s])||nr(e[s])){const o=xu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const UH={useVisualState:rD({scrapeMotionValuesFromProps:sD,createRenderState:tD})};function BH(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Sw(r)?UH:LH,preloadedFeatures:t,useRender:MH(s),createVisualElement:e,Component:r};return xH(l)}}function Nh(t,e,n){const r=t.getProps();return Aw(r,e,n!==void 0?n:r.custom,t)}const Hx=t=>Array.isArray(t);function $H(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,au(n))}function FH(t){return Hx(t)?t[t.length-1]||0:t}function zH(t,e){const n=Nh(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const u=FH(o[l]);$H(t,l,u)}}function qH(t){return!!(nr(t)&&t.add)}function Gx(t,e){const n=t.getValue("willChange");if(qH(n))return n.add(e);if(!n&&ca.WillChange){const r=new ca.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function iD(t){return t.props[WI]}const HH=t=>t!==null;function GH(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(HH),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const KH={type:"spring",stiffness:500,damping:25,restSpeed:10},YH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WH={type:"keyframes",duration:.8},XH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QH=(t,{keyframes:e})=>e.length>2?WH:bu.has(t)?t.startsWith("scale")?YH(e[1]):KH:XH;function ZH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const Cw=(t,e,n,r={},s,o)=>l=>{const u=pw(r,t)||{},d=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-mi(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};ZH(u)||Object.assign(p,QH(t,p)),p.duration&&(p.duration=mi(p.duration)),p.repeatDelay&&(p.repeatDelay=mi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(v=!0)),(ca.instantAnimations||ca.skipAnimations)&&(v=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const x=GH(p.keyframes,u);if(x!==void 0){Gt.update(()=>{p.onUpdate(x),p.onComplete()});return}}return u.isSync?new hw(p):new jq(p)};function JH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aD(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const v=t.getValue(p,t.latestValues[p]??null),x=u[p];if(x===void 0||h&&JH(h,p))continue;const w={delay:n,...pw(o||{},p)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===T&&!w.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const C=iD(t);if(C){const O=window.MotionHandoffAnimation(C,p,Gt);O!==null&&(w.startTime=O,S=!0)}}Gx(t,p),v.start(Cw(p,v,x,t.shouldReduceMotion&&MI.has(p)?{type:!1}:w,t,S));const R=v.animation;R&&d.push(R)}return l&&Promise.all(d).then(()=>{Gt.update(()=>{l&&zH(t,l)})}),d}function Kx(t,e,n={}){var d;const r=Nh(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(aD(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:x}=s;return eG(t,e,p+h,v,x,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[h,p]=u==="beforeChildren"?[o,l]:[l,o];return h().then(()=>p())}else return Promise.all([o(),l(n.delay)])}function eG(t,e,n=0,r=0,s=1,o){const l=[],u=(t.variantChildren.size-1)*r,d=s===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(t.variantChildren).sort(tG).forEach((h,p)=>{h.notify("AnimationStart",e),l.push(Kx(h,e,{...o,delay:n+d(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function tG(t,e){return t.sortNodePosition(e)}function nG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>Kx(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=Kx(t,e,n);else{const s=typeof e=="function"?Nh(t,e,n.custom):e;r=Promise.all(aD(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function oD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const rG=ww.length;function lD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<rG;n++){const r=ww[n],s=t.props[r];(Ch(s)||s===!1)&&(e[r]=s)}return e}const sG=[...bw].reverse(),iG=bw.length;function aG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nG(t,n,r)))}function oG(t){let e=aG(t),n=d2(),r=!0;const s=d=>(h,p)=>{var x;const v=Nh(t,p,d==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(v){const{transition:w,transitionEnd:T,...S}=v;h={...h,...S,...T}}return h};function o(d){e=d(t)}function l(d){const{props:h}=t,p=lD(t.parent)||{},v=[],x=new Set;let w={},T=1/0;for(let R=0;R<iG;R++){const C=sG[R],O=n[C],j=h[C]!==void 0?h[C]:p[C],$=Ch(j),D=C===d?O.isActive:null;D===!1&&(T=R);let V=j===p[C]&&j!==h[C]&&$;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),O.protectedKeys={...w},!O.isActive&&D===null||!j&&!O.prevProp||zg(j)||typeof j=="boolean")continue;const I=lG(O.prevProp,j);let N=I||C===d&&O.isActive&&!V&&$||R>T&&$,M=!1;const B=Array.isArray(j)?j:[j];let q=B.reduce(s(C),{});D===!1&&(q={});const{prevResolvedValues:z={}}=O,U={...z,...q},ve=se=>{N=!0,x.has(se)&&(M=!0,x.delete(se)),O.needsAnimating[se]=!0;const me=t.getValue(se);me&&(me.liveStyle=!1)};for(const se in U){const me=q[se],je=z[se];if(w.hasOwnProperty(se))continue;let H=!1;Hx(me)&&Hx(je)?H=!oD(me,je):H=me!==je,H?me!=null?ve(se):x.add(se):me!==void 0&&x.has(se)?ve(se):O.protectedKeys[se]=!0}O.prevProp=j,O.prevResolvedValues=q,O.isActive&&(w={...w,...q}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(V&&I)||M)&&v.push(...B.map(se=>({animation:se,options:{type:C}})))}if(x.size){const R={};if(typeof h.initial!="boolean"){const C=Nh(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(R.transition=C.transition)}x.forEach(C=>{const O=t.getBaseTarget(C),j=t.getValue(C);j&&(j.liveStyle=!0),R[C]=O??null}),v.push({animation:R})}let S=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(v):Promise.resolve()}function u(d,h){var v;if(n[d].isActive===h)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(x=>{var w;return(w=x.animationState)==null?void 0:w.setActive(d,h)}),n[d].isActive=h;const p=l(d);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=d2(),r=!0}}}function lG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oD(e,t):!1}function cl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function d2(){return{animate:cl(!0),whileInView:cl(),whileHover:cl(),whileTap:cl(),whileDrag:cl(),whileFocus:cl(),exit:cl()}}let jo=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},cG=class extends jo{constructor(e){super(e),e.animationState||(e.animationState=oG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}},uG=0,dG=class extends jo{constructor(){super(...arguments),this.id=uG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}};const hG={animation:{Feature:cG},exit:{Feature:dG}};function jh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function uf(t){return{point:{x:t.pageX,y:t.pageY}}}const fG=t=>e=>vw(e)&&t(e,uf(e));function th(t,e,n,r){return jh(t,e,fG(n),r)}function cD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function mG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const uD=1e-4,gG=1-uD,yG=1+uD,dD=.01,vG=0-dD,xG=0+dD;function hr(t){return t.max-t.min}function bG(t,e,n){return Math.abs(t-e)<=n}function h2(t,e,n,r=.5){t.origin=r,t.originPoint=qt(e.min,e.max,t.origin),t.scale=hr(n)/hr(e),t.translate=qt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gG&&t.scale<=yG||isNaN(t.scale))&&(t.scale=1),(t.translate>=vG&&t.translate<=xG||isNaN(t.translate))&&(t.translate=0)}function nh(t,e,n,r){h2(t.x,e.x,n.x,r?r.originX:void 0),h2(t.y,e.y,n.y,r?r.originY:void 0)}function f2(t,e,n){t.min=n.min+e.min,t.max=t.min+hr(e)}function wG(t,e,n){f2(t.x,e.x,n.x),f2(t.y,e.y,n.y)}function m2(t,e,n){t.min=e.min-n.min,t.max=t.min+hr(e)}function rh(t,e,n){m2(t.x,e.x,n.x),m2(t.y,e.y,n.y)}const p2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bc=()=>({x:p2(),y:p2()}),g2=()=>({min:0,max:0}),tn=()=>({x:g2(),y:g2()});function us(t){return[t("x"),t("y")]}function Iv(t){return t===void 0||t===1}function Yx({scale:t,scaleX:e,scaleY:n}){return!Iv(t)||!Iv(e)||!Iv(n)}function hl(t){return Yx(t)||hD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hD(t){return y2(t.x)||y2(t.y)}function y2(t){return t&&t!=="0%"}function tg(t,e,n){const r=t-n,s=e*r;return n+s}function v2(t,e,n,r,s){return s!==void 0&&(t=tg(t,s,r)),tg(t,n,r)+e}function Wx(t,e=0,n=1,r,s){t.min=v2(t.min,e,n,r,s),t.max=v2(t.max,e,n,r,s)}function fD(t,{x:e,y:n}){Wx(t.x,e.translate,e.scale,e.originPoint),Wx(t.y,n.translate,n.scale,n.originPoint)}const x2=.999999999999,b2=1.0000000000001;function _G(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Fc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,fD(t,l)),r&&hl(o.latestValues)&&Fc(t,o.latestValues))}e.x<b2&&e.x>x2&&(e.x=1),e.y<b2&&e.y>x2&&(e.y=1)}function $c(t,e){t.min=t.min+e,t.max=t.max+e}function w2(t,e,n,r,s=.5){const o=qt(t.min,t.max,s);Wx(t,e,n,o,r)}function Fc(t,e){w2(t.x,e.x,e.scaleX,e.scale,e.originX),w2(t.y,e.y,e.scaleY,e.scale,e.originY)}function mD(t,e){return cD(pG(t.getBoundingClientRect(),e))}function TG(t,e,n){const r=mD(t,n),{scroll:s}=e;return s&&($c(r.x,s.offset.x),$c(r.y,s.offset.y)),r}const pD=({current:t})=>t?t.ownerDocument.defaultView:null,_2=(t,e)=>Math.abs(t-e);function EG(t,e){const n=_2(t.x,e.x),r=_2(t.y,e.y);return Math.sqrt(n**2+r**2)}let gD=class{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Mv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=EG(v.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:T}=v,{timestamp:S}=Un;this.history.push({...T,timestamp:S});const{onStart:R,onMove:C}=this.handlers;x||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Dv(x,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Mv(v.type==="pointercancel"?this.lastMoveEventInfo:Dv(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,R),T&&T(v,R)},!vw(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=uf(e),u=Dv(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=Un;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,Mv(u,this.history)),this.removeListeners=of(th(this.contextWindow,"pointermove",this.handlePointerMove),th(this.contextWindow,"pointerup",this.handlePointerUp),th(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Eo(this.updatePoint)}};function Dv(t,e){return e?{point:e(t.point)}:t}function T2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mv({point:t},e){return{point:t,delta:T2(t,yD(e)),offset:T2(t,SG(e)),velocity:AG(e,.1)}}function SG(t){return t[0]}function yD(t){return t[t.length-1]}function AG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=yD(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>mi(e)));)n--;if(!r)return{x:0,y:0};const o=pi(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function RG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?qt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?qt(n,t,r.max):Math.min(t,n)),t}function E2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function CG(t,{top:e,left:n,bottom:r,right:s}){return{x:E2(t.x,n,s),y:E2(t.y,e,r)}}function S2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kG(t,e){return{x:S2(t.x,e.x),y:S2(t.y,e.y)}}function NG(t,e){let n=.5;const r=hr(t),s=hr(e);return s>r?n=Sh(e.min,e.max-r,t.min):r>s&&(n=Sh(t.min,t.max-s,e.min)),la(0,1,n)}function jG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Xx=.35;function PG(t=Xx){return t===!1?t=0:t===!0&&(t=Xx),{x:A2(t,"left","right"),y:A2(t,"top","bottom")}}function A2(t,e,n){return{min:R2(t,e),max:R2(t,n)}}function R2(t,e){return typeof t=="number"?t:t[e]||0}const IG=new WeakMap;let DG=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(uf(p).point)},o=(p,v)=>{const{drag:x,dragPropagation:w,onDragStart:T}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Kq(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),us(R=>{let C=this.getAxisMotionValue(R).get()||0;if(gi.test(C)){const{projection:O}=this.visualElement;if(O&&O.layout){const j=O.layout.layoutBox[R];j&&(C=hr(j)*(parseFloat(C)/100))}}this.originPoint[R]=C}),T&&Gt.postRender(()=>T(p,v)),Gx(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(p,v)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:T,onDrag:S}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:R}=v;if(w&&this.currentDirection===null){this.currentDirection=MG(R),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),S&&S(p,v)},u=(p,v)=>this.stop(p,v),d=()=>us(p=>{var v;return this.getAnimationState(p)==="paused"&&((v=this.getAxisMotionValue(p).animation)==null?void 0:v.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new gD(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:pD(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Gt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ym(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=RG(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&Uc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=CG(r.layoutBox,e):this.constraints=!1,this.elastic=PG(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&us(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=jG(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Uc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=TG(r,s.root,this.visualElement.getTransformPagePoint());let l=kG(s.layout.layoutBox,o);if(n){const u=n(mG(l));this.hasMutatedConstraints=!!u,u&&(l=cD(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=us(p=>{if(!Ym(p,n,this.currentDirection))return;let v=d&&d[p]||{};l&&(v={min:0,max:0});const x=s?200:1e6,w=s?40:1e7,T={type:"inertia",velocity:r?e[p]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(p,T)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Gx(this.visualElement,e),r.start(Cw(e,r,0,n,this.visualElement,!1))}stopAnimation(){us(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){us(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){us(n=>{const{drag:r}=this.getProps();if(!Ym(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(e[n]-qt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Uc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};us(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=NG({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),us(l=>{if(!Ym(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];u.set(qt(d,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;IG.set(this.visualElement,this);const e=this.visualElement.current,n=th(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Uc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Gt.read(r);const l=jh(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(us(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=d[p].translate,v.set(v.get()+d[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Xx,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}};function Ym(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function MG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let OG=class extends jo{constructor(e){super(e),this.removeGroupControls=ms,this.removeListeners=ms,this.controls=new DG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ms}unmount(){this.removeGroupControls(),this.removeListeners()}};const C2=t=>(e,n)=>{t&&Gt.postRender(()=>t(e,n))};let VG=class extends jo{constructor(){super(...arguments),this.removePointerDownListener=ms}onPointerDown(e){this.session=new gD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:C2(e),onStart:C2(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&Gt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=th(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const pp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function k2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Fe.test(t))t=parseFloat(t);else return t;const n=k2(t,e.target.x),r=k2(t,e.target.y);return`${n}% ${r}%`}},LG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=So.parse(t);if(s.length>5)return r;const o=So.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=d;const h=qt(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}};let UG=class extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;TH(BG),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),pp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Gt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),yw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function vD(t){const[e,n]=HI(),r=k.useContext(Y1);return m.jsx(UG,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(XI),isPresent:e,safeToRemove:n})}const BG={borderRadius:{...jd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jd,borderTopRightRadius:jd,borderBottomLeftRadius:jd,borderBottomRightRadius:jd,boxShadow:LG};function $G(t,e,n){const r=nr(t)?t:au(t);return r.start(Cw("",r,e,n)),r.animation}const FG=(t,e)=>t.depth-e.depth;let zG=class{constructor(){this.children=[],this.isDirty=!1}add(e){Q1(this.children,e),this.isDirty=!0}remove(e){Z1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FG),this.isDirty=!1,this.children.forEach(e)}};function qG(t,e){const n=Tr.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Eo(r),t(o-e))};return Gt.setup(r,!0),()=>Eo(r)}const xD=["TopLeft","TopRight","BottomLeft","BottomRight"],HG=xD.length,N2=t=>typeof t=="string"?parseFloat(t):t,j2=t=>typeof t=="number"||Fe.test(t);function GG(t,e,n,r,s,o){s?(t.opacity=qt(0,n.opacity??1,KG(r)),t.opacityExit=qt(e.opacity??1,0,YG(r))):o&&(t.opacity=qt(e.opacity??1,n.opacity??1,r));for(let l=0;l<HG;l++){const u=`border${xD[l]}Radius`;let d=P2(e,u),h=P2(n,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||j2(d)===j2(h)?(t[u]=Math.max(qt(N2(d),N2(h),r),0),(gi.test(h)||gi.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=qt(e.rotate||0,n.rotate||0,r))}function P2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const KG=bD(0,.5,hI),YG=bD(.5,.95,ms);function bD(t,e,n){return r=>r<t?0:r>e?1:n(Sh(t,e,r))}function I2(t,e){t.min=e.min,t.max=e.max}function ls(t,e){I2(t.x,e.x),I2(t.y,e.y)}function D2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function M2(t,e,n,r,s){return t-=e,t=tg(t,1/n,r),s!==void 0&&(t=tg(t,1/s,r)),t}function WG(t,e=0,n=1,r=.5,s,o=t,l=t){if(gi.test(e)&&(e=parseFloat(e),e=qt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=qt(o.min,o.max,r);t===o&&(u-=e),t.min=M2(t.min,e,n,u,s),t.max=M2(t.max,e,n,u,s)}function O2(t,e,[n,r,s],o,l){WG(t,e[n],e[r],e[s],e.scale,o,l)}const XG=["x","scaleX","originX"],QG=["y","scaleY","originY"];function V2(t,e,n,r){O2(t.x,e,XG,n?n.x:void 0,r?r.x:void 0),O2(t.y,e,QG,n?n.y:void 0,r?r.y:void 0)}function L2(t){return t.translate===0&&t.scale===1}function wD(t){return L2(t.x)&&L2(t.y)}function U2(t,e){return t.min===e.min&&t.max===e.max}function ZG(t,e){return U2(t.x,e.x)&&U2(t.y,e.y)}function B2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _D(t,e){return B2(t.x,e.x)&&B2(t.y,e.y)}function $2(t){return hr(t.x)/hr(t.y)}function F2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}let JG=class{constructor(){this.members=[]}add(e){Q1(this.members,e),e.scheduleRender()}remove(e){if(Z1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function eK(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:v,rotateY:x,skewX:w,skewY:T}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),w&&(r+=`skewX(${w}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const Ov=["","X","Y","Z"],tK={visibility:"hidden"},nK=1e3;let rK=0;function Vv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function TD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&TD(r)}function ED({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e==null?void 0:e()){this.id=rK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aK),this.nodes.forEach(dK),this.nodes.forEach(hK),this.nodes.forEach(oK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new zG)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new tw),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=qI(l)&&!Jq(l),this.instance=l;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const v=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=qG(v,250),pp.hasAnimatedSinceResize&&(pp.hasAnimatedSinceResize=!1,this.nodes.forEach(q2))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||yK,{onLayoutAnimationStart:S,onLayoutAnimationComplete:R}=h.getProps(),C=!this.targetLayout||!_D(this.targetLayout,w),O=!v&&x;if(this.options.layoutRoot||this.resumeFrom||O||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...pw(T,"layout"),onPlay:S,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(p,O)}else v||q2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Eo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fK),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z2);return}this.isUpdating||this.nodes.forEach(cK),this.isUpdating=!1,this.nodes.forEach(uK),this.nodes.forEach(sK),this.nodes.forEach(iK),this.clearAllSnapshots();const u=Tr.now();Un.delta=la(0,1e3/60,u-Un.timestamp),Un.timestamp=u,Un.isProcessing=!0,Cv.update.process(Un),Cv.preRender.process(Un),Cv.render.process(Un),Un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lK),this.sharedNodes.forEach(mK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hr(this.snapshot.measuredBox.x)&&!hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!wD(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(u||hl(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),vK(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return tn();const u=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(xK))){const{scroll:p}=this.root;p&&($c(u.x,p.offset.x),$c(u.y,p.offset.y))}return u}removeElementScroll(l){var d;const u=tn();if(ls(u,l),(d=this.scroll)!=null&&d.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:v,options:x}=p;p!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&ls(u,l),$c(u.x,v.offset.x),$c(u.y,v.offset.y))}return u}applyTransform(l,u=!1){const d=tn();ls(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Fc(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),hl(p.latestValues)&&Fc(d,p.latestValues)}return hl(this.latestValues)&&Fc(d,this.latestValues),d}removeTransform(l){const u=tn();ls(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!hl(h.latestValues))continue;Yx(h.latestValues)&&h.updateSnapshot();const p=tn(),v=h.measurePageBox();ls(p,v),V2(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return hl(this.latestValues)&&V2(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=Un.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),rh(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ls(this.target,this.layout.layoutBox),fD(this.target,this.targetDelta)):ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),rh(this.relativeTargetOrigin,this.target,w.target),ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Yx(this.parent.latestValues)||hD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Un.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;ls(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;_G(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=tn());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(D2(this.prevProjectionDelta.x,this.projectionDelta.x),D2(this.prevProjectionDelta.y,this.projectionDelta.y)),nh(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!F2(this.projectionDelta.x,this.prevProjectionDelta.x)||!F2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bc(),this.projectionDelta=Bc(),this.projectionDeltaWithTransform=Bc()}setAnimationOrigin(l,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},v=Bc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=tn(),w=d?d.source:void 0,T=this.layout?this.layout.source:void 0,S=w!==T,R=this.getStack(),C=!R||R.members.length<=1,O=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(gK));this.animationProgress=0;let j;this.mixTargetDelta=$=>{const D=$/1e3;H2(v.x,l.x,D),H2(v.y,l.y,D),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pK(this.relativeTarget,this.relativeTargetOrigin,x,D),j&&ZG(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=tn()),ls(j,this.relativeTarget)),S&&(this.animationValues=p,GG(p,h,this.latestValues,D,O,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,d,h;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Eo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{pp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=au(0)),this.currentAnimation=$G(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=l;if(!(!u||!d||!h)){if(this!==l&&this.layout&&h&&SD(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||tn();const v=hr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const x=hr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}ls(u,d),Fc(u,p),nh(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new JG),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Vv("z",l,h,this.animationValues);for(let p=0;p<Ov.length;p++)Vv(`rotate${Ov[p]}`,l,h,this.animationValues),Vv(`skew${Ov[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return tK;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=mp(l==null?void 0:l.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=mp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!hl(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=eK(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:v,y:x}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in kh){if(p[w]===void 0)continue;const{correct:T,applyTo:S,isCSSVariable:R}=kh[w],C=u.transform==="none"?p[w]:T(p[w],h);if(S){const O=S.length;for(let j=0;j<O;j++)u[S[j]]=C}else R?this.options.visualElement.renderState.vars[w]=C:u[w]=C}return this.options.layoutId&&(u.pointerEvents=h===this?mp(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(z2),this.root.sharedNodes.clear()}}}function sK(t){t.updateLayout()}function iK(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?us(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],w=hr(x);x.min=r[v].min,x.max=x.min+w}):SD(o,e.layoutBox,r)&&us(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],w=hr(r[v]);x.max=x.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const u=Bc();nh(u,r,e.layoutBox);const d=Bc();l?nh(d,t.applyTransform(s,!0),e.measuredBox):nh(d,r,e.layoutBox);const h=!wD(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:w}=v;if(x&&w){const T=tn();rh(T,e.layoutBox,x.layoutBox);const S=tn();rh(S,r,w.layoutBox),_D(T,S)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=T,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function aK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function oK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lK(t){t.clearSnapshot()}function z2(t){t.clearMeasurements()}function cK(t){t.isLayoutDirty=!1}function uK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function q2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dK(t){t.resolveTargetDelta()}function hK(t){t.calcProjection()}function fK(t){t.resetSkewAndRotation()}function mK(t){t.removeLeadSnapshot()}function H2(t,e,n){t.translate=qt(e.translate,0,n),t.scale=qt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function G2(t,e,n,r){t.min=qt(e.min,n.min,r),t.max=qt(e.max,n.max,r)}function pK(t,e,n,r){G2(t.x,e.x,n.x,r),G2(t.y,e.y,n.y,r)}function gK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yK={duration:.45,ease:[.4,0,.1,1]},K2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Y2=K2("applewebkit/")&&!K2("chrome/")?Math.round:ms;function W2(t){t.min=Y2(t.min),t.max=Y2(t.max)}function vK(t){W2(t.x),W2(t.y)}function SD(t,e,n){return t==="position"||t==="preserve-aspect"&&!bG($2(e),$2(n),.2)}function xK(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const bK=ED({attachResizeListener:(t,e)=>jh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lv={current:void 0},AD=ED({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lv.current){const t=new bK({});t.mount(window),t.setOptions({layoutScroll:!0}),Lv.current=t}return Lv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wK={pan:{Feature:VG},drag:{Feature:OG,ProjectionNode:AD,MeasureLayout:vD}};function X2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Gt.postRender(()=>o(e,uf(e)))}let _K=class extends jo{mount(){const{current:e}=this.node;e&&(this.unmount=Yq(e,(n,r)=>(X2(this.node,r,"Start"),s=>X2(this.node,s,"End"))))}unmount(){}},TK=class extends jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=of(jh(this.node.current,"focus",()=>this.onFocus()),jh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function Q2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Gt.postRender(()=>o(e,uf(e)))}let EK=class extends jo{mount(){const{current:e}=this.node;e&&(this.unmount=Zq(e,(n,r)=>(Q2(this.node,r,"Start"),(s,{success:o})=>Q2(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const Qx=new WeakMap,Uv=new WeakMap,SK=t=>{const e=Qx.get(t.target);e&&e(t)},AK=t=>{t.forEach(SK)};function RK({root:t,...e}){const n=t||document;Uv.has(n)||Uv.set(n,{});const r=Uv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(AK,{root:t,...e})),r[s]}function CK(t,e,n){const r=RK(e);return Qx.set(t,n),r.observe(t),()=>{Qx.delete(t),r.unobserve(t)}}const kK={some:0,all:1};let NK=class extends jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:kK[s]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),x=h?p:v;x&&x(d)};return CK(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(jK(e,n))&&this.startObserver()}unmount(){}};function jK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const PK={inView:{Feature:NK},tap:{Feature:EK},focus:{Feature:TK},hover:{Feature:_K}},IK={layout:{ProjectionNode:AD,MeasureLayout:vD}},Zx={current:null},RD={current:!1};function DK(){if(RD.current=!0,!!X1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zx.current=t.matches;t.addListener(e),e()}else Zx.current=!1}const MK=new WeakMap;function OK(t,e,n){for(const r in e){const s=e[r],o=n[r];if(nr(s))t.addValue(r,s);else if(nr(o))t.addValue(r,au(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,au(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Z2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let VK=class{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Tr.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Gt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=qg(n),this.isVariantNode=YI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const w=v[x];d[x]!==void 0&&nr(w)&&w.set(d[x],!1)}}mount(e){this.current=e,MK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),RD.current||DK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Eo(this.notifyUpdate),Eo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=bu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ou){const n=ou[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Z2.length;r++){const s=Z2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=OK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=au(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(nI(r)||sI(r))?r=parseFloat(r):!tH(r)&&So.test(n)&&(r=UI(e,n)),this.setBaseTarget(e,nr(r)?r.get():r)),nr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Aw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!nr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new tw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}},CD=class extends VK{constructor(){super(...arguments),this.KeyframeResolver=zq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function kD(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function LK(t){return window.getComputedStyle(t)}let UK=class extends CD{constructor(){super(...arguments),this.type="html",this.renderInstance=kD}readValueFromInstance(e,n){var r;if(bu.has(n))return(r=this.projection)!=null&&r.isProjecting?Ux(n):lq(e,n);{const s=LK(e),o=(sw(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mD(e,n)}build(e,n,r){Tw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Rw(e,n,r)}};const ND=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BK(t,e,n,r){kD(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(ND.has(s)?s:_w(s),e.attrs[s])}let $K=class extends CD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bu.has(n)){const r=LI(n);return r&&r.default||0}return n=ND.has(n)?n:_w(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return sD(e,n,r)}build(e,n,r){eD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){BK(e,n,r,s)}mount(e){this.isSVGTag=nD(e.tagName),super.mount(e)}};const FK=(t,e)=>Sw(t)?new $K(e):new UK(e,{allowProjection:t!==k.Fragment}),zK=BH({...hG,...PK,...wK,...IK},FK),He=dH(zK),Ze=({children:t,onClick:e,type:n="button",variant:r="primary",size:s="md",disabled:o=!1,isLoading:l=!1,fullWidth:u=!1,icon:d=null,iconPosition:h="left",className:p="",...v})=>{const x="font-medium rounded-md inline-flex items-center justify-center transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900 disabled:opacity-60 disabled:cursor-not-allowed",w={primary:"bg-gradient-to-r from-blue-500 to-blue-800 hover:from-blue-600 hover:to-blue-800 text-white focus:ring-blue-400 dark:from-blue-600 dark:to-blue-900 dark:hover:from-blue-500 dark:hoveblue-700",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800 focus:ring-gray-500 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200",danger:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white focus:ring-red-500 dark:from-red-700 dark:to-pink-700 dark:hover:from-red-600 dark:hover:to-pink-600",success:"bg-gradient-to-r from-green-600 to-emerald-500 hover:from-green-700 hover:to-emerald-600 text-white focus:ring-green-500 dark:from-green-700 dark:to-emerald-600 dark:hover:from-green-600 dark:hover:to-emerald-500",warning:"bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white focus:ring-yellow-500 dark:from-yellow-500 dark:to-yellow-700 dark:hover:from-yellow-400 dark:hover:to-yellow-600",outline:"bg-transparent border border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500 dark:border-blue-500 dark:text-blue-400 dark:hover:bg-blue-900/20",ghost:"bg-transparent text-blue-600 hover:bg-blue-50 focus:ring-blue-500 dark:text-blue-400 dark:hover:bg-blue-900/20"},T={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base",xl:"px-6 py-3 text-lg"};return m.jsxs(He.button,{type:n,className:yt(x,w[r]||w.primary,T[s]||T.md,u?"w-full":"",p),onClick:e,disabled:o||l,whileTap:{scale:.98},...v,children:[l&&m.jsx("span",{className:"mr-2 inline-block",children:m.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),d&&h==="left"&&!l&&m.jsx("span",{className:"mr-2",children:d}),m.jsx("span",{children:t}),d&&h==="right"&&m.jsx("span",{className:"ml-2",children:d})]})},qK=()=>m.jsx(yu,{className:"py-20 px-6 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)] text-[var(--color-text)] dark:text-[var(--color-dark-text)] text-center",children:m.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[m.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-primary-light",children:"🎯 Ready to explore or contribute to academic excellence?"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[m.jsx(Pt,{to:"/login",children:m.jsx(Ze,{variant:"primary",className:"text-white flex",size:"lg",icon:m.jsx(q1,{className:"w-5 h-5"}),children:"as FUBK Member"})}),m.jsx(Pt,{to:"/guest/explore",children:m.jsx(Ze,{variant:"outline",className:"text-gray-700 dark:text-gray-300",size:"lg",icon:m.jsx(vs,{className:"w-5 h-5"}),children:"Continue as Guest"})})]}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-4 max-w-xl mx-auto",children:m.jsx("em",{children:"Preserving the past. Empowering the future. Built for FUBK students, by FUBK students."})})]})}),df=({index:t,className:e,children:n})=>m.jsx(m.Fragment,{children:m.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1},className:yt("shadow-md hover:shadow-lg dark:shadow-slate-800/20 hover:dark:shadow-slate-800/50 transition-all ",e),children:n},t)}),HK=()=>m.jsx(m.Fragment,{children:m.jsx(yu,{className:"flex flex-col items-center justify-center px-6 py-16 text-[var(--color-text) bg-ppr-animated",children:m.jsxs(df,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-3xl shadow-none hover:shadow-lg dark:shadow-none hover:dark:shadow-none transition-all",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[var(--color-primary)] dark:text-[var(--color-dark-primary)] mb-4 leading-tight",children:"PPR – Project Repository System"}),m.jsx("p",{className:"text-xl md:text-2xl text-[var(--color-accent)] dark:text-[var(--color-dark-accent)] font-medium mb-6",children:'"Unlock Research. Explore Knowledge. Power Your Project."'}),m.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-gray-300 mb-8",children:"The Project Repository System (PPR) empowers FUBK students, lecturers, and researchers by providing access to previously approved final-year projects. Upload, search, and request access all while supporting research integrity and collaboration."}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[m.jsx(Pt,{to:"/register",children:m.jsx(Ze,{size:"lg",icon:m.jsx(q1,{className:"w-5 h-5"}),className:"bg-[var(--color-primary)] dark:bg-[var(--color-dark-primary)] text-white hover:bg-[var(--color-primary-hover)] dark:hover:bg-[var(--color-dark-primary-hover)]",children:"Get Started"})}),m.jsx(Pt,{to:"/login",children:m.jsx(Ze,{variant:"outline",size:"lg",icon:m.jsx(Rr,{className:"w-5 h-5"}),className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20",children:"Explore Projects"})})]})]})})}),GK=[{icon:q1,title:"Login or Register",description:"Use your FUBK email to log in as a student or lecturer. Guests can continue in read-only mode."},{icon:af,title:"Explore or Upload",description:"Students can search for existing projects or submit their own final-year research for review."},{icon:Fl,title:"Lecturer Review",description:"Lecturers receive and approve submissions from their department, determining project visibility."},{icon:R7,title:"Access Management",description:"For restricted projects, students can submit a request. Lecturers grant or deny access with review."},{icon:Mt,title:"Track History",description:"All actions are logged per department to ensure transparency and research accountability."}],KK=()=>m.jsxs(yu,{className:"py-20 px-6 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] text-[var(--color-text)] dark:text-[var(--color-dark-text)]",children:[m.jsxs("div",{className:"max-w-5xl mx-auto text-center mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-primary-light mb-2",children:"🧭 How It Works"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"From login to full access, here's how PPR streamlines the research journey."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:GK.map((t,e)=>{const n=t.icon;return m.jsxs(df,{className:`p-6 rounded-2xl border backdrop-blur-md \r
                         bg-[var(--color-surface)] dark:bg-slate-900\r
                         border-[var(--color-border)] dark:border-[var(--color-dark-border)]\r
                         `,children:[m.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:m.jsx(n,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),m.jsx("h3",{className:"text-lg font-semibold",children:t.title}),m.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:t.description})]},e)})})]}),YK=()=>{const t=[{icon:GP,title:"Explore Projects",description:"Search titles, read abstracts, and find inspiration from previously approved final-year projects."},{icon:t8,title:"Submit Your Work",description:"Students can upload final-year project information to be reviewed and published by their department."},{icon:ba,title:"Request Full Access",description:"Need more than an abstract? Students can request access to restricted projects with valid reasons."},{icon:JP,title:"Lecturer Review",description:"Lecturers approve or reject submissions, set access level, and manage departmental research integrity."},{icon:XP,title:"Transparent Logs",description:"All submission and access history is logged for transparency, only visible to relevant lecturers."}];return m.jsxs(yu,{className:"py-16 px-4 sm:px-6 lg:px-8 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)]",children:[m.jsxs(He.div,{className:"text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[m.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-primary-light",children:"🔍 Key Features"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 max-w-2xl mx-auto",children:"Discover the power of PPR through its core features for students and staff."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,n)=>{const r=e.icon;return m.jsxs(df,{className:`p-6 rounded-2xl border backdrop-blur-md \r
                         bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]\r
                         border-[var(--color-border)] dark:border-[var(--color-dark-border)]\r
                         `,children:[m.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:m.jsx(r,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),m.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white",children:e.title}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:e.description})]},n)})})]})},WK=[{icon:"🎓",title:"FUBK Students",capabilities:["Submit their project for approval","Explore public and restricted project abstracts","Request full access to restricted content","Download approved files (if granted)"]},{icon:"🧑‍🏫",title:"FUBK Lecturers",capabilities:["Approve/reject student project submissions","Mark projects as public or restricted","Manage access requests","View activity history logs within their department"]},{icon:"🌍",title:"Guest Users (Other Institutions)",capabilities:["Search and view public project abstracts","Cannot upload, request access, or download files","Ideal for exploring academic output or doing comparative research"]}],XK=()=>m.jsxs(yu,{className:"py-20 px-6 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] text-[var(--color-text)] dark:text-[var(--color-dark-text)]",children:[m.jsxs("div",{className:"max-w-6xl mx-auto text-center mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-primary-light",children:"👥 Who Can Use PPR?"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 max-w-2xl mx-auto",children:"PPR is designed for both internal and external academic use. Here's what each role can do:"})]}),m.jsx("div",{className:"grid gap-10 sm:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",children:WK.map((t,e)=>m.jsxs(df,{className:"bg-[var(--color-background)] dark:bg-[var(--color-dark-background)] p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[m.jsx("div",{className:"text-4xl mb-3",children:t.icon}),m.jsx("h3",{className:"text-xl font-semibold mb-4",children:t.title}),m.jsx("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300 list-disc list-inside",children:t.capabilities.map((n,r)=>m.jsx("li",{children:n},r))})]},e))})]}),QK=[{icon:m.jsx(GP,{className:"w-6 h-6 text-primary"}),text:"Discover and reuse existing knowledge"},{icon:m.jsx(D7,{className:"w-6 h-6 text-primary"}),text:"Improve the quality of their own research"},{icon:m.jsx(JP,{className:"w-6 h-6 text-primary"}),text:"Protect research integrity and discourage plagiarism"},{icon:m.jsx(Px,{className:"w-6 h-6 text-primary"}),text:"Gain insights into departmental research history"},{icon:m.jsx(G1,{className:"w-6 h-6 text-primary"}),text:"Encourage open academic culture through transparency"}],ZK=()=>m.jsxs(yu,{className:"py-20 px-6 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)] text-[var(--color-text)] dark:text-[var(--color-dark-text)]",children:[m.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-primary-light mb-4",children:"🧠 Why PPR Matters"}),m.jsx("p",{className:"text-base text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"PPR solves a problem most institutions face: academic projects are submitted, graded, and then forgotten. This platform ensures those valuable works continue to serve the academic community."})]}),m.jsx("div",{className:"max-w-3xl mx-auto grid gap-6 sm:grid-cols-2",children:QK.map((t,e)=>m.jsxs(df,{className:"flex items-start gap-3 shadow-none hover:shadow-none",children:[m.jsx("div",{className:"pt-1",children:t.icon}),m.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:t.text})]},e))})]}),JK=()=>{const t=new Date().getFullYear();return m.jsxs(m.Fragment,{children:[m.jsx(HK,{}),m.jsx(YK,{}),m.jsx(XK,{}),m.jsx(ZK,{}),m.jsx(KK,{}),m.jsx(qK,{}),m.jsx("footer",{className:"w-full bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] text-[var(--color-text)] dark:text-[var(--color-dark-text)] px-6 py-6 text-sm",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4 text-center md:text-left",children:[m.jsxs("div",{children:["© ",t," ",m.jsx("strong",{children:"PPR"})," – Project Repository System",m.jsx("br",{}),"Powered by the Department of Computer Science, Federal University Birnin Kebbi"]}),m.jsxs("div",{className:"space-x-4 text-primary dark:text-primary-light",children:[m.jsx("span",{children:"Version 1.0"}),m.jsx("a",{href:"#",className:"hover:underline",children:"Feedback"}),m.jsx("a",{href:"#",className:"hover:underline",children:"Terms of Use"})]})]})})]})};function eY(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}eY(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hf=t=>typeof t=="number"&&!isNaN(t),Il=t=>typeof t=="string",ua=t=>typeof t=="function",tY=t=>Il(t)||hf(t),Jx=t=>Il(t)||ua(t)?t:null,nY=(t,e)=>t===!1||hf(t)&&t>0?t:e,eb=t=>k.isValidElement(t)||Il(t)||ua(t)||hf(t);function rY(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function sY({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:o,position:l,preventExitTransition:u,done:d,nodeRef:h,isIn:p,playToast:v}){let x=n?`${t}--${l}`:t,w=n?`${e}--${l}`:e,T=k.useRef(0);return k.useLayoutEffect(()=>{let S=h.current,R=x.split(" "),C=O=>{O.target===h.current&&(v(),S.removeEventListener("animationend",C),S.removeEventListener("animationcancel",C),T.current===0&&O.type!=="animationcancel"&&S.classList.remove(...R))};S.classList.add(...R),S.addEventListener("animationend",C),S.addEventListener("animationcancel",C)},[]),k.useEffect(()=>{let S=h.current,R=()=>{S.removeEventListener("animationend",R),r?rY(S,d,s):d()};p||(u?R():(T.current=1,S.className+=` ${w}`,S.addEventListener("animationend",R)))},[p]),Lt.createElement(Lt.Fragment,null,o)}}function J2(t,e){return{content:jD(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function jD(t,e,n=!1){return k.isValidElement(t)&&!Il(t.type)?k.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):ua(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function iY({closeToast:t,theme:e,ariaLabel:n="close"}){return Lt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Lt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Lt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function aY({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:o,controlledProgress:l,progress:u,rtl:d,isIn:h,theme:p}){let v=s||l&&u===0,x={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(x.transform=`scaleX(${u})`);let w=yt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),T=ua(o)?o({rtl:d,type:r,defaultClassName:w}):yt(w,o),S={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&n()}};return Lt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},Lt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),Lt.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:T,style:x,...S}))}var oY=1,PD=()=>`${oY++}`;function lY(t,e,n){let r=1,s=0,o=[],l=[],u=e,d=new Map,h=new Set,p=O=>(h.add(O),()=>h.delete(O)),v=()=>{l=Array.from(d.values()),h.forEach(O=>O())},x=({containerId:O,toastId:j,updateId:$})=>{let D=O?O!==t:t!==1,V=d.has(j)&&$==null;return D||V},w=(O,j)=>{d.forEach($=>{var D;(j==null||j===$.props.toastId)&&((D=$.toggle)==null||D.call($,O))})},T=O=>{var j,$;($=(j=O.props)==null?void 0:j.onClose)==null||$.call(j,O.removalReason),O.isActive=!1},S=O=>{if(O==null)d.forEach(T);else{let j=d.get(O);j&&T(j)}v()},R=()=>{s-=o.length,o=[]},C=O=>{var j,$;let{toastId:D,updateId:V}=O.props,I=V==null;O.staleId&&d.delete(O.staleId),O.isActive=!0,d.set(D,O),v(),n(J2(O,I?"added":"updated")),I&&(($=(j=O.props).onOpen)==null||$.call(j))};return{id:t,props:u,observe:p,toggle:w,removeToast:S,toasts:d,clearQueue:R,buildToast:(O,j)=>{if(x(j))return;let{toastId:$,updateId:D,data:V,staleId:I,delay:N}=j,M=D==null;M&&s++;let B={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(j).filter(([z,U])=>U!=null)),toastId:$,updateId:D,data:V,isIn:!1,className:Jx(j.className||u.toastClassName),progressClassName:Jx(j.progressClassName||u.progressClassName),autoClose:j.isLoading?!1:nY(j.autoClose,u.autoClose),closeToast(z){d.get($).removalReason=z,S($)},deleteToast(){let z=d.get($);if(z!=null){if(n(J2(z,"removed")),d.delete($),s--,s<0&&(s=0),o.length>0){C(o.shift());return}v()}}};B.closeButton=u.closeButton,j.closeButton===!1||eb(j.closeButton)?B.closeButton=j.closeButton:j.closeButton===!0&&(B.closeButton=eb(u.closeButton)?u.closeButton:!0);let q={content:O,props:B,staleId:I};u.limit&&u.limit>0&&s>u.limit&&M?o.push(q):hf(N)?setTimeout(()=>{C(q)},N):C(q)},setProps(O){u=O},setToggle:(O,j)=>{let $=d.get(O);$&&($.toggle=j)},isToastActive:O=>{var j;return(j=d.get(O))==null?void 0:j.isActive},getSnapshot:()=>l}}var fr=new Map,Ph=[],tb=new Set,cY=t=>tb.forEach(e=>e(t)),ID=()=>fr.size>0;function uY(){Ph.forEach(t=>MD(t.content,t.options)),Ph=[]}var dY=(t,{containerId:e})=>{var n;return(n=fr.get(e||1))==null?void 0:n.toasts.get(t)};function DD(t,e){var n;if(e)return!!((n=fr.get(e))!=null&&n.isToastActive(t));let r=!1;return fr.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function hY(t){if(!ID()){Ph=Ph.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||tY(t))fr.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=fr.get(t.containerId);e?e.removeToast(t.id):fr.forEach(n=>{n.removeToast(t.id)})}}var fY=(t={})=>{fr.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function MD(t,e){eb(t)&&(ID()||Ph.push({content:t,options:e}),fr.forEach(n=>{n.buildToast(t,e)}))}function mY(t){var e;(e=fr.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function OD(t,e){fr.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function pY(t){let e=t.containerId||1;return{subscribe(n){let r=lY(e,t,cY);fr.set(e,r);let s=r.observe(n);return uY(),()=>{s(),fr.delete(e)}},setProps(n){var r;(r=fr.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=fr.get(e))==null?void 0:n.getSnapshot()}}}function gY(t){return tb.add(t),()=>{tb.delete(t)}}function yY(t){return t&&(Il(t.toastId)||hf(t.toastId))?t.toastId:PD()}function ff(t,e){return MD(t,e),e.toastId}function Hg(t,e){return{...e,type:e&&e.type||t,toastId:yY(e)}}function Gg(t){return(e,n)=>ff(e,Hg(t,n))}function bt(t,e){return ff(t,Hg("default",e))}bt.loading=(t,e)=>ff(t,Hg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function vY(t,{pending:e,error:n,success:r},s){let o;e&&(o=Il(e)?bt.loading(e,s):bt.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,p,v)=>{if(p==null){bt.dismiss(o);return}let x={type:h,...l,...s,data:v},w=Il(p)?{render:p}:p;return o?bt.update(o,{...x,...w}):bt(w.render,{...x,...w}),v},d=ua(t)?t():t;return d.then(h=>u("success",r,h)).catch(h=>u("error",n,h)),d}bt.promise=vY;bt.success=Gg("success");bt.info=Gg("info");bt.error=Gg("error");bt.warning=Gg("warning");bt.warn=bt.warning;bt.dark=(t,e)=>ff(t,Hg("default",{theme:"dark",...e}));function xY(t){hY(t)}bt.dismiss=xY;bt.clearWaitingQueue=fY;bt.isActive=DD;bt.update=(t,e={})=>{let n=dY(t,e);if(n){let{props:r,content:s}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:PD()};o.toastId!==t&&(o.staleId=t);let l=o.render||s;delete o.render,ff(l,o)}};bt.done=t=>{bt.update(t,{progress:1})};bt.onChange=gY;bt.play=t=>OD(!0,t);bt.pause=t=>OD(!1,t);function bY(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=k.useRef(pY(t)).current;s(t);let o=(e=k.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(u){if(!o)return[];let d=new Map;return t.newestOnTop&&o.reverse(),o.forEach(h=>{let{position:p}=h.props;d.has(p)||d.set(p,[]),d.get(p).push(h)}),Array.from(d,h=>u(h[0],h[1]))}return{getToastToRender:l,isToastActive:DD,count:o==null?void 0:o.length}}function wY(t){let[e,n]=k.useState(!1),[r,s]=k.useState(!1),o=k.useRef(null),l=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:d,closeToast:h,onClick:p,closeOnClick:v}=t;mY({id:t.toastId,containerId:t.containerId,fn:n}),k.useEffect(()=>{if(t.pauseOnFocusLoss)return x(),()=>{w()}},[t.pauseOnFocusLoss]);function x(){document.hasFocus()||C(),window.addEventListener("focus",R),window.addEventListener("blur",C)}function w(){window.removeEventListener("focus",R),window.removeEventListener("blur",C)}function T(I){if(t.draggable===!0||t.draggable===I.pointerType){O();let N=o.current;l.canCloseOnClick=!0,l.canDrag=!0,N.style.transition="none",t.draggableDirection==="x"?(l.start=I.clientX,l.removalDistance=N.offsetWidth*(t.draggablePercent/100)):(l.start=I.clientY,l.removalDistance=N.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function S(I){let{top:N,bottom:M,left:B,right:q}=o.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&t.pauseOnHover&&I.clientX>=B&&I.clientX<=q&&I.clientY>=N&&I.clientY<=M?C():R()}function R(){n(!0)}function C(){n(!1)}function O(){l.didMove=!1,document.addEventListener("pointermove",$),document.addEventListener("pointerup",D)}function j(){document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",D)}function $(I){let N=o.current;if(l.canDrag&&N){l.didMove=!0,e&&C(),t.draggableDirection==="x"?l.delta=I.clientX-l.start:l.delta=I.clientY-l.start,l.start!==I.clientX&&(l.canCloseOnClick=!1);let M=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;N.style.transform=`translate3d(${M},0)`,N.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function D(){j();let I=o.current;if(l.canDrag&&l.didMove&&I){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let V={onPointerDown:T,onPointerUp:S};return u&&d&&(V.onMouseEnter=C,t.stacked||(V.onMouseLeave=R)),v&&(V.onClick=I=>{p&&p(I),l.canCloseOnClick&&h(!0)}),{playToast:R,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:V}}var _Y=typeof window<"u"?k.useLayoutEffect:k.useEffect,Kg=({theme:t,type:e,isLoading:n,...r})=>Lt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function TY(t){return Lt.createElement(Kg,{...t},Lt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function EY(t){return Lt.createElement(Kg,{...t},Lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function SY(t){return Lt.createElement(Kg,{...t},Lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function AY(t){return Lt.createElement(Kg,{...t},Lt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function RY(){return Lt.createElement("div",{className:"Toastify__spinner"})}var nb={info:EY,warning:TY,success:SY,error:AY,spinner:RY},CY=t=>t in nb;function kY({theme:t,type:e,isLoading:n,icon:r}){let s=null,o={theme:t,type:e};return r===!1||(ua(r)?s=r({...o,isLoading:n}):k.isValidElement(r)?s=k.cloneElement(r,o):n?s=nb.spinner():CY(e)&&(s=nb[e](o))),s}var NY=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:o}=wY(t),{closeButton:l,children:u,autoClose:d,onClick:h,type:p,hideProgressBar:v,closeToast:x,transition:w,position:T,className:S,style:R,progressClassName:C,updateId:O,role:j,progress:$,rtl:D,toastId:V,deleteToast:I,isIn:N,isLoading:M,closeOnClick:B,theme:q,ariaLabel:z}=t,U=yt("Toastify__toast",`Toastify__toast-theme--${q}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":D},{"Toastify__toast--close-on-click":B}),ve=ua(S)?S({rtl:D,position:T,type:p,defaultClassName:U}):yt(U,S),be=kY(t),J=!!$||!d,se={closeToast:x,type:p,theme:q},me=null;return l===!1||(ua(l)?me=l(se):k.isValidElement(l)?me=k.cloneElement(l,se):me=iY(se)),Lt.createElement(w,{isIn:N,done:I,position:T,preventExitTransition:n,nodeRef:r,playToast:o},Lt.createElement("div",{id:V,tabIndex:0,onClick:h,"data-in":N,className:ve,...s,style:R,ref:r,...N&&{role:j,"aria-label":z}},be!=null&&Lt.createElement("div",{className:yt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},be),jD(u,t,!e),me,!t.customProgressBar&&Lt.createElement(aY,{...O&&!J?{key:`p-${O}`}:{},rtl:D,theme:q,delay:d,isRunning:e,isIn:N,closeToast:x,hide:v,type:p,className:C,controlledProgress:J,progress:$||0})))},jY=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),PY=sY(jY("bounce",!0)),IY={position:"top-right",transition:PY,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function DY(t){let e={...IY,...t},n=t.stacked,[r,s]=k.useState(!0),o=k.useRef(null),{getToastToRender:l,isToastActive:u,count:d}=bY(e),{className:h,style:p,rtl:v,containerId:x,hotKeys:w}=e;function T(R){let C=yt("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":v});return ua(h)?h({position:R,rtl:v,defaultClassName:C}):yt(C,Jx(h))}function S(){n&&(s(!0),bt.play())}return _Y(()=>{var R;if(n){let C=o.current.querySelectorAll('[data-in="true"]'),O=12,j=(R=e.position)==null?void 0:R.includes("top"),$=0,D=0;Array.from(C).reverse().forEach((V,I)=>{let N=V;N.classList.add("Toastify__toast--stacked"),I>0&&(N.dataset.collapsed=`${r}`),N.dataset.pos||(N.dataset.pos=j?"top":"bot");let M=$*(r?.2:1)+(r?0:O*I);N.style.setProperty("--y",`${j?M:M*-1}px`),N.style.setProperty("--g",`${O}`),N.style.setProperty("--s",`${1-(r?D:0)}`),$+=N.offsetHeight,D+=.025})}},[r,d,n]),k.useEffect(()=>{function R(C){var O;let j=o.current;w(C)&&((O=j.querySelector('[tabIndex="0"]'))==null||O.focus(),s(!1),bt.pause()),C.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(s(!0),bt.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[w]),Lt.createElement("section",{ref:o,className:"Toastify",id:x,onMouseEnter:()=>{n&&(s(!1),bt.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((R,C)=>{let O=C.length?{...p}:{...p,pointerEvents:"none"};return Lt.createElement("div",{tabIndex:-1,className:T(R),"data-stacked":n,style:O,key:`c-${R}`},C.map(({content:j,props:$})=>Lt.createElement(NY,{...$,stacked:n,collapseAll:S,isIn:u($.toastId,$.containerId),key:`t-${$.key}`},j)))}))}const VD=k.createContext(),MY=({children:t})=>{const e=o=>bt.success(o),n=o=>bt.error(o),r=o=>bt.info(o),s=o=>bt.warning(o);return m.jsx(VD.Provider,{value:{notifySuccess:e,notifyError:n,notifyInfo:r,notifyWarning:s},children:t})},Po=()=>k.useContext(VD),fs=({type:t="text",label:e,name:n,value:r,onChange:s,placeholder:o,required:l=!1,readOnly:u=!1,error:d,disabled:h=!1,className:p=""})=>m.jsxs("div",{className:"mb-4 w-full",children:[e&&m.jsxs("label",{htmlFor:n,className:"block text-sm font-medium mb-1 dark:text-gray-200 text-gray-700",children:[e," ",l&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(He.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative",children:m.jsx("input",{type:t,id:n,name:n,value:r,onChange:s,placeholder:o,disabled:h,required:l,readOnly:u,className:`w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-opacity-50 
            bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] dark:border-gray-800 dark:text-white 
            focus:outline-none transition-colors duration-200
            ${d?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-700"} 
            ${h?"bg-gray-100 cursor-not-allowed":""} 
            ${p}`})}),d&&m.jsx(He.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",children:d})]}),OY=()=>{const{notifySuccess:t,notifyError:e}=Po(),n=qn(),[r,s]=k.useState({email:"",password:""}),[o,l]=k.useState({}),[u,d]=k.useState(!1),h=S=>{const{name:R,value:C}=S.target;s(O=>({...O,[R]:C})),o[R]&&l(O=>({...O,[R]:""}))},p=()=>{var j;const S={},R=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,C=((j=r.email)==null?void 0:j.trim())||"",O=r.password;if(!C)S.email="Email is required";else if(!R.test(C))S.email="Enter a valid email address";else{const[$,D]=C.split("@"),V=D==="fubk.edu.ng"||D==="ug.fubk.edu.ng",I=/^\d{10}$/.test($)||/^[a-zA-Z]+\.[a-zA-Z]+$/.test($);(!V||!I)&&(S.email="Only valid FUBK student or staff emails allowed")}return O?O.length<6&&(S.password="Password must be at least 6 characters"):S.password="Password is required",S},v=async S=>{S.preventDefault();const R=p();if(Object.keys(R).length>0){l(R);return}d(!0);try{const{email:C,password:O}=r,$=(await SU(Is,C,O)).user,D=await Ti(zr(Ft,"Student",$.uid)),V=await Ti(zr(Ft,"Lecturer",$.uid));let I=null;if(D.exists()?I="student":V.exists()?I="lecturer":I="guest",!I){e("User role not found. Please contact support.");return}t("Login successful."),n(I==="student"?"/student/dashboard":I==="lecturer"?"/lecturer/dashboard":"/guest/explore")}catch(C){switch(C.code){case"auth/user-not-found":return e("Account not found. Please register.");case"auth/invalid-credential":return e("Account not found. Please register.");case"auth/wrong-password":return e("Incorrect password");case"auth/too-many-requests":return e("Too many attempts. Try again later.");default:return e(`Login failed: ${C.message}`)}}finally{d(!1)}},x=async()=>{try{const S=await xU(Is);return t("Guest login successful."),n("/guest/explore"),S.user}catch(S){throw e("Guest login failed:",S),S}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1,delayChildren:.2}}},T={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)]",children:m.jsxs(He.div,{initial:"hidden",animate:"visible",variants:w,className:"w-full max-w-md border-2 border-[var(--color-border)] dark:border-[var(--color-dark-border)] rounded-lg shadow-lg bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-6 space-y-10",children:[m.jsx(He.h2,{variants:T,className:"text-2xl font-bold mb-6 text-center text-gray-800 dark:text-white",children:"Login to Your Account"}),o.form&&m.jsx(He.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-3 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800",children:o.form}),m.jsxs("form",{onSubmit:v,children:[m.jsx(He.div,{variants:T,children:m.jsx(fs,{label:"Email",type:"email",name:"email",value:r.email,onChange:h,error:o.email,required:!0,placeholder:"Enter your FUBK email"})}),m.jsx(He.div,{variants:T,children:m.jsx(fs,{label:"Password",type:"password",name:"password",value:r.password,onChange:h,error:o.password,required:!0,placeholder:"Enter your password"})}),m.jsx(He.div,{variants:T,className:"mt-4 text-right text-sm text-gray-600 dark:text-gray-400",children:m.jsx(Pt,{to:"/resetPassword",className:"text-[#1E40AF] hover:underline",children:"Forgot password?"})}),m.jsx(He.div,{variants:T,className:"mt-6",children:m.jsx(Ze,{type:"submit",variant:"primary",fullWidth:!0,isLoading:u,disabled:u,children:u?"Logging in...":"Login"})}),m.jsxs(He.p,{variants:T,className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400",children:["Don’t have an account?"," ",m.jsx(Pt,{to:"/register",className:"text-[#1E40AF] hover:underline",children:"Register here"})]}),m.jsxs(He.div,{variants:T,className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400 flex items-center gap-4 opacity-70 dark:opacity-50",children:[m.jsx("hr",{className:"flex-1 border-current"}),m.jsx("span",{children:"OR"}),m.jsx("hr",{className:"flex-1 border-current"})]})]}),m.jsx(He.div,{variants:T,className:"mt-6",children:m.jsx(Ze,{type:"submit",variant:"outline",fullWidth:!0,icon:m.jsx(vs,{className:"w-5 h-5"}),size:"lg",onClick:x,children:"Continue as Guest"})})]})})},sh=({label:t,name:e,value:n,onChange:r,options:s=[],required:o=!1,error:l,disabled:u=!1,className:d=""})=>m.jsxs("div",{className:"mb-4 w-full",children:[t&&m.jsxs("label",{htmlFor:e,className:"block text-sm font-medium mb-1 dark:text-gray-200 text-gray-700",children:[t," ",o&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs(He.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative",children:[m.jsx("select",{id:e,name:e,value:n,onChange:r,disabled:u,required:o,className:`w-full px-4 py-2 rounded-lg border appearance-none bg-white/50 dark:bg-gray-900/50
            focus:ring-2 focus:ring-opacity-50
            dark:border-gray-800 dark:text-white
            focus:outline-none transition-colors duration-200
            ${l?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-blue-200 focus:border-blue-500"} 
            ${u?"bg-gray-100 cursor-not-allowed":""} 
            ${d}`,children:s.map(h=>m.jsx("option",{value:h.value,children:h.label},h.value))}),m.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:m.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),l&&m.jsx(He.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",children:l})]}),VY=()=>new Promise(t=>{setTimeout(()=>{t([{id:1,name:"Faculty of Arts",departments:["History and International Studies","English","European Languages"]},{id:2,name:"Faculty of Social and Management Sciences",departments:["Accounting","Business Administration","Economics","Political Science","Sociology","Geography","Demography and Social Statistics"]},{id:3,name:"Faculty of Science",departments:["Biochemistry","Biology","Computer Science","Mathematics","Physics with Electronics","Statistics","Applied Geology","Biochemistry and Molecular Biology","Geology","Industrial Chemistry","Pure Chemistry","Microbiology"]},{id:4,name:"Faculty of Environmental Sciences",departments:["Architecture","Building","Quantity Surveying"]},{id:5,name:"Faculty of Education",departments:["Science Education","Social Science Education","Educational Foundation"]},{id:6,name:"College of Health Sciences",departments:["MBBS","Nursing Science","Anatomy","Physiology"]}])},500)}),LY=()=>{const[t,e]=k.useState([]),[n,r]=k.useState([]),[s,o]=k.useState("");return k.useEffect(()=>{(async()=>{try{const d=await VY();e(d)}catch(d){o("Failed to fetch faculties",d.message)}})()},[]),{faculties:t,departments:n,getDepartments:u=>{const d=t.find(p=>p.name===u),h=d?d.departments:[];return r(h),h},error:s}},UY=(t,e)=>{const n=qn(),{faculties:r,departments:s,getDepartments:o,error:l}=LY(),[u,d]=k.useState({firstName:"",lastName:"",email:"",faculties:"",departments:"",password:"",confirmPassword:"",staffType:""}),[h,p]=k.useState({}),[v,x]=k.useState(!1),[w,T]=k.useState(!1),[S,R]=k.useState(""),[C,O]=k.useState(""),[j,$]=k.useState(1),[D,V]=k.useState(""),I=z=>{const{name:U,value:ve}=z.target;d(be=>({...be,[U]:ve})),U==="faculty"&&(o(ve),d(be=>({...be,faculties:ve,departments:""})),p(be=>({...be,departments:""}))),h[U]&&p(be=>({...be,[U]:""}))},N=z=>{const U={};if(z===1){u.firstName.trim()||(U.firstName="First name is required"),u.lastName.trim()||(U.lastName="Last name is required");const ve=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!u.email.trim())U.email="Email is required";else if(!ve.test(u.email))U.email="Please enter a valid email";else{const[be,J]=u.email.split("@"),se=/^\d{10}$/.test(be),me=/^[a-zA-Z]+\.[a-zA-Z]+$/.test(be);J==="fubk.edu.ng"||J==="ug.fubk.edu.ng"?!se&&!me&&(U.email="Username must be 10-digit (student) or firstname.lastname (lecturer)"):U.email="Only FUBK institutional emails are allowed"}}return z===2&&(u.faculties||(U.faculties="Faculty is required"),u.departments||(U.departments="Department is required"),u.password?u.password.length<6&&(U.password="Password must be at least 6 characters"):U.password="Password is required",u.confirmPassword?u.password!==u.confirmPassword&&(U.confirmPassword="Passwords do not match"):U.confirmPassword="Please confirm your password",w&&!u.staffType&&(U.staffType="Please select staff type")),l&&(U.form=l),p(U),U},M=async z=>{z.preventDefault();const U=N(2);if(!(Object.keys(U).length>0)){if(!C){p(ve=>({...ve,form:"Unable to determine user type. Please use your FUBK email."}));return}x(!0);try{const be=(await EU(Is,u.email,u.password)).user;if(!(be!=null&&be.uid))throw new Error("Failed to register user.");const J=C==="Student",se={fullName:`${u.firstName.trim()} ${u.lastName.trim()}`.trim(),displayName:u.firstName.trim(),email:u.email.trim(),faculty:u.faculties.trim(),department:u.departments.trim(),createdAt:UP()},me=J?{...se,uid:be.uid,role:"student",admissionNumber:D}:{...se,uid:be.uid,role:"lecturer",staffType:S};await VP(zr(Ft,C,be.uid),me),t("Registration successful!"),n("/login",{replace:!0})}catch(ve){if(ve!=null&&ve.code)switch(ve.code){case"auth/email-already-in-use":e("This email is already in use.");break;case"auth/invalid-email":e("Invalid email format.");break;case"auth/weak-password":e("Password is too weak.");break;case"auth/operation-not-allowed":e("Sign-up is currently disabled.");break;default:e(`Unexpected error: ${ve.message}`)}else e(`Unexpected error: ${(ve==null?void 0:ve.message)||"Unknown error"}`);console.error("Registration Error:",ve)}finally{x(!1)}}};k.useEffect(()=>{const z=u.email||"";if(z.includes("@")){const[U,ve]=z.split("@"),be=/^\d{10}$/.test(U),J=/^[a-zA-Z]+\.[a-zA-Z]+$/.test(U),se=ve==="fubk.edu.ng"||ve==="ug.fubk.edu.ng";be&&se?(O("Student"),T(!1),V(U)):J&&se?(O("Lecturer"),T(!0),V("")):(O(""),T(!1),V(""))}else O(""),T(!1),V("")},[u.email]),k.useEffect(()=>{u.staffType==="academic"?R("academic"):u.staffType==="non-academic"?R("non-academic"):R("")},[u.staffType]);const B=r.map(z=>({value:z.name,label:z.name})),q=s.map(z=>({value:z,label:z}));return{formData:u,handleChange:I,errors:h,handleSubmit:M,submitLoading:v,isStaff:w,departments:s,facultyOptions:B,departmentOptions:q,step:j,setStep:$,validateStep:N}},BY=()=>{const{notifySuccess:t,notifyError:e}=Po(),{formData:n,handleChange:r,errors:s,handleSubmit:o,submitLoading:l,isStaff:u,departments:d,facultyOptions:h,departmentOptions:p,step:v,setStep:x,validateStep:w}=UY(t,e),T={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1,delayChildren:.2}}},S={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},R=O=>{O.preventDefault();const j=w(v);Object.keys(j).length===0&&x(2)},C=()=>x(1);return m.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)]",children:m.jsxs(He.div,{initial:"hidden",animate:"visible",variants:T,className:"w-full max-w-md border-2 border-[var(--color-border)] dark:border-[var(--color-dark-border)] rounded-lg shadow-lg bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-6 space-y-6",children:[m.jsx(He.h2,{variants:S,className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white text-center",children:"Create an Account"}),m.jsxs(He.div,{variants:S,className:"mb-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("div",{className:`flex-1 text-center ${v===1?"font-bold text-[#1E40AF]":"text-gray-500"}`,children:"Step 1: Personal & Academic"}),m.jsx("div",{className:`flex-1 text-center ${v===2?"font-bold text-[#1E40AF]":"text-gray-500"}`,children:"Step 2: Credentials"})]}),m.jsx("div",{className:"relative mt-2 h-2 bg-gray-200 rounded-full",children:m.jsx("div",{className:"absolute h-2 bg-[#1E40AF] rounded-full transition-all duration-300",style:{width:v===1?"50%":"100%"}})})]}),s.form&&m.jsx(He.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-3 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800",children:s.form}),m.jsxs("form",{onSubmit:v===2?o:R,className:"space-y-6",children:[v===1&&m.jsxs(m.Fragment,{children:[m.jsx(He.div,{variants:S,children:m.jsx(fs,{label:"First Name",name:"firstName",value:n.firstName,onChange:r,placeholder:"First Name",required:!0,error:s.firstName,autoFocus:!0})}),m.jsx(He.div,{variants:S,children:m.jsx(fs,{label:"Last Name",name:"lastName",value:n.lastName,onChange:r,placeholder:"Last Name",required:!0,error:s.lastName})}),m.jsx(He.div,{variants:S,children:m.jsx(fs,{label:"Email",name:"email",type:"email",value:n.email.trim(),onChange:r,placeholder:"FUBK Email",required:!0,error:s.email})}),u&&m.jsx(He.div,{variants:S,children:m.jsx(sh,{label:"Staff Type",name:"staffType",value:n.staffType,onChange:r,options:[{value:"",label:"-- Select Staff Type --"},{value:"academic",label:"Academic"},{value:"non-academic",label:"Non-Academic"}],required:!0,error:s.staffType})}),m.jsx(He.div,{variants:S,className:"flex space-x-4",children:m.jsx(Ze,{type:"button",fullWidth:!0,icon:m.jsx(Bz,{className:"w-5 h-5"}),iconPosition:"right",variant:"primary",onClick:R,children:"Continue"})})]}),v===2&&m.jsxs(m.Fragment,{children:[m.jsx(He.div,{variants:S,children:m.jsx(sh,{label:"Faculty",name:"faculty",value:n.faculties,onChange:r,options:[{value:"",label:"-- Select Faculty --"},...h],required:!0,error:s.faculties})}),d.length>0&&m.jsx(He.div,{variants:S,children:m.jsx(sh,{label:"Department",name:"departments",value:n.departments,onChange:r,options:[{value:"",label:"-- Select Department --"},...p],required:!u||n.staffType==="academic",error:s.departments})}),m.jsx(He.div,{variants:S,children:m.jsx(fs,{label:"Password",name:"password",type:"password",value:n.password.trim(),onChange:r,placeholder:"Password",required:!0,error:s.password})}),m.jsx(He.div,{variants:S,children:m.jsx(fs,{label:"Confirm Password",name:"confirmPassword",type:"password",value:n.confirmPassword.trim(),onChange:r,placeholder:"Confirm Password",required:!0,error:s.confirmPassword})}),m.jsxs(He.div,{variants:S,className:"flex space-x-4",children:[m.jsx(Ze,{type:"button",variant:"outline",fullWidth:!0,onClick:C,disabled:l,children:"Back"}),m.jsx(Ze,{type:"submit",variant:"primary",fullWidth:!0,isLoading:l,disabled:l,children:l?"Creating Account":"Register"})]})]}),m.jsxs(He.p,{variants:S,className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",m.jsx(Pt,{to:"/login",className:"text-[#1E40AF] hover:underline",children:"Login here"})]})]})]})})},LD=k.createContext({});function $Y(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const kw=typeof window<"u",FY=kw?k.useLayoutEffect:k.useEffect,Nw=k.createContext(null),UD=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function BD(t){return typeof t=="object"&&t!==null}function $D(t){return BD(t)&&"offsetHeight"in t}function zY(t=!0){const e=k.useContext(Nw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=k.useId();k.useEffect(()=>{if(t)return s(o)},[t]);const l=k.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const Wm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],eC={value:null};function qY(t,e){let n=new Set,r=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function h(v){l.has(v)&&(p.schedule(v),t()),d++,v(u)}const p={schedule:(v,x=!1,w=!1)=>{const S=w&&s?n:r;return x&&l.add(v),S.has(v)||S.add(v),v},cancel:v=>{r.delete(v),l.delete(v)},process:v=>{if(u=v,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),e&&eC.value&&eC.value.frameloop[e].push(d),d=0,n.clear(),s=!1,o&&(o=!1,p.process(v))}};return p}const da={},HY=40;function FD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Wm.reduce((j,$)=>(j[$]=qY(o,e?$:void 0),j),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:p,update:v,preRender:x,render:w,postRender:T}=l,S=()=>{const j=da.useManualTiming?s.timestamp:performance.now();n=!1,da.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,HY),1)),s.timestamp=j,s.isProcessing=!0,u.process(s),d.process(s),h.process(s),p.process(s),v.process(s),x.process(s),w.process(s),T.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},R=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:Wm.reduce((j,$)=>{const D=l[$];return j[$]=(V,I=!1,N=!1)=>(n||R(),D.schedule(V,I,N)),j},{}),cancel:j=>{for(let $=0;$<Wm.length;$++)l[Wm[$]].cancel(j)},state:s,steps:l}}const ps=t=>t,{schedule:Kt,cancel:Ao,state:Bn,steps:Bv}=FD(typeof requestAnimationFrame<"u"?requestAnimationFrame:ps,!0),zD=k.createContext({strict:!1}),tC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lu={};for(const t in tC)lu[t]={isEnabled:e=>tC[t].some(n=>!!e[n])};function GY(t){for(const e in t)lu[e]={...lu[e],...t[e]}}const KY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ng(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||KY.has(t)}let qD=t=>!ng(t);function YY(t){t&&(qD=e=>e.startsWith("on")?!ng(e):t(e))}try{YY(require("@emotion/is-prop-valid").default)}catch{}function WY(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(qD(s)||n===!0&&ng(s)||!e&&!ng(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function XY(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Yg=k.createContext({});function Wg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ih(t){return typeof t=="string"||Array.isArray(t)}const jw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pw=["initial",...jw];function Xg(t){return Wg(t.animate)||Pw.some(e=>Ih(t[e]))}function HD(t){return!!(Xg(t)||t.variants)}function QY(t,e){if(Xg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ih(n)?n:void 0,animate:Ih(r)?r:void 0}}return t.inherit!==!1?e:{}}function ZY(t){const{initial:e,animate:n}=QY(t,k.useContext(Yg));return k.useMemo(()=>({initial:e,animate:n}),[nC(e),nC(n)])}function nC(t){return Array.isArray(t)?t.join(" "):t}const JY=Symbol.for("motionComponentSymbol");function zc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eW(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):zc(n)&&(n.current=r))},[e])}const Iw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tW="framerAppearId",GD="data-"+Iw(tW),KD=k.createContext({}),{schedule:Dw}=FD(queueMicrotask,!1);function nW(t,e,n,r,s){var S,R;const{visualElement:o}=k.useContext(Yg),l=k.useContext(zD),u=k.useContext(Nw),d=k.useContext(UD).reducedMotion,h=k.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,v=k.useContext(KD);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&rW(h.current,n,s,v);const x=k.useRef(!1);k.useInsertionEffect(()=>{p&&x.current&&p.update(n,u)});const w=n[GD],T=k.useRef(!!w&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,w))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,w)));return FY(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Dw.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,w)}),T.current=!1))}),p}function rW(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:YD(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&zc(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:h})}function YD(t){if(t)return t.options.allowProjection!==!1?t.projection:YD(t.parent)}let Mw=()=>{};function sW({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&GY(t);function o(u,d){let h;const p={...k.useContext(UD),...u,layoutId:iW(u)},{isStatic:v}=p,x=ZY(u),w=r(u,v);if(!v&&kw){aW();const T=oW(p);h=T.MeasureLayout,x.visualElement=nW(s,w,p,e,T.ProjectionNode)}return m.jsxs(Yg.Provider,{value:x,children:[h&&x.visualElement?m.jsx(h,{visualElement:x.visualElement,...p}):null,n(s,u,eW(w,x.visualElement,d),w,v,x.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=k.forwardRef(o);return l[JY]=s,l}function iW({layoutId:t}){const e=k.useContext(LD).id;return e&&t!==void 0?e+"-"+t:t}function aW(t,e){k.useContext(zD).strict}function oW(t){const{drag:e,layout:n}=lu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const WD=t=>e=>typeof e=="string"&&e.startsWith(t),Ow=WD("--"),lW=WD("var(--"),Vw=t=>lW(t)?cW.test(t.split("/*")[0].trim()):!1,cW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dh={};function uW(t){for(const e in t)Dh[e]=t[e],Ow(e)&&(Dh[e].isCSSVariable=!0)}const wu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_u=new Set(wu);function XD(t,{layout:e,layoutId:n}){return _u.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Dh[t]||t==="opacity")}const QD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ha=(t,e,n)=>n>e?e:n<t?t:n,Tu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mh={...Tu,transform:t=>ha(0,1,t)},Xm={...Tu,default:1},rC={...Tu,transform:Math.round},mf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),no=mf("deg"),yi=mf("%"),ze=mf("px"),dW=mf("vh"),hW=mf("vw"),sC={...yi,parse:t=>yi.parse(t)/100,transform:t=>yi.transform(t*100)},fW={rotate:no,rotateX:no,rotateY:no,rotateZ:no,scale:Xm,scaleX:Xm,scaleY:Xm,scaleZ:Xm,skew:no,skewX:no,skewY:no,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:Mh,originX:sC,originY:sC,originZ:ze},Lw={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...fW,zIndex:rC,fillOpacity:Mh,strokeOpacity:Mh,numOctaves:rC},mW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pW=wu.length;function gW(t,e,n){let r="",s=!0;for(let o=0;o<pW;o++){const l=wu[o],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const h=QD(u,Lw[l]);if(!d){s=!1;const p=mW[l]||l;r+=`${p}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Uw(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,u=!1;for(const d in e){const h=e[d];if(_u.has(d)){l=!0;continue}else if(Ow(d)){s[d]=h;continue}else{const p=QD(h,Lw[d]);d.startsWith("origin")?(u=!0,o[d]=p):r[d]=p}}if(e.transform||(l||n?r.transform=gW(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=o;r.transformOrigin=`${d} ${h} ${p}`}}const Bw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),rr=t=>!!(t&&t.getVelocity);function ZD(t,e,n){for(const r in e)!rr(e[r])&&!XD(r,n)&&(t[r]=e[r])}function yW({transformTemplate:t},e){return k.useMemo(()=>{const n=Bw();return Uw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function vW(t,e){const n=t.style||{},r={};return ZD(r,n,t),Object.assign(r,yW(t,e)),r}function xW(t,e){const n={},r=vW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const bW={offset:"stroke-dashoffset",array:"stroke-dasharray"},wW={offset:"strokeDashoffset",array:"strokeDasharray"};function _W(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?bW:wW;t[o.offset]=ze.transform(-r);const l=ze.transform(e),u=ze.transform(n);t[o.array]=`${l} ${u}`}function JD(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,h,p){if(Uw(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&_W(v,s,o,l,!1)}const eM=()=>({...Bw(),attrs:{}}),tM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function TW(t,e,n,r){const s=k.useMemo(()=>{const o=eM();return JD(o,e,tM(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};ZD(o,t.style,t),s.style={...o,...s.style}}return s}const EW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $w(t){return typeof t!="string"||t.includes("-")?!1:!!(EW.indexOf(t)>-1||/[A-Z]/u.test(t))}function SW(t=!1){return(n,r,s,{latestValues:o},l)=>{const d=($w(n)?TW:xW)(r,o,l,n),h=WY(r,typeof n=="string",t),p=n!==k.Fragment?{...h,...d,ref:s}:{},{children:v}=r,x=k.useMemo(()=>rr(v)?v.get():v,[v]);return k.createElement(n,{...p,children:x})}}function iC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Fw(t,e,n,r){if(typeof e=="function"){const[s,o]=iC(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=iC(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function gp(t){return rr(t)?t.get():t}function AW({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:RW(n,r,s,t),renderState:e()}}const nM=t=>(e,n)=>{const r=k.useContext(Yg),s=k.useContext(Nw),o=()=>AW(t,e,r,s);return n?o():$Y(o)};function RW(t,e,n,r){const s={},o=r(t,{});for(const x in o)s[x]=gp(o[x]);let{initial:l,animate:u}=t;const d=Xg(t),h=HD(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const v=p?u:l;if(v&&typeof v!="boolean"&&!Wg(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const T=Fw(t,x[w]);if(T){const{transitionEnd:S,transition:R,...C}=T;for(const O in C){let j=C[O];if(Array.isArray(j)){const $=p?j.length-1:0;j=j[$]}j!==null&&(s[O]=j)}for(const O in S)s[O]=S[O]}}}return s}function zw(t,e,n){var o;const{style:r}=t,s={};for(const l in r)(rr(r[l])||e.style&&rr(e.style[l])||XD(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(s[l]=r[l]);return s}const CW={useVisualState:nM({scrapeMotionValuesFromProps:zw,createRenderState:Bw})};function rM(t,e,n){const r=zw(t,e,n);for(const s in t)if(rr(t[s])||rr(e[s])){const o=wu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const kW={useVisualState:nM({scrapeMotionValuesFromProps:rM,createRenderState:eM})};function NW(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...$w(r)?kW:CW,preloadedFeatures:t,useRender:SW(s),createVisualElement:e,Component:r};return sW(l)}}function Oh(t,e,n){const r=t.getProps();return Fw(r,e,n!==void 0?n:r.custom,t)}const rb=t=>Array.isArray(t);let yp;function jW(){yp=void 0}const Er={now:()=>(yp===void 0&&Er.set(Bn.isProcessing||da.useManualTiming?Bn.timestamp:performance.now()),yp),set:t=>{yp=t,queueMicrotask(jW)}};function qw(t,e){t.indexOf(e)===-1&&t.push(e)}function Hw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Gw{constructor(){this.subscriptions=[]}add(e){return qw(this.subscriptions,e),()=>Hw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function sM(t,e){return e?t*(1e3/e):0}const aC=30,PW=t=>!isNaN(parseFloat(t));class IW{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var l,u;const o=Er.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>aC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,aC);return sM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cu(t,e){return new IW(t,e)}function DW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,cu(n))}function MW(t){return rb(t)?t[t.length-1]||0:t}function OW(t,e){const n=Oh(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const u=MW(o[l]);DW(t,l,u)}}function VW(t){return!!(rr(t)&&t.add)}function sb(t,e){const n=t.getValue("willChange");if(VW(n))return n.add(e);if(!n&&da.WillChange){const r=new da.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function iM(t){return t.props[GD]}const LW=t=>t!==null;function UW(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(LW),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const BW={type:"spring",stiffness:500,damping:25,restSpeed:10},$W=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FW={type:"keyframes",duration:.8},zW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qW=(t,{keyframes:e})=>e.length>2?FW:_u.has(t)?t.startsWith("scale")?$W(e[1]):BW:zW;function HW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}function Kw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const vi=t=>t*1e3,xi=t=>t/1e3,ih=t=>Math.round(t*1e5)/1e5,Yw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GW(t){return t==null}const KW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ww=(t,e)=>n=>!!(typeof n=="string"&&KW.test(n)&&n.startsWith(t)||e&&!GW(n)&&Object.prototype.hasOwnProperty.call(n,e)),aM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,u]=r.match(Yw);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},YW=t=>ha(0,255,t),$v={...Tu,transform:t=>Math.round(YW(t))},bl={test:Ww("rgb","red"),parse:aM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$v.transform(t)+", "+$v.transform(e)+", "+$v.transform(n)+", "+ih(Mh.transform(r))+")"};function WW(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ib={test:Ww("#"),parse:WW,transform:bl.transform},qc={test:Ww("hsl","hue"),parse:aM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+yi.transform(ih(e))+", "+yi.transform(ih(n))+", "+ih(Mh.transform(r))+")"},Zn={test:t=>bl.test(t)||ib.test(t)||qc.test(t),parse:t=>bl.test(t)?bl.parse(t):qc.test(t)?qc.parse(t):ib.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bl.transform(t):qc.transform(t)},XW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function QW(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Yw))==null?void 0:e.length)||0)+(((n=t.match(XW))==null?void 0:n.length)||0)>0}const oM="number",lM="color",ZW="var",JW="var(",oC="${}",eX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(eX,d=>(Zn.test(d)?(r.color.push(o),s.push(lM),n.push(Zn.parse(d))):d.startsWith(JW)?(r.var.push(o),s.push(ZW),n.push(d)):(r.number.push(o),s.push(oM),n.push(parseFloat(d))),++o,oC)).split(oC);return{values:n,split:u,indexes:r,types:s}}function cM(t){return Vh(t).values}function uM(t){const{split:e,types:n}=Vh(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const u=n[l];u===oM?o+=ih(s[l]):u===lM?o+=Zn.transform(s[l]):o+=s[l]}return o}}const tX=t=>typeof t=="number"?0:t;function nX(t){const e=cM(t);return uM(t)(e.map(tX))}const Ro={test:QW,parse:cM,createTransformer:uM,getAnimatableNone:nX};function Fv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function rX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;s=Fv(d,u,t+1/3),o=Fv(d,u,t),l=Fv(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function rg(t,e){return n=>n>0?e:t}const Ht=(t,e,n)=>t+(e-t)*n,zv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},sX=[ib,bl,qc],iX=t=>sX.find(e=>e.test(t));function lC(t){const e=iX(t);if(!e)return!1;let n=e.parse(t);return e===qc&&(n=rX(n)),n}const cC=(t,e)=>{const n=lC(t),r=lC(e);if(!n||!r)return rg(t,e);const s={...n};return o=>(s.red=zv(n.red,r.red,o),s.green=zv(n.green,r.green,o),s.blue=zv(n.blue,r.blue,o),s.alpha=Ht(n.alpha,r.alpha,o),bl.transform(s))},ab=new Set(["none","hidden"]);function aX(t,e){return ab.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}const oX=(t,e)=>n=>e(t(n)),pf=(...t)=>t.reduce(oX);function lX(t,e){return n=>Ht(t,e,n)}function Xw(t){return typeof t=="number"?lX:typeof t=="string"?Vw(t)?rg:Zn.test(t)?cC:dX:Array.isArray(t)?dM:typeof t=="object"?Zn.test(t)?cC:cX:rg}function dM(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>Xw(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function cX(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Xw(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function uX(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],u=t.values[l]??0;n[s]=u,r[o]++}return n}const dX=(t,e)=>{const n=Ro.createTransformer(e),r=Vh(t),s=Vh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ab.has(t)&&!s.values.length||ab.has(e)&&!r.values.length?aX(t,e):pf(dM(uX(r,s),s.values),n):rg(t,e)};function hM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ht(t,e,n):Xw(t)(t,e)}const hX=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Kt.update(e,n),stop:()=>Ao(e),now:()=>Bn.isProcessing?Bn.timestamp:Er.now()}},fM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=t(o/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},sg=2e4;function Qw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sg;)e+=n,r=t.next(e);return e>=sg?1/0:e}function fX(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Qw(r),sg);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:xi(s)}}const mX=5;function mM(t,e,n){const r=Math.max(e-mX,0);return sM(n-t(r),e-r)}const Zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uC=.001;function pX({duration:t=Zt.duration,bounce:e=Zt.bounce,velocity:n=Zt.velocity,mass:r=Zt.mass}){let s,o,l=1-e;l=ha(Zt.minDamping,Zt.maxDamping,l),t=ha(Zt.minDuration,Zt.maxDuration,xi(t)),l<1?(s=h=>{const p=h*l,v=p*t,x=p-n,w=ob(h,l),T=Math.exp(-v);return uC-x/w*T},o=h=>{const v=h*l*t,x=v*n+n,w=Math.pow(l,2)*Math.pow(h,2)*t,T=Math.exp(-v),S=ob(Math.pow(h,2),l);return(-s(h)+uC>0?-1:1)*((x-w)*T)/S}):(s=h=>{const p=Math.exp(-h*t),v=(h-n)*t+1;return-.001+p*v},o=h=>{const p=Math.exp(-h*t),v=(n-h)*(t*t);return p*v});const u=5/t,d=yX(s,o,u);if(t=vi(t),isNaN(d))return{stiffness:Zt.stiffness,damping:Zt.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const gX=12;function yX(t,e,n){let r=n;for(let s=1;s<gX;s++)r=r-t(r)/e(r);return r}function ob(t,e){return t*Math.sqrt(1-e*e)}const vX=["duration","bounce"],xX=["stiffness","damping","mass"];function dC(t,e){return e.some(n=>t[n]!==void 0)}function bX(t){let e={velocity:Zt.velocity,stiffness:Zt.stiffness,damping:Zt.damping,mass:Zt.mass,isResolvedFromDuration:!1,...t};if(!dC(t,xX)&&dC(t,vX))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*ha(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Zt.mass,stiffness:s,damping:o}}else{const n=pX(t);e={...e,...n,mass:Zt.mass},e.isResolvedFromDuration=!0}return e}function ig(t=Zt.visualDuration,e=Zt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:h,mass:p,duration:v,velocity:x,isResolvedFromDuration:w}=bX({...n,velocity:-xi(n.velocity||0)}),T=x||0,S=h/(2*Math.sqrt(d*p)),R=l-o,C=xi(Math.sqrt(d/p)),O=Math.abs(R)<5;r||(r=O?Zt.restSpeed.granular:Zt.restSpeed.default),s||(s=O?Zt.restDelta.granular:Zt.restDelta.default);let j;if(S<1){const D=ob(C,S);j=V=>{const I=Math.exp(-S*C*V);return l-I*((T+S*C*R)/D*Math.sin(D*V)+R*Math.cos(D*V))}}else if(S===1)j=D=>l-Math.exp(-C*D)*(R+(T+C*R)*D);else{const D=C*Math.sqrt(S*S-1);j=V=>{const I=Math.exp(-S*C*V),N=Math.min(D*V,300);return l-I*((T+S*C*R)*Math.sinh(N)+D*R*Math.cosh(N))/D}}const $={calculatedDuration:w&&v||null,next:D=>{const V=j(D);if(w)u.done=D>=v;else{let I=D===0?T:0;S<1&&(I=D===0?vi(T):mM(j,D,V));const N=Math.abs(I)<=r,M=Math.abs(l-V)<=s;u.done=N&&M}return u.value=u.done?l:V,u},toString:()=>{const D=Math.min(Qw($),sg),V=fM(I=>$.next(D*I).value,D,30);return D+"ms "+V},toTransition:()=>{}};return $}ig.applyToOptions=t=>{const e=fX(t,100,ig);return t.ease=e.ease,t.duration=vi(e.duration),t.type="keyframes",t};function lb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:h=.5,restSpeed:p}){const v=t[0],x={done:!1,value:v},w=N=>u!==void 0&&N<u||d!==void 0&&N>d,T=N=>u===void 0?d:d===void 0||Math.abs(u-N)<Math.abs(d-N)?u:d;let S=n*e;const R=v+S,C=l===void 0?R:l(R);C!==R&&(S=C-v);const O=N=>-S*Math.exp(-N/r),j=N=>C+O(N),$=N=>{const M=O(N),B=j(N);x.done=Math.abs(M)<=h,x.value=x.done?C:B};let D,V;const I=N=>{w(x.value)&&(D=N,V=ig({keyframes:[x.value,T(x.value)],velocity:mM(j,N,x.value),damping:s,stiffness:o,restDelta:h,restSpeed:p}))};return I(0),{calculatedDuration:null,next:N=>{let M=!1;return!V&&D===void 0&&(M=!0,$(N),I(N)),D!==void 0&&N>=D?V.next(N-D):(!M&&$(N),x)}}}const Lh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};function wX(t,e,n){const r=[],s=n||da.mix||hM,o=t.length-1;for(let l=0;l<o;l++){let u=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||ps:e;u=pf(d,u)}r.push(u)}return r}function _X(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(Mw(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=wX(e,r,s),d=u.length,h=p=>{if(l&&p<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(p<t[v+1]);v++);const x=Lh(t[v],t[v+1],p);return u[v](x)};return n?p=>h(ha(t[0],t[o-1],p)):h}function TX(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Lh(0,e,r);t.push(Ht(n,1,s))}}function EX(t){const e=[0];return TX(e,t.length-1),e}function SX(t,e){return t.map(n=>n*e)}const pM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,AX=1e-7,RX=12;function CX(t,e,n,r,s){let o,l,u=0;do l=e+(n-e)/2,o=pM(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>AX&&++u<RX);return l}function gf(t,e,n,r){if(t===e&&n===r)return ps;const s=o=>CX(o,0,1,t,n);return o=>o===0||o===1?o:pM(s(o),e,r)}const kX=gf(.42,0,1,1),NX=gf(0,0,.58,1),gM=gf(.42,0,.58,1),jX=t=>Array.isArray(t)&&typeof t[0]!="number",yM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vM=t=>e=>1-t(1-e),xM=gf(.33,1.53,.69,.99),Zw=vM(xM),bM=yM(Zw),wM=t=>(t*=2)<1?.5*Zw(t):.5*(2-Math.pow(2,-10*(t-1))),Jw=t=>1-Math.sin(Math.acos(t)),_M=vM(Jw),TM=yM(Jw),EM=t=>Array.isArray(t)&&typeof t[0]=="number",PX={linear:ps,easeIn:kX,easeInOut:gM,easeOut:NX,circIn:Jw,circInOut:TM,circOut:_M,backIn:Zw,backInOut:bM,backOut:xM,anticipate:wM},IX=t=>typeof t=="string",hC=t=>{if(EM(t)){Mw(t.length===4);const[e,n,r,s]=t;return gf(e,n,r,s)}else if(IX(t))return PX[t];return t};function DX(t,e){return t.map(()=>e||gM).splice(0,t.length-1)}function ah({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=jX(r)?r.map(hC):hC(r),o={done:!1,value:e[0]},l=SX(n&&n.length===e.length?n:EX(e),t),u=_X(l,e,{ease:Array.isArray(s)?s:DX(e,s)});return{calculatedDuration:t,next:d=>(o.value=u(d),o.done=d>=t,o)}}const MX=t=>t!==null;function e_(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(MX),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const OX={decay:lb,inertia:lb,tween:ah,keyframes:ah,spring:ig};function SM(t){typeof t.type=="string"&&(t.type=OX[t.type])}class t_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const VX=t=>t/100;class n_ extends t_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Er.now()&&this.tick(Er.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;SM(e);const{type:n=ah,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const d=n||ah;d!==ah&&typeof u[0]!="number"&&(this.mixKeyframes=pf(VX,hM(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Qw(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:v,repeatType:x,repeatDelay:w,type:T,onUpdate:S,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,$=r;if(v){const N=Math.min(this.currentTime,s)/u;let M=Math.floor(N),B=N%1;!B&&N>=1&&(B=1),B===1&&M--,M=Math.min(M,v+1),!!(M%2)&&(x==="reverse"?(B=1-B,w&&(B-=w/u)):x==="mirror"&&($=l)),j=ha(0,1,B)*u}const D=O?{done:!1,value:p[0]}:$.next(j);o&&(D.value=o(D.value));let{done:V}=D;!O&&d!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return I&&T!==lb&&(D.value=e_(p,this.options,R,this.speed)),S&&S(D.value),I&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return xi(this.calculatedDuration)}get time(){return xi(this.currentTime)}set time(e){var n;e=vi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Er.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xi(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=hX,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(o=(s=this.options).onPlay)==null||o.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function LX(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wl=t=>t*180/Math.PI,cb=t=>{const e=wl(Math.atan2(t[1],t[0]));return ub(e)},UX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:cb,rotateZ:cb,skewX:t=>wl(Math.atan(t[1])),skewY:t=>wl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ub=t=>(t=t%360,t<0&&(t+=360),t),fC=cb,mC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),BX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mC,scaleY:pC,scale:t=>(mC(t)+pC(t))/2,rotateX:t=>ub(wl(Math.atan2(t[6],t[5]))),rotateY:t=>ub(wl(Math.atan2(-t[2],t[0]))),rotateZ:fC,rotate:fC,skewX:t=>wl(Math.atan(t[4])),skewY:t=>wl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function db(t){return t.includes("scale")?1:0}function hb(t,e){if(!t||t==="none")return db(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=BX,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=UX,s=u}if(!s)return db(e);const o=r[e],l=s[1].split(",").map(FX);return typeof o=="function"?o(l):l[o]}const $X=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return hb(n,e)};function FX(t){return parseFloat(t.trim())}const gC=t=>t===Tu||t===ze,zX=new Set(["x","y","z"]),qX=wu.filter(t=>!zX.has(t));function HX(t){const e=[];return qX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Sl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>hb(e,"x"),y:(t,{transform:e})=>hb(e,"y")};Sl.translateX=Sl.x;Sl.translateY=Sl.y;const Al=new Set;let fb=!1,mb=!1,pb=!1;function AM(){if(mb){const t=Array.from(Al).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=HX(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{var u;(u=r.getValue(o))==null||u.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}mb=!1,fb=!1,Al.forEach(t=>t.complete(pb)),Al.clear()}function RM(){Al.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(mb=!0)})}function GX(){pb=!0,RM(),AM(),pb=!1}class r_{constructor(e,n,r,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Al.add(this),fb||(fb=!0,Kt.read(RM),Kt.resolveKeyframes(AM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}LX(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Al.delete(this)}cancel(){this.state==="scheduled"&&(Al.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const KX=t=>t.startsWith("--");function YX(t,e,n){KX(e)?t.style.setProperty(e,n):t.style[e]=n}function s_(t){let e;return()=>(e===void 0&&(e=t()),e)}const WX=s_(()=>window.ScrollTimeline!==void 0),XX={};function QX(t,e){const n=s_(t);return()=>XX[e]??n()}const CM=QX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,yC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hd([0,.65,.55,1]),circOut:Hd([.55,0,1,.45]),backIn:Hd([.31,.01,.66,-.59]),backOut:Hd([.33,1.53,.69,.99])};function kM(t,e){if(t)return typeof t=="function"?CM()?fM(t,e):"ease-out":EM(t)?Hd(t):Array.isArray(t)?t.map(n=>kM(n,e)||yC.easeOut):yC[t]}function ZX(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},h=void 0){const p={[e]:n};d&&(p.offset=d);const v=kM(u,s);Array.isArray(v)&&(p.easing=v);const x={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),t.animate(p,x)}function NM(t){return typeof t=="function"&&"applyToOptions"in t}function JX({type:t,...e}){return NM(t)&&CM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eQ extends t_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,Mw(typeof e.type!="string");const h=JX(e);this.animation=ZX(n,r,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=e_(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):YX(n,r,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return xi(Number(e))}get time(){return xi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=vi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&WX()?(this.animation.timeline=e,ps):n(this)}}const jM={anticipate:wM,backInOut:bM,circInOut:TM};function tQ(t){return t in jM}function nQ(t){typeof t.ease=="string"&&tQ(t.ease)&&(t.ease=jM[t.ease])}const vC=10;class rQ extends eQ{constructor(e){nQ(e),SM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new n_({...l,autoplay:!1}),d=vi(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-vC).value,u.sample(d).value,vC),u.stop()}}const xC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ro.test(t)||t==="0")&&!t.startsWith("url("));function sQ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function iQ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=xC(s,e),u=xC(o,e);return!l||!u?!1:sQ(t)||(n==="spring"||NM(n))&&r}const aQ=new Set(["opacity","clipPath","filter","transform"]),oQ=s_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lQ(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:l}=t;if(!$D((h=e==null?void 0:e.owner)==null?void 0:h.current))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return oQ()&&n&&aQ.has(n)&&(n!=="transform"||!d)&&!u&&!r&&s!=="mirror"&&o!==0&&l!=="inertia"}const cQ=40;class uQ extends t_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:h,element:p,...v}){var T;super(),this.stop=()=>{var S,R;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=Er.now();const x={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:p,...v},w=(p==null?void 0:p.KeyframeResolver)||r_;this.keyframeResolver=new w(u,(S,R,C)=>this.onKeyframesResolved(S,R,x,!C),d,h,p),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:h,onUpdate:p}=r;this.resolvedAt=Er.now(),iQ(e,o,l,u)||((da.instantAnimations||!d)&&(p==null||p(e_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>cQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},w=!h&&lQ(x)?new rQ({...x,element:x.motionValue.owner.current}):new n_(x);w.finished.then(()=>this.notifyFinished()).catch(ps),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),GX()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const i_=(t,e,n,r={},s,o)=>l=>{const u=Kw(r,t)||{},d=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-vi(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};HW(u)||Object.assign(p,qW(t,p)),p.duration&&(p.duration=vi(p.duration)),p.repeatDelay&&(p.repeatDelay=vi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(v=!0)),(da.instantAnimations||da.skipAnimations)&&(v=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const x=UW(p.keyframes,u);if(x!==void 0){Kt.update(()=>{p.onUpdate(x),p.onComplete()});return}}return u.isSync?new n_(p):new uQ(p)},PM=new Set(["width","height","top","left","right","bottom",...wu]);function dQ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function IM(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const v=t.getValue(p,t.latestValues[p]??null),x=u[p];if(x===void 0||h&&dQ(h,p))continue;const w={delay:n,...Kw(o||{},p)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===T&&!w.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const C=iM(t);if(C){const O=window.MotionHandoffAnimation(C,p,Kt);O!==null&&(w.startTime=O,S=!0)}}sb(t,p),v.start(i_(p,v,x,t.shouldReduceMotion&&PM.has(p)?{type:!1}:w,t,S));const R=v.animation;R&&d.push(R)}return l&&Promise.all(d).then(()=>{Kt.update(()=>{l&&OW(t,l)})}),d}function gb(t,e,n={}){var d;const r=Oh(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(IM(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:x}=s;return hQ(t,e,p+h,v,x,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[h,p]=u==="beforeChildren"?[o,l]:[l,o];return h().then(()=>p())}else return Promise.all([o(),l(n.delay)])}function hQ(t,e,n=0,r=0,s=1,o){const l=[],u=(t.variantChildren.size-1)*r,d=s===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(t.variantChildren).sort(fQ).forEach((h,p)=>{h.notify("AnimationStart",e),l.push(gb(h,e,{...o,delay:n+d(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function fQ(t,e){return t.sortNodePosition(e)}function mQ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>gb(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=gb(t,e,n);else{const s=typeof e=="function"?Oh(t,e,n.custom):e;r=Promise.all(IM(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function DM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const pQ=Pw.length;function MM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?MM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<pQ;n++){const r=Pw[n],s=t.props[r];(Ih(s)||s===!1)&&(e[r]=s)}return e}const gQ=[...jw].reverse(),yQ=jw.length;function vQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>mQ(t,n,r)))}function xQ(t){let e=vQ(t),n=bC(),r=!0;const s=d=>(h,p)=>{var x;const v=Oh(t,p,d==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(v){const{transition:w,transitionEnd:T,...S}=v;h={...h,...S,...T}}return h};function o(d){e=d(t)}function l(d){const{props:h}=t,p=MM(t.parent)||{},v=[],x=new Set;let w={},T=1/0;for(let R=0;R<yQ;R++){const C=gQ[R],O=n[C],j=h[C]!==void 0?h[C]:p[C],$=Ih(j),D=C===d?O.isActive:null;D===!1&&(T=R);let V=j===p[C]&&j!==h[C]&&$;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),O.protectedKeys={...w},!O.isActive&&D===null||!j&&!O.prevProp||Wg(j)||typeof j=="boolean")continue;const I=bQ(O.prevProp,j);let N=I||C===d&&O.isActive&&!V&&$||R>T&&$,M=!1;const B=Array.isArray(j)?j:[j];let q=B.reduce(s(C),{});D===!1&&(q={});const{prevResolvedValues:z={}}=O,U={...z,...q},ve=se=>{N=!0,x.has(se)&&(M=!0,x.delete(se)),O.needsAnimating[se]=!0;const me=t.getValue(se);me&&(me.liveStyle=!1)};for(const se in U){const me=q[se],je=z[se];if(w.hasOwnProperty(se))continue;let H=!1;rb(me)&&rb(je)?H=!DM(me,je):H=me!==je,H?me!=null?ve(se):x.add(se):me!==void 0&&x.has(se)?ve(se):O.protectedKeys[se]=!0}O.prevProp=j,O.prevResolvedValues=q,O.isActive&&(w={...w,...q}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(V&&I)||M)&&v.push(...B.map(se=>({animation:se,options:{type:C}})))}if(x.size){const R={};if(typeof h.initial!="boolean"){const C=Oh(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(R.transition=C.transition)}x.forEach(C=>{const O=t.getBaseTarget(C),j=t.getValue(C);j&&(j.liveStyle=!0),R[C]=O??null}),v.push({animation:R})}let S=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(v):Promise.resolve()}function u(d,h){var v;if(n[d].isActive===h)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(x=>{var w;return(w=x.animationState)==null?void 0:w.setActive(d,h)}),n[d].isActive=h;const p=l(d);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=bC(),r=!0}}}function bQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!DM(e,t):!1}function ul(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bC(){return{animate:ul(!0),whileInView:ul(),whileHover:ul(),whileTap:ul(),whileDrag:ul(),whileFocus:ul(),exit:ul()}}class Io{constructor(e){this.isMounted=!1,this.node=e}update(){}}class wQ extends Io{constructor(e){super(e),e.animationState||(e.animationState=xQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let _Q=0;class TQ extends Io{constructor(){super(...arguments),this.id=_Q++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const EQ={animation:{Feature:wQ},exit:{Feature:TQ}};function Uh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const a_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function yf(t){return{point:{x:t.pageX,y:t.pageY}}}const SQ=t=>e=>a_(e)&&t(e,yf(e));function oh(t,e,n,r){return Uh(t,e,SQ(n),r)}function OM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function AQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const VM=1e-4,CQ=1-VM,kQ=1+VM,LM=.01,NQ=0-LM,jQ=0+LM;function mr(t){return t.max-t.min}function PQ(t,e,n){return Math.abs(t-e)<=n}function wC(t,e,n,r=.5){t.origin=r,t.originPoint=Ht(e.min,e.max,t.origin),t.scale=mr(n)/mr(e),t.translate=Ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=CQ&&t.scale<=kQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=NQ&&t.translate<=jQ||isNaN(t.translate))&&(t.translate=0)}function lh(t,e,n,r){wC(t.x,e.x,n.x,r?r.originX:void 0),wC(t.y,e.y,n.y,r?r.originY:void 0)}function _C(t,e,n){t.min=n.min+e.min,t.max=t.min+mr(e)}function IQ(t,e,n){_C(t.x,e.x,n.x),_C(t.y,e.y,n.y)}function TC(t,e,n){t.min=e.min-n.min,t.max=t.min+mr(e)}function ch(t,e,n){TC(t.x,e.x,n.x),TC(t.y,e.y,n.y)}const EC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hc=()=>({x:EC(),y:EC()}),SC=()=>({min:0,max:0}),nn=()=>({x:SC(),y:SC()});function ds(t){return[t("x"),t("y")]}function qv(t){return t===void 0||t===1}function yb({scale:t,scaleX:e,scaleY:n}){return!qv(t)||!qv(e)||!qv(n)}function fl(t){return yb(t)||UM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function UM(t){return AC(t.x)||AC(t.y)}function AC(t){return t&&t!=="0%"}function ag(t,e,n){const r=t-n,s=e*r;return n+s}function RC(t,e,n,r,s){return s!==void 0&&(t=ag(t,s,r)),ag(t,n,r)+e}function vb(t,e=0,n=1,r,s){t.min=RC(t.min,e,n,r,s),t.max=RC(t.max,e,n,r,s)}function BM(t,{x:e,y:n}){vb(t.x,e.translate,e.scale,e.originPoint),vb(t.y,n.translate,n.scale,n.originPoint)}const CC=.999999999999,kC=1.0000000000001;function DQ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Kc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,BM(t,l)),r&&fl(o.latestValues)&&Kc(t,o.latestValues))}e.x<kC&&e.x>CC&&(e.x=1),e.y<kC&&e.y>CC&&(e.y=1)}function Gc(t,e){t.min=t.min+e,t.max=t.max+e}function NC(t,e,n,r,s=.5){const o=Ht(t.min,t.max,s);vb(t,e,n,o,r)}function Kc(t,e){NC(t.x,e.x,e.scaleX,e.scale,e.originX),NC(t.y,e.y,e.scaleY,e.scale,e.originY)}function $M(t,e){return OM(RQ(t.getBoundingClientRect(),e))}function MQ(t,e,n){const r=$M(t,n),{scroll:s}=e;return s&&(Gc(r.x,s.offset.x),Gc(r.y,s.offset.y)),r}const FM=({current:t})=>t?t.ownerDocument.defaultView:null,jC=(t,e)=>Math.abs(t-e);function OQ(t,e){const n=jC(t.x,e.x),r=jC(t.y,e.y);return Math.sqrt(n**2+r**2)}class zM{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Gv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=OQ(v.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:T}=v,{timestamp:S}=Bn;this.history.push({...T,timestamp:S});const{onStart:R,onMove:C}=this.handlers;x||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Hv(x,this.transformPagePoint),Kt.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Gv(v.type==="pointercancel"?this.lastMoveEventInfo:Hv(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,R),T&&T(v,R)},!a_(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=yf(e),u=Hv(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=Bn;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,Gv(u,this.history)),this.removeListeners=pf(oh(this.contextWindow,"pointermove",this.handlePointerMove),oh(this.contextWindow,"pointerup",this.handlePointerUp),oh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ao(this.updatePoint)}}function Hv(t,e){return e?{point:e(t.point)}:t}function PC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Gv({point:t},e){return{point:t,delta:PC(t,qM(e)),offset:PC(t,VQ(e)),velocity:LQ(e,.1)}}function VQ(t){return t[0]}function qM(t){return t[t.length-1]}function LQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=qM(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>vi(e)));)n--;if(!r)return{x:0,y:0};const o=xi(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function UQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ht(n,t,r.max):Math.min(t,n)),t}function IC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BQ(t,{top:e,left:n,bottom:r,right:s}){return{x:IC(t.x,n,s),y:IC(t.y,e,r)}}function DC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function $Q(t,e){return{x:DC(t.x,e.x),y:DC(t.y,e.y)}}function FQ(t,e){let n=.5;const r=mr(t),s=mr(e);return s>r?n=Lh(e.min,e.max-r,t.min):r>s&&(n=Lh(t.min,t.max-s,e.min)),ha(0,1,n)}function zQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const xb=.35;function qQ(t=xb){return t===!1?t=0:t===!0&&(t=xb),{x:MC(t,"left","right"),y:MC(t,"top","bottom")}}function MC(t,e,n){return{min:OC(t,e),max:OC(t,n)}}function OC(t,e){return typeof t=="number"?t:t[e]||0}const Rs={x:!1,y:!1};function HM(){return Rs.x||Rs.y}function HQ(t){return t==="x"||t==="y"?Rs[t]?null:(Rs[t]=!0,()=>{Rs[t]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1})}const GQ=new WeakMap;class KQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yf(p).point)},o=(p,v)=>{const{drag:x,dragPropagation:w,onDragStart:T}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HQ(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ds(R=>{let C=this.getAxisMotionValue(R).get()||0;if(yi.test(C)){const{projection:O}=this.visualElement;if(O&&O.layout){const j=O.layout.layoutBox[R];j&&(C=mr(j)*(parseFloat(C)/100))}}this.originPoint[R]=C}),T&&Kt.postRender(()=>T(p,v)),sb(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(p,v)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:T,onDrag:S}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:R}=v;if(w&&this.currentDirection===null){this.currentDirection=YQ(R),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),S&&S(p,v)},u=(p,v)=>this.stop(p,v),d=()=>ds(p=>{var v;return this.getAnimationState(p)==="paused"&&((v=this.getAxisMotionValue(p).animation)==null?void 0:v.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new zM(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:FM(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Kt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Qm(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=UQ(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&zc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=BQ(r.layoutBox,e):this.constraints=!1,this.elastic=qQ(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ds(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=zQ(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=MQ(r,s.root,this.visualElement.getTransformPagePoint());let l=$Q(s.layout.layoutBox,o);if(n){const u=n(AQ(l));this.hasMutatedConstraints=!!u,u&&(l=OM(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=ds(p=>{if(!Qm(p,n,this.currentDirection))return;let v=d&&d[p]||{};l&&(v={min:0,max:0});const x=s?200:1e6,w=s?40:1e7,T={type:"inertia",velocity:r?e[p]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(p,T)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return sb(this.visualElement,e),r.start(i_(e,r,0,n,this.visualElement,!1))}stopAnimation(){ds(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ds(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ds(n=>{const{drag:r}=this.getProps();if(!Qm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(e[n]-Ht(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ds(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=FQ({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ds(l=>{if(!Qm(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];u.set(Ht(d,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;GQ.set(this.visualElement,this);const e=this.visualElement.current,n=oh(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();zc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Kt.read(r);const l=Uh(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(ds(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=d[p].translate,v.set(v.get()+d[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=xb,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Qm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class WQ extends Io{constructor(e){super(e),this.removeGroupControls=ps,this.removeListeners=ps,this.controls=new KQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const VC=t=>(e,n)=>{t&&Kt.postRender(()=>t(e,n))};class XQ extends Io{constructor(){super(...arguments),this.removePointerDownListener=ps}onPointerDown(e){this.session=new zM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:VC(e),onStart:VC(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&Kt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=oh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=LC(t,e.target.x),r=LC(t,e.target.y);return`${n}% ${r}%`}},QQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ro.parse(t);if(s.length>5)return r;const o=Ro.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=d;const h=Ht(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}};class ZQ extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;uW(JQ),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),vp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Kt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Dw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function GM(t){const[e,n]=zY(),r=k.useContext(LD);return m.jsx(ZQ,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(KD),isPresent:e,safeToRemove:n})}const JQ={borderRadius:{...Pd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pd,borderTopRightRadius:Pd,borderBottomLeftRadius:Pd,borderBottomRightRadius:Pd,boxShadow:QQ};function eZ(t,e,n){const r=rr(t)?t:cu(t);return r.start(i_("",r,e,n)),r.animation}const tZ=(t,e)=>t.depth-e.depth;class nZ{constructor(){this.children=[],this.isDirty=!1}add(e){qw(this.children,e),this.isDirty=!0}remove(e){Hw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tZ),this.isDirty=!1,this.children.forEach(e)}}function rZ(t,e){const n=Er.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Ao(r),t(o-e))};return Kt.setup(r,!0),()=>Ao(r)}const KM=["TopLeft","TopRight","BottomLeft","BottomRight"],sZ=KM.length,UC=t=>typeof t=="string"?parseFloat(t):t,BC=t=>typeof t=="number"||ze.test(t);function iZ(t,e,n,r,s,o){s?(t.opacity=Ht(0,n.opacity??1,aZ(r)),t.opacityExit=Ht(e.opacity??1,0,oZ(r))):o&&(t.opacity=Ht(e.opacity??1,n.opacity??1,r));for(let l=0;l<sZ;l++){const u=`border${KM[l]}Radius`;let d=$C(e,u),h=$C(n,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||BC(d)===BC(h)?(t[u]=Math.max(Ht(UC(d),UC(h),r),0),(yi.test(h)||yi.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=Ht(e.rotate||0,n.rotate||0,r))}function $C(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const aZ=YM(0,.5,_M),oZ=YM(.5,.95,ps);function YM(t,e,n){return r=>r<t?0:r>e?1:n(Lh(t,e,r))}function FC(t,e){t.min=e.min,t.max=e.max}function cs(t,e){FC(t.x,e.x),FC(t.y,e.y)}function zC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qC(t,e,n,r,s){return t-=e,t=ag(t,1/n,r),s!==void 0&&(t=ag(t,1/s,r)),t}function lZ(t,e=0,n=1,r=.5,s,o=t,l=t){if(yi.test(e)&&(e=parseFloat(e),e=Ht(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Ht(o.min,o.max,r);t===o&&(u-=e),t.min=qC(t.min,e,n,u,s),t.max=qC(t.max,e,n,u,s)}function HC(t,e,[n,r,s],o,l){lZ(t,e[n],e[r],e[s],e.scale,o,l)}const cZ=["x","scaleX","originX"],uZ=["y","scaleY","originY"];function GC(t,e,n,r){HC(t.x,e,cZ,n?n.x:void 0,r?r.x:void 0),HC(t.y,e,uZ,n?n.y:void 0,r?r.y:void 0)}function KC(t){return t.translate===0&&t.scale===1}function WM(t){return KC(t.x)&&KC(t.y)}function YC(t,e){return t.min===e.min&&t.max===e.max}function dZ(t,e){return YC(t.x,e.x)&&YC(t.y,e.y)}function WC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function XM(t,e){return WC(t.x,e.x)&&WC(t.y,e.y)}function XC(t){return mr(t.x)/mr(t.y)}function QC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hZ{constructor(){this.members=[]}add(e){qw(this.members,e),e.scheduleRender()}remove(e){if(Hw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fZ(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:v,rotateY:x,skewX:w,skewY:T}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),w&&(r+=`skewX(${w}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}function QM(t){return BD(t)&&"ownerSVGElement"in t}function mZ(t){return QM(t)&&t.tagName==="svg"}const Kv=["","X","Y","Z"],pZ={visibility:"hidden"},gZ=1e3;let yZ=0;function Yv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ZM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Kt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ZM(r)}function JM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e==null?void 0:e()){this.id=yZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bZ),this.nodes.forEach(SZ),this.nodes.forEach(AZ),this.nodes.forEach(wZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new nZ)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Gw),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=QM(l)&&!mZ(l),this.instance=l;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const v=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=rZ(v,250),vp.hasAnimatedSinceResize&&(vp.hasAnimatedSinceResize=!1,this.nodes.forEach(JC))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||jZ,{onLayoutAnimationStart:S,onLayoutAnimationComplete:R}=h.getProps(),C=!this.targetLayout||!XM(this.targetLayout,w),O=!v&&x;if(this.options.layoutRoot||this.resumeFrom||O||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...Kw(T,"layout"),onPlay:S,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(p,O)}else v||JC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ao(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RZ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZC);return}this.isUpdating||this.nodes.forEach(TZ),this.isUpdating=!1,this.nodes.forEach(EZ),this.nodes.forEach(vZ),this.nodes.forEach(xZ),this.clearAllSnapshots();const u=Er.now();Bn.delta=ha(0,1e3/60,u-Bn.timestamp),Bn.timestamp=u,Bn.isProcessing=!0,Bv.update.process(Bn),Bv.preRender.process(Bn),Bv.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Dw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_Z),this.sharedNodes.forEach(CZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mr(this.snapshot.measuredBox.x)&&!mr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!WM(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(u||fl(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),PZ(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return nn();const u=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(IZ))){const{scroll:p}=this.root;p&&(Gc(u.x,p.offset.x),Gc(u.y,p.offset.y))}return u}removeElementScroll(l){var d;const u=nn();if(cs(u,l),(d=this.scroll)!=null&&d.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:v,options:x}=p;p!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&cs(u,l),Gc(u.x,v.offset.x),Gc(u.y,v.offset.y))}return u}applyTransform(l,u=!1){const d=nn();cs(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Kc(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),fl(p.latestValues)&&Kc(d,p.latestValues)}return fl(this.latestValues)&&Kc(d,this.latestValues),d}removeTransform(l){const u=nn();cs(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!fl(h.latestValues))continue;yb(h.latestValues)&&h.updateSnapshot();const p=nn(),v=h.measurePageBox();cs(p,v),GC(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return fl(this.latestValues)&&GC(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=Bn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),ch(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cs(this.target,this.layout.layoutBox),BM(this.target,this.targetDelta)):cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),ch(this.relativeTargetOrigin,this.target,w.target),cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yb(this.parent.latestValues)||UM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;cs(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;DQ(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nn());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zC(this.prevProjectionDelta.x,this.projectionDelta.x),zC(this.prevProjectionDelta.y,this.projectionDelta.y)),lh(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!QC(this.projectionDelta.x,this.prevProjectionDelta.x)||!QC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hc(),this.projectionDelta=Hc(),this.projectionDeltaWithTransform=Hc()}setAnimationOrigin(l,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},v=Hc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=nn(),w=d?d.source:void 0,T=this.layout?this.layout.source:void 0,S=w!==T,R=this.getStack(),C=!R||R.members.length<=1,O=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(NZ));this.animationProgress=0;let j;this.mixTargetDelta=$=>{const D=$/1e3;ek(v.x,l.x,D),ek(v.y,l.y,D),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ch(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kZ(this.relativeTarget,this.relativeTargetOrigin,x,D),j&&dZ(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=nn()),cs(j,this.relativeTarget)),S&&(this.animationValues=p,iZ(p,h,this.latestValues,D,O,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,d,h;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Ao(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kt.update(()=>{vp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cu(0)),this.currentAnimation=eZ(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=l;if(!(!u||!d||!h)){if(this!==l&&this.layout&&h&&eO(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||nn();const v=mr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const x=mr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}cs(u,d),Kc(u,p),lh(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new hZ),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Yv("z",l,h,this.animationValues);for(let p=0;p<Kv.length;p++)Yv(`rotate${Kv[p]}`,l,h,this.animationValues),Yv(`skew${Kv[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return pZ;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=gp(l==null?void 0:l.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=gp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!fl(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=fZ(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:v,y:x}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Dh){if(p[w]===void 0)continue;const{correct:T,applyTo:S,isCSSVariable:R}=Dh[w],C=u.transform==="none"?p[w]:T(p[w],h);if(S){const O=S.length;for(let j=0;j<O;j++)u[S[j]]=C}else R?this.options.visualElement.renderState.vars[w]=C:u[w]=C}return this.options.layoutId&&(u.pointerEvents=h===this?gp(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(ZC),this.root.sharedNodes.clear()}}}function vZ(t){t.updateLayout()}function xZ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?ds(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],w=mr(x);x.min=r[v].min,x.max=x.min+w}):eO(o,e.layoutBox,r)&&ds(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],w=mr(r[v]);x.max=x.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const u=Hc();lh(u,r,e.layoutBox);const d=Hc();l?lh(d,t.applyTransform(s,!0),e.measuredBox):lh(d,r,e.layoutBox);const h=!WM(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:w}=v;if(x&&w){const T=nn();ch(T,e.layoutBox,x.layoutBox);const S=nn();ch(S,r,w.layoutBox),XM(T,S)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=T,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function bZ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _Z(t){t.clearSnapshot()}function ZC(t){t.clearMeasurements()}function TZ(t){t.isLayoutDirty=!1}function EZ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function JC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function SZ(t){t.resolveTargetDelta()}function AZ(t){t.calcProjection()}function RZ(t){t.resetSkewAndRotation()}function CZ(t){t.removeLeadSnapshot()}function ek(t,e,n){t.translate=Ht(e.translate,0,n),t.scale=Ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function tk(t,e,n,r){t.min=Ht(e.min,n.min,r),t.max=Ht(e.max,n.max,r)}function kZ(t,e,n,r){tk(t.x,e.x,n.x,r),tk(t.y,e.y,n.y,r)}function NZ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jZ={duration:.45,ease:[.4,0,.1,1]},nk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rk=nk("applewebkit/")&&!nk("chrome/")?Math.round:ps;function sk(t){t.min=rk(t.min),t.max=rk(t.max)}function PZ(t){sk(t.x),sk(t.y)}function eO(t,e,n){return t==="position"||t==="preserve-aspect"&&!PQ(XC(e),XC(n),.2)}function IZ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const DZ=JM({attachResizeListener:(t,e)=>Uh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wv={current:void 0},tO=JM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wv.current){const t=new DZ({});t.mount(window),t.setOptions({layoutScroll:!0}),Wv.current=t}return Wv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MZ={pan:{Feature:XQ},drag:{Feature:WQ,ProjectionNode:tO,MeasureLayout:GM}};function OZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function nO(t,e){const n=OZ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function ik(t){return!(t.pointerType==="touch"||HM())}function VZ(t,e,n={}){const[r,s,o]=nO(t,n),l=u=>{if(!ik(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const p=v=>{ik(v)&&(h(v),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}function ak(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Kt.postRender(()=>o(e,yf(e)))}class LZ extends Io{mount(){const{current:e}=this.node;e&&(this.unmount=VZ(e,(n,r)=>(ak(this.node,r,"Start"),s=>ak(this.node,s,"End"))))}unmount(){}}class UZ extends Io{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pf(Uh(this.node.current,"focus",()=>this.onFocus()),Uh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const rO=(t,e)=>e?t===e?!0:rO(t,e.parentElement):!1,BZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $Z(t){return BZ.has(t.tagName)||t.tabIndex!==-1}const xp=new WeakSet;function ok(t){return e=>{e.key==="Enter"&&t(e)}}function Xv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ok(()=>{if(xp.has(n))return;Xv(n,"down");const s=ok(()=>{Xv(n,"up")}),o=()=>Xv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function lk(t){return a_(t)&&!HM()}function zZ(t,e,n={}){const[r,s,o]=nO(t,n),l=u=>{const d=u.currentTarget;if(!lk(u))return;xp.add(d);const h=e(d,u),p=(w,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),xp.has(d)&&xp.delete(d),lk(w)&&typeof h=="function"&&h(w,{success:T})},v=w=>{p(w,d===window||d===document||n.useGlobalTarget||rO(d,w.target))},x=w=>{p(w,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),$D(u)&&(u.addEventListener("focus",h=>FZ(h,s)),!$Z(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function ck(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Kt.postRender(()=>o(e,yf(e)))}class qZ extends Io{mount(){const{current:e}=this.node;e&&(this.unmount=zZ(e,(n,r)=>(ck(this.node,r,"Start"),(s,{success:o})=>ck(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bb=new WeakMap,Qv=new WeakMap,HZ=t=>{const e=bb.get(t.target);e&&e(t)},GZ=t=>{t.forEach(HZ)};function KZ({root:t,...e}){const n=t||document;Qv.has(n)||Qv.set(n,{});const r=Qv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(GZ,{root:t,...e})),r[s]}function YZ(t,e,n){const r=KZ(e);return bb.set(t,n),r.observe(t),()=>{bb.delete(t),r.unobserve(t)}}const WZ={some:0,all:1};class XZ extends Io{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:WZ[s]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),x=h?p:v;x&&x(d)};return YZ(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(QZ(e,n))&&this.startObserver()}unmount(){}}function QZ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ZZ={inView:{Feature:XZ},tap:{Feature:qZ},focus:{Feature:UZ},hover:{Feature:LZ}},JZ={layout:{ProjectionNode:tO,MeasureLayout:GM}},wb={current:null},sO={current:!1};function eJ(){if(sO.current=!0,!!kw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wb.current=t.matches;t.addListener(e),e()}else wb.current=!1}const tJ=new WeakMap;function nJ(t,e,n){for(const r in e){const s=e[r],o=n[r];if(rr(s))t.addValue(r,s);else if(rr(o))t.addValue(r,cu(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,cu(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const iO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),aO=t=>/^0[^.\s]+$/u.test(t),rJ={test:t=>t==="auto",parse:t=>t},oO=t=>e=>e.test(t),lO=[Tu,ze,yi,no,hW,dW,rJ],uk=t=>lO.find(oO(t)),sJ=[...lO,Zn,Ro],iJ=t=>sJ.find(oO(t)),aJ=new Set(["brightness","contrast","saturate","opacity"]);function oJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Yw)||[];if(!r)return t;const s=n.replace(r,"");let o=aJ.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const lJ=/\b([a-z-]*)\(.*?\)/gu,_b={...Ro,getAnimatableNone:t=>{const e=t.match(lJ);return e?e.map(oJ).join(" "):t}},cJ={...Lw,color:Zn,backgroundColor:Zn,outlineColor:Zn,fill:Zn,stroke:Zn,borderColor:Zn,borderTopColor:Zn,borderRightColor:Zn,borderBottomColor:Zn,borderLeftColor:Zn,filter:_b,WebkitFilter:_b},cO=t=>cJ[t];function uO(t,e){let n=cO(t);return n!==_b&&(n=Ro),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=r_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Er.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Kt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Xg(n),this.isVariantNode=HD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const w=v[x];d[x]!==void 0&&rr(w)&&w.set(d[x],!1)}}mount(e){this.current=e,tJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),sO.current||eJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ao(this.notifyUpdate),Ao(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_u.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in lu){const n=lu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dk.length;r++){const s=dk[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=nJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=cu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(iO(r)||aO(r))?r=parseFloat(r):!iJ(r)&&Ro.test(n)&&(r=uO(e,n)),this.setBaseTarget(e,rr(r)?r.get():r)),rr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Fw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!rr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}const dJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hJ(t){const e=dJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function dO(t,e,n=1){const[r,s]=hJ(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return iO(l)?parseFloat(l):l}return Vw(s)?dO(s,e,n+1):s}function fJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aO(t):!0}const mJ=new Set(["auto","none","0"]);function pJ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!mJ.has(o)&&Vh(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=uO(n,s)}class gJ extends r_{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Vw(h))){const p=dO(h,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!PM.has(r)||e.length!==2)return;const[s,o]=e,l=uk(s),u=uk(o);if(l!==u)if(gC(l)&&gC(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Sl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||fJ(e[s]))&&r.push(s);r.length&&pJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Sl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}class hO extends uJ{constructor(){super(...arguments),this.KeyframeResolver=gJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fO(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function yJ(t){return window.getComputedStyle(t)}class vJ extends hO{constructor(){super(...arguments),this.type="html",this.renderInstance=fO}readValueFromInstance(e,n){var r;if(_u.has(n))return(r=this.projection)!=null&&r.isProjecting?db(n):$X(e,n);{const s=yJ(e),o=(Ow(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $M(e,n)}build(e,n,r){Uw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return zw(e,n,r)}}const mO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xJ(t,e,n,r){fO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(mO.has(s)?s:Iw(s),e.attrs[s])}class bJ extends hO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_u.has(n)){const r=cO(n);return r&&r.default||0}return n=mO.has(n)?n:Iw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return rM(e,n,r)}build(e,n,r){JD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){xJ(e,n,r,s)}mount(e){this.isSVGTag=tM(e.tagName),super.mount(e)}}const wJ=(t,e)=>$w(t)?new bJ(e):new vJ(e,{allowProjection:t!==k.Fragment}),_J=NW({...EQ,...ZZ,...MZ,...JZ},wJ),lo=XY(_J),TJ=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(!1),{notifySuccess:s,notifyError:o}=Po(),[l,u]=k.useState({}),d=w=>{const T={};return w?/\S+@\S+\.\S+/.test(w)||(T.email="Invalid email format"):T.email="Email is required",T},h=w=>{const{value:T}=w.target;e(T),l!=null&&l.email&&u(d(T))};async function p(w){w.preventDefault();const T=d(t);if(Object.keys(T).length>0){u(T);return}r(!0);try{await TU(Is,t),e(""),s("Password reset email sent! Check your inbox (and spam folder).")}catch(S){switch(S.code){case"auth/invalid-email":o("Invalid email format. Please provide a valid email.");break;case"auth/user-not-found":o("No user found with this email. Please check the email.");break;default:o(`An unexpected error occurred: ${S.message}`)}}finally{r(!1)}}const v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,staggerChildren:.1}}},x={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)]",children:m.jsxs(lo.form,{onSubmit:p,initial:"hidden",animate:"visible",variants:v,className:"w-full max-w-md border border-[var(--color-border)] dark:border-[var(--color-dark-border)] rounded-lg shadow-lg bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-6 space-y-6",children:[m.jsx(lo.h2,{variants:x,className:"text-2xl font-bold text-center text-gray-800 dark:text-white",children:"Reset Password"}),m.jsx(lo.div,{variants:x,children:m.jsx(fs,{label:"Email",type:"email",name:"email",value:t,onChange:h,error:l.email,required:!0,placeholder:"Enter your email"})}),m.jsx(lo.div,{variants:x,children:m.jsx(Ze,{type:"submit",variant:"primary",fullWidth:!0,isLoading:n,disabled:n||!t||l.email,children:n?"Sending...":"Reset Password"})}),m.jsx(lo.div,{variants:x,className:"text-center text-sm text-gray-600 dark:text-gray-400",children:m.jsx(Pt,{to:"/login",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Back to login"})})]})})},EJ=()=>{const{currentUser:t,role:e}=Ut(),n=qn(),r=()=>{if(!t)return"You seem lost. This page doesn’t exist.";switch(e){case"student":return"Oops! Student, the page you're looking for wasn't found.";case"lecturer":return"Lecturer, looks like this page doesn't exist.";case"staff":return"Staff member, we couldn’t find that page.";default:return"Oops! This page doesn’t exist."}};return m.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)] text-center space-y-6",children:m.jsxs(He.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col items-center justify-center px-4 py-12 bg-[var(--shared-background)] dark:bg-[var(--shared-dark-background)] text-center space-y-6",children:[m.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-[var(--color-primary)] dark:text-[var(--color-dark-primary)] space-y-5",children:[m.jsx("p",{className:"text-6xl md:text-8xl",children:"404"}),m.jsx("p",{children:" Page Not Found"})]}),m.jsx("p",{className:"text-base md:text-lg text-[var(--color-text)] dark:text-[var(--color-dark-text)] max-w-xl",children:r()}),m.jsxs("div",{className:"flex gap-8 mt-4 ",children:[m.jsx(Ze,{onClick:()=>n(-1),variant:"outline",icon:m.jsx(HP,{className:"w-5 h-5"}),children:"Go Back"}),m.jsx(Ze,{onClick:()=>n("/"),variant:"primary",icon:m.jsx(sf,{className:"w-5 h-5"}),children:"Go Home"})]})]})})},SJ=()=>{const t=[{name:"Home",to:"/student/dashboard",icon:sf},{name:"Project",to:"/student/projects",icon:Mt},{name:"Explore",to:"/student/explore",icon:af},{name:"Profile",to:"/student/profile",icon:To}];return m.jsx("nav",{className:"fixed bottom-0 inset-x-0 z-50 lg:hidden border-t border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-gray-900/70 backdrop-blur",children:m.jsx("div",{className:"flex justify-around items-center h-16",children:t.map(e=>{const n=e.icon;return m.jsx(Ol,{to:e.to,className:({isActive:r})=>yt("flex flex-col items-center justify-center px-3 py-1 rounded-md transition-all",r?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400"),children:({isActive:r})=>m.jsxs(m.Fragment,{children:[m.jsx(n,{className:"w-5 h-5 mb-0.5"}),r&&m.jsx("span",{className:"text-xs font-medium",children:e.name})]})},e.name)})})})},o_=({isOpen:t,onClose:e,title:n,children:r,size:s="md",closeOnOverlayClick:o=!0,showFooter:l=!1,footerContent:u=null,className:d=""})=>{const[h,p]=k.useState(!1);k.useEffect(()=>{const T=S=>{S.key==="Escape"&&t&&!h&&e()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,e,h]),k.useEffect(()=>(document.body.style.overflow=t?"hidden":"",()=>document.body.style.overflow=""),[t]);const v={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl",full:"w-full mx-4"},x={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.15,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.1,ease:"easeIn"}}},w={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};return m.jsx(aH,{children:t&&m.jsxs(m.Fragment,{children:[m.jsx(He.div,{className:"fixed inset-0 z-40 bg-black/20 backdrop-blur",initial:"hidden",animate:"visible",exit:"exit",variants:w,onClick:()=>o&&e()}),m.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:m.jsxs(He.div,{role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",className:yt("relative bg-white/70 dark:bg-gray-900/70 rounded-xl shadow-xl w-full transition-all",v[s],d),initial:"hidden",animate:"visible",exit:"exit",variants:x,onAnimationStart:()=>p(!0),onAnimationComplete:()=>p(!1),onClick:T=>T.stopPropagation(),children:[m.jsx("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:m.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-gray-900 dark:text-white",children:n})}),m.jsx("div",{className:"px-6 py-5 text-sm text-gray-700 dark:text-gray-300",children:r}),l&&m.jsx("div",{className:"flex justify-around gap-3 px-6 py-4  rounded-b-lg",children:u||m.jsxs(m.Fragment,{children:[m.jsx(Ze,{variant:"outline",onClick:e,children:"Cancel"}),m.jsx(Ze,{type:"button",children:"Confirm"})]})})]})})})]})})},AJ=()=>{const t=qn(),[e,n]=k.useState(!1),r=[{name:"Dashboard",to:"/student/dashboard",icon:sf},{name:"My Projects",to:"/student/projects",icon:Mt},{name:"Explore",to:"/student/explore",icon:Rr},{name:"Profile",to:"/student/profile",icon:G1}],s=async()=>{await Is.signOut(),t("/login",{replace:!0})};return m.jsxs(He.div,{initial:{x:-300},animate:{x:0},transition:{type:"spring",stiffness:80,damping:18},className:"hidden lg:flex fixed top-0 left-0 h-screen w-64 flex-col border-r-2 border-gray-200 dark:border-gray-700 z-50 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",children:[m.jsx("div",{className:"flex h-16 items-center justify-between px-4",children:m.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🎓 PPR Student"})}),m.jsx("nav",{className:"flex-1 py-6 space-y-2",children:r.map(({name:o,to:l,icon:u})=>m.jsxs(Ol,{to:l,className:({isActive:d})=>yt("flex items-center gap-3 px-4 py-3 rounded-sm text-lg font-medium transition-colors duration-150",d?"bg-blue-900/20 text-blue-600 hover:bg-blue-50 focus:ring-blue-500 dark:text-blue-400 dark:hover:bg-blue-900/40":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[m.jsx(u,{className:"w-6 h-6"}),o]},o))}),m.jsx(Ze,{onClick:()=>n(!0),variant:"danger",fullWidth:!0,icon:m.jsx(Bg,{size:20}),className:"justify-start gap-1",size:"lg",children:"Logout"}),m.jsx(o_,{isOpen:e,onClose:()=>n(!1),title:"Confirm Logout",showFooter:!0,footerContent:m.jsxs(m.Fragment,{children:[m.jsx(Ze,{variant:"secondary",onClick:()=>n(!1),children:"Cancel"}),m.jsx(Ze,{variant:"danger",onClick:s,children:"Logout"})]}),children:m.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Are you sure you want to log out of your account?"})})]})},RJ=()=>{const[t,e]=k.useState(!1),n=()=>{e(!t)};return m.jsxs("div",{className:"bg-ppr-animated min-h-screen transition-colors duration-200",children:[m.jsx(SJ,{toggleSidebar:n}),m.jsxs("div",{className:"flex",children:[m.jsx(AJ,{isOpen:t,setIsOpen:e}),m.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 lg:pl-64",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsx(Vb,{})})})]})]})},xs=t=>{const[e,n]=k.useState(null),[r,s]=k.useState(!0),[o,l]=k.useState(null);return k.useEffect(()=>{if(!t)return;(async()=>{s(!0);try{const d=zr(Ft,"Student",t),h=await Ti(d);h.exists()?n(h.data()):n(null)}catch(d){console.error("Error fetching user data:",d),l(d.message||"Failed to fetch user data.")}finally{s(!1)}})()},[t]),{userData:e,loading:r,error:o}},pO=({name:t,size:e=40})=>{const n=t.charAt(0).toUpperCase();return m.jsxs("svg",{width:e,height:e,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"rounded-full shadow-md",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"avatar-gradient",x1:"0",y1:"0",x2:"1",y2:"1",children:[m.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),m.jsx("stop",{offset:"100%",stopColor:"#1e40af"})]})}),m.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"url(#avatar-gradient)"}),m.jsx("text",{x:"50%",y:"54%",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"42",fontFamily:"Inter, sans-serif",fontWeight:"600",children:n})]})},wa=t=>{const[e,n]=k.useState(null),[r,s]=k.useState(!0),[o,l]=k.useState(null);return k.useEffect(()=>{if(!t)return;(async()=>{s(!0);try{const d=zr(Ft,"Lecturer",t),h=await Ti(d);h.exists()?n(h.data()):n(null)}catch(d){console.error("Error fetching user data:",d),l(d.message||"Failed to fetch user data.")}finally{s(!1)}})()},[t]),{userData:e,loading:r,error:o}},on=({showBack:t=!1,title:e,rightContent:n,children:r})=>{const s=qn(),{currentUser:o}=Ut(),{userData:l}=wa(o==null?void 0:o.uid),{userData:u}=xs(o==null?void 0:o.uid),d=(l==null?void 0:l.role)||(u==null?void 0:u.role)||null,h=d==="lecturer"?l:u,p=()=>s(-1),v=(e==null?void 0:e.toLowerCase())==="dashboard",x=e||"Page";return m.jsxs("div",{role:"banner","aria-label":"Page header",className:"sticky top-0 z-30 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] shadow border-b border-gray-700 px-4 flex items-center justify-between h-16 md:h-20 backdrop-blur supports-[backdrop-filter]:bg-[var(--color-surface)] dark:supports-[backdrop-filter]:bg-[var(--color-dark-surface)]",children:[m.jsx("div",{className:"flex items-center gap-3",children:v?m.jsxs(m.Fragment,{children:[h!=null&&h.photoURL?m.jsx("img",{src:h.photoURL,alt:"Avatar",className:"w-10 h-10 rounded-full"}):m.jsx(pO,{name:(h==null?void 0:h.displayName)||"User",size:40}),m.jsxs("div",{children:[m.jsxs("h2",{className:"text-lg font-semibold text-blue-800 dark:text-blue-100",children:["Welcome back, ",(h==null?void 0:h.displayName)||"User"," 👋"]}),m.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:d==="lecturer"?"Manage project reviews and approvals":"Here’s your personalized activity summary."})]})]}):m.jsxs(m.Fragment,{children:[t&&m.jsx("button",{onClick:p,className:"hidden group md:inline-flex items-center gap-1 px-3 py-1.5 rounded-md bg-gray-100/50 dark:bg-gray-800/60 hover:bg-gray-200 dark:hover:bg-gray-700 text-blue-700 dark:text-blue-300 transition-colors","aria-label":"Go back",children:m.jsx(HP,{size:18,className:"transition-transform group-hover:-translate-x-1"})}),m.jsx("h2",{className:"text-xl font-semibold text-blue-800 dark:text-blue-100",children:x})]})}),n?m.jsx("div",{className:"mt-2 sm:mt-0",children:n}):r&&m.jsx("div",{className:"mt-2 sm:mt-0",children:r})]})},gO=6048e5,CJ=864e5,Zm=43200,hk=1440,fk=Symbol.for("constructDateFrom");function fa(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&fk in t?t[fk](e):t instanceof Date?new t.constructor(e):new Date(e)}function Pn(t,e){return fa(e||t,t)}let kJ={};function vf(){return kJ}function Bh(t,e){var u,d,h,p;const n=vf(),r=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=Pn(t,e==null?void 0:e.in),o=s.getDay(),l=(o<r?7:0)+o-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function og(t,e){return Bh(t,{...e,weekStartsOn:1})}function yO(t,e){const n=Pn(t,e==null?void 0:e.in),r=n.getFullYear(),s=fa(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=og(s),l=fa(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=og(l);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function lg(t){const e=Pn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Qg(t,...e){const n=fa.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function mk(t,e){const n=Pn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function NJ(t,e,n){const[r,s]=Qg(n==null?void 0:n.in,t,e),o=mk(r),l=mk(s),u=+o-lg(o),d=+l-lg(l);return Math.round((u-d)/CJ)}function jJ(t,e){const n=yO(t,e),r=fa(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),og(r)}function bp(t,e){const n=+Pn(t)-+Pn(e);return n<0?-1:n>0?1:n}function PJ(t){return fa(t,Date.now())}function IJ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function DJ(t){return!(!IJ(t)&&typeof t!="number"||isNaN(+Pn(t)))}function MJ(t,e,n){const[r,s]=Qg(n==null?void 0:n.in,t,e),o=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return o*12+l}function OJ(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function VJ(t,e){return+Pn(t)-+Pn(e)}function LJ(t,e){const n=Pn(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function UJ(t,e){const n=Pn(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function BJ(t,e){const n=Pn(t,e==null?void 0:e.in);return+LJ(n,e)==+UJ(n,e)}function $J(t,e,n){const[r,s,o]=Qg(n==null?void 0:n.in,t,t,e),l=bp(s,o),u=Math.abs(MJ(s,o));if(u<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*u);let d=bp(s,o)===-l;BJ(r)&&u===1&&bp(r,o)===1&&(d=!1);const h=l*(u-+d);return h===0?0:h}function FJ(t,e,n){const r=VJ(t,e)/1e3;return OJ(n==null?void 0:n.roundingMethod)(r)}function zJ(t,e){const n=Pn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const qJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},HJ=(t,e,n)=>{let r;const s=qJ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Zv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const GJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WJ={date:Zv({formats:GJ,defaultWidth:"full"}),time:Zv({formats:KJ,defaultWidth:"full"}),dateTime:Zv({formats:YJ,defaultWidth:"full"})},XJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QJ=(t,e,n,r)=>XJ[t];function Id(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):l;s=t.formattingValues[u]||t.formattingValues[l]}else{const l=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const ZJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ree={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},see=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},iee={ordinalNumber:see,era:Id({values:ZJ,defaultWidth:"wide"}),quarter:Id({values:JJ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Id({values:eee,defaultWidth:"wide"}),day:Id({values:tee,defaultWidth:"wide"}),dayPeriod:Id({values:nee,defaultWidth:"wide",formattingValues:ree,defaultFormattingWidth:"wide"})};function Dd(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const l=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(u)?oee(u,v=>v.test(l)):aee(u,v=>v.test(l));let h;h=t.valueCallback?t.valueCallback(d):d,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(l.length);return{value:h,rest:p}}}function aee(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function oee(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function lee(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(s.length);return{value:l,rest:u}}}const cee=/^(\d+)(th|st|nd|rd)?/i,uee=/\d+/i,dee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hee={any:[/^b/i,/^(a|c)/i]},fee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mee={any:[/1/i,/2/i,/3/i,/4/i]},pee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wee={ordinalNumber:lee({matchPattern:cee,parsePattern:uee,valueCallback:t=>parseInt(t,10)}),era:Dd({matchPatterns:dee,defaultMatchWidth:"wide",parsePatterns:hee,defaultParseWidth:"any"}),quarter:Dd({matchPatterns:fee,defaultMatchWidth:"wide",parsePatterns:mee,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Dd({matchPatterns:pee,defaultMatchWidth:"wide",parsePatterns:gee,defaultParseWidth:"any"}),day:Dd({matchPatterns:yee,defaultMatchWidth:"wide",parsePatterns:vee,defaultParseWidth:"any"}),dayPeriod:Dd({matchPatterns:xee,defaultMatchWidth:"any",parsePatterns:bee,defaultParseWidth:"any"})},vO={code:"en-US",formatDistance:HJ,formatLong:WJ,formatRelative:QJ,localize:iee,match:wee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _ee(t,e){const n=Pn(t,e==null?void 0:e.in);return NJ(n,zJ(n))+1}function Tee(t,e){const n=Pn(t,e==null?void 0:e.in),r=+og(n)-+jJ(n);return Math.round(r/gO)+1}function xO(t,e){var p,v,x,w;const n=Pn(t,e==null?void 0:e.in),r=n.getFullYear(),s=vf(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(x=s.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,l=fa((e==null?void 0:e.in)||t,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=Bh(l,e),d=fa((e==null?void 0:e.in)||t,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const h=Bh(d,e);return+n>=+u?r+1:+n>=+h?r:r-1}function Eee(t,e){var u,d,h,p;const n=vf(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=xO(t,e),o=fa((e==null?void 0:e.in)||t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Bh(o,e)}function See(t,e){const n=Pn(t,e==null?void 0:e.in),r=+Bh(n,e)-+Eee(n,e);return Math.round(r/gO)+1}function At(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ja={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return At(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):At(n+1,2)},d(t,e){return At(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return At(t.getHours()%12||12,e.length)},H(t,e){return At(t.getHours(),e.length)},m(t,e){return At(t.getMinutes(),e.length)},s(t,e){return At(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return At(s,e.length)}},jc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pk={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ja.y(t,e)},Y:function(t,e,n,r){const s=xO(t,r),o=s>0?s:1-s;if(e==="YY"){const l=o%100;return At(l,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):At(o,e.length)},R:function(t,e){const n=yO(t);return At(n,e.length)},u:function(t,e){const n=t.getFullYear();return At(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return At(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return At(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ja.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return At(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=See(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):At(s,e.length)},I:function(t,e,n){const r=Tee(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):At(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ja.d(t,e)},D:function(t,e,n){const r=_ee(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):At(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return At(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return At(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return At(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=jc.noon:r===0?s=jc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=jc.evening:r>=12?s=jc.afternoon:r>=4?s=jc.morning:s=jc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ja.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ja.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ja.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ja.s(t,e)},S:function(t,e){return Ja.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return yk(r);case"XXXX":case"XX":return ml(r);case"XXXXX":case"XXX":default:return ml(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return yk(r);case"xxxx":case"xx":return ml(r);case"xxxxx":case"xxx":default:return ml(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+gk(r,":");case"OOOO":default:return"GMT"+ml(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+gk(r,":");case"zzzz":default:return"GMT"+ml(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return At(r,e.length)},T:function(t,e,n){return At(+t,e.length)}};function gk(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+At(o,2)}function yk(t,e){return t%60===0?(t>0?"-":"+")+At(Math.abs(t)/60,2):ml(t,e)}function ml(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=At(Math.trunc(r/60),2),o=At(r%60,2);return n+s+e+o}const vk=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},bO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Aee=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return vk(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",vk(r,e)).replace("{{time}}",bO(s,e))},Ree={p:bO,P:Aee},Cee=/^D+$/,kee=/^Y+$/,Nee=["D","DD","YY","YYYY"];function jee(t){return Cee.test(t)}function Pee(t){return kee.test(t)}function Iee(t,e,n){const r=Dee(t,e,n);if(console.warn(r),Nee.includes(t))throw new RangeError(r)}function Dee(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Mee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Oee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vee=/^'([^]*?)'?$/,Lee=/''/g,Uee=/[a-zA-Z]/;function Eu(t,e,n){var p,v,x,w;const r=vf(),s=r.locale??vO,o=r.firstWeekContainsDate??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,l=r.weekStartsOn??((w=(x=r.locale)==null?void 0:x.options)==null?void 0:w.weekStartsOn)??0,u=Pn(t,n==null?void 0:n.in);if(!DJ(u))throw new RangeError("Invalid time value");let d=e.match(Oee).map(T=>{const S=T[0];if(S==="p"||S==="P"){const R=Ree[S];return R(T,s.formatLong)}return T}).join("").match(Mee).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const S=T[0];if(S==="'")return{isToken:!1,value:Bee(T)};if(pk[S])return{isToken:!0,value:T};if(S.match(Uee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:T}});s.localize.preprocessor&&(d=s.localize.preprocessor(u,d));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:s};return d.map(T=>{if(!T.isToken)return T.value;const S=T.value;(Pee(S)||jee(S))&&Iee(S,e,String(t));const R=pk[S[0]];return R(u,S,s.localize,h)}).join("")}function Bee(t){const e=t.match(Vee);return e?e[1].replace(Lee,"'"):t}function $ee(t,e,n){const r=vf(),s=(n==null?void 0:n.locale)??r.locale??vO,o=2520,l=bp(t,e);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[d,h]=Qg(n==null?void 0:n.in,...l>0?[e,t]:[t,e]),p=FJ(h,d),v=(lg(h)-lg(d))/1e3,x=Math.round((p-v)/60);let w;if(x<2)return n!=null&&n.includeSeconds?p<5?s.formatDistance("lessThanXSeconds",5,u):p<10?s.formatDistance("lessThanXSeconds",10,u):p<20?s.formatDistance("lessThanXSeconds",20,u):p<40?s.formatDistance("halfAMinute",0,u):p<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):x===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",x,u);if(x<45)return s.formatDistance("xMinutes",x,u);if(x<90)return s.formatDistance("aboutXHours",1,u);if(x<hk){const T=Math.round(x/60);return s.formatDistance("aboutXHours",T,u)}else{if(x<o)return s.formatDistance("xDays",1,u);if(x<Zm){const T=Math.round(x/hk);return s.formatDistance("xDays",T,u)}else if(x<Zm*2)return w=Math.round(x/Zm),s.formatDistance("aboutXMonths",w,u)}if(w=$J(h,d),w<12){const T=Math.round(x/Zm);return s.formatDistance("xMonths",T,u)}else{const T=w%12,S=Math.trunc(w/12);return T<3?s.formatDistance("aboutXYears",S,u):T<9?s.formatDistance("overXYears",S,u):s.formatDistance("almostXYears",S+1,u)}}function Zg(t,e){return $ee(t,PJ(t),e)}const Fee={approved:{icon:m.jsx(Fl,{size:14,className:"text-green-600"}),style:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400"},pending:{icon:m.jsx(QP,{size:14,className:"text-yellow-600"}),style:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400"},rejected:{icon:m.jsx(xa,{size:14,className:"text-red-600"}),style:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400"},"under review":{icon:m.jsx(vs,{size:14,className:"text-blue-600"}),style:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400"}},zee=({status:t})=>{const e=Fee[t==null?void 0:t.toLowerCase()]||{icon:null,style:"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800/30 dark:text-gray-400"};return m.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full ${e.style}`,children:[e.icon,t]})},qee=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),{currentUser:s}=Ut(),{userData:o}=xs(s==null?void 0:s.uid);return k.useEffect(()=>{(async()=>{if(o!=null&&o.department){r(!0);try{const u=fi(ta(Ft,`Projects/${o.department}/projectSubmissions`),_i("submittedBy","==",o==null?void 0:o.studentId),Yp("submittedAt","desc"),Th(5)),h=(await ks(u)).docs.map(p=>({id:p.id,...p.data()}));e(h)}catch(u){console.error("Error fetching recent projects:",u)}finally{r(!1)}}})()},[o==null?void 0:o.department,o==null?void 0:o.studentId,s]),m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm h-fit",children:[m.jsxs("h2",{className:"text-md md:text-lg font-semibold text-black dark:text-white mb-4 flex items-center gap-2",children:[m.jsx(Mt,{size:18,className:"text-blue-500"})," Recent Projects"]}),n?m.jsx("div",{className:"space-y-4",children:[...Array(5)].map((l,u)=>m.jsxs("div",{className:"animate-pulse flex items-center justify-between p-3 border rounded-lg",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-1"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/4"})]}),m.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-full w-20"})]},u))}):t.length>0?m.jsx("div",{className:"space-y-3",children:t.map(l=>{var u;return m.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/30 cursor-pointer transition-colors duration-200",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[m.jsxs("h3",{className:"text-sm font-medium text-black dark:text-white truncate flex items-center gap-1",children:[m.jsx(Mt,{size:16,className:"text-purple-500"}),l.title]}),m.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300 mt-1 flex items-center gap-1",children:[m.jsx(Mt,{size:16,className:"text-emerald-500"}),l.abstract?l.abstract.slice(0,30)+"...":"N/A"]}),m.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-400 mt-1 flex items-center gap-1",children:[m.jsx(Ri,{size:16,className:"text-yellow-500"}),(u=l.submittedAt)!=null&&u.toDate?Zg(l.submittedAt.toDate(),{addSuffix:!0}):""]})]}),m.jsx(zee,{status:l.status})]})},l.id)})}):m.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No recent projects found."})]})},Hee={approved:{icon:m.jsx(Fl,{size:14,className:"text-green-600"}),style:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400"},pending:{icon:m.jsx(QP,{size:14,className:"text-yellow-600"}),style:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400"},rejected:{icon:m.jsx(xa,{size:14,className:"text-red-600"}),style:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400"},"under review":{icon:m.jsx(vs,{size:14,className:"text-blue-600"}),style:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400"}},Gee=({status:t})=>{const e=Hee[t==null?void 0:t.toLowerCase()]||{icon:null,style:"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800/30 dark:text-gray-400"};return m.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full ${e.style}`,children:[e.icon,t]})},Kee=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),{currentUser:s}=Ut(),{userData:o}=xs(s==null?void 0:s.uid);return k.useEffect(()=>{(async()=>{if(o!=null&&o.department){r(!0);try{const u=fi(ta(Ft,`Projects/${o.department}/accessRequests`),_i("requestedBy","==",o==null?void 0:o.studentId),Yp("requestedAt","desc"),Th(5)),h=(await ks(u)).docs.map(p=>({id:p.id,...p.data()}));e(h)}catch(u){console.error("Error fetching access requests:",u)}finally{r(!1)}}})()},[s,o==null?void 0:o.department,o==null?void 0:o.studentId]),m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm h-fit",children:[m.jsxs("h2",{className:"text-md md:text-lg font-semibold text-black dark:text-white mb-4 flex items-center gap-2",children:[m.jsx(Mt,{size:18,className:"text-indigo-500"})," Access Requests"]}),n?m.jsx("div",{className:"space-y-4",children:[...Array(5)].map((l,u)=>m.jsxs("div",{className:"animate-pulse flex items-center justify-between p-3 border rounded-lg",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3 mb-2"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-1"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]}),m.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-full w-20"})]},u))}):t.length>0?m.jsx("div",{className:"space-y-3",children:t.map(l=>{var u;return m.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/30 cursor-pointer transition-colors duration-200",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[m.jsxs("h3",{className:"text-sm font-medium text-black dark:text-white truncate flex items-center gap-1",children:[m.jsx(Mt,{size:16,className:"text-purple-500"}),l.projectTitle]}),m.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300 mt-1 flex items-center gap-1",children:[m.jsx(Mt,{size:16,className:"text-emerald-500"}),l.requestReason?l.requestReason.slice(0,30)+"...":"N/A"]}),m.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-400 flex items-center gap-1",children:[m.jsx(Ri,{size:16,className:"text-yellow-500"}),(u=l.requestedAt)!=null&&u.toDate?Zg(l.requestedAt.toDate(),{addSuffix:!0}):""]})]}),m.jsx(Gee,{status:l.status})]})},l.id)})}):m.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No access requests found."})]})},Yee=()=>{const t=[{label:"Submit New Project",to:"/student/projects/submit",icon:m.jsx(YP,{className:"w-5 h-5"}),bg:"bg-indigo-600 hover:bg-indigo-700"},{label:"Explore Projects",to:"/student/explore",icon:m.jsx(af,{className:"w-5 h-5"}),bg:"bg-green-600 hover:bg-green-700"}];return m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm",children:[m.jsx("h2",{className:"text-md md:text-lg font-semibold text-black dark:text-white mb-4 flex items-center gap-2",children:"Quick Actions"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((e,n)=>m.jsxs(Pt,{to:e.to,className:`${e.bg} flex items-center justify-center gap-2 text-white px-4 py-3 rounded-lg transition-colors duration-200`,"aria-label":e.label,children:[e.icon,m.jsx("span",{children:e.label})]},n))})]})},gn=({count:t=2})=>m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 px-4 md:px-6 my-6",children:Array.from({length:t}).map((e,n)=>m.jsxs("div",{className:"animate-pulse flex flex-col rounded-lg bg-gray-200/50 dark:bg-gray-900/50 space-y-2 p-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"h-6 bg-gray-200/50 dark:bg-gray-700/50 rounded w-full mb-2"}),m.jsx("div",{className:"h-32 bg-gray-200/50 dark:bg-gray-700/50 rounded w-full mb-1"})]}),m.jsxs("div",{className:"flex justify-end items-center gap-2",children:[m.jsx("div",{className:"h-8 bg-gray-200/50 dark:bg-gray-700/50 rounded-full w-24"}),m.jsx("div",{className:"h-8 bg-gray-200/50 dark:bg-gray-700/50 rounded-full w-24"})]})]},n))}),Wee=({title:t,value:e,icon:n,bgColor:r})=>m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h3",{className:"text-md md:text-lg font-semibold text-black dark:text-white",children:t}),m.jsx("span",{className:`p-2 rounded-full ${r}`,children:m.jsx(n,{className:"h-5 w-5 text-white"})})]}),m.jsx("p",{className:"text-2xl font-bold text-black dark:text-white",children:e})]}),Xee=()=>{var u,d,h,p,v,x;const[t,e]=k.useState({}),[n,r]=k.useState(!0),{currentUser:s}=Ut(),{userData:o}=xs(s==null?void 0:s.uid);k.useEffect(()=>{const w=async()=>{if(!(!(o!=null&&o.department)||!(o!=null&&o.studentId)))try{const[T,S]=await Promise.all([ks(fi(ta(Ft,`Projects/${o==null?void 0:o.department}/projectSubmissions`),_i("submittedBy","==",o==null?void 0:o.studentId))),ks(fi(ta(Ft,`Projects/${o==null?void 0:o.department}/accessRequests`),_i("requestedBy","==",o==null?void 0:o.studentId)))]),R=T.docs.map(O=>O.data()),C=S.docs.map(O=>O.data());e({projects:{total:R.length,approved:R.filter(O=>O.status==="approved").length,pending:R.filter(O=>O.status==="pending").length,rejected:R.filter(O=>O.status==="rejected").length,draft:R.filter(O=>O.status==="draft").length},accessRequests:{total:C.length,approved:C.filter(O=>O.status==="approved").length,pending:C.filter(O=>O.status==="pending").length}})}catch(T){console.error("Error fetching dashboard stats:",T)}finally{r(!1)}};o!=null&&o.department&&(o!=null&&o.studentId)&&w()},[o,s]);const l=[{title:"Total Projects",value:((u=t.projects)==null?void 0:u.total)||0,icon:m7,bgColor:"bg-indigo-500"},{title:"Approved Projects",value:((d=t.projects)==null?void 0:d.approved)||0,icon:Fl,bgColor:"bg-green-500"},{title:"Pending Projects",value:((h=t.projects)==null?void 0:h.pending)||0,icon:Ri,bgColor:"bg-yellow-500"},{title:"Rejected Projects",value:((p=t.projects)==null?void 0:p.rejected)||0,icon:xa,bgColor:"bg-red-500"},{title:"Draft Projects",value:((v=t.projects)==null?void 0:v.draft)||0,icon:Ug,bgColor:"bg-gray-500"},{title:"Access Requests",value:((x=t.accessRequests)==null?void 0:x.total)||0,icon:ba,bgColor:"bg-purple-500"}];return m.jsxs("div",{className:"space-y-6",children:[m.jsx(on,{title:"Dashboard"}),n?m.jsx(gn,{}):m.jsxs("div",{className:"space-y-4 pb-12 md:pb-0",children:[m.jsx("h1",{className:"text-2xl font-semibold text-black dark:text-white px-3",children:"Dashboard Overview"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 px-3",children:l.map((w,T)=>m.jsx(Wee,{...w},T))}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 px-3",children:[m.jsx(qee,{}),m.jsx(Kee,{})]}),m.jsx("div",{className:"grid grid-cols-1 gap-6 px-3 pb-8",children:m.jsx(Yee,{})})]})]})},Qee=[{title:"My Projects",description:"View or manage your submitted projects.",to:"/student/projects/my",icon:Mt,bg:"bg-blue-600 dark:bg-blue-500"},{title:"Submit New Project",description:"Create and submit a new final year project.",to:"/student/projects/submit",icon:H7,bg:"bg-emerald-600 dark:bg-emerald-500"},{title:"Drafts",description:"Continue working on your saved or incomplete projects.",to:"/student/projects/drafts",icon:z7,bg:"bg-violet-600 dark:bg-violet-500"},{title:"Access Request History",description:"Track the status of your access requests.",to:"/student/projects/requests",icon:r7,bg:"bg-yellow-500 dark:bg-yellow-400"}],Zee=()=>m.jsxs("div",{className:"space-y-4",children:[m.jsx(on,{title:"Projects"}),m.jsx("div",{className:"flex flex-col divide-y divide-gray-400 dark:divide-gray-700 divide-solid px-4 md:px-8",children:Qee.map(({title:t,description:e,to:n,icon:r,bg:s})=>m.jsx(Pt,{to:n,className:"group rounded-lg bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-5 shadow-sm hover:shadow-md transition-all duration-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${s} text-white group-hover:scale-105 transition-transform`,children:m.jsx(r,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-base font-semibold text-gray-800 dark:text-white",children:t}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e})]})]}),m.jsx("span",{className:"text-gray-400 group-hover:text-blue-600 transition",children:">"})]})},t))})]}),Jee=({rejectionReason:t,onClose:e})=>m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm transition-all duration-200 ease-out",children:m.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-slate-900/80 rounded-2xl shadow-xl p-6 scale-100 opacity-100 duration-200 ease-out animate-[fadeIn_0.3s_ease-out]",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Hz,{className:"text-red-600 dark:text-red-400",size:22}),m.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Rejection Reason"})]})}),m.jsx("div",{className:"max-h-48 overflow-y-auto text-sm leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-line border border-gray-200 dark:border-gray-700 rounded-md p-3 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-700",children:(t==null?void 0:t.trim())||"No reason was provided for this rejection."}),m.jsx("div",{className:"mt-6 flex justify-end",children:m.jsx(Ze,{onClick:e,variant:"outline",children:"Close"})})]})}),ete={approved:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-800/30",pending:"text-yellow-700 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-800/30",rejected:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-800/30",draft:"text-purple-700 bg-purple-100 dark:text-purple-300 dark:bg-purple-800/50"},tte={draft:m.jsx(Ug,{className:"size-4 md:size-5 mr-1"}),pending:m.jsx(Ri,{className:"size-4 md:size-5 mr-1"}),approved:m.jsx(B1,{className:"size-4 md:size-5 mr-1"}),rejected:m.jsx(xa,{className:"size-4 md:size-5 mr-1"})},wO=({project:t})=>{const{id:e,title:n,projectTitle:r,department:s,status:o="pending",submittedAt:l,abstract:u,updatedAt:d,projectYear:h,submissionRejectionReason:p,requestedAt:v}=t,x=o==="draft",w=o==="rejected",[T,S]=k.useState(!1),R=V=>{if(!V)return null;try{const I=V.seconds??V._seconds;if(!I)return null;const N=new Date(I*1e3);return isNaN(N.getTime())?null:Eu(N,"PPpp")}catch{return null}},C=R(d),O=R(l),j=R(v),$=C||O||j||"N/A",D={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.3,staggerChildren:.1,delayChildren:.2}}};return m.jsxs(He.div,{initial:"hidden",animate:"visible",variants:D,className:yt("h-fit rounded-xl border-l-3 p-5 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",{"border-l-purple-500 dark:border-l-purple-500":x,"border-l-red-500 dark:border-l-red-500":w,"border-l-yellow-500 dark:border-l-yellow-500":o==="pending","border-l-green-500 dark:border-l-green-500":o==="approved"}),children:[m.jsxs("div",{className:"flex flex-col justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex justify-between items-center w-full bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm",children:[m.jsxs("div",{className:"flex items-start text-lg font-semibold text-gray-800 dark:text-white capitalize gap-2",children:[m.jsx("div",{className:"pt-1 text-gray-600 dark:text-white min-h-full w-fit size-6 md:size-8",children:m.jsx(Rr,{})}),m.jsx("h2",{className:"break-words",children:n||r})]}),m.jsxs("span",{className:yt("px-3 py-1 text-xs md:text-md rounded-full font-medium capitalize shadow-sm whitespace-nowrap flex items-center",ete[o]),children:[tte[o],o]})]}),m.jsxs("div",{className:"flex flex-col justify-center items-start w-full mt-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-3 rounded-xl space-y-3 shadow-sm",children:[m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(Mt,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Abstract:"}),m.jsx("span",{children:u?u.slice(0,40)+"...":"N/A"})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(zl,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Department:"}),m.jsx("span",{children:s})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($l,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:" Project Year:"}),m.jsx("span",{children:h})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($1,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Submitted At:"}),m.jsx("span",{children:$})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[w&&p&&m.jsx(Ze,{variant:"ghost",size:"sm",className:"self-start text-sm px-1",onClick:()=>S(!0),children:"View Rejection Reason"}),o!=="draft"&&!w&&m.jsxs(Pt,{to:`/student/projects/view/${e}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[m.jsx(vs,{size:16}),"View Details"]}),(x||w)&&m.jsxs(Pt,{to:`/student/projects/edit/${e}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-gray-700 hover:bg-gray-800 text-white rounded-lg transition",children:[m.jsx(K7,{size:16}),"Edit"]})]}),T&&m.jsx(Jee,{rejectionReason:p,onClose:()=>S(!1)})]})},Jg=({title:t="No Data Found",subtitle:e="Looks like there's nothing here yet.",icon:n=F1,children:r=null})=>m.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-16 px-6 mx-4 md:mx-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] border border-dashed border-gray-200 dark:border-gray-700 rounded-lg shadow-sm",children:[m.jsx("div",{className:"mb-4",children:m.jsx(n,{className:"w-12 h-12 text-gray-400 dark:text-gray-600"})}),m.jsx("h2",{className:"text-lg font-semibold text-gray-700 dark:text-gray-100",children:t}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-4",children:e}),r&&m.jsx("div",{className:"mt-4",children:r})]});function _O(t,e){return function(){return t.apply(e,arguments)}}const{toString:nte}=Object.prototype,{getPrototypeOf:l_}=Object,{iterator:ey,toStringTag:TO}=Symbol,ty=(t=>e=>{const n=nte.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Os=t=>(t=t.toLowerCase(),e=>ty(e)===t),ny=t=>e=>typeof e===t,{isArray:Su}=Array,$h=ny("undefined");function rte(t){return t!==null&&!$h(t)&&t.constructor!==null&&!$h(t.constructor)&&Sr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const EO=Os("ArrayBuffer");function ste(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&EO(t.buffer),e}const ite=ny("string"),Sr=ny("function"),SO=ny("number"),ry=t=>t!==null&&typeof t=="object",ate=t=>t===!0||t===!1,wp=t=>{if(ty(t)!=="object")return!1;const e=l_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(TO in t)&&!(ey in t)},ote=Os("Date"),lte=Os("File"),cte=Os("Blob"),ute=Os("FileList"),dte=t=>ry(t)&&Sr(t.pipe),hte=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Sr(t.append)&&((e=ty(t))==="formdata"||e==="object"&&Sr(t.toString)&&t.toString()==="[object FormData]"))},fte=Os("URLSearchParams"),[mte,pte,gte,yte]=["ReadableStream","Request","Response","Headers"].map(Os),vte=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Su(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(r=0;r<l;r++)u=o[r],e.call(null,t[u],u,t)}}function AO(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const _l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RO=t=>!$h(t)&&t!==_l;function Tb(){const{caseless:t}=RO(this)&&this||{},e={},n=(r,s)=>{const o=t&&AO(e,s)||s;wp(e[o])&&wp(r)?e[o]=Tb(e[o],r):wp(r)?e[o]=Tb({},r):Su(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&xf(arguments[r],n);return e}const xte=(t,e,n,{allOwnKeys:r}={})=>(xf(e,(s,o)=>{n&&Sr(s)?t[o]=_O(s,n):t[o]=s},{allOwnKeys:r}),t),bte=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),wte=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},_te=(t,e,n,r)=>{let s,o,l;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)l=s[o],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&l_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Tte=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Ete=t=>{if(!t)return null;if(Su(t))return t;let e=t.length;if(!SO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Ste=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&l_(Uint8Array)),Ate=(t,e)=>{const r=(t&&t[ey]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},Rte=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Cte=Os("HTMLFormElement"),kte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),xk=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Nte=Os("RegExp"),CO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};xf(n,(s,o)=>{let l;(l=e(s,o,t))!==!1&&(r[o]=l||s)}),Object.defineProperties(t,r)},jte=t=>{CO(t,(e,n)=>{if(Sr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Sr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Pte=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Su(t)?r(t):r(String(t).split(e)),n},Ite=()=>{},Dte=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Mte(t){return!!(t&&Sr(t.append)&&t[TO]==="FormData"&&t[ey])}const Ote=t=>{const e=new Array(10),n=(r,s)=>{if(ry(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=Su(r)?[]:{};return xf(r,(l,u)=>{const d=n(l,s+1);!$h(d)&&(o[u]=d)}),e[s]=void 0,o}}return r};return n(t,0)},Vte=Os("AsyncFunction"),Lte=t=>t&&(ry(t)||Sr(t))&&Sr(t.then)&&Sr(t.catch),kO=((t,e)=>t?setImmediate:e?((n,r)=>(_l.addEventListener("message",({source:s,data:o})=>{s===_l&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),_l.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Sr(_l.postMessage)),Ute=typeof queueMicrotask<"u"?queueMicrotask.bind(_l):typeof process<"u"&&process.nextTick||kO,Bte=t=>t!=null&&Sr(t[ey]),ie={isArray:Su,isArrayBuffer:EO,isBuffer:rte,isFormData:hte,isArrayBufferView:ste,isString:ite,isNumber:SO,isBoolean:ate,isObject:ry,isPlainObject:wp,isReadableStream:mte,isRequest:pte,isResponse:gte,isHeaders:yte,isUndefined:$h,isDate:ote,isFile:lte,isBlob:cte,isRegExp:Nte,isFunction:Sr,isStream:dte,isURLSearchParams:fte,isTypedArray:Ste,isFileList:ute,forEach:xf,merge:Tb,extend:xte,trim:vte,stripBOM:bte,inherits:wte,toFlatObject:_te,kindOf:ty,kindOfTest:Os,endsWith:Tte,toArray:Ete,forEachEntry:Ate,matchAll:Rte,isHTMLForm:Cte,hasOwnProperty:xk,hasOwnProp:xk,reduceDescriptors:CO,freezeMethods:jte,toObjectSet:Pte,toCamelCase:kte,noop:Ite,toFiniteNumber:Dte,findKey:AO,global:_l,isContextDefined:RO,isSpecCompliantForm:Mte,toJSONObject:Ote,isAsyncFn:Vte,isThenable:Lte,setImmediate:kO,asap:Ute,isIterable:Bte};function We(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}ie.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const NO=We.prototype,jO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{jO[t]={value:t}});Object.defineProperties(We,jO);Object.defineProperty(NO,"isAxiosError",{value:!0});We.from=(t,e,n,r,s,o)=>{const l=Object.create(NO);return ie.toFlatObject(t,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),We.call(l,t.message,e,n,r,s),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const $te=null;function Eb(t){return ie.isPlainObject(t)||ie.isArray(t)}function PO(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function bk(t,e,n){return t?t.concat(e).map(function(s,o){return s=PO(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function Fte(t){return ie.isArray(t)&&!t.some(Eb)}const zte=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function sy(t,e,n){if(!ie.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,R){return!ie.isUndefined(R[S])});const r=n.metaTokens,s=n.visitor||p,o=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(s))throw new TypeError("visitor must be a function");function h(T){if(T===null)return"";if(ie.isDate(T))return T.toISOString();if(ie.isBoolean(T))return T.toString();if(!d&&ie.isBlob(T))throw new We("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(T)||ie.isTypedArray(T)?d&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function p(T,S,R){let C=T;if(T&&!R&&typeof T=="object"){if(ie.endsWith(S,"{}"))S=r?S:S.slice(0,-2),T=JSON.stringify(T);else if(ie.isArray(T)&&Fte(T)||(ie.isFileList(T)||ie.endsWith(S,"[]"))&&(C=ie.toArray(T)))return S=PO(S),C.forEach(function(j,$){!(ie.isUndefined(j)||j===null)&&e.append(l===!0?bk([S],$,o):l===null?S:S+"[]",h(j))}),!1}return Eb(T)?!0:(e.append(bk(R,S,o),h(T)),!1)}const v=[],x=Object.assign(zte,{defaultVisitor:p,convertValue:h,isVisitable:Eb});function w(T,S){if(!ie.isUndefined(T)){if(v.indexOf(T)!==-1)throw Error("Circular reference detected in "+S.join("."));v.push(T),ie.forEach(T,function(C,O){(!(ie.isUndefined(C)||C===null)&&s.call(e,C,ie.isString(O)?O.trim():O,S,x))===!0&&w(C,S?S.concat(O):[O])}),v.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return w(t),e}function wk(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function c_(t,e){this._pairs=[],t&&sy(t,this,e)}const IO=c_.prototype;IO.append=function(e,n){this._pairs.push([e,n])};IO.toString=function(e){const n=e?function(r){return e.call(this,r,wk)}:wk;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function qte(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function DO(t,e,n){if(!e)return t;const r=n&&n.encode||qte;ie.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=ie.isURLSearchParams(e)?e.toString():new c_(e,n).toString(r),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class _k{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(r){r!==null&&e(r)})}}const MO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hte=typeof URLSearchParams<"u"?URLSearchParams:c_,Gte=typeof FormData<"u"?FormData:null,Kte=typeof Blob<"u"?Blob:null,Yte={isBrowser:!0,classes:{URLSearchParams:Hte,FormData:Gte,Blob:Kte},protocols:["http","https","file","blob","url","data"]},u_=typeof window<"u"&&typeof document<"u",Sb=typeof navigator=="object"&&navigator||void 0,Wte=u_&&(!Sb||["ReactNative","NativeScript","NS"].indexOf(Sb.product)<0),Xte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qte=u_&&window.location.href||"http://localhost",Zte=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:u_,hasStandardBrowserEnv:Wte,hasStandardBrowserWebWorkerEnv:Xte,navigator:Sb,origin:Qte},Symbol.toStringTag,{value:"Module"})),tr={...Zte,...Yte};function Jte(t,e){return sy(t,new tr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return tr.isNode&&ie.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function ene(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tne(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function OO(t){function e(n,r,s,o){let l=n[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=n.length;return l=!l&&ie.isArray(s)?s.length:l,d?(ie.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!u):((!s[l]||!ie.isObject(s[l]))&&(s[l]=[]),e(n,r,s[l],o)&&ie.isArray(s[l])&&(s[l]=tne(s[l])),!u)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const n={};return ie.forEachEntry(t,(r,s)=>{e(ene(r),s,n,0)}),n}return null}function nne(t,e,n){if(ie.isString(t))try{return(e||JSON.parse)(t),ie.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const bf={transitional:MO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=ie.isObject(e);if(o&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return s?JSON.stringify(OO(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Jte(e,this.formSerializer).toString();if((u=ie.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return sy(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),nne(e)):e}],transformResponse:[function(e){const n=this.transitional||bf.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?We.from(u,We.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tr.classes.FormData,Blob:tr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{bf.headers[t]={}});const rne=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sne=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||e[n]&&rne[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Tk=Symbol("internals");function Md(t){return t&&String(t).trim().toLowerCase()}function _p(t){return t===!1||t==null?t:ie.isArray(t)?t.map(_p):String(t)}function ine(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const ane=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Jv(t,e,n,r,s){if(ie.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!ie.isString(e)){if(ie.isString(r))return e.indexOf(r)!==-1;if(ie.isRegExp(r))return r.test(e)}}function one(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function lne(t,e){const n=ie.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,l){return this[r].call(this,e,s,o,l)},configurable:!0})})}let Ar=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(u,d,h){const p=Md(d);if(!p)throw new Error("header name must be a non-empty string");const v=ie.findKey(s,p);(!v||s[v]===void 0||h===!0||h===void 0&&s[v]!==!1)&&(s[v||d]=_p(u))}const l=(u,d)=>ie.forEach(u,(h,p)=>o(h,p,d));if(ie.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(ie.isString(e)&&(e=e.trim())&&!ane(e))l(sne(e),n);else if(ie.isObject(e)&&ie.isIterable(e)){let u={},d,h;for(const p of e){if(!ie.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(d=u[h])?ie.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Md(e),e){const r=ie.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return ine(s);if(ie.isFunction(n))return n.call(this,s,r);if(ie.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Md(e),e){const r=ie.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Jv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(l){if(l=Md(l),l){const u=ie.findKey(r,l);u&&(!n||Jv(r,r[u],u,n))&&(delete r[u],s=!0)}}return ie.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||Jv(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return ie.forEach(this,(s,o)=>{const l=ie.findKey(r,o);if(l){n[l]=_p(s),delete n[o];return}const u=e?one(o):String(o).trim();u!==o&&delete n[o],n[u]=_p(s),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ie.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&ie.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Tk]=this[Tk]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=Md(l);r[u]||(lne(s,l),r[u]=!0)}return ie.isArray(e)?e.forEach(o):o(e),this}};Ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(Ar.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ie.freezeMethods(Ar);function ex(t,e){const n=this||bf,r=e||n,s=Ar.from(r.headers);let o=r.data;return ie.forEach(t,function(u){o=u.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function VO(t){return!!(t&&t.__CANCEL__)}function Au(t,e,n){We.call(this,t??"canceled",We.ERR_CANCELED,e,n),this.name="CanceledError"}ie.inherits(Au,We,{__CANCEL__:!0});function LO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new We("Request failed with status code "+n.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function cne(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function une(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),p=r[o];l||(l=h),n[s]=d,r[s]=h;let v=o,x=0;for(;v!==s;)x+=n[v++],v=v%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),h-l<e)return;const w=p&&h-p;return w?Math.round(x*1e3/w):void 0}}function dne(t,e){let n=0,r=1e3/e,s,o;const l=(h,p=Date.now())=>{n=p,s=null,o&&(clearTimeout(o),o=null),t.apply(null,h)};return[(...h)=>{const p=Date.now(),v=p-n;v>=r?l(h,p):(s=h,o||(o=setTimeout(()=>{o=null,l(s)},r-v)))},()=>s&&l(s)]}const cg=(t,e,n=3)=>{let r=0;const s=une(50,250);return dne(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-r,h=s(d),p=l<=u;r=l;const v={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&p?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(v)},n)},Ek=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Sk=t=>(...e)=>ie.asap(()=>t(...e)),hne=tr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,tr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(tr.origin),tr.navigator&&/(msie|trident)/i.test(tr.navigator.userAgent)):()=>!0,fne=tr.hasStandardBrowserEnv?{write(t,e,n,r,s,o){const l=[t+"="+encodeURIComponent(e)];ie.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ie.isString(r)&&l.push("path="+r),ie.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function mne(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function pne(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function UO(t,e,n){let r=!mne(e);return t&&(r||n==!1)?pne(t,e):e}const Ak=t=>t instanceof Ar?{...t}:t;function Dl(t,e){e=e||{};const n={};function r(h,p,v,x){return ie.isPlainObject(h)&&ie.isPlainObject(p)?ie.merge.call({caseless:x},h,p):ie.isPlainObject(p)?ie.merge({},p):ie.isArray(p)?p.slice():p}function s(h,p,v,x){if(ie.isUndefined(p)){if(!ie.isUndefined(h))return r(void 0,h,v,x)}else return r(h,p,v,x)}function o(h,p){if(!ie.isUndefined(p))return r(void 0,p)}function l(h,p){if(ie.isUndefined(p)){if(!ie.isUndefined(h))return r(void 0,h)}else return r(void 0,p)}function u(h,p,v){if(v in e)return r(h,p);if(v in t)return r(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,p,v)=>s(Ak(h),Ak(p),v,!0)};return ie.forEach(Object.keys(Object.assign({},t,e)),function(p){const v=d[p]||s,x=v(t[p],e[p],p);ie.isUndefined(x)&&v!==u||(n[p]=x)}),n}const BO=t=>{const e=Dl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=Ar.from(l),e.url=DO(UO(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(ie.isFormData(n)){if(tr.hasStandardBrowserEnv||tr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...p]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...p].join("; "))}}if(tr.hasStandardBrowserEnv&&(r&&ie.isFunction(r)&&(r=r(e)),r||r!==!1&&hne(e.url))){const h=s&&o&&fne.read(o);h&&l.set(s,h)}return e},gne=typeof XMLHttpRequest<"u",yne=gne&&function(t){return new Promise(function(n,r){const s=BO(t);let o=s.data;const l=Ar.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=s,p,v,x,w,T;function S(){w&&w(),T&&T(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let R=new XMLHttpRequest;R.open(s.method.toUpperCase(),s.url,!0),R.timeout=s.timeout;function C(){if(!R)return;const j=Ar.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),D={data:!u||u==="text"||u==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:j,config:t,request:R};LO(function(I){n(I),S()},function(I){r(I),S()},D),R=null}"onloadend"in R?R.onloadend=C:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(C)},R.onabort=function(){R&&(r(new We("Request aborted",We.ECONNABORTED,t,R)),R=null)},R.onerror=function(){r(new We("Network Error",We.ERR_NETWORK,t,R)),R=null},R.ontimeout=function(){let $=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const D=s.transitional||MO;s.timeoutErrorMessage&&($=s.timeoutErrorMessage),r(new We($,D.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,t,R)),R=null},o===void 0&&l.setContentType(null),"setRequestHeader"in R&&ie.forEach(l.toJSON(),function($,D){R.setRequestHeader(D,$)}),ie.isUndefined(s.withCredentials)||(R.withCredentials=!!s.withCredentials),u&&u!=="json"&&(R.responseType=s.responseType),h&&([x,T]=cg(h,!0),R.addEventListener("progress",x)),d&&R.upload&&([v,w]=cg(d),R.upload.addEventListener("progress",v),R.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(p=j=>{R&&(r(!j||j.type?new Au(null,t,R):j),R.abort(),R=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const O=cne(s.url);if(O&&tr.protocols.indexOf(O)===-1){r(new We("Unsupported protocol "+O+":",We.ERR_BAD_REQUEST,t));return}R.send(o||null)})},vne=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(h){if(!s){s=!0,u();const p=h instanceof Error?h:this.reason;r.abort(p instanceof We?p:new Au(p instanceof Error?p.message:p))}};let l=e&&setTimeout(()=>{l=null,o(new We(`timeout ${e} of ms exceeded`,We.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>ie.asap(u),d}},xne=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},bne=async function*(t,e){for await(const n of wne(t))yield*xne(n,e)},wne=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Rk=(t,e,n,r)=>{const s=bne(t,e);let o=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:p}=await s.next();if(h){u(),d.close();return}let v=p.byteLength;if(n){let x=o+=v;n(x)}d.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},iy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$O=iy&&typeof ReadableStream=="function",_ne=iy&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),FO=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Tne=$O&&FO(()=>{let t=!1;const e=new Request(tr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Ck=64*1024,Ab=$O&&FO(()=>ie.isReadableStream(new Response("").body)),ug={stream:Ab&&(t=>t.body)};iy&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ug[e]&&(ug[e]=ie.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new We(`Response type '${e}' is not supported`,We.ERR_NOT_SUPPORT,r)})})})(new Response);const Ene=async t=>{if(t==null)return 0;if(ie.isBlob(t))return t.size;if(ie.isSpecCompliantForm(t))return(await new Request(tr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(t)||ie.isArrayBuffer(t))return t.byteLength;if(ie.isURLSearchParams(t)&&(t=t+""),ie.isString(t))return(await _ne(t)).byteLength},Sne=async(t,e)=>{const n=ie.toFiniteNumber(t.getContentLength());return n??Ene(e)},Ane=iy&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:p,withCredentials:v="same-origin",fetchOptions:x}=BO(t);h=h?(h+"").toLowerCase():"text";let w=vne([s,o&&o.toAbortSignal()],l),T;const S=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let R;try{if(d&&Tne&&n!=="get"&&n!=="head"&&(R=await Sne(p,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),V;if(ie.isFormData(r)&&(V=D.headers.get("content-type"))&&p.setContentType(V),D.body){const[I,N]=Ek(R,cg(Sk(d)));r=Rk(D.body,Ck,I,N)}}ie.isString(v)||(v=v?"include":"omit");const C="credentials"in Request.prototype;T=new Request(e,{...x,signal:w,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:C?v:void 0});let O=await fetch(T,x);const j=Ab&&(h==="stream"||h==="response");if(Ab&&(u||j&&S)){const D={};["status","statusText","headers"].forEach(M=>{D[M]=O[M]});const V=ie.toFiniteNumber(O.headers.get("content-length")),[I,N]=u&&Ek(V,cg(Sk(u),!0))||[];O=new Response(Rk(O.body,Ck,I,()=>{N&&N(),S&&S()}),D)}h=h||"text";let $=await ug[ie.findKey(ug,h)||"text"](O,t);return!j&&S&&S(),await new Promise((D,V)=>{LO(D,V,{data:$,headers:Ar.from(O.headers),status:O.status,statusText:O.statusText,config:t,request:T})})}catch(C){throw S&&S(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,t,T),{cause:C.cause||C}):We.from(C,C&&C.code,t,T)}}),Rb={http:$te,xhr:yne,fetch:Ane};ie.forEach(Rb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kk=t=>`- ${t}`,Rne=t=>ie.isFunction(t)||t===null||t===!1,zO={getAdapter:t=>{t=ie.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let o=0;o<e;o++){n=t[o];let l;if(r=n,!Rne(n)&&(r=Rb[(l=String(n)).toLowerCase()],r===void 0))throw new We(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+o]=r}if(!r){const o=Object.entries(s).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(kk).join(`
`):" "+kk(o[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Rb};function tx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Au(null,t)}function Nk(t){return tx(t),t.headers=Ar.from(t.headers),t.data=ex.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),zO.getAdapter(t.adapter||bf.adapter)(t).then(function(r){return tx(t),r.data=ex.call(t,t.transformResponse,r),r.headers=Ar.from(r.headers),r},function(r){return VO(r)||(tx(t),r&&r.response&&(r.response.data=ex.call(t,t.transformResponse,r.response),r.response.headers=Ar.from(r.response.headers))),Promise.reject(r)})}const qO="1.10.0",ay={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ay[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const jk={};ay.transitional=function(e,n,r){function s(o,l){return"[Axios v"+qO+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(e===!1)throw new We(s(l," has been removed"+(n?" in "+n:"")),We.ERR_DEPRECATED);return n&&!jk[l]&&(jk[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};ay.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Cne(t,e,n){if(typeof t!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],l=e[o];if(l){const u=t[o],d=u===void 0||l(u,o,t);if(d!==!0)throw new We("option "+o+" must be "+d,We.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new We("Unknown option "+o,We.ERR_BAD_OPTION)}}const Tp={assertOptions:Cne,validators:ay},ri=Tp.validators;let Rl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _k,response:new _k}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Dl(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Tp.assertOptions(r,{silentJSONParsing:ri.transitional(ri.boolean),forcedJSONParsing:ri.transitional(ri.boolean),clarifyTimeoutError:ri.transitional(ri.boolean)},!1),s!=null&&(ie.isFunction(s)?n.paramsSerializer={serialize:s}:Tp.assertOptions(s,{encode:ri.function,serialize:ri.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Tp.assertOptions(n,{baseUrl:ri.spelling("baseURL"),withXsrfToken:ri.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&ie.merge(o.common,o[n.method]);o&&ie.forEach(["delete","get","head","post","put","patch","common"],T=>{delete o[T]}),n.headers=Ar.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(d=d&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let p,v=0,x;if(!d){const T=[Nk.bind(this),void 0];for(T.unshift.apply(T,u),T.push.apply(T,h),x=T.length,p=Promise.resolve(n);v<x;)p=p.then(T[v++],T[v++]);return p}x=u.length;let w=n;for(v=0;v<x;){const T=u[v++],S=u[v++];try{w=T(w)}catch(R){S.call(this,R);break}}try{p=Nk.call(this,w)}catch(T){return Promise.reject(T)}for(v=0,x=h.length;v<x;)p=p.then(h[v++],h[v++]);return p}getUri(e){e=Dl(this.defaults,e);const n=UO(e.baseURL,e.url,e.allowAbsoluteUrls);return DO(n,e.params,e.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(e){Rl.prototype[e]=function(n,r){return this.request(Dl(r||{},{method:e,url:n,data:(r||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function n(r){return function(o,l,u){return this.request(Dl(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Rl.prototype[e]=n(),Rl.prototype[e+"Form"]=n(!0)});let kne=class HO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(s);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,u){r.reason||(r.reason=new Au(o,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new HO(function(s){e=s}),cancel:e}}};function Nne(t){return function(n){return t.apply(null,n)}}function jne(t){return ie.isObject(t)&&t.isAxiosError===!0}const Cb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cb).forEach(([t,e])=>{Cb[e]=t});function GO(t){const e=new Rl(t),n=_O(Rl.prototype.request,e);return ie.extend(n,Rl.prototype,e,{allOwnKeys:!0}),ie.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return GO(Dl(t,s))},n}const an=GO(bf);an.Axios=Rl;an.CanceledError=Au;an.CancelToken=kne;an.isCancel=VO;an.VERSION=qO;an.toFormData=sy;an.AxiosError=We;an.Cancel=an.CanceledError;an.all=function(e){return Promise.all(e)};an.spread=Nne;an.isAxiosError=jne;an.mergeConfig=Dl;an.AxiosHeaders=Ar;an.formToJSON=t=>OO(ie.isHTMLForm(t)?new FormData(t):t);an.getAdapter=zO.getAdapter;an.HttpStatusCode=Cb;an.default=an;const{Axios:gse,AxiosError:yse,CanceledError:vse,isCancel:xse,CancelToken:bse,VERSION:wse,all:_se,Cancel:Tse,isAxiosError:Ese,spread:Sse,toFormData:Ase,AxiosHeaders:Rse,HttpStatusCode:Cse,formToJSON:kse,getAdapter:Nse,mergeConfig:jse}=an,_n=an.create({baseURL:"https://api-ppr-backend.onrender.com",timeout:2e4});let KO=!1,kb=[];const Pne=t=>{KO?t():kb.push(t)},YO=e1();YO.onAuthStateChanged(()=>{KO=!0,kb.forEach(t=>t()),kb=[]});_n.interceptors.request.use(async t=>new Promise(e=>{Pne(async()=>{const n=YO.currentUser;if(n)try{let r=await n.getIdToken();t.headers.Authorization=`Bearer ${r}`}catch(r){console.warn("⚠️ Failed to get Firebase token:",r.message)}e(t)})}),t=>Promise.reject(t));_n.interceptors.response.use(t=>t,async t=>{var r;const e=e1(),n=t.config;if(((r=t.response)==null?void 0:r.status)===401&&e.currentUser&&!n._retry){n._retry=!0;try{console.warn("🔄 Refreshing expired token...");const s=await e.currentUser.getIdToken(!0);return n.headers.Authorization=`Bearer ${s}`,_n(n)}catch(s){console.error("❌ Failed to refresh token:",s.message),window.location.href="/login"}}return Promise.reject(t)});const Ds={getMyProjects:(t,e)=>_n.get("/student/my-projects",{params:{studentId:t,department:e}}).then(n=>n.data.data),getProjectById:(t,e)=>_n.get(`/student/project/${t}/${e}`).then(n=>n.data.data),submitProject:t=>_n.post("/student/upload",t,{headers:{"Content-Type":"multipart/form-data"}}),projectUpdateData:t=>{const{projectId:e,...n}=t;return _n.patch(`/student/update/${e}`,n)},requestAccess:(t,e)=>_n.post(`/student/access-requests/${t}`,e),accessRequestHistory:(t,e)=>_n.get("/student/access-requests/history",{params:{studentId:t,department:e}}).then(n=>n.data.data),getPublicProjects:()=>_n.get("/student/explore").then(t=>t.data),activityLog:t=>_n.post("/activity/logs",t),deleteProject:t=>_n.delete(`/projects/${t}`)},Ine=({value:t,onChange:e,placeholder:n="Search..."})=>m.jsx("input",{type:"text",value:t,onChange:r=>e(r.target.value),placeholder:n,className:"px-3 py-2 w-40 md:w-64 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)/20] text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all "}),Dne=({value:t,onChange:e,statuses:n})=>m.jsx("div",{className:"flex flex-col flex-wrap justify-center items-start space-y-2",children:n.map(r=>m.jsx("button",{onClick:()=>e(r),className:`px-3 py-1 rounded-full text-xs font-medium transition-all
            ${t===r?"bg-blue-600 text-white shadow":"bg-gray-200/50 dark:bg-gray-700/50 text-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:r.charAt(0).toUpperCase()+r.slice(1)},r))}),ql=({searchQuery:t,onSearchChange:e,statusFilter:n,onStatusChange:r,showSearch:s=!0,showFilter:o=!0,showSort:l=!1,sortValue:u,onSortChange:d,statuses:h=["all","approved","pending","rejected"],onLogout:p,showMenuButton:v=!1})=>{const[x,w]=k.useState(!1),[T,S]=k.useState(!1),[R,C]=k.useState(!1),O=k.useRef(null),j=k.useRef(null),$=k.useRef(null);return k.useEffect(()=>{const D=V=>{O.current&&!O.current.contains(V.target)&&w(!1),j.current&&!j.current.contains(V.target)&&S(!1),$.current&&!$.current.contains(V.target)&&C(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]),m.jsxs("div",{className:"flex gap-2 md:flex-row md:items-center md:flex-wrap w-full md:w-auto relative",children:[s&&m.jsx("div",{className:"w-full sm:w-auto",children:m.jsx(Ine,{value:t,onChange:e,placeholder:"Search by title..."})}),o&&m.jsxs("div",{ref:O,className:"relative",children:[m.jsxs("button",{onClick:()=>w(D=>!D),className:"flex items-center gap-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:[m.jsx(g7,{className:"w-4 h-5"}),m.jsx("span",{className:"hidden md:block",children:"Filter"})]}),x&&m.jsx("div",{className:"absolute right-0 z-10 mt-2 p-2 bg-white/40 dark:bg-gray-800/40 border border-gray-200 dark:border-gray-700 rounded-lg shadow-md transition-all",children:m.jsx(Dne,{value:n,onChange:D=>{r(D),w(!1)},statuses:h})})]}),l&&m.jsxs("div",{ref:j,className:"relative",children:[m.jsxs("button",{onClick:()=>S(D=>!D),className:"hidden md:flex items-center gap-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:[m.jsx(Fz,{className:"w-4 h-4"}),m.jsx("span",{children:"Sort"})]}),T&&m.jsx("div",{className:"absolute right-0 z-10 mt-2 p-2 bg-white/40 dark:bg-gray-800/40 border border-gray-200 dark:border-gray-700 rounded-lg shadow-md transition-all",children:m.jsx("ul",{className:"space-y-1",children:[{label:"Newest",value:"newest"},{label:"Oldest",value:"oldest"},{label:"Title A-Z",value:"title_asc"},{label:"Title Z-A",value:"title_desc"}].map(D=>m.jsx("li",{children:m.jsx("button",{onClick:()=>{d(D.value),S(!1)},className:`block w-full text-left px-3 py-1 rounded-md text-sm ${u===D.value?"bg-blue-600 text-white":"hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200"}`,children:D.label})},D.value))})})]}),v&&m.jsxs("div",{ref:$,className:"relative md:hidden",children:[m.jsx("button",{onClick:()=>C(D=>!D),className:"flex items-center gap-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:m.jsx($7,{className:"w-5 h-5"})}),R&&m.jsx("div",{className:"absolute right-0 mt-7 w-36 bg-white/50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-20",children:m.jsxs("button",{onClick:p,className:"flex items-center gap-2 w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all",children:[m.jsx(Bg,{className:"w-4 h-4"}),"Logout"]})})]})]})},Mne=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),{currentUser:s}=Ut(),[o,l]=k.useState(""),[u,d]=k.useState("all"),[h,p]=k.useState("newest"),{userData:v}=xs(s==null?void 0:s.uid);k.useEffect(()=>{const w=async()=>{try{const T=await Ds.getMyProjects(v==null?void 0:v.studentId,v==null?void 0:v.department);e(T)}catch(T){console.error("Failed to fetch projects:",T)}finally{r(!1)}};v!=null&&v.studentId&&(v!=null&&v.department)&&w()},[v==null?void 0:v.studentId,v==null?void 0:v.department]);const x=t.filter(w=>u==="all"?!0:w.status===u).filter(w=>(w.title||"").toLowerCase().includes(o.toLowerCase())).sort((w,T)=>{var S,R,C,O,j,$,D,V;return h==="newest"?((R=(S=T.submittedAt)==null?void 0:S.toMillis)==null?void 0:R.call(S))-((O=(C=w.submittedAt)==null?void 0:C.toMillis)==null?void 0:O.call(C)):h==="oldest"?(($=(j=w.submittedAt)==null?void 0:j.toMillis)==null?void 0:$.call(j))-((V=(D=T.submittedAt)==null?void 0:D.toMillis)==null?void 0:V.call(D)):h==="title_asc"?w.title.localeCompare(T.title):h==="title_desc"?T.title.localeCompare(w.title):0});return m.jsxs("div",{className:"space-y-6 pb-2 md:pb-4",children:[m.jsx(on,{title:"My Projects",showBack:!0,rightContent:m.jsx(ql,{searchQuery:o,onSearchChange:l,statusFilter:u,onStatusChange:d,sortValue:h,onSortChange:p})}),n?m.jsx(gn,{}):x.length===0?m.jsx(Jg,{title:"No Projects Found",subtitle:"Try adjusting your filters or submit a new project!",children:m.jsxs(Pt,{to:"/student/projects/submit",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:[m.jsx(YP,{className:"w-4 h-4"}),"Submit New Project"]})}):m.jsx("div",{className:"grid sm:grid-cols-2 gap-4 px-4 md:px-6 my-10",children:x.map(w=>m.jsx(wO,{project:w},w.id))})]})},oy=({label:t,name:e,value:n,onChange:r,placeholder:s,rows:o=4,required:l=!1,readOnly:u=!1,error:d,disabled:h=!1,className:p=""})=>m.jsxs("div",{className:"mb-4 w-full",children:[t&&m.jsxs("label",{htmlFor:e,className:"block text-sm font-medium mb-1 dark:text-gray-200 text-gray-700",children:[t," ",l&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(He.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative",children:m.jsx("textarea",{id:e,name:e,value:n,onChange:r,placeholder:s,rows:o,disabled:h,required:l,readOnly:u,className:yt("w-full resize-none rounded-lg border px-4 py-2 text-sm shadow-sm transition duration-200","bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)/50] text-gray-900 border-gray-300 focus:border-blue-700 focus:ring-2 focus:ring-blue-200","dark:text-white dark:border-gray-700 dark:focus:border-blue-500 dark:focus:ring-blue-500",d&&"border-red-500 focus:border-red-500 focus:ring-red-200 dark:border-red-500 dark:focus:ring-red-400",h&&"bg-gray-100 cursor-not-allowed",p)})}),d&&m.jsx(He.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-500",children:d})]}),WO=()=>({uploadFile:async(e,n="projects")=>{const r=new FormData;r.append("file",e),r.append("folder",n);try{return{success:!0,url:(await Ds.submitProject(r)).data.url}}catch(s){return console.error("Upload error:",s),{success:!1,error:s}}}}),One=(t,e="PPR")=>{const n=t.toLowerCase().replace(/\s+/g,"-"),r=Date.now().toString().slice(-6),s=Math.floor(Math.random()*1e4).toString().padStart(6,"0");return`${n}-${r}-${e}-${s}`},Vne=async({projectId:t,projectTitle:e,performedByStudentId:n,performedByName:r,performedByRole:s,action:o,department:l,status:u})=>{try{const d={projectId:t,projectTitle:e,performedByStudentId:n,performedByName:r,performedByRole:s,action:o,department:l,status:u},h=await Ds.activityLog(d);h.data.success||console.warn("⚠️ Activity log not saved:",h.data.message)}catch(d){console.error("❌ Failed to send activity log:",d.message)}},d_=async({userData:t,action:e,project:n,status:r})=>{if(!t||!n){console.warn("Activity log skipped: missing user or project info");return}await Vne({projectId:n==null?void 0:n.projectId,projectTitle:(n==null?void 0:n.title)||(n==null?void 0:n.projectTitle),performedByStudentId:t==null?void 0:t.studentId,performedByName:t==null?void 0:t.fullName,performedByRole:t==null?void 0:t.role,action:e,department:(t==null?void 0:t.department)||"General",status:r||"pending"})},Lne=async(t,e,n,r)=>{try{const s=zr(Ft,"Projects",e,"projectSubmissions",n),o={...t,projectId:n,department:e,submittedAt:UP(),status:t.status||"pending"},l=u=>Object.fromEntries(Object.entries(u).filter(([d,h])=>h!==void 0));return await d_({userData:r,action:"Project submission",project:o,status:"pending"}),await VP(s,l(o)),{success:!0,projectId:n}}catch(s){return console.error("❌ Error creating project:",s.message),{success:!1,error:s}}},Une=()=>{const{notifySuccess:t,notifyError:e}=Po(),{currentUser:n,role:r,loading:s}=Ut(),o=qn(),{uploadFile:l}=WO(),u=new Date().getFullYear(),d=Array.from({length:u-2016},($,D)=>{const V=2017+D;return{value:V.toString(),label:V.toString()}}),[h,p]=k.useState({title:"",abstract:"",supervisor:"",projectYear:"",file:null}),[v,x]=k.useState(null),[w,T]=k.useState(!1),[S,R]=k.useState(!1);k.useEffect(()=>{(async()=>{if(n!=null&&n.uid)try{const D=zr(Ft,"Student",n.uid),V=await Ti(D);V.exists()&&x(V.data())}catch(D){console.error("Error fetching user data:",D)}})()},[n]);const C=$=>{const{name:D,value:V,files:I}=$.target;p(D==="file"?N=>({...N,file:I[0]||null}):N=>({...N,[D]:V}))},O=()=>{p($=>({...$,file:null}))},j=async($,D=!1)=>{var V;if($.preventDefault(),!h.title||!h.abstract||!h.supervisor||!h.projectYear){e("Please fill all required fields.");return}if(s)return m.jsx(gn,{});if(!n||r!=="student"){e("You're not authenticated.");return}try{D?R(!0):T(!0);let I=null;if(h.file){const z=await l(h.file,"project_files");if(!z.success)throw new Error("File upload failed");I=z.url}const N=(v==null?void 0:v.department)||"General",M=One(N),B={title:h.title,abstract:h.abstract,supervisor:h.supervisor,projectYear:h.projectYear,fileURL:I,status:D?"draft":"pending",submittedBy:(v==null?void 0:v.studentId)||n.uid,accessLevel:"public"},q=await Lne(B,N,M,v);if(q.success)t(D?"Project saved as draft.":"Project submitted!"),p({title:"",abstract:"",supervisor:"",projectYear:"",file:null}),o(-1,{replace:!0});else throw new Error(((V=q.error)==null?void 0:V.message)||"Project creation failed")}catch(I){console.error(I),e("Failed to submit project. Try again.")}finally{T(!1),R(!1)}};return m.jsxs("div",{className:"space-y-4 pb-4",children:[m.jsx(on,{to:"/student/projects",title:"Submit New Project",showBack:!0}),m.jsxs("form",{className:"space-y-5 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-4 rounded-lg shadow-md w-[90%] mx-auto mb-4 md:mb-0",onSubmit:$=>j($,!1),noValidate:!0,children:[m.jsx(fs,{label:"Project Title",name:"title",value:h.title,onChange:C,required:!0,placeholder:"Enter your project title"}),m.jsx(oy,{label:"Abstract",name:"abstract",rows:6,value:h.abstract,onChange:C,required:!0,placeholder:"Write a brief abstract"}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[m.jsx("div",{className:"flex-1",children:m.jsx(sh,{label:"Project Year",name:"projectYear",value:h.projectYear,onChange:C,options:[{value:"",label:"-- Select Project Year --"},...d],required:!0})}),m.jsx("div",{className:"flex-1",children:m.jsx(fs,{label:"Supervisor Name",name:"supervisor",value:h.supervisor,onChange:C,required:!0,placeholder:"Supervisor's full name"})})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium mb-2 dark:text-gray-200 text-gray-700",children:["Upload Project File"," ",m.jsx("span",{className:"text-gray-400 text-xs",children:"(DOC, DOCX)"})]}),m.jsx("div",{className:"relative flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-6 cursor-pointer hover:border-blue-500 transition-colors bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] overflow-hidden",onClick:()=>document.getElementById("fileInput").click(),role:"button",tabIndex:0,children:h.file?m.jsxs("div",{className:"flex items-center justify-between w-full max-w-md bg-white dark:bg-gray-900 rounded-md p-3 shadow-sm",children:[m.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate overflow-hidden",children:h.file.name?h.file.name.substring(0,25)+"...":"No file selected"}),m.jsx("button",{type:"button",onClick:O,className:"text-red-500 hover:text-red-600 focus:outline-none","aria-label":"Remove file",children:m.jsx(K1,{size:18})})]}):m.jsxs(m.Fragment,{children:[m.jsx(UR,{className:"text-blue-500 mb-2",size:36}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Click or drag & drop to upload file"}),m.jsx("input",{type:"file",id:"fileInput",name:"file",accept:".doc,.docx",onChange:C,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx(Ze,{type:"button",variant:"secondary",icon:m.jsx(ZP,{size:16}),onClick:$=>j($,!0),isLoading:S,disabled:w,children:"Save as Draft"}),m.jsx(Ze,{type:"submit",variant:"primary",icon:m.jsx(UR,{size:16}),isLoading:w,disabled:S,children:"Submit Project"})]})]})]})},Bne=()=>{const{currentUser:t}=Ut(),[e,n]=k.useState([]),[r,s]=k.useState(!0),{userData:o}=xs(t==null?void 0:t.uid);return k.useEffect(()=>{(async()=>{if(!(!(o!=null&&o.department)||!(o!=null&&o.studentId)))try{const u=ta(Ft,"Projects",o==null?void 0:o.department,"projectSubmissions"),d=fi(u,_i("submittedBy","==",o==null?void 0:o.studentId),_i("status","in",["draft","rejected","pending"])),p=(await ks(d)).docs.map(v=>({id:v.id,...v.data()}));n(p)}catch(u){console.error("Error fetching drafts:",u.message)}finally{s(!1)}})()},[o==null?void 0:o.department,o==null?void 0:o.studentId]),{drafts:e,loading:r}},$ne=()=>{const{drafts:t,loading:e}=Bne();return m.jsxs("div",{className:"pb-16 md:pb-4 space-y-4",children:[m.jsx(on,{title:"Drafts",backTo:"/student/projects",showBack:!0}),e?m.jsx(gn,{}):t.length===0?m.jsx("div",{className:"px-4 md:px-8",children:m.jsx(Jg,{title:"No Drafts Yet",description:"You haven't saved any projects as drafts. Start a new project and it will appear here if saved."})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 px-4 md:px-6",children:t.map(n=>m.jsx(wO,{project:n},n.id))})]})},Pk={pending:{icon:m.jsx(Ri,{size:16,className:"text-yellow-500"}),badge:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",border:"border-yellow-400"},approved:{icon:m.jsx(Fl,{size:16,className:"text-green-500"}),badge:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",border:"border-green-500"},rejected:{icon:m.jsx(xa,{size:16,className:"text-red-500"}),badge:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",border:"border-red-500"}},Fne=t=>{if(!t)return null;try{const e=t.seconds??t._seconds;if(!e)return null;const n=new Date(e*1e3);return isNaN(n.getTime())?null:Eu(n,"PPpp")}catch{return null}},zne=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),{currentUser:s}=Ut(),{userData:o}=xs(s==null?void 0:s.uid);return k.useEffect(()=>{(async()=>{try{if(!(o!=null&&o.studentId)||!(o!=null&&o.department))return;const u=await Ds.accessRequestHistory(o.studentId,o.department);e(u)}catch(u){console.error("Failed to fetch access requests",u)}finally{r(!1)}})()},[o==null?void 0:o.studentId,o==null?void 0:o.department]),m.jsxs("div",{className:"space-y-6 pb-2 md:pb-4",children:[m.jsx(on,{title:"Access Request History",showBack:!0}),n?m.jsx(gn,{}):t.length===0?m.jsx(Jg,{title:"No Access Requests Yet",description:"You haven’t made any access requests for restricted projects."}):m.jsx("div",{className:"space-y-4 px-4 md:px-8",children:t.map(l=>m.jsx("div",{className:"grid sm:grid-cols-2 gap-4 px-4 md:px-6 my-10",children:l.history&&l.history.length>0?l.history.map((u,d)=>{const{icon:h,badge:p,border:v}=Pk[u.status]||Pk.pending;return m.jsx("div",{className:`border-l-4 ${v} rounded-xl p-4 bg-white dark:bg-[var(--color-dark-surface)] shadow mb-3`,children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:u.projectTitle}),m.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Status:"," ",m.jsx("span",{className:"font-medium capitalize",children:u.status})]}),m.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Requested at:"," ",m.jsx("span",{className:"font-medium",children:Fne(u.requestedAt)})]})]}),m.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium capitalize ${p}`,children:[h,u.status]})]})},`${l.id}-${d}`)}):m.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic",children:"No history available"})},l.id))})]})},qne=({open:t,onClose:e,project:n})=>{const{currentUser:r}=Ut(),s=qn(),{userData:o}=xs(r==null?void 0:r.uid),{notifySuccess:l,notifyError:u}=Po(),[d,h]=k.useState(""),[p,v]=k.useState(!1);if(!t)return null;const x=async()=>{var w;if(!d.trim()){u("Please provide a reason for your request.");return}if(!(n!=null&&n.projectId)){u("Invalid project. Please try again.");return}if(n.department!==(o==null?void 0:o.department)){u("You can only request access to projects in your department.");return}try{v(!0);const T={projectId:n.projectId,projectTitle:n.title,requestedBy:o==null?void 0:o.studentId,department:o==null?void 0:o.department,status:"pending",requestReason:d.trim()};await Ds.requestAccess(n.projectId,T),await d_({userData:o,action:"Requesting access to project",project:n,status:"pending"}),l("Access request sent successfully!"),h(""),e(),s(-1,{replace:!0})}catch(T){console.error(T),((w=T==null?void 0:T.response)==null?void 0:w.status)===400?u(T.response.data.message):u("Something went wrong. Please try again.")}finally{v(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/10 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900/50 rounded-xl p-6 w-full max-w-md shadow-lg",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(u7,{className:"text-gray-700 dark:text-white",size:20}),m.jsx("h2",{className:"text-lg md:text-xl font-semibold dark:text-white",children:"Request Access"})]}),m.jsx("p",{className:"text-sm md:text-md text-gray-600 dark:text-gray-300 mb-4",children:"Please explain why you need access to this project."}),m.jsx(oy,{value:d,onChange:w=>h(w.target.value),placeholder:"Write your reason..."}),m.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[m.jsx(Ze,{onClick:e,disabled:p,variant:"outline",children:"Cancel"}),m.jsx(Ze,{onClick:x,disabled:p,children:p?"Sending...":"Send Request"})]})]})})},Ik=()=>{const{id:t,department:e}=zh(),{currentUser:n}=Ut(),{userData:r}=xs(n==null?void 0:n.uid),[s,o]=k.useState(null),[l,u]=k.useState(!1),[d,h]=k.useState(!0),[p,v]=k.useState([]),[x,w]=k.useState(!1),T={public:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-900/20",owner:"text-blue-700 bg-blue-100 dark:text-blue-400 dark:bg-blue-900/20",restricted:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-900/20"},S=(s==null?void 0:s.admissionNumber)===(r==null?void 0:r.admissionNumber),R=(r==null?void 0:r.staffRole)==="academic",C=S?"owner":(s==null?void 0:s.accessLevel)??"public",O=C==="public"||S||R||x;return k.useEffect(()=>{(async()=>{const $=e||(r==null?void 0:r.department);if(!(!t||!$))try{const D=await Ds.getProjectById($,t);if(D&&o({...D,title:D.title||"Untitled Project",abstract:D.abstract||"No abstract provided.",supervisor:D.supervisor||"N/A",fileURL:D.fileURL||"",department:D.department||"N/A",projectYear:D.projectYear||"N/A"}),!e)return;const V=await Ds.accessRequestHistory(r==null?void 0:r.studentId,$);v(V||[]);const I=V==null?void 0:V.some(N=>N.projectId===t&&N.status==="approved");w(I)}catch(D){console.error("Error fetching project or access requests:",D)}finally{h(!1)}})()},[e,r,t]),m.jsxs(m.Fragment,{children:[m.jsx(on,{title:"View Project",backTo:"/student/projects/my",showBack:!0}),d||!r||!s?m.jsx(gn,{}):m.jsx("main",{className:"flex justify-center px-4 mt-8",children:m.jsxs("div",{className:"w-full max-w-4xl space-y-4 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6 md:p-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] transition-all",children:[m.jsxs("div",{className:"flex justify-between items-start bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm text-gray-600 dark:text-gray-100 md:text-lg font-semibold",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Rr,{className:"text-blue-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Title:"})," ",s.title]})]}),m.jsxs("span",{title:S?"You are the owner of this project":C==="restricted"?"Restricted access — request required":"This project is public",className:yt("px-3 py-1 text-xs rounded-full font-semibold capitalize shadow-sm whitespace-nowrap inline-flex items-center gap-1",T[C]),children:[C==="restricted"?m.jsx(ba,{className:"size-4"}):m.jsx(vs,{className:"size-4"}),C]})]}),x&&C==="restricted"&&m.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 font-medium",children:[m.jsx(KP,{className:"w-4 h-4"}),"Access request approved — you can now download the file."]}),m.jsxs("div",{className:"flex flex-col gap-4 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-4 rounded-xl shadow-sm text-gray-600 dark:text-gray-100",children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Mt,{className:"text-fuchsia-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Abstract:"})," ",s.abstract]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(To,{className:"text-purple-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Supervisor:"})," ",s.supervisor]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Eh,{className:"text-amber-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Project Year:"})," ",s.projectYear]})]})]}),m.jsx("div",{className:"pt-2 w-full flex justify-end",children:O?m.jsx("a",{href:s.fileURL,target:"_blank",rel:"noopener noreferrer",download:`${s.title}.docx`,"aria-label":`Download project "${s.title}" as Word Document`,children:m.jsx(Ze,{variant:"primary",icon:m.jsx(Lg,{className:"size-4 mr-1"}),children:"Download DOC"})}):m.jsx(Ze,{variant:"primary",type:"button",onClick:()=>u(!0),"aria-label":"Request access to download project file",icon:m.jsx(j7,{className:"w-4 h-4"}),children:"Request Access"})})]})}),m.jsx(qne,{open:l,onClose:()=>u(!1),project:s})]})},Hne=()=>{const{notifySuccess:t,notifyError:e}=Po(),{currentUser:n,loading:r}=Ut(),{uploadFile:s}=WO(),{id:o}=zh(),l=qn(),u=new Date().getFullYear(),d=Array.from({length:u-2016},($,D)=>{const V=2017+D;return{value:V.toString(),label:V.toString()}}),[h,p]=k.useState({title:"",abstract:"",supervisor:"",projectYear:"",fileURL:"",department:""}),{userData:v,loading:x}=xs(r?null:n==null?void 0:n.uid),[w,T]=k.useState(null),[S,R]=k.useState(!1);k.useEffect(()=>{(async()=>{if(!(!(v!=null&&v.department)||!o))try{const D=await Ds.getProjectById(v.department,o);D&&p(V=>({...V,...D,title:(D==null?void 0:D.title)||"",abstract:(D==null?void 0:D.abstract)||"",supervisor:(D==null?void 0:D.supervisor)||"",projectYear:(D==null?void 0:D.projectYear)||"",fileURL:(D==null?void 0:D.fileURL)||"",department:(D==null?void 0:D.department)||""}))}catch(D){console.error("Error fetching project:",D)}})()},[v==null?void 0:v.department,o]);const C=$=>{const{name:D,value:V,files:I}=$.target;D==="file"?T(I[0]):p(N=>({...N,[D]:V}))},O=()=>{T(null)},j=async $=>{if($.preventDefault(),!h.title||!h.abstract||!h.supervisor){e("Please fill all required fields.");return}try{R(!0);let D=h.fileURL;if(w&&typeof w!="string"){const N=await s(w,"project_files");if(!N.success)throw new Error("File upload failed");D=N.url}const V={...h,fileURL:D,status:["draft","rejected"].includes(h.status)?"pending":h.status,rejectionReason:["draft","rejected"].includes(h.status)?"":h.rejectionReason||"",projectId:o};(await Ds.projectUpdateData(V)).data.success?(await d_({user:n,action:"updated project",project:h}),t("Project updated successfully!"),l("/student/projects/drafts",{replace:!0})):e("Failed to update project.")}catch(D){console.error("Update error:",D.message),e("An error occurred while updating the project.")}finally{R(!1)}};return m.jsxs("div",{className:"space-y-6",children:[m.jsx(on,{title:"Edit Project",backTo:"/student/projects/my",showBack:!0}),r||x?m.jsx(gn,{}):m.jsxs("form",{onSubmit:j,className:"space-y-6 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-4 rounded-lg shadow-md w-[90%] mx-auto",children:[m.jsx(fs,{label:"Project Title",name:"title",value:h.title,onChange:C,required:!0}),m.jsx(oy,{label:"Abstract",name:"abstract",value:h.abstract,onChange:C,rows:6,required:!0}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[m.jsx("div",{className:"flex-1",children:m.jsx(sh,{label:"Project Year",name:"projectYear",value:h.projectYear,onChange:C,options:d,required:!0})}),m.jsx("div",{className:"flex-1",children:m.jsx(fs,{label:"Supervisor Name",name:"supervisor",value:h.supervisor,onChange:C,required:!0,placeholder:"Supervisor's full name"})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-200 text-gray-700",children:"Project File (DOC, DOCX)"}),m.jsxs("div",{className:"relative flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-6 cursor-pointer hover:border-blue-500 transition-colors bg-gray-50 dark:bg-gray-800",onClick:()=>document.getElementById("fileInput").click(),role:"button",tabIndex:0,children:[w?m.jsxs("div",{className:"flex items-center justify-between w-full max-w-md bg-white dark:bg-gray-900 rounded-md p-3 shadow-sm",children:[m.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:w.name}),m.jsx("button",{type:"button",onClick:O,className:"text-red-500 hover:text-red-600 focus:outline-none","aria-label":"Remove file",children:m.jsx(K1,{size:18})})]}):m.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:h.fileURL?m.jsxs(m.Fragment,{children:["Current file: ",h.fileURL.split("/").pop()]}):"Click to upload a new file (optional)"}),m.jsx("input",{type:"file",id:"fileInput",name:"file",accept:".doc,.docx",onChange:C,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsx(Ze,{type:"submit",variant:"primary",icon:m.jsx(ZP,{size:16}),isLoading:S,disabled:h.status==="pending",children:h.status==="draft"?"Save Changes":"Update Project"})})]})]})},Dk={public:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-800/30",restricted:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-800/30"},Gne=({project:t})=>{const{id:e,title:n,abstract:r,department:s,projectYear:o,accessLevel:l}=t,u={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.3,staggerChildren:.1,delayChildren:.2}}},d={public:m.jsx(z1,{className:"w-4 h-4 mr-1"}),restricted:m.jsx(ba,{className:"w-4 h-4 mr-1"})};return m.jsxs(lo.div,{initial:"hidden",animate:"visible",variants:u,className:yt("h-fit rounded-xl border-l-3 p-5 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",{"border-l-green-500 dark:border-l-green-500":l==="public","border-l-red-500 dark:border-l-red-500":l==="restricted"}),children:[m.jsxs("div",{className:"flex flex-col justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex justify-between items-center w-full bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm ",children:[m.jsxs("div",{className:"flex items-start text-lg font-semibold text-gray-800 dark:text-white capitalize gap-2",children:[m.jsx("div",{className:"pt-1 text-gray-600 dark:text-white min-h-full w-fit size-6 md:size-8",children:m.jsx(Rr,{})}),m.jsx("h2",{className:"break-words",children:n})]}),m.jsxs("div",{className:"relative group",children:[m.jsxs("span",{className:yt("px-3 py-1 text-xs rounded-full font-medium capitalize shadow-sm whitespace-nowrap inline-flex items-center",Dk[l]||Dk.public),children:[d[l],l]}),m.jsx("div",{className:"absolute z-10 hidden group-hover:flex w-max bg-gray-800 text-white text-xs rounded-md px-2 py-1 mt-1 left-1/2 -translate-x-1/2 shadow-lg",children:l==="public"?"Anyone can view this project":"Restricted — request required for full access"})]})]}),m.jsxs("div",{className:"flex flex-col justify-center items-start w-full mt-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-3 rounded-xl space-y-3 shadow-sm",children:[m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(Mt,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Abstract:"}),m.jsx("span",{children:r?r.slice(0,40)+"...":"N/A"})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(zl,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Department:"}),m.jsx("span",{children:s})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($l,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:" Project Year:"}),m.jsx("span",{children:o})]})]})]}),m.jsx("div",{className:"flex justify-end gap-3 mt-4",children:m.jsxs(Pt,{to:`/student/explore/view/${s}/${e}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[m.jsx(vs,{size:16}),"View Details"]})})]})},Kne=()=>{var v;const[t,e]=k.useState(""),[n,r]=k.useState("all"),[s,o]=k.useState([]),[l,u]=k.useState(!0),{currentUser:d}=Ut();k.useEffect(()=>{const x=async()=>{try{const w=await Ds.getPublicProjects(d==null?void 0:d.uid);o(w.projects||[])}catch(w){console.error("Fetch projects error:",w.message)}finally{u(!1)}};d!=null&&d.uid&&x()},[d]);const h=(v=s==null?void 0:s.filter(x=>n==="all"?!0:x.accessLevel===n))==null?void 0:v.filter(x=>(x.title||"").toLowerCase().includes(t.toLowerCase())),p=x=>{let w=[...s];x==="title_asc"?w.sort((T,S)=>T.title.localeCompare(S.title)):x==="title_desc"?w.sort((T,S)=>S.title.localeCompare(T.title)):x==="newest"?w.sort((T,S)=>new Date(S.submittedAt)-new Date(T.submittedAt)):x==="oldest"&&w.sort((T,S)=>new Date(T.submittedAt)-new Date(S.submittedAt)),o(w)};return m.jsxs("div",{className:"pb-16 md:pb-4 space-y-6",children:[m.jsx(on,{title:"Explore Projects",rightContent:m.jsx(ql,{searchQuery:t,onSearchChange:e,statusFilter:n,onStatusChange:r,onSortChange:p,statuses:["all","public","restricted"]})}),l?m.jsx(gn,{}):h.length===0?m.jsx(Jg,{title:"No Projects Found",description:"Try adjusting your filters or search terms."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 px-4 md:px-6 pb-12 md:pb-0",children:h.map(x=>m.jsx(Gne,{project:x},x.id))})]})},XO=()=>{const{currentUser:t,role:e}=Ut(),[n,r]=k.useState(null),[s,o]=k.useState(!0);return k.useEffect(()=>{if(!t||!e){o(!1);return}(async()=>{try{const h=zr(Ft,e==="student"?"Student":"Lecturer",t.uid),p=await Ti(h);p.exists()&&r(p.data())}catch(d){console.error("Error fetching profile:",d)}finally{o(!1)}})()},[t,e]),{profile:n,loading:s,updateProfile:async u=>{if(!t||!e)return;const h=zr(Ft,e==="student"?"Student":"Lecturer",t.uid);await ZF(h,u),r(p=>({...p,...u}))}}},QO=({profile:t,role:e})=>{if(!t)return m.jsx("p",{children:"No profile data available"});const n=e==="student"?"student":e==="lecturer"&&t.staffType==="non-academic"?"staff":"lecturer";return m.jsx(m.Fragment,{children:m.jsx("main",{className:"flex justify-center px-4 mt-8 ",children:m.jsxs("div",{className:"w-full md:max-w-3xl space-y-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6 md:p-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] transition-all capitalize",children:[m.jsxs("div",{className:"flex items-center gap-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-2 py-4 rounded-xl shadow-sm",children:[m.jsx(pO,{name:(t==null?void 0:t.displayName)||"User",size:75}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 dark:text-gray-100",children:t.fullName}),m.jsxs("p",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 text-xs md:text-md",children:[m.jsx(U7,{className:"w-4 h-4 text-blue-500"}),t.email]}),m.jsx("p",{className:"mt-1 inline-block px-3 py-1 text-xs rounded-full font-semibold capitalize shadow-sm bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:n})]})]}),m.jsxs("div",{className:"flex flex-col gap-3 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-4 rounded-xl shadow-sm",children:[m.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Details"}),m.jsx("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:e==="student"?m.jsxs(m.Fragment,{children:[m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(WP,{className:"w-4 h-4 text-purple-500"}),m.jsxs("span",{children:["Matric No: ",t.admissionNumber||"-"]})]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(LR,{className:"w-4 h-4 text-amber-500"}),m.jsxs("span",{children:["Faculty: ",t.faculty||"-"]})]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(Px,{className:"w-4 h-4 text-green-500"}),m.jsxs("span",{children:["Department: ",t.department||"-"]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(To,{className:"w-4 h-4 text-purple-500"}),m.jsxs("span",{children:["Staff Role: ",t.staffType||"-"]})]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(LR,{className:"w-4 h-4 text-amber-500"}),m.jsxs("span",{children:["Faculty: ",t.faculty||"-"]})]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(Px,{className:"w-4 h-4 text-green-500"}),m.jsxs("span",{children:["Department: ",t.department||"-"]})]})]})})]})]})})})},Yne=()=>{const{role:t}=Ut(),{profile:e,loading:n}=XO(),r=qn();return m.jsxs(m.Fragment,{children:[m.jsx(on,{title:"Profile",rightContent:m.jsx(ql,{showSearch:!1,showFilter:!1,showMenuButton:!0,onLogout:()=>{Is.signOut(),r("/login")}})}),n?m.jsx(gn,{}):m.jsx(QO,{profile:e,role:t})]})},Wne=()=>{const t=qn(),[e,n]=k.useState(!1),r=[{name:"Dashboard",to:"/lecturer/dashboard",icon:sf},{name:"Projects",to:"/lecturer/projects",icon:Mt},{name:"Explore",to:"/lecturer/explore",icon:Rr},{name:"Profile",to:"/lecturer/profile",icon:G1}],s=async()=>{await Is.signOut(),t("/login",{replace:!0})};return m.jsxs(He.div,{initial:{x:-300},animate:{x:0},transition:{type:"spring",stiffness:80,damping:18},className:"hidden lg:flex fixed top-0 left-0 h-screen w-64 flex-col border-r-2 border-gray-200 dark:border-gray-700 z-50 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",children:[m.jsx("div",{className:"flex h-16 items-center justify-between px-4",children:m.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🎓 PPR Lecturer"})}),m.jsx("nav",{className:"flex-1 py-6 space-y-2",children:r.map(({name:o,to:l,icon:u})=>m.jsxs(Ol,{to:l,className:({isActive:d})=>yt("flex items-center gap-3 px-4 py-3 rounded-sm text-lg font-medium transition-colors duration-150",d?"bg-blue-900/20 text-blue-600 hover:bg-blue-50 focus:ring-blue-500 dark:text-blue-400 dark:hover:bg-blue-900/40":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[m.jsx(u,{className:"w-6 h-6"}),o]},o))}),m.jsx(Ze,{onClick:()=>n(!0),variant:"danger",fullWidth:!0,icon:m.jsx(Bg,{size:20}),className:"justify-start gap-1",size:"lg",children:"Logout"}),m.jsx(o_,{isOpen:e,onClose:()=>n(!1),title:"Confirm Logout",showFooter:!0,footerContent:m.jsxs(m.Fragment,{children:[m.jsx(Ze,{variant:"secondary",onClick:()=>n(!1),children:"Cancel"}),m.jsx(Ze,{variant:"danger",onClick:s,children:"Logout"})]}),children:m.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Are you sure you want to log out of your account?"})})]})},Xne=()=>{const t=[{name:"Home",to:"/lecturer/dashboard",icon:sf},{name:"Project",to:"/lecturer/projects",icon:Mt},{name:"Explore",to:"/lecturer/explore",icon:af},{name:"Profile",to:"/lecturer/profile",icon:To}];return m.jsx("nav",{className:"fixed bottom-0 inset-x-0 z-50 lg:hidden border-t border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-gray-900/70 backdrop-blur",children:m.jsx("div",{className:"flex justify-around items-center h-16",children:t.map(e=>{const n=e.icon;return m.jsx(Ol,{to:e.to,className:({isActive:r})=>yt("flex flex-col items-center justify-center px-3 py-1 rounded-md transition-all",r?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400"),children:({isActive:r})=>m.jsxs(m.Fragment,{children:[m.jsx(n,{className:"w-5 h-5 mb-0.5"}),r&&m.jsx("span",{className:"text-xs font-medium",children:e.name})]})},e.name)})})})},Qne=()=>{const[t,e]=k.useState(!1),n=()=>{e(!t)};return m.jsx("div",{children:m.jsxs("div",{className:"bg-ppr-animated min-h-screen transition-colors duration-200",children:[m.jsx(Xne,{toggleSidebar:n}),m.jsxs("div",{className:"flex",children:[m.jsx(Wne,{isOpen:t,setIsOpen:e}),m.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 lg:pl-64",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsx(Vb,{})})})]})]})})},Zne=({title:t,value:e,icon:n,bgColor:r})=>m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h3",{className:"text-md md:text-lg font-semibold text-black dark:text-white",children:t}),m.jsx("span",{className:`p-2 rounded-full ${r}`,children:m.jsx(n,{className:"h-5 w-5 text-white"})})]}),m.jsx("p",{className:"text-2xl font-bold text-black dark:text-white",children:e})]}),Jne=t=>t?typeof(t==null?void 0:t.toDate)=="function"?t.toDate():typeof t=="number"?new Date(t):typeof t=="string"?new Date(t):null:null,ere=({projects:t=[]})=>{const[e,n]=k.useState([]),[r,s]=k.useState(!0);return k.useEffect(()=>{if(!t.length){n([]),s(!1);return}(async()=>{s(!0);try{const l=t.filter(d=>(d.status||"").toLowerCase()==="pending"),u=await Promise.all(l.map(async d=>{if(!d.submittedBy)return{...d,studentName:"Unknown"};const h=zr(Ft,"Student",d.submittedBy),p=await Ti(h);return{...d,studentName:p.exists()?p.data().fullName:"Unknown"}}));n(u)}catch(l){console.error("Error fetching student data for submissions:",l)}finally{s(!1)}})()},[t]),m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm h-fit",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h2",{className:"text-md md:text-lg font-semibold text-black dark:text-white flex items-center gap-2",children:[m.jsx(Mt,{size:18,className:"text-blue-500"}),"Recent Submissions"]}),m.jsx(Pt,{to:"/lecturer/projects/submissions",className:"text-xs md:text-sm text-indigo-600 hover:text-indigo-800 hover:underline",children:"View All"})]}),r?m.jsx("div",{className:"space-y-4",children:[...Array(5)].map((o,l)=>m.jsxs("div",{className:"animate-pulse flex items-center justify-between p-3 border rounded-lg",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-1"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/4"})]}),m.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-full w-20"})]},l))}):e.length===0?m.jsx("p",{className:"text-gray-500 text-sm",children:"No recent submissions found."}):m.jsx("ul",{className:"divide-y divide-gray-100",children:e.map(o=>{const l=Jne(o.submittedAt),u=l?Zg(l,{addSuffix:!0}):"N/A";return m.jsx("li",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/30 cursor-pointer transition-colors duration-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[m.jsxs("h3",{className:"text-sm font-medium text-black dark:text-white truncate flex items-center gap-1",children:[m.jsx(H1,{size:16,className:"text-emerald-500"}),m.jsx("span",{className:"truncate",children:o.studentName})]}),m.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300 mt-1 flex items-center gap-1",children:[m.jsx(Mt,{size:16,className:"text-purple-500"}),o.title]}),m.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[m.jsx(Ri,{size:16,className:"text-yellow-500"}),u]})]}),m.jsx(Pt,{to:`/lecturer/projects/submissions/view/${o.id}`,className:"inline-flex items-center justify-center px-3 py-1.5 text-xs md:text-sm font-medium rounded-lg bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 dark:hover:bg-green-800 dark:bg-green-700 dark:text-white dark:border-green-800 transition",children:"Review"})]})},o.id)})})]})},tre=t=>t?typeof(t==null?void 0:t.toDate)=="function"?t.toDate():typeof t=="number"?new Date(t):typeof t=="string"?new Date(t):null:null,nre=({requests:t=[]})=>{const[e,n]=k.useState([]),[r,s]=k.useState(!0);return k.useEffect(()=>{if(!t.length){n([]),s(!1);return}(async()=>{s(!0);try{const l=t.filter(d=>d.status==="pending"),u=await Promise.all(l.map(async d=>{if(!d.requestedBy)return{...d,studentName:"Unknown"};const h=zr(Ft,"Student",d.requestedBy),p=await Ti(h);return{...d,studentName:p.exists()?p.data().fullName:"Unknown"}}));n(u)}catch(l){console.error("Error fetching student data for access requests:",l)}finally{s(!1)}})()},[t]),m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-5 md:p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 h-fit",children:[m.jsxs("div",{className:"flex justify-between items-center mb-5",children:[m.jsxs("h2",{className:"text-base md:text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[m.jsx(ba,{size:18,className:"text-purple-500"}),"Pending Access Requests"]}),m.jsx(Pt,{to:"/lecturer/projects/access-requests-review",className:"text-xs md:text-sm text-indigo-600 hover:text-indigo-800 hover:underline",children:"View All"})]}),r?m.jsx("div",{className:"space-y-4",children:[...Array(5)].map((o,l)=>m.jsxs("div",{className:"animate-pulse flex items-center justify-between p-3 border rounded-lg",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-1"}),m.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/4"})]}),m.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-full w-20"})]},l))}):e.length===0?m.jsx("p",{className:"text-gray-500 text-sm",children:"No recent access request found."}):m.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:e.map(o=>{const l=tre(o.requestedAt),u=l?Zg(l,{addSuffix:!0}):"N/A";return m.jsx("li",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/30 cursor-pointer transition-colors duration-200",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("h3",{className:"text-sm font-medium text-black dark:text-white truncate flex items-center gap-1",children:[m.jsx(H1,{size:16,className:"text-emerald-500"}),m.jsx("span",{className:"truncate",children:o.studentName})]}),m.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300 mt-1 flex items-center gap-1",children:[m.jsx(Mt,{size:16,className:"text-purple-500"}),o.projectTitle]}),m.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[m.jsx(Ri,{size:16,className:"text-yellow-500"}),u]})]}),m.jsx(Pt,{to:`/lecturer/projects/access-request/view/${o.projectId}`,className:"inline-flex items-center justify-center px-3 py-1.5 text-xs md:text-sm font-medium rounded-lg bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 dark:hover:bg-green-800 dark:bg-green-700 dark:text-white dark:border-green-800 transition",children:"Review"})]})},o.id)})})]})},rre=()=>m.jsxs("div",{className:"bg-white/50 dark:bg-gray-900/50 p-6 rounded-lg shadow-sm",children:[m.jsx("h2",{className:"text-lg font-medium text-black dark:text-white mb-6",children:"Quick Actions"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx(Pt,{to:"/lecturer/projects/submissions",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:"📂 View All Projects"}),m.jsx(Pt,{to:"/lecturer/projects/access-requests-review",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:"📝 Manage Access Requests"}),m.jsx(Pt,{to:"/lecturer/projects/activity-logs",className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition",children:"📊 View Activity Logs"})]})]}),sre=()=>{var x;const[t,e]=k.useState({pendingReviews:0,approvedProjects:0,rejectedProjects:0,accessRequests:0}),[n,r]=k.useState(!0),[s,o]=k.useState([]),[l,u]=k.useState([]),{currentUser:d}=Ut(),{userData:h}=wa(d==null?void 0:d.uid),p=((x=h==null?void 0:h.staffType)==null?void 0:x.toLowerCase())==="academic";k.useEffect(()=>{if(!(h!=null&&h.department))return;(async()=>{r(!0);try{const S=(await ks(ta(Ft,`Projects/${h.department}/projectSubmissions`))).docs.map(z=>z.data()),R=S.filter(z=>(z.status||"").toLowerCase()==="pending").length,C=S.filter(z=>(z.status||"").toLowerCase()==="approved").length,O=S.filter(z=>(z.status||"").toLowerCase()==="rejected").length,D=(await ks(fi(ta(Ft,`Projects/${h.department}/accessRequests`),_i("status","==","pending")))).docs.map(z=>z.data()).length,V=fi(ta(Ft,`Projects/${h.department}/projectSubmissions`),Yp("submittedAt","desc"),Th(10)),N=(await ks(V)).docs.map(z=>({id:z.id,...z.data()})),M=fi(ta(Ft,`Projects/${h.department}/accessRequests`),Yp("requestedAt","desc"),Th(10)),q=(await ks(M)).docs.map(z=>({id:z.id,...z.data()}));e({pendingReviews:R,approvedProjects:C,rejectedProjects:O,accessRequests:D}),o(N),u(q)}catch(T){console.error("Error fetching lecturer dashboard stats:",T)}finally{r(!1)}})()},[h]);const v=[{title:"Pending Reviews",value:t.pendingReviews,icon:Ri,bgColor:"bg-yellow-500"},{title:"Approved Projects",value:t.approvedProjects,icon:Fl,bgColor:"bg-green-500"},{title:"Rejected Projects",value:t.rejectedProjects,icon:xa,bgColor:"bg-red-500"},{title:"Access Requests",value:t.accessRequests,icon:ba,bgColor:"bg-purple-500"}];return m.jsxs("div",{className:"space-y-6",children:[m.jsx(on,{title:"Dashboard"}),n?m.jsx(gn,{}):m.jsxs("div",{className:"space-y-4 pb-12 md:pb-0",children:[m.jsx("h1",{className:"text-2xl font-semibold text-black dark:text-white px-3",children:"Dashboard Overview"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 px-3",children:v.map((w,T)=>m.jsx(Zne,{...w},T))}),p&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 px-3 mt-4",children:[m.jsx(ere,{projects:s}),m.jsx(nre,{requests:l})]}),m.jsx("div",{className:"grid grid-cols-1 gap-6 px-3 pb-8",children:m.jsx(rre,{})})]})]})]})},ire=[{title:"Project Submissions",description:"Review, approve, or reject submitted student projects in your department.",to:"/lecturer/projects/submissions",icon:Mt,bg:"bg-amber-600 dark:bg-amber-500"},{title:"Access Requests",description:"Manage requests for access to restricted department projects.",to:"/lecturer/projects/access-requests-review",icon:k7,bg:"bg-cyan-600 dark:bg-cyan-500"},{title:"Activity Logs",description:"View logs of approvals, rejections, and user actions.",to:"/lecturer/projects/activity-logs",icon:XP,bg:"bg-violet-500 dark:bg-violet-400"}],are=()=>{var s;const{currentUser:t}=Ut(),{userData:e,loading:n}=wa(t==null?void 0:t.uid),r=((s=e==null?void 0:e.staffType)==null?void 0:s.toLowerCase())==="academic";return m.jsxs("div",{className:"space-y-4",children:[m.jsx(on,{title:"Projects"}),m.jsx("div",{className:"px-4 pb-12 md:pb-0",children:n?m.jsx(gn,{}):r?m.jsx("div",{className:"flex flex-col divide-y divide-gray-400 dark:divide-gray-700 divide-solid",children:ire.map(({title:o,description:l,to:u,icon:d,bg:h})=>m.jsx(Pt,{to:u,className:"group rounded-lg bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] p-5 shadow-sm hover:shadow-md transition-all duration-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${h} text-white group-hover:scale-105 transition-transform`,children:m.jsx(d,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-base font-semibold text-gray-800 dark:text-white",children:o}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l})]})]}),m.jsx("span",{className:"text-gray-400 group-hover:text-blue-600 transition",children:">"})]})},o))}):m.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-6 flex items-start gap-3",children:[m.jsx(J7,{className:"w-6 h-6 text-red-500 mt-0.5"}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-red-700 dark:text-red-400",children:"Access Restricted"}),m.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:"Only academic staff can view and review project submissions and access requests."})]})]})})]})},ore={approved:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-900/20",pending:"text-yellow-700 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/20",rejected:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-900/20",draft:"text-purple-700 bg-purple-100 dark:text-purple-300 dark:bg-purple-800/50"},lre={draft:m.jsx(Ug,{className:"size-4 md:size-5 mr-1"}),pending:m.jsx(Ri,{className:"size-4 md:size-5 mr-1"}),approved:m.jsx(B1,{className:"size-4 md:size-5 mr-1"}),rejected:m.jsx(xa,{className:"size-4 md:size-5 mr-1"})},cre=({project:t})=>{const{id:e,title:n,department:r,status:s="pending",abstract:o,submittedAt:l,projectYear:u}=t,h=(v=>{if(!v)return null;try{const x=v.seconds??v._seconds;if(!x)return null;const w=new Date(x*1e3);return isNaN(w.getTime())?null:Eu(w,"PPpp")}catch{return null}})(l)||"N/A",p={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.3,staggerChildren:.1,delayChildren:.2}}};return m.jsxs(He.div,{initial:"hidden",animate:"visible",variants:p,className:yt("h-fit rounded-xl border-l-3 p-5 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",{"border-l-purple-500 dark:border-l-purple-500":s==="draft","border-l-red-500 dark:border-l-red-500":s==="rejected","border-l-yellow-500 dark:border-l-yellow-500":s==="pending","border-l-green-500 dark:border-l-green-500":s==="approved"}),children:[m.jsxs("div",{className:"flex flex-col justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex justify-between items-center w-full bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm",children:[m.jsxs("div",{className:"flex items-start text-lg font-semibold text-gray-800 dark:text-white capitalize gap-2",children:[m.jsx("div",{className:"pt-1 text-gray-600 dark:text-white min-h-full w-fit size-6 md:size-8",children:m.jsx(Rr,{})}),m.jsx("h2",{className:"break-words",children:n})]}),m.jsxs("span",{className:yt("px-3 py-1 text-xs md:text-md rounded-full font-medium capitalize shadow-sm whitespace-nowrap flex items-center",ore[s]),children:[lre[s],s]})]}),m.jsxs("div",{className:"flex flex-col justify-center items-start w-full mt-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-3 rounded-xl space-y-3 shadow-sm",children:[m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(Mt,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Abstract:"}),m.jsx("span",{children:o?o.slice(0,40)+"...":"N/A"})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(zl,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Department:"}),m.jsx("span",{children:r})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($l,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Project Year:"}),m.jsx("span",{children:u})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($1,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Submitted At:"}),m.jsx("span",{children:h})]})]})]}),m.jsx("div",{className:"flex justify-end gap-3 mt-4",children:m.jsxs(Pt,{to:`/lecturer/projects/submissions/view/${e}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[m.jsx(vs,{size:16}),"View"]})})]})},ly=({title:t="No Data Found",subtitle:e="Looks like there's nothing here yet.",icon:n=F1,children:r=null})=>m.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-16 px-6 mx-4 md:mx-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] border border-dashed border-gray-200 dark:border-gray-700 rounded-lg shadow-sm",children:[m.jsx("div",{className:"mb-4",children:m.jsx(n,{className:"w-12 h-12 text-gray-400 dark:text-gray-600"})}),m.jsx("h2",{className:"text-lg font-semibold text-gray-700 dark:text-gray-100",children:t}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-4",children:e}),r&&m.jsx("div",{className:"mt-4",children:r})]}),Fr={getDepartmentSubmissions:t=>_n.get(`/lecturer/submissions/${t}`).then(e=>e.data.data),getProjectById:(t,e)=>_n.get(`/lecturer/project/${t}/${e}`).then(n=>n.data.data),updateSubmissionStatus:(t,e)=>_n.patch(`/lecturer/submissions/${t}`,e),getAccessRequests:t=>_n.get(`/lecturer/access-requests/${t}`).then(e=>e.data.data),reviewAccessRequest:t=>_n.patch("/lecturer/access-requests/review",t),getActivityLogs:t=>_n.get(`/lecturer/activity-logs/${t}`).then(e=>e.data.data),activityLog:t=>_n.post("/activity/logs",t)},ure=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),{currentUser:s}=Ut(),[o,l]=k.useState(""),[u,d]=k.useState("all"),[h,p]=k.useState("newest"),{userData:v}=wa(s==null?void 0:s.uid);k.useEffect(()=>{const w=async()=>{try{const T=await Fr.getDepartmentSubmissions(v==null?void 0:v.department);e(T),console.log(T)}catch(T){console.error("Failed to fetch submissions:",T)}finally{r(!1)}};v!=null&&v.department&&w()},[v==null?void 0:v.department]);const x=t.filter(w=>u==="all"?!0:w.status===u).filter(w=>(w.title||"").toLowerCase().includes(o.toLowerCase())).sort((w,T)=>{var S,R,C,O,j,$,D,V;return h==="newest"?((R=(S=T.submittedAt)==null?void 0:S.toMillis)==null?void 0:R.call(S))-((O=(C=w.submittedAt)==null?void 0:C.toMillis)==null?void 0:O.call(C)):h==="oldest"?(($=(j=w.submittedAt)==null?void 0:j.toMillis)==null?void 0:$.call(j))-((V=(D=T.submittedAt)==null?void 0:D.toMillis)==null?void 0:V.call(D)):h==="title_asc"?w.title.localeCompare(T.title):h==="title_desc"?T.title.localeCompare(w.title):0});return m.jsxs("div",{className:"space-y-6 pb-2 md:pb-4",children:[m.jsx(on,{title:"Department Submissions",showBack:!0,rightContent:m.jsx(ql,{searchQuery:o,onSearchChange:l,statusFilter:u,onStatusChange:d,sortValue:h,onSortChange:p})}),n?m.jsx(gn,{}):x.length===0?m.jsx(ly,{title:"No Submissions Available",subtitle:"There are no student submissions yet. You can check back later."}):m.jsx("div",{className:"grid sm:grid-cols-2 gap-4 px-4 md:px-6",children:x.map(w=>m.jsx(cre,{project:w},w.id))})]})},Mk={public:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-800/30",restricted:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-800/30"},dre=({project:t})=>{const{id:e,title:n,abstract:r,department:s,projectYear:o,accessLevel:l}=t,u={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.3,staggerChildren:.1,delayChildren:.2}}},d={public:m.jsx(z1,{className:"w-4 h-4 mr-1"}),restricted:m.jsx(ba,{className:"w-4 h-4 mr-1"})};return m.jsxs(lo.div,{initial:"hidden",animate:"visible",variants:u,className:yt("h-fit rounded-xl border-l-3 p-5 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",{"border-l-green-500 dark:border-l-green-500":l==="public","border-l-red-500 dark:border-l-red-500":l==="restricted"}),children:[m.jsxs("div",{className:"flex flex-col justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex justify-between items-center w-full bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm ",children:[m.jsxs("div",{className:"flex items-start text-lg font-semibold text-gray-800 dark:text-white capitalize gap-2",children:[m.jsx("div",{className:"pt-1 text-gray-600 dark:text-white min-h-full w-fit size-6 md:size-8",children:m.jsx(Rr,{})}),m.jsx("h2",{className:"break-words",children:n})]}),m.jsxs("div",{className:"relative group",children:[m.jsxs("span",{className:yt("px-3 py-1 text-xs rounded-full font-medium capitalize shadow-sm whitespace-nowrap inline-flex items-center",Mk[l]||Mk.public),children:[d[l],l]}),m.jsx("div",{className:"absolute z-10 hidden group-hover:flex w-max bg-gray-800 text-white text-xs rounded-md px-2 py-1 mt-1 left-1/2 -translate-x-1/2 shadow-lg",children:l==="public"?"Anyone can view this project":"Restricted — request required for full access"})]})]}),m.jsxs("div",{className:"flex flex-col justify-center items-start w-full mt-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-3 rounded-xl space-y-3 shadow-sm",children:[m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(Mt,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Abstract:"}),m.jsx("span",{children:r?r.slice(0,40)+"...":"N/A"})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(zl,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Department:"}),m.jsx("span",{children:s})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($l,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:" Project Year:"}),m.jsx("span",{children:o})]})]})]}),m.jsx("div",{className:"flex justify-end gap-3 mt-4",children:m.jsxs(Pt,{to:`/lecturer/explore/view/${e}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[m.jsx(vs,{size:16}),"View Details"]})})]})},hre=()=>{var v;const[t,e]=k.useState(""),[n,r]=k.useState("all"),[s,o]=k.useState([]),[l,u]=k.useState(!0),{currentUser:d}=Ut(),{userData:h}=wa(d==null?void 0:d.uid);k.useEffect(()=>{const x=async()=>{try{const w=await Ds.getPublicProjects(d==null?void 0:d.uid);o(w.projects||[])}catch(w){console.error("Fetch projects error:",w)}finally{u(!1)}};d!=null&&d.uid&&x()},[d]);const p=(v=s==null?void 0:s.filter(x=>n==="all"?!0:x.accessLevel===n))==null?void 0:v.filter(x=>(x.title||"").toLowerCase().includes(t.toLowerCase()));return m.jsxs("div",{className:"pb-16 md:pb-4 space-y-6",children:[m.jsx(on,{title:"Explore Projects",rightContent:m.jsx(ql,{searchQuery:t,onSearchChange:e,statusFilter:n,onStatusChange:r,showSort:!0,statuses:["all","public","restricted"]})}),l?m.jsx(gn,{}):p.length===0?m.jsx(ly,{title:"No Projects Found",description:"Try adjusting your filters or search terms."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pb-12 md:pb-0",children:p.map(x=>m.jsx(dre,{project:x,lecturerData:h,hasApprovedRequest:x.accessStatus==="approved"},x.projectId))})]})},fre=(t,e,n)=>{const[r,s]=k.useState(null),[o,l]=k.useState(!0),[u,d]=k.useState(null),[h,p]=k.useState(null),[v,x]=k.useState(null),[w,T]=k.useState(null),S=(h==null?void 0:h.submittedBy)||(h==null?void 0:h.requestedBy),{userData:R}=xs(S);return k.useEffect(()=>{(async()=>{if(!(!t||!e||!n))try{l(!0);let O={};if(t==="submission"){const j=await Fr.getProjectById(e,n);if(!j)throw new Error("Submission not found");T(j),O=j}else if(t==="access-request"){const j=await Fr.getProjectById(e,n),D=(await Fr.getAccessRequests(e)).find(V=>V.projectId===n);if(!D)throw new Error("Access request not found");O={...j,...D},x(D)}if(!O)throw new Error("No data found");p(O)}catch(O){d(O),console.error("useReviewProject error:",O)}finally{l(!1)}})()},[t,e,n]),k.useEffect(()=>{if(!h||!R)return;const C={type:t,id:h.accessRequestId,projectId:h.projectId,projectTitle:h.title||h.projectTitle||"Untitled Project",abstract:h.abstract||"No abstract provided.",supervisor:h.supervisor||"N/A",fileURL:h.fileURL||null,projectYear:h.projectYear||"N/A",department:h.department||e,studentInfo:{fullName:(R==null?void 0:R.fullName)||"Unknown",admissionNumber:(R==null?void 0:R.admissionNumber)||"Unknown",uid:R==null?void 0:R.studentId},status:h.status||"pending",submittedAt:h.submittedAt||null,requestedAt:h.requestedAt||null,requestReason:h.requestReason||""};s(C)},[t,h,e,R]),{data:r,loading:o,error:u,requestData:v,projectData:w}},mre=async({projectId:t,projectTitle:e,performedByLecturerId:n,performedByName:r,performedByRole:s,action:o,department:l,status:u})=>{try{const d={projectId:t,projectTitle:e,performedByLecturerId:n,performedByName:r,performedByRole:s,action:o,department:l,status:u},h=await Fr.activityLog(d);h.data.success||console.warn("⚠️ Activity log not saved:",h.data.message)}catch(d){console.error("❌ Failed to send activity log:",d.message)}},dg=async({lecturerData:t,action:e,project:n,status:r})=>{if(!t||!n){console.warn("Activity log skipped: missing user or project info");return}console.log(t,n,e,r),await mre({projectId:n==null?void 0:n.projectId,projectTitle:n==null?void 0:n.title,performedByLecturerId:t==null?void 0:t.lecturerId,performedByName:t==null?void 0:t.fullName,performedByRole:t==null?void 0:t.role,action:e,department:t==null?void 0:t.department,status:r})},ZO=({open:t,onClose:e,project:n,lecturerData:r,type:s,title:o,description:l,submitText:u})=>{const d=qn(),{notifySuccess:h,notifyError:p}=Po(),[v,x]=k.useState(""),[w,T]=k.useState(!1);if(!t)return null;console.log("RejectModel project:",n);const S=async()=>{if(!v.trim()){p("Please provide a reason for rejection.");return}try{if(T(!0),s==="submission"){const C={updateStatus:"rejected",submissionRejectionReason:v.trim(),supervisedBy:r.lecturerId,accessLevel:"public",...n};await Fr.updateSubmissionStatus("rejected",C),await dg({lecturerData:r,action:"Submission Rejected",project:{projectId:n==null?void 0:n.projectId,projectTitle:n==null?void 0:n.title,studentId:n==null?void 0:n.studentId},status:"rejected"})}else if(s==="access-request"){const C={accessRequestId:n==null?void 0:n.id,department:n==null?void 0:n.department,updateStatus:"rejected",requestRejectionReason:v.trim(),respondedBy:r.lecturerId};await Fr.reviewAccessRequest(C),await dg({lecturerData:r,action:"Access Request Rejected",project:{projectId:n==null?void 0:n.projectId,projectTitle:n==null?void 0:n.projectTitle,studentId:n==null?void 0:n.requestedBy},status:"rejected"})}h("Rejected successfully!"),x(""),e(),d(-1,{replace:!0})}catch(C){console.error("❌ Error rejecting:",C),p("Something went wrong. Please try again.")}finally{T(!1)}},R=()=>{x(""),e()};return m.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"reject-modal-title",className:"fixed inset-0 z-50 flex items-center justify-center bg-black/10 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-[var(--color-dark-surface)] rounded-xl p-6 w-full max-w-md shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold mb-2 dark:text-white",children:o}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:l}),m.jsx(oy,{value:v,onChange:C=>x(C.target.value),placeholder:"Enter your reason..."}),m.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[m.jsx(Ze,{onClick:R,disabled:w,variant:"outline",children:"Cancel"}),m.jsx(Ze,{onClick:S,disabled:w,variant:"danger",children:w?"Rejecting...":u})]})]})})},pre=({onClose:t,children:e,title:n})=>m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-[var(--color-surface)] dark:bg-gray-900 rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[m.jsx("button",{className:"absolute top-4 right-4 text-red-500 hover:text-red-800 dark:hover:text-red-600",onClick:t,children:m.jsx(K1,{className:"w-5 h-5"})}),n&&m.jsx("h2",{children:n}),m.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-sm space-y-3",children:e})]})}),Ok=()=>{const{id:t}=zh(),n=ma().pathname.includes("access")?"access-request":"submission",r=qn(),{currentUser:s}=Ut(),{userData:o}=wa(s==null?void 0:s.uid),{data:l,loading:u,requestData:d,projectData:h}=fre(n,o==null?void 0:o.department,t),[p,v]=k.useState("public"),[x,w]=k.useState(!1),[T,S]=k.useState(!1),[R,C]=k.useState(!1),{notifySuccess:O,notifyError:j}=Po(),$=M=>{v(B=>B===M?"public":M)},D=async()=>{C(!0);try{n==="submission"?(await Fr.updateSubmissionStatus("approved",{...h,accessLevel:p,updateStatus:"approved",supervisedBy:o==null?void 0:o.lecturerId}),await dg({lecturerData:o,action:"Submission approved",project:{projectId:l==null?void 0:l.projectId,projectTitle:l==null?void 0:l.title},status:"approved"})):(await Fr.reviewAccessRequest({...d,updateStatus:"approved",respondedBy:o==null?void 0:o.lecturerId}),await dg({lecturerData:o,action:"Access request approved",project:{projectId:l==null?void 0:l.projectId,projectTitle:l==null?void 0:l.title},status:"approved"})),O("Approved successfully!"),r(-1)}catch(M){console.error(M),j("Failed to approve")}finally{C(!1)}},V=M=>{if(!M||typeof M!="object")return"N/A";const B=M.seconds??M._seconds,q=new Date(B*1e3);return isNaN(q.getTime())?"N/A":Eu(q,"PPpp")},I=n==="access-request"?l==null?void 0:l.requestedAt:l==null?void 0:l.submittedAt,N=V(I);return console.log("Project Data:",l),m.jsxs(m.Fragment,{children:[m.jsx(on,{title:`View ${n==="submission"?"Submission":"Access Request"}`,showBack:!0}),u||!l?m.jsx(gn,{}):m.jsx("main",{className:"flex justify-center px-4 mb-20 mt-8",children:m.jsx("div",{className:"w-full max-w-3xl space-y-4 border rounded-xl p-6 md:p-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",children:m.jsxs("div",{className:"flex flex-col gap-3 text-sm text-gray-700 dark:text-gray-100",children:[m.jsxs("div",{className:"bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(To,{className:"text-orange-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Name:"})," ",l.studentInfo.fullName]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(zl,{className:"text-emerald-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Admission Number:"})," ",l.studentInfo.admissionNumber]})]})]}),m.jsxs("div",{className:"bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm space-y-3",children:[n==="access-request"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Rr,{className:"text-indigo-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Title:"})," ",l.projectTitle]})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Mt,{className:"text-fuchsia-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Abstract:"})," ",l.abstract]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Eh,{className:"text-amber-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Requested At:"})," ",N]})]})]}),n==="submission"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Mt,{className:"text-sky-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Abstract:"})," ",l.abstract]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(To,{className:"text-indigo-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Supervisor:"})," ",l.supervisor]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Eh,{className:"text-purple-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Project Year:"})," ",l.projectYear]})]})]})]}),m.jsxs("div",{className:"bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm space-y-3",children:[n==="access-request"&&m.jsx("div",{className:"flex flex-col gap-1",children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("strong",{className:"text-green-600 font-bold",children:"Reason:"}),m.jsx("span",{children:l.requestReason})]})}),n==="submission"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{className:"text-md font-semibold",children:"Access Level"}),m.jsx("button",{onClick:()=>S(!0),children:m.jsx(S7,{className:"w-4 h-4 text-gray-500 cursor-pointer"})})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"radio",name:"access",value:"public",checked:p==="public",onChange:()=>$("public")}),m.jsx("span",{children:"Public"})]}),m.jsxs("label",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"radio",name:"access",value:"restricted",checked:p==="restricted",onChange:()=>$("restricted")}),m.jsx("span",{children:"Restricted"})]})]})]})]}),m.jsxs("div",{className:"flex flex-wrap justify-end gap-4 pt-4",children:[l.fileURL?m.jsx("a",{href:l.fileURL,target:"_blank",rel:"noopener noreferrer",children:m.jsx(Ze,{variant:"primary",icon:m.jsx(Lg,{className:"size-4 mr-1"}),children:"Download DOC"})}):m.jsx(Ze,{variant:"primary",disabled:!0,children:"DOC Not Available"}),m.jsx(Ze,{variant:"success",onClick:D,disabled:R,icon:m.jsx(Fl,{className:"text-white w-4 h-4"}),children:R?"Processing...":"Approve"}),m.jsx(Ze,{variant:"danger",onClick:()=>w(!0),disabled:R,icon:m.jsx(xa,{className:"text-white w-4 h-4"}),children:"Reject"})]})]})})}),m.jsx(ZO,{open:x,onClose:()=>w(!1),project:l,lecturerData:o,type:n,title:`Reject ${n==="submission"?"Project Submission":"Access Request"}`,description:`Please provide a reason for rejecting this ${n==="submission"?"project":"request"}.`,submitText:`Reject ${n==="submission"?"Submission":"Request"}`}),T&&m.jsxs(pre,{open:T,onClose:()=>S(!1),children:[m.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-gray-100",children:"Access Level Explanation"}),m.jsxs("p",{children:[m.jsx("strong",{children:"Public"}),": Anyone can view and download this project."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Restricted"}),": Only abstract is visible. Full DOC requires request and approval."]})]})]})},gre=()=>{const{id:t}=zh(),{currentUser:e}=Ut(),{userData:n}=wa(e==null?void 0:e.uid),[r,s]=k.useState(null),[o,l]=k.useState(!0),u={public:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-900/20",restricted:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-900/20"},d=(n==null?void 0:n.staffType)==="academic",h=(n==null?void 0:n.department)===(r==null?void 0:r.department),p=(r==null?void 0:r.accessLevel)==="public"||d&&h;return k.useEffect(()=>{(async()=>{if(!(!t||!(n!=null&&n.department)))try{const x=await Fr.getProjectById(n.department,t);x&&(s({...x,title:x.title||"Untitled Project",abstract:x.abstract||"No abstract provided.",supervisor:x.supervisor||"N/A",fileURL:x.fileURL||"",department:x.department||"N/A",projectYear:x.projectYear||"N/A"}),console.log("Project data:",x.fileURL))}catch(x){console.error("Error fetching project:",x)}finally{l(!1)}})()},[n,t]),m.jsxs(m.Fragment,{children:[m.jsx(on,{title:"View Project",backTo:"/lecturer/explore",showBack:!0}),o||!r?m.jsx(gn,{}):m.jsx("main",{className:"flex justify-center px-4 mt-8",children:m.jsxs("div",{className:"w-full max-w-4xl space-y-4 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6 md:p-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] transition-all",children:[m.jsxs("div",{className:"flex justify-between items-start bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm text-gray-600 dark:text-gray-100 md:text-lg font-semibold",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Rr,{className:"text-blue-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Title:"})," ",r.title]})]}),m.jsxs("span",{title:r.accessLevel==="restricted"?"Restricted access — only staff in same department can download":"This project is public",className:yt("px-3 py-1 text-xs rounded-full font-semibold capitalize shadow-sm whitespace-nowrap inline-flex items-center gap-1",u[r.accessLevel]),children:[r.accessLevel==="restricted"?m.jsx(ba,{className:"size-4"}):m.jsx(vs,{className:"size-4"}),r.accessLevel]})]}),p&&r.accessLevel==="restricted"&&m.jsxs("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium flex items-center gap-2",children:[m.jsx(KP,{className:"w-4 h-4"}),"You're a lecturer in this department"]}),m.jsxs("div",{className:"flex flex-col gap-4 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-4 rounded-xl shadow-sm text-gray-600 dark:text-gray-100",children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Mt,{className:"text-fuchsia-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Abstract:"})," ",r.abstract]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(To,{className:"text-purple-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Supervisor:"})," ",r.supervisor]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Eh,{className:"text-amber-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Project Year:"})," ",r.projectYear]})]})]}),m.jsx("div",{className:"pt-2 w-full flex justify-end",children:p&&r.fileURL?m.jsx("a",{href:r.fileURL,target:"_blank",rel:"noopener noreferrer",download:`${r.title}.pdf`,"aria-label":`Download project "${r.title}" as PDF`,children:m.jsx(Ze,{variant:"primary",icon:m.jsx(Lg,{className:"size-4 mr-1"}),children:"Download PDF"})}):null})]})})]})},yre={approved:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-900/20",pending:"text-yellow-700 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/20",rejected:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-900/20",draft:"text-purple-700 bg-purple-100 dark:text-purple-300 dark:bg-purple-800/50"},vre={draft:m.jsx(Ug,{className:"size-4 md:size-5 mr-1"}),pending:m.jsx(Ri,{className:"size-4 md:size-5 mr-1"}),approved:m.jsx(B1,{className:"size-4 md:size-5 mr-1"}),rejected:m.jsx(xa,{className:"size-4 md:size-5 mr-1"})},xre=({request:t,lecturer:e})=>{const[n,r]=k.useState(!1),{projectId:s,requestedAt:o,projectTitle:l,requestReason:u,status:d="pending",requestedBy:h}=t,{userData:p}=xs(h),x=(w=>{if(!w)return"N/A";try{const T=w.seconds??w._seconds,S=new Date(T*1e3);return isNaN(S.getTime())?"N/A":Eu(S,"PPpp")}catch{return"N/A"}})(o);return m.jsxs(He.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.3},className:yt("h-fit rounded-xl border-l-3 p-5 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",{"border-l-purple-500 dark:border-l-purple-500":d==="draft","border-l-red-500 dark:border-l-red-500":d==="rejected","border-l-yellow-500 dark:border-l-yellow-500":d==="pending","border-l-green-500 dark:border-l-green-500":d==="approved"}),children:[m.jsxs("div",{className:"flex flex-col justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex justify-between items-center w-full bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm",children:[m.jsxs("div",{className:"flex items-start text-lg font-semibold text-gray-800 dark:text-white capitalize gap-2",children:[m.jsx("div",{className:"pt-1 text-gray-600 dark:text-white min-h-full w-fit size-6 md:size-8",children:m.jsx(Rr,{})}),m.jsx("h2",{className:"break-words",children:l})]}),m.jsxs("span",{className:yt("px-3 py-1 text-xs md:text-md rounded-full font-medium capitalize shadow-sm whitespace-nowrap flex items-center",yre[d]),children:[vre[d],d]})]}),m.jsxs("div",{className:"flex flex-col justify-center items-start w-full mt-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-3 rounded-xl space-y-3 shadow-sm",children:[m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(Mt,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Reason:"}),m.jsx("span",{className:"whitespace-pre-line",children:u})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(zl,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Student:"}),m.jsx("span",{children:p==null?void 0:p.fullName})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($l,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Requested At:"}),m.jsx("span",{children:x})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($1,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Admission Number:"}),m.jsx("span",{children:p==null?void 0:p.admissionNumber})]})]})]}),m.jsx("div",{className:"flex justify-end gap-3 mt-4",children:m.jsxs(Pt,{to:`/lecturer/projects/access-request/view/${s}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[m.jsx(vs,{size:16}),"View"]})}),n&&m.jsx(ZO,{open:n,onClose:()=>r(!1),project:t,lecturerData:e,type:"access-request",title:"Reject Access Request",description:"Please provide a reason for rejecting this access request.",submitText:"Reject Request"})]})},bre=()=>{const{currentUser:t}=Ut(),[e,n]=k.useState([]),[r,s]=k.useState(!0),{userData:o}=wa(t==null?void 0:t.uid);return k.useEffect(()=>{const l=async()=>{if(o!=null&&o.department)try{const u=await Fr.getAccessRequests(o.department);n(u||[])}catch(u){console.error("Error loading requests:",u.message)}finally{s(!1)}};o!=null&&o.department&&l()},[o==null?void 0:o.department]),m.jsxs("div",{className:"space-y-4",children:[m.jsx(on,{title:"Access Requests",showBack:!0}),r?m.jsx(gn,{}):e.length===0?m.jsx(ly,{title:"No access requests yet."}):m.jsx("div",{className:"grid sm:grid-cols-2 gap-4 px-4 md:px-6",children:e.map(l=>m.jsx(xre,{request:l,lecturer:o},l.id))})]})},wre=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),{currentUser:s}=Ut(),{userData:o}=wa(s==null?void 0:s.uid);k.useEffect(()=>{const d=async()=>{try{const h=await Fr.getActivityLogs(o.department),p=await Promise.all(h.map(async v=>{if(v.projectId)try{const x=await Fr.getProjectById(o.department,v.projectId);return{...v,projectTitle:(x==null?void 0:x.title)||v.projectId}}catch{return{...v,projectTitle:v.projectId}}return v}));e(p)}catch(h){console.error("Error fetching logs:",h)}finally{r(!1)}};o!=null&&o.department&&d()},[o==null?void 0:o.department]);const l=d=>{if(!d)return"N/A";try{const h=d.seconds??d._seconds,p=new Date(h*1e3);return isNaN(p.getTime())?"Invalid Date":Eu(p,"PPpp")}catch{return"Invalid Date"}},u=d=>d==="Student"?m.jsx(WP,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}):m.jsx(H1,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"});return m.jsxs("div",{className:"space-y-6 pb-2 md:pb-4",children:[m.jsx(on,{title:"Department Activity Logs",showBack:!0}),n?m.jsx(gn,{}):t.length===0?m.jsx(ly,{title:"No Activity Logs Available",subtitle:"There are no logs for your department yet. Actions by students and lecturers will appear here."}):m.jsx("div",{className:"grid sm:grid-cols-2 gap-4 px-4 md:px-6",children:t.map(d=>m.jsxs("div",{className:"border-l-3 border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-[var(--color-dark-surface)] shadow-sm space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-800 dark:text-gray-200",children:[u(d.performedByRole),m.jsx("span",{className:"font-medium",children:d.performedByName}),m.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",d.performedByRole,")"]})]}),m.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[m.jsx(T7,{className:"size-4 mt-0.5 text-teal-500 dark:text-teal-400"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Project Title:"})," ",m.jsx("span",{className:"font-medium",children:d.projectTitle})]})]}),m.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[m.jsx(Vz,{className:"size-4 mt-0.5 text-indigo-500 dark:text-indigo-400"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Action:"})," ",m.jsx("span",{className:"font-medium",children:d.action})]})]}),m.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[m.jsx($l,{className:"size-4 mt-0.5 text-amber-500 dark:text-amber-400"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Performed At:"})," ",m.jsx("span",{className:"font-medium",children:l(d.timestamp)})]})]})]},d.id))})]})},_re=()=>{const{role:t}=Ut(),{profile:e,loading:n}=XO(),r=qn();return m.jsxs(m.Fragment,{children:[m.jsx(on,{title:"Profile",rightContent:m.jsx(ql,{showSearch:!1,showFilter:!1,showMenuButton:!0,onLogout:()=>{Is.signOut(),r("/login")}})}),n?m.jsx(gn,{}):m.jsx(QO,{profile:e,role:t})]})},Tre=()=>{const t=qn(),[e,n]=k.useState(!1),r=[{name:"Explore",to:"/guest/explore",icon:Rr}],s=async()=>{await Is.signOut(),t("/login",{replace:!0})};return m.jsxs(He.div,{initial:{x:-300},animate:{x:0},transition:{type:"spring",stiffness:80,damping:18},className:"hidden lg:flex fixed top-0 left-0 h-screen w-64 flex-col border-r-2 border-gray-200 dark:border-gray-700 z-50 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",children:[m.jsx("div",{className:"flex h-16 items-center justify-between px-4",children:m.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🎓 PPR Guest"})}),m.jsx("nav",{className:"flex-1 py-6 space-y-2",children:r.map(({name:o,to:l,icon:u})=>m.jsxs(Ol,{to:l,className:({isActive:d})=>yt("flex items-center gap-3 px-4 py-3 rounded-sm text-lg font-medium transition-colors duration-150",d?"bg-blue-900/20 text-blue-600 hover:bg-blue-50 focus:ring-blue-500 dark:text-blue-400 dark:hover:bg-blue-900/40":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[m.jsx(u,{className:"w-6 h-6"}),o]},o))}),m.jsx(Ze,{onClick:()=>n(!0),variant:"danger",fullWidth:!0,icon:m.jsx(Bg,{size:20}),className:"justify-start gap-1",size:"lg",children:"Logout"}),m.jsx(o_,{isOpen:e,onClose:()=>n(!1),title:"Confirm Logout",showFooter:!0,footerContent:m.jsxs(m.Fragment,{children:[m.jsx(Ze,{variant:"secondary",onClick:()=>n(!1),children:"Cancel"}),m.jsx(Ze,{variant:"danger",onClick:s,children:"Logout"})]}),children:m.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Are you sure you want to log out of your account?"})})]})},Ere=()=>{const t=[{name:"Explore",to:"/guest/explore",icon:af}];return m.jsx("nav",{className:"fixed bottom-0 inset-x-0 z-50 lg:hidden border-t border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-gray-900/70 backdrop-blur",children:m.jsx("div",{className:"flex justify-around items-center h-16",children:t.map(e=>{const n=e.icon;return m.jsx(Ol,{to:e.to,className:({isActive:r})=>yt("flex flex-col items-center justify-center px-3 py-1 rounded-md transition-all",r?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400"),children:({isActive:r})=>m.jsxs(m.Fragment,{children:[m.jsx(n,{className:"w-5 h-5 mb-0.5"}),r&&m.jsx("span",{className:"text-xs font-medium",children:e.name})]})},e.name)})})})},Sre=()=>{const[t,e]=k.useState(!1),n=()=>{e(!t)};return m.jsx("div",{children:m.jsxs("div",{className:"bg-ppr-animated min-h-screen transition-colors duration-200",children:[m.jsx(Ere,{toggleSidebar:n}),m.jsxs("div",{className:"flex",children:[m.jsx(Tre,{isOpen:t,setIsOpen:e}),m.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 lg:pl-64",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsx(Vb,{})})})]})]})})},Are=({title:t="No Data Found",subtitle:e="Looks like there's nothing here yet.",icon:n=F1,children:r=null})=>m.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-16 px-6 mx-4 md:mx-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)] border border-dashed border-gray-200 dark:border-gray-700 rounded-lg shadow-sm",children:[m.jsx("div",{className:"mb-4",children:m.jsx(n,{className:"w-12 h-12 text-gray-400 dark:text-gray-600"})}),m.jsx("h2",{className:"text-lg font-semibold text-gray-700 dark:text-gray-100",children:t}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-4",children:e}),r&&m.jsx("div",{className:"mt-4",children:r})]}),Vk={public:"text-green-700 bg-green-100 dark:text-green-400 dark:bg-green-800/30",restricted:"text-red-700 bg-red-100 dark:text-red-400 dark:bg-red-800/30"},Rre=({project:t})=>{const{projectId:e,title:n,abstract:r,department:s,projectYear:o,accessLevel:l}=t,u={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.3,staggerChildren:.1,delayChildren:.2}}},d={public:m.jsx(z1,{className:"w-4 h-4 mr-1"}),restricted:m.jsx(ba,{className:"w-4 h-4 mr-1"})};return m.jsxs(lo.div,{initial:"hidden",animate:"visible",variants:u,className:yt("h-fit rounded-xl border-l-3 p-5 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",{"border-l-green-500 dark:border-l-green-500":l==="public","border-l-red-500 dark:border-l-red-500":l==="restricted"}),children:[m.jsxs("div",{className:"flex flex-col justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex justify-between items-center w-full bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-2 rounded-xl shadow-sm ",children:[m.jsxs("div",{className:"flex items-start text-lg font-semibold text-gray-800 dark:text-white capitalize gap-2",children:[m.jsx("div",{className:"pt-1 text-gray-600 dark:text-white min-h-full w-fit size-6 md:size-8",children:m.jsx(Rr,{})}),m.jsx("h2",{className:"break-words",children:n})]}),m.jsxs("div",{className:"relative group",children:[m.jsxs("span",{className:yt("px-3 py-1 text-xs rounded-full font-medium capitalize shadow-sm whitespace-nowrap inline-flex items-center",Vk[l]||Vk.public),children:[d[l],l]}),m.jsx("div",{className:"absolute z-10 hidden group-hover:flex w-max bg-gray-800 text-white text-xs rounded-md px-2 py-1 mt-1 left-1/2 -translate-x-1/2 shadow-lg",children:l==="public"?"Anyone can view this project":"Restricted — request required for full access"})]})]}),m.jsxs("div",{className:"flex flex-col justify-center items-start w-full mt-2 bg-white/60 dark:bg-gray-700/20 backdrop-blur-sm px-3 py-3 rounded-xl space-y-3 shadow-sm",children:[m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(Mt,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Abstract:"}),m.jsx("span",{children:r?r.slice(0,40)+"...":"N/A"})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx(zl,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:"Department:"}),m.jsx("span",{children:s})]}),m.jsxs("p",{className:"text-sm md:text-md text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m.jsx($l,{className:"text-gray-500 dark:text-gray-300 size-4 md:size-5"}),m.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:" Project Year:"}),m.jsx("span",{children:o})]})]})]}),m.jsx("div",{className:"flex justify-end gap-3 mt-4",children:m.jsxs(Pt,{to:`/guest/explore/view/${s}/${e}`,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[m.jsx(vs,{size:16}),"View Details"]})})]})},Cre=()=>{const[t,e]=k.useState(""),[n,r]=k.useState([]),[s,o]=k.useState(!0),l=qn();k.useEffect(()=>{(async()=>{try{const h=fi(RP(Ft,"projectSubmissions"),_i("status","==","approved"),_i("accessLevel","==","public")),v=(await ks(h)).docs.map(x=>({projectId:x.id,...x.data()}));r(v)}catch(h){console.error("Error fetching approved projects:",h)}finally{o(!1)}})()},[]);const u=n==null?void 0:n.filter(d=>(d.title||"").toLowerCase().includes(t.toLowerCase()));return m.jsxs("div",{className:"pb-16 md:pb-4 space-y-6 h-screen",children:[m.jsx(on,{title:"Explore Projects",rightContent:m.jsx(ql,{searchQuery:t,onSearchChange:e,showFilter:!1,showMenuButton:!0,onLogout:()=>{Is.signOut(),l("/login")}})}),s?m.jsx(gn,{}):u.length===0?m.jsx(Are,{title:"No Projects Found",description:"Try adjusting your filters or search terms."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pb-12 md:pb-0 px-4",children:u.map(d=>m.jsx(Rre,{project:d},d.projectId))})]})},kre=()=>{const{projectId:t}=zh(),[e,n]=k.useState(null),[r,s]=k.useState(!0);return console.log(t),k.useEffect(()=>{(async()=>{try{const l=fi(RP(Ft,"projectSubmissions"),_i("projectId","==",t),Th(1)),u=await ks(l);u.empty||n({id:u.docs[0].id,...u.docs[0].data()})}catch(l){console.error("Error fetching project:",l)}finally{s(!1)}})()},[t]),m.jsxs(m.Fragment,{children:[m.jsx(on,{title:"View Project",backTo:"/guest/explore",showBack:!0}),r||!e?m.jsx(gn,{}):m.jsx("main",{className:"flex justify-center px-4 mt-8",children:m.jsxs("div",{className:"w-full max-w-4xl space-y-4 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6 md:p-8 bg-[var(--color-surface)] dark:bg-[var(--color-dark-surface)]",children:[m.jsx("div",{className:"flex justify-between items-start px-3 py-2 rounded-xl shadow-sm bg-white/60 dark:bg-gray-700/20",children:m.jsxs("div",{className:"flex items-center gap-2 text-gray-800 dark:text-gray-100 font-semibold",children:[m.jsx(Rr,{className:"text-blue-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Title:"})," ",e.title]})]})}),m.jsxs("div",{className:"flex flex-col gap-4 px-3 py-4 rounded-xl shadow-sm bg-white/60 dark:bg-gray-700/20 text-gray-600 dark:text-gray-100",children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Mt,{className:"text-fuchsia-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Abstract:"})," ",e.abstract]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(To,{className:"text-purple-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Supervisor:"})," ",e.supervisor]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Eh,{className:"text-amber-500"}),m.jsxs("span",{children:[m.jsx("strong",{children:"Project Year:"})," ",e.projectYear]})]})]}),m.jsx("div",{className:"pt-2 w-full flex justify-end",children:m.jsx("a",{href:e.fileURL,target:"_blank",rel:"noopener noreferrer",download:`${e.title}.docx`,children:m.jsx(Ze,{variant:"primary",icon:m.jsx(Lg,{className:"size-4 mr-1"}),children:"Download DOC"})})})]})})]})},Nre=C3(s3(m.jsxs(ot,{path:"/",children:[m.jsx(ot,{index:!0,element:m.jsx(JK,{})}),m.jsx(ot,{path:"login",element:m.jsx(OY,{})}),m.jsx(ot,{path:"register",element:m.jsx(BY,{})}),m.jsx(ot,{path:"resetPassword",element:m.jsx(TJ,{})}),m.jsxs(ot,{path:"student",element:m.jsx(OR,{allowedRoles:["student"],children:m.jsx(RJ,{})}),children:[m.jsx(ot,{index:!0,element:m.jsx(Gd,{to:"dashboard",replace:!0})}),m.jsx(ot,{path:"dashboard",element:m.jsx(Xee,{})}),m.jsx(ot,{path:"projects",element:m.jsx(Zee,{})}),m.jsx(ot,{path:"projects/my",element:m.jsx(Mne,{})}),m.jsx(ot,{path:"projects/submit",element:m.jsx(Une,{})}),m.jsx(ot,{path:"projects/drafts",element:m.jsx($ne,{})}),m.jsx(ot,{path:"projects/requests",element:m.jsx(zne,{})}),m.jsx(ot,{path:"projects/edit/:id",element:m.jsx(Hne,{})}),m.jsx(ot,{path:"projects/view/:id",element:m.jsx(Ik,{})}),m.jsx(ot,{path:"explore",element:m.jsx(Kne,{})}),m.jsx(ot,{path:"explore/view/:department/:id",element:m.jsx(Ik,{})}),m.jsx(ot,{path:"profile",element:m.jsx(Yne,{})})]}),m.jsxs(ot,{path:"lecturer",element:m.jsx(OR,{allowedRoles:["lecturer"],children:m.jsx(Qne,{})}),children:[m.jsx(ot,{index:!0,element:m.jsx(Gd,{to:"dashboard",replace:!0})}),m.jsx(ot,{path:"dashboard",element:m.jsx(sre,{})}),m.jsx(ot,{path:"projects",element:m.jsx(are,{})}),m.jsx(ot,{path:"projects/submissions",element:m.jsx(ure,{})}),m.jsx(ot,{path:"projects/submissions/view/:id",element:m.jsx(Ok,{})}),m.jsx(ot,{path:"explore",element:m.jsx(hre,{})}),m.jsx(ot,{path:"explore/view/:id",element:m.jsx(gre,{})}),m.jsx(ot,{path:"profile",element:m.jsx(_re,{})}),m.jsx(ot,{path:"projects/access-requests-review",element:m.jsx(bre,{})}),m.jsx(ot,{path:"projects/access-request/view/:id",element:m.jsx(Ok,{})}),m.jsx(ot,{path:"projects/activity-logs",element:m.jsx(wre,{})})]}),m.jsxs(ot,{path:"guest",element:m.jsx(Sre,{}),children:[m.jsx(ot,{index:!0,element:m.jsx(Gd,{to:"explore",replace:!0})}),m.jsx(ot,{path:"explore",element:m.jsx(Cre,{})}),m.jsx(ot,{path:"explore/view/:department/:projectId",element:m.jsx(kre,{})})]}),m.jsx(ot,{path:"*",element:m.jsx(EJ,{})})]}))),jre=()=>m.jsx(B3,{router:Nre}),Pre=()=>m.jsx(DY,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),Ire=k.createContext(),Dre=({children:t})=>{const[e,n]=k.useState(!1),r=o=>{const l=document.documentElement;o?(l.classList.add("dark"),localStorage.setItem("theme","dark")):(l.classList.remove("dark"),localStorage.setItem("theme","light"))};k.useEffect(()=>{const o=localStorage.getItem("theme"),l=window.matchMedia("(prefers-color-scheme: dark)").matches,u=o==="dark"||!o&&l;n(u),r(u);const d=window.matchMedia("(prefers-color-scheme: dark)"),h=p=>{localStorage.getItem("theme")||(n(p.matches),r(p.matches))};return d.addEventListener("change",h),()=>d.removeEventListener("change",h)},[]);const s=()=>{const o=!e;n(o),r(o)};return m.jsx(Ire.Provider,{value:{darkMode:e,toggleTheme:s},children:t})};function Mre(){return m.jsx("div",{className:"bg-ppr-glow",children:m.jsx(Nz,{children:m.jsx(Dre,{children:m.jsxs(MY,{children:[m.jsx(jre,{}),m.jsx(Pre,{})]})})})})}PV.createRoot(document.getElementById("root")).render(m.jsx(k.StrictMode,{children:m.jsx(Mre,{})}));
